var rc=Object.defineProperty;var oc=(at,Ze,D)=>Ze in at?rc(at,Ze,{enumerable:!0,configurable:!0,writable:!0,value:D}):at[Ze]=D;var xe=(at,Ze,D)=>(oc(at,typeof Ze!="symbol"?Ze+"":Ze,D),D);(function(){"use strict";var at=document.createElement("style");at.textContent=`button.svelte-12b8cv0{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-12b8cv0:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}button.svelte-2vapqe{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-2vapqe:hover{background-color:#dc143c}.control-element.svelte-1ybd854{font-size:.85em;background:#fff;padding:.35em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-1ybd854:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-1ybd854:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-1ybd854{display:none}.control-element.error.svelte-1ybd854{background:crimson;color:#fefefe}.label.svelte-1ybd854{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-1ybd854>.wrapper{flex:1 1}.control-element.svelte-1ybd854>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-1ybd854>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:.3em 0;margin:0}.range-slider-container.svelte-yo8k5h{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-yo8k5h{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;background:#6EB8FF;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-yo8k5h{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.spinner.svelte-1jycdl0{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-1jycdl0:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-1jycdl0-spinner 1.2s linear infinite}@keyframes svelte-1jycdl0-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.file-selector>.option{width:36px;height:24px;background-size:32px 20px;background-repeat:no-repeat;background-position:50%;font-size:0;border-radius:2px;margin-right:2px}.file-selector>.option:not(.selected):hover{border-color:#6eb8ff20}.file-selector .option_bp{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23606060" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23606060" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23606060" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_bp.selected:hover,.file-selector .option_bp.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23fefefe" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23fefefe" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23fefefe" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_bp:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%236EB8FF" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%236EB8FF" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%236EB8FF" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_hm{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23606060" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23606060" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23606060" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_hm.selected:hover,.file-selector .option_hm.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23fefefe" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_hm:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%236EB8FF" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_l{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_l.selected:hover,.file-selector .option_l.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_l:hover{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p.selected:hover,.file-selector .option_p.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p:hover{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h.selected:hover,.file-selector .option_h.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h:hover{background-image:url(data:image/svg+xml;utf8,)}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}.buttons.svelte-1ohq4sh{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}.plot-container.svelte-1ohq4sh{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-1ohq4sh{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-1ohq4sh{padding:0 .25em 0 .5em}.plot-selector.svelte-1ohq4sh{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-1ohq4sh:hover{background:#e0e0e0;color:#403020}@media (min-width:1100px){.plot-container.svelte-1ohq4sh{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-1ohq4sh{grid-template-columns:1fr minmax(300px,30%)}}.plot-container.svelte-iey6d1{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0}.plot_error.svelte-iey6d1{display:flex;justify-content:center;align-items:center}.message_error.svelte-iey6d1{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-iey6d1{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-iey6d1{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}text.svelte-131ks7u,text.svelte-131ks7u>tspan{cursor:default;-webkit-user-select:none;user-select:none;dominant-baseline:middle}text.svelte-12moot9,text.svelte-12moot9>tspan{dominant-baseline:middle;text-anchor:middle;cursor:default;-webkit-user-select:none;user-select:none}table.svelte-kg0b31{width:100%;border-collapse:collapse}tr.svelte-kg0b31{width:100%}th.svelte-kg0b31{border-bottom:1px solid #a0a0a0}th.svelte-kg0b31,td.svelte-kg0b31{text-align:right;padding:.2em .5em .2em .1em;color:#404040;margin:0}.label.svelte-kg0b31{text-align:left;padding:.1em .5em}.app-container.svelte-czeafq.svelte-czeafq{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-czeafq.svelte-czeafq{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-czeafq.svelte-czeafq{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-czeafq>div.svelte-czeafq{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-czeafq.svelte-czeafq{margin-top:.25rem}.help-text.svelte-czeafq>p.svelte-czeafq{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-czeafq>p.svelte-czeafq:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-czeafq>p.svelte-czeafq:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-czeafq.svelte-czeafq{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-czeafq.svelte-czeafq{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}@media (min-width:1300px){.app-container.svelte-czeafq.svelte-czeafq{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-czeafq.svelte-czeafq{grid-template-columns:min(320px,30%) 1fr}}.className.svelte-1htmzzh{font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:10ch}table.svelte-qzht8m.svelte-qzht8m{width:100%;border-collapse:collapse}tr.svelte-qzht8m.svelte-qzht8m{width:100%}th.svelte-qzht8m.svelte-qzht8m{border-bottom:1px solid #a0a0a0}th.svelte-qzht8m.svelte-qzht8m,td.svelte-qzht8m.svelte-qzht8m{text-align:right;padding:.2em .5em .2em .1em;color:#404040;margin:0}.label.svelte-qzht8m.svelte-qzht8m{text-align:left;padding:.1em .5em}.stat_row.svelte-qzht8m td.svelte-qzht8m{border-top:1px dotted #a0a0a0}.app-container.svelte-1mh5ixs.svelte-1mh5ixs{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1mh5ixs.svelte-1mh5ixs{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1mh5ixs.svelte-1mh5ixs{box-sizing:border-box;padding:.25em}.app-controls.svelte-1mh5ixs>div.svelte-1mh5ixs{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1mh5ixs.svelte-1mh5ixs{margin-top:.25rem}.help-text.svelte-1mh5ixs>p.svelte-1mh5ixs{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1mh5ixs>p.svelte-1mh5ixs:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1mh5ixs>p.svelte-1mh5ixs:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1mh5ixs.svelte-1mh5ixs{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1mh5ixs.svelte-1mh5ixs{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}@media (min-width:1300px){.app-container.svelte-1mh5ixs.svelte-1mh5ixs{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1mh5ixs.svelte-1mh5ixs{grid-template-columns:min(320px,30%) 1fr}}.page.svelte-iq1n1r.svelte-iq1n1r.svelte-iq1n1r{width:100%;height:100%;margin:0 auto;padding:0;min-width:1020px;min-height:590px;max-width:1600px;display:flex;flex-direction:column}.page.svelte-iq1n1r>header.svelte-iq1n1r.svelte-iq1n1r{display:flex;justify-content:flex-start;flex-direction:row;background:#f8f6f4}.header-group.svelte-iq1n1r.svelte-iq1n1r.svelte-iq1n1r{width:min-content;margin:0 0 0 .25rem;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-iq1n1r.svelte-iq1n1r.svelte-iq1n1r{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-iq1n1r>h1.svelte-iq1n1r.svelte-iq1n1r{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-iq1n1r>p.svelte-iq1n1r.svelte-iq1n1r{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}.page.svelte-iq1n1r>main.svelte-iq1n1r.svelte-iq1n1r{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0}.page.svelte-iq1n1r>main.svelte-iq1n1r>div.svelte-iq1n1r{height:100%}.page.svelte-iq1n1r>footer.svelte-iq1n1r.svelte-iq1n1r{font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}.page.svelte-iq1n1r>footer p.svelte-iq1n1r.svelte-iq1n1r{max-width:500px;text-align:center;margin:0 auto;padding:.15em}.page.svelte-iq1n1r>footer a.svelte-iq1n1r.svelte-iq1n1r{color:#f8ebc5}.hidden.svelte-iq1n1r.svelte-iq1n1r.svelte-iq1n1r{display:none}.nav.svelte-iq1n1r.svelte-iq1n1r.svelte-iq1n1r{display:flex;flex-direction:row;justify-content:flex-end;list-style:none;margin:0 100px 0 auto;padding:0;align-self:flex-end}.nav-item.svelte-iq1n1r.svelte-iq1n1r.svelte-iq1n1r{list-style:none;margin:0;padding:.5em 1em;cursor:pointer;border-bottom:5px solid transparent}.nav-item.selected.svelte-iq1n1r.svelte-iq1n1r.svelte-iq1n1r{font-weight:700;border-bottom:5px solid #80888f}@media (min-width: 1600px){.page.svelte-iq1n1r>header.svelte-iq1n1r.svelte-iq1n1r{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.page.svelte-iq1n1r>footer.svelte-iq1n1r.svelte-iq1n1r{border-top-right-radius:.25rem;border-top-left-radius:.25rem}}
`,document.head.appendChild(at);var Ze=typeof document<"u"?document.currentScript:null;function D(){}function dr(l,e){for(const t in e)l[t]=e[t];return l}function br(l){return!!l&&(typeof l=="object"||typeof l=="function")&&typeof l.then=="function"}function kn(l){return l()}function yn(){return Object.create(null)}function et(l){l.forEach(kn)}function Cn(l){return typeof l=="function"}function ne(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}function wr(l){return Object.keys(l).length===0}function vr(l,...e){if(l==null){for(const n of e)n(void 0);return D}const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function le(l,e,t){l.$$.on_destroy.push(vr(e,t))}function vt(l,e,t,n){if(l){const s=En(l,e,t,n);return l[0](s)}}function En(l,e,t,n){return l[1]&&n?dr(t.ctx.slice(),l[1](n(e))):t.ctx}function kt(l,e,t,n){if(l[2]&&n){const s=l[2](n(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],o=Math.max(e.dirty.length,s.length);for(let i=0;i<o;i+=1)r[i]=e.dirty[i]|s[i];return r}return e.dirty|s}return e.dirty}function yt(l,e,t,n,s,r){if(s){const o=En(e,t,n,r);l.p(o,s)}}function Ct(l){if(l.ctx.length>32){const e=[],t=l.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function A(l,e){l.appendChild(e)}function w(l,e,t){l.insertBefore(e,t||null)}function b(l){l.parentNode&&l.parentNode.removeChild(l)}function tt(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function F(l){return document.createElement(l)}function _e(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function H(l){return document.createTextNode(l)}function P(){return H(" ")}function ee(){return H("")}function ze(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function kr(l){return function(e){return e.preventDefault(),l.call(this,e)}}function p(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function yr(l){return Array.from(l.childNodes)}function se(l,e){e=""+e,l.data!==e&&(l.data=e)}function Nn(l,e){l.value=e??""}function Ye(l,e,t,n){t==null?l.style.removeProperty(e):l.style.setProperty(e,t,n?"important":"")}function De(l,e,t){l.classList.toggle(e,!!t)}function Cr(l,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(l,{detail:e,bubbles:t,cancelable:n})}class Er{constructor(e=!1){xe(this,"is_svg",!1);xe(this,"e");xe(this,"n");xe(this,"t");xe(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=_e(t.nodeName):this.e=F(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)w(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(b)}}function Yt(l,e){return new l(e)}let It;function it(l){It=l}function Et(){if(!It)throw new Error("Function called outside component initialization");return It}function Nr(l){Et().$$.on_mount.push(l)}function Ar(l){Et().$$.on_destroy.push(l)}function An(){const l=Et();return(e,t,{cancelable:n=!1}={})=>{const s=l.$$.callbacks[e];if(s){const r=Cr(e,t,{cancelable:n});return s.slice().forEach(o=>{o.call(l,r)}),!r.defaultPrevented}return!0}}function qr(l,e){return Et().$$.context.set(l,e),e}function nt(l){return Et().$$.context.get(l)}function qn(l,e){const t=l.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const Nt=[],te=[];let At=[];const Ut=[],Sr=Promise.resolve();let Kt=!1;function Mr(){Kt||(Kt=!0,Sr.then(Qt))}function Xt(l){At.push(l)}function ae(l){Ut.push(l)}const Zt=new Set;let qt=0;function Qt(){if(qt!==0)return;const l=It;do{try{for(;qt<Nt.length;){const e=Nt[qt];qt++,it(e),Lr(e.$$)}}catch(e){throw Nt.length=0,qt=0,e}for(it(null),Nt.length=0,qt=0;te.length;)te.pop()();for(let e=0;e<At.length;e+=1){const t=At[e];Zt.has(t)||(Zt.add(t),t())}At.length=0}while(Nt.length);for(;Ut.length;)Ut.pop()();Kt=!1,Zt.clear(),it(l)}function Lr(l){if(l.fragment!==null){l.update(),et(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(Xt)}}function Tr(l){const e=[],t=[];At.forEach(n=>l.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),At=e}const Dt=new Set;let ht;function Z(){ht={r:0,c:[],p:ht}}function Q(){ht.r||et(ht.c),ht=ht.p}function g(l,e){l&&l.i&&(Dt.delete(l),l.i(e))}function d(l,e,t,n){if(l&&l.o){if(Dt.has(l))return;Dt.add(l),ht.c.push(()=>{Dt.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}function St(l,e){const t=e.token={};function n(s,r,o,i){if(e.token!==t)return;e.resolved=i;let f=e.ctx;o!==void 0&&(f=f.slice(),f[o]=i);const a=s&&(e.current=s)(f);let c=!1;e.block&&(e.blocks?e.blocks.forEach((u,m)=>{m!==r&&u&&(Z(),d(u,1,1,()=>{e.blocks[m]===u&&(e.blocks[m]=null)}),Q())}):e.block.d(1),a.c(),g(a,1),a.m(e.mount(),e.anchor),c=!0),e.block=a,e.blocks&&(e.blocks[r]=a),c&&Qt()}if(br(l)){const s=Et();if(l.then(r=>{it(s),n(e.then,1,e.value,r),it(null)},r=>{if(it(s),n(e.catch,2,e.error,r),it(null),!e.hasCatch)throw r}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,l),!0;e.resolved=l}}function Jt(l,e,t){const n=e.slice(),{resolved:s}=l;l.current===l.then&&(n[l.value]=s),l.current===l.catch&&(n[l.error]=s),l.block.p(n,t)}function Ce(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function Rr(l,e){l.d(1),e.delete(l.key)}function $r(l,e,t,n,s,r,o,i,f,a,c,u){let m=l.length,_=r.length,h=m;const y={};for(;h--;)y[l[h].key]=h;const v=[],C=new Map,N=new Map,q=[];for(h=_;h--;){const B=u(s,r,h),I=t(B);let S=o.get(I);S?n&&q.push(()=>S.p(B,e)):(S=a(I,B),S.c()),C.set(I,v[h]=S),I in y&&N.set(I,Math.abs(h-y[I]))}const E=new Set,R=new Set;function z(B){g(B,1),B.m(i,c),o.set(B.key,B),c=B.first,_--}for(;m&&_;){const B=v[_-1],I=l[m-1],S=B.key,k=I.key;B===I?(c=B.first,m--,_--):C.has(k)?!o.has(S)||E.has(S)?z(B):R.has(k)?m--:N.get(S)>N.get(k)?(R.add(S),z(B)):(E.add(k),m--):(f(I,o),m--)}for(;m--;){const B=l[m];C.has(B.key)||f(B,o)}for(;_;)z(v[_-1]);return et(q),v}function fe(l,e,t){const n=l.$$.props[e];n!==void 0&&(l.$$.bound[n]=t,t(l.$$.ctx[n]))}function T(l){l&&l.c()}function M(l,e,t){const{fragment:n,after_update:s}=l.$$;n&&n.m(e,t),Xt(()=>{const r=l.$$.on_mount.map(kn).filter(Cn);l.$$.on_destroy?l.$$.on_destroy.push(...r):et(r),l.$$.on_mount=[]}),s.forEach(Xt)}function L(l,e){const t=l.$$;t.fragment!==null&&(Tr(t.after_update),et(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function zr(l,e){l.$$.dirty[0]===-1&&(Nt.push(l),Mr(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function oe(l,e,t,n,s,r,o=null,i=[-1]){const f=It;it(l);const a=l.$$={fragment:null,ctx:[],props:r,update:D,not_equal:s,bound:yn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:yn(),dirty:i,skip_bound:!1,root:e.target||f.$$.root};o&&o(a.root);let c=!1;if(a.ctx=t?t(l,e.props||{},(u,m,..._)=>{const h=_.length?_[0]:m;return a.ctx&&s(a.ctx[u],a.ctx[u]=h)&&(!a.skip_bound&&a.bound[u]&&a.bound[u](h),c&&zr(l,u)),m}):[],a.update(),c=!0,et(a.before_update),a.fragment=n?n(a.ctx):!1,e.target){if(e.hydrate){const u=yr(e.target);a.fragment&&a.fragment.l(u),u.forEach(b)}else a.fragment&&a.fragment.c();e.intro&&g(l.$$.fragment),M(l,e.target,e.anchor),Qt()}it(f)}class ie{constructor(){xe(this,"$$");xe(this,"$$set")}$destroy(){L(this,1),this.$destroy=D}$on(e,t){if(!Cn(t))return D;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!wr(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Fr="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Fr);function Sn(l){if(ye(l))return Sn(l.v);const e=new he.valuesConstructor(l.length-1);for(let t=0;t<l.length-1;t++)e[t]=l[t+1]-l[t];return new he(e)}function xt(l){return ye(l)?xt(l.v):Mn(l)/l.length}function Mn(l){if(ye(l))return Mn(l.v);let e=0;for(let t=0;t<l.length;t++)e=e+l[t];return e}function Ln(l){if(ye(l))return Ln(l.v);let e=1;for(let t=0;t<l.length;t++)e=e*l[t];return e}function Mt(l){return ye(l)||lt(l)?l.v[en(l.v)-1]:l[en(l)-1]}function en(l){if(ye(l)||lt(l))return en(l.v);let e=1,t=l[0];for(let n=2;n<=l.length;n++)l[n-1]<t&&(e=n,t=l[n-1]);return e}function Oe(l){return ye(l)||lt(l)?l.v[tn(l.v)-1]:l[tn(l)-1]}function tn(l){if(ye(l)||lt(l))return tn(l.v);let e=1,t=l[0];for(let n=2;n<=l.length;n++)l[n-1]>t&&(e=n,t=l[n-1]);return e}function Tn(l,e){if(ye(l))return Tn(l.v,e);const t=l.reduce((n,s)=>Math.abs(s-e)<Math.abs(n-e)?s:n);return l.indexOf(t)+1}const nn=30,Pr=1e-7;function Rn(l,e=0,t=1){let n=he.zeros(l);for(let s=0;s<l;s++)n.v[s]=e+Math.random()*(t-e);return n}function $n(l,e=0,t=1){let n=he.zeros(l);for(let s=0;s<l;s++){const r=Math.sqrt(-2*Math.log(Math.random())),o=2*Math.PI*Math.random();n.v[s]=r*Math.sin(o)*t+e}return n}function zn(l,e=0,t=1){if(ye(l))return l.apply(s=>zn(s,e,t));const n=1/(Math.sqrt(2)*t);return .5*(1+Or((l-e)*n))}function ln(l,e=0,t=1){if(ye(l))return l.apply(K=>ln(K,e,t));if(e!==0||t!==1)return ln(l)*t+e;if(l<0||l>1)throw Error('Parameter "p" must be between 0 and 1.');if(l<1e-10)return-1/0;if(l>.9999999999)return 1/0;const n=.425,s=5,r=.180625,o=1.6,i=3.3871327179,f=5.0434271938*10,a=1.5929113202*100,c=5.910937472*10,u=1.7895169469*10,m=7.8757757664*10,_=6.71875636*10,h=1.4234372777,y=2.75681539,v=1.3067284816,C=1.7023821103*.1,N=7.370016425*.1,q=1.2021132975*.1,E=6.657905115,R=3.081226386,z=4.2868294337*.1,B=1.7337203997*.01,I=2.4197894225*.1,S=1.2258202635*.01,k=l-.5;let $;if(Math.abs(k)<=n)return $=r-k*k,k*(((c*$+a)*$+f)*$+i)/(((_*$+m)*$+u)*$+1);$=k<0?l:1-l,$=Math.sqrt(-Math.log($));let W;return $<=s?($=$-o,W=(((C*$+v)*$+y)*$+h)/((q*$+N)*$+1)):($=$-s,W=((B*$+z)*$+R+E)/((S*$+I)*$+1)),k<0?-W:W}function sn(l,e){if(Array.isArray(l))return sn(Le(l),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),n=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(n);function r(f){if(f===0)return 0;if(e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30)return 1;const a=f/e,c=Math.pow(a,1/6)-.5*Math.pow(a,1/3)+1/3*Math.pow(a,1/2);return zn(c,t,s)}function o(f){return f===0?0:e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30?1:Ir(f/2,e/2)/Ot(e/2)}const i=e>nn?r:o;return ye(l)?l.apply(i):i(l)}function Wt(l,e){if(Array.isArray(l))return Wt(Le(l),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),n=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(n);function r(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;const a=ln(f,t,s),c=Math.pow(Math.sqrt(36*a*a-30*a+13)/4+(3*a-3/2)/2+1/8,1/3);return Math.pow(c-3/(4*c)+.5,6)*e}function o(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;let a=0,c=nn*10,u=c/30;for(let m=0;m<30;m++){const _=he.seq(a,c,u),h=sn(_,e),y=Tn(h,f)-1;if(Math.abs(h.v[y]-f)<Pr)return _.v[y];if(a=y==0?_.v[0]:_.v[y-1],c=y==_.v.length-1?_.v[y]:_.v[y+1],a==c)return a;u=(c-a)/30}return(c+a)/2}const i=e>nn?r:o;return ye(l)?l.apply(i):i(l)}function Ot(l){if(ye(l))return l.apply(Ot);if(l<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(l<.5)return Math.PI/(Math.sin(Math.PI*l)+Ot(1-l));l=l-1;let t=.9999999999998099;for(let s=0;s<e.length;s++)t=t+e[s]/(l+s+1);const n=l+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(n,l+.5)*Math.exp(-n)*t}function Ir(l,e){let s=0;for(let r=0;r<1e4;r++){const o=Math.pow(l,r)/Ot(e+r+1);if(isNaN(o)||o<1e-18)break;s+=o}return Math.pow(l,e)*Ot(e)*Math.exp(-l)*s}function Or(l){const e=l>=0?1:-1;l=Math.abs(l);const t=.254829592,n=-.284496736,s=1.421413741,r=-1.453152027,o=1.061405429,f=1/(1+.3275911*l),a=1-((((o*f+r)*f+s)*f+n)*f+t)*f*Math.exp(-l*l);return e*a}function Fn(l){const e=l.nrows,t=l.ncols;if(e<t){const o=Fn(l.subset([],We.seq(1,e)));return{Q:o.Q,R:Br(o.Q,l)}}let n=ut.eye(e),s=l.t();for(let o=1;o<=t;o++)for(let i=e;i>=o+1;i--){const f=s.v.subarray((i-2)*t,i*t),a=n.v.subarray((i-2)*e,i*e),c=f.slice(),u=a.slice(),[m,_,h]=Vr(c[o-1],c[o-1+t]);for(let y=0;y<t;y++)f[y]=c[y]*m+c[y+t]*_,f[y+t]=c[y]*-_+c[y+t]*m,a[y]=u[y]*m+u[y+e]*_,a[y+e]=u[y]*-_+u[y+e]*m;for(let y=t;y<e;y++)a[y]=u[y]*m+u[y+e]*_,a[y+e]=u[y]*-_+u[y+e]*m}const r=We.seq(1,t);return{Q:e===t?n:n.subset([],r),R:e===t?s.t():s.subset([],r).t()}}function Vr(l,e){if(l==0)return[0,1,e];if(Math.abs(l)>Math.abs(e)){const r=e/l,o=Math.sqrt(1+r*r),i=1/o;return[i,r*i,l*o]}const t=l/e,n=Math.sqrt(1+t*t),s=1/n;return[t*s,s,e*n]}function Pn(l){return typeof l=="number"}function Br(l,e){if(e===void 0&&(e=l),!dt(l)||!dt(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const t=l.nrows,n=l.ncols,s=e.nrows,r=e.ncols,o=n,i=r,f=t,a=new Float64Array(o*i);for(let c=0;c<i;c++){const u=e.v.subarray(c*s,(c+1)*s),m=a.subarray(c*o,(c+1)*o);for(let _=0;_<o;_++){const h=l.v.subarray(_*t,(_+1)*t);let y=0;for(let v=0;v<f;v++)y+=h[v]*u[v];m[_]=y}}return new ut(a,o,i)}function In(l,e,t){if(t===void 0){if(e!==l.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new he(l.v)}if(l.v.length!==e*t)throw Error("reshape: provided dimension does not match number of values in the object.");return new ut(l.v,e,t)}function dt(l){return l&&l.constructor===ut}const pe=class pe{constructor(e,t,n){if(!ArrayBuffer.isView(e)||e.constructor!==pe.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(t===0||n===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==t*n)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=t,this.ncols=n}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return pe.diagm(this.diag().apply(f=>Math.abs(f)>Number.EPSILON?1/f:x));const n=pe.eye(e),s=pe.eye(e),r=this.t(),o=r.v[(e-1)*e+(e-1)],i=e-1;for(let f=0;f<e;f++)s.v[i*e+f]=n.v[i*e+f]/o;for(let f=e-2;f>=0;f--){let a=n.getcolumn(f+1);const c=r.getcolref(f+1);for(let u=f+1;u<e;u++){const m=s.getcolumn(u+1);a=a.subtract(m.mult(c[u]))}s.v.set(a.divide(c[f]).v,f*e)}return s.t()}if(this.islowertriangular()){const n=this.diag();if(Ln(n)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const s=pe.eye(e),r=pe.eye(e),o=this.t(),i=0,f=o.v[0];for(let a=0;a<e;a++)r.v[i*e+a]=s.v[i*e+a]/f;for(let a=1;a<e;a++){let c=s.getcolumn(a+1);const u=o.getcolref(a+1);for(let m=0;m<a;m++){const _=r.getcolumn(m+1);c=c.subtract(_.mult(u[m]))}r.v.set(c.divide(u[a]).v,a*e)}return r.t()}const t=Fn(this);if(!t.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return t.R.inv().dot(t.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let t=0;t<e;t++)if(Math.abs(this.v[e*this.nrows+t])>pe.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let t=e+1;t<this.nrows;t++)if(Math.abs(this.v[e*this.nrows+t])>pe.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),t=new Float64Array(e);for(let n=0;n<e;n++)t[n]=this.getcolref(n+1)[n];return new he(t)}t(){const e=this.nrows,t=this.ncols,n=new pe.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let s=0;s<this.ncols;s++){const r=this.v.subarray(s*this.nrows,(s+1)*this.nrows);for(let o=0;o<this.nrows;o++)n[o*t+s]=r[o]}return new pe(n,t,e)}for(let s=0;s<this.nrows;s++){const r=n.subarray(s*t,(s+1)*t);for(let o=0;o<this.ncols;o++)r[o]=this.v[o*this.nrows+s]}return new pe(n,t,e)}dot(e){if(ye(e))return new pe(fn(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(dt(e))return new pe(fn(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,t,n){if(dt(e))return new pe(rn(this.v,e.v,t),this.nrows,this.ncols);if(Pn(e))return new pe(on(this.v,e,t),this.nrows,this.ncols);if(!ye(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(n===void 0&&(n=e.length===this.ncols?2:1),n===2&&e.length===this.ncols){const s=new pe.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)s.set(on(this.getcolref(r+1),e.v[r],t),r*this.nrows);return new pe(s,this.nrows,this.ncols)}if(n===1&&e.length===this.nrows){const s=new pe.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)s.set(rn(this.getcolref(r+1),e.v,t),r*this.nrows);return new pe(s,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e,t){if(t===void 0&&(t=2),t==2){const n=this.ncols,s=new pe.valuesConstructor(n);for(let r=0;r<n;r++)s[r]=e(this.getcolref(r+1));return new he(s)}if(t==1)return this.t().apply(e,2);if(t==0){const n=this.v.length,s=new pe.valuesConstructor(n);for(let r=0;r<n;r++)s[r]=e(this.v[r]);return new pe(s,this.nrows,this.ncols)}}replace(e,t,n){typeof t=="number"&&(t=[t]),t.length===0&&(t=We.seq(1,this.nrows)),lt(t)||(t=st(t)),typeof n=="number"&&(n=[n]),n.length===0&&(n=We.seq(1,this.ncols)),lt(n)||(n=st(n));const s=t.length,r=n.length;if(Mt(t)<1||Oe(t)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(Mt(n)<1||Oe(n)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==s||e.ncols!==r)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let o=0;o<n.length;o++){const i=e.getcolref(o+1),f=(n.v[o]-1)*this.nrows;for(let a=0;a<t.length;a++){const c=t.v[a];this.v[f+c-1]=i[a]}}return this}copy(){return new pe(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const t=new he.valuesConstructor(this.ncols);for(let n=0;n<this.ncols;n++)t[n]=this.getcolref(n+1)[e-1];return new he(t)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new he(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,t){if(typeof e=="number"&&(e=st([e])),typeof t=="number"&&(t=st([t])),Array.isArray(e)&&(e=e.length===0?null:st(e)),Array.isArray(t)&&(t=t.length===0?null:st(t)),e!==null&&!lt(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(t!==null&&!lt(t))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(Mt(e)<1||Oe(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(t!==null&&(Mt(t)<1||Oe(t)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const i=t.length,f=this.nrows,a=new pe.valuesConstructor(f*i);for(let c=0;c<t.length;c++)a.set(this.v.slice((t.v[c]-1)*this.nrows,t.v[c]*this.nrows),c*this.nrows);return new pe(a,f,i)}if(t==null)return this.t().subset(t,e).t();const n=e.length,s=t.length,r=new pe.valuesConstructor(n*s);let o=new pe.valuesConstructor(n);for(let i=0;i<s;i++){const f=this.v.subarray((t.v[i]-1)*this.nrows,t.v[i]*this.nrows);for(let a=0;a<n;a++)o[a]=f[e.v[a]-1];r.set(o,i*n)}return new pe(r,n,s)}toString(e){function t(o,i){return" ".repeat(i-o.length)+o}e===void 0&&(e=2),this.ncols;const n=Math.round(Math.abs(Math.log10(Oe(this.v))))+e+3;let s="";const r=this.t();for(let o=1;o<=r.ncols;o++)s+=Array.from(r.getcolref(o)).map(i=>t(i.toFixed(e),n)).join(" ")+`
`;return s}toCSV(e,t,n,s){e===void 0&&(e=","),t===void 0&&(t=e===";"?",":".");const r=s!=null&&s.length>0,o=n!=null&&n.length>0;if(r&&s.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(o&&n.length!==this.ncols+(r?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const i=this.t();let f=o?n.join(e)+`
`:"";for(let a=1;a<=i.ncols;a++)f=f+(r?s[a-1]+e:"")+i.getcolref(a).join(e)+`
`;return f=f.replace(/\./g,t),f}static randn(e,t,n,s){return In($n(e*t,n,s),e,t)}static rand(e,t,n,s){return In(Rn(e*t,n,s),e,t)}static eye(e,t){t===void 0&&(t=e);const n=new Float64Array(e*t);for(let s=0;s<Math.min(e,t);s++)n[s*e+s]=1;return new pe(n,e,t)}static diagm(e){if(!ye(e))throw Error('diagm: the argument "x" must be a Vector.');const t=e.length,n=new Float64Array(t*t);for(let s=0;s<t;s++)n[s*t+s]=e.v[s];return new pe(n,t,t)}static zeros(e,t){return t===void 0&&(t=e),new pe(new Float64Array(e*t),e,t)}static ones(e,t){return pe.fill(1,e,t)}static fill(e,t,n){n===void 0&&(n=t);const s=new Float64Array(t*n);for(let r=0;r<s.length;r++)s[r]=e;return new pe(s,t,n)}static outer(e,t,n){if(Array.isArray(e)&&(e=Le(e)),Array.isArray(t)&&(t=Le(t)),!ye(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!ye(t))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const s=pe.zeros(e.length,t.length);for(let r=0;r<t.length;r++){const o=t.v[r],i=s.getcolref(r+1);for(let f=0;f<e.length;f++)i[f]=n(e.v[f],o)}return s}static parseCSV(e,t,n,s){function r(v){return v.some(C=>Number.isNaN(Number.parseFloat(C.trim())))}t===void 0&&(t=",");const o=t===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let i=e.split(/\n/),f=[],a=0;const c=i[0].split(t);(n||n===void 0&&r(c))&&(f=c,a=1),i=i.filter(v=>v.trim().length>1);let u=[],m=0;s&&(m=1);const _=i.length-a,h=c.length-m;if(_<1)throw Error("Data file should contain at least 1 row with values.");if(h<1)throw Error("Data file should contain at least 1 column with values.");const y=pe.zeros(h,_);for(let v=a;v<_+a;v++){const C=i[v].split(t);let N;if(s?(u[v-a]=C[0],N=C.slice(1).map(q=>Number.parseFloat(q.trim().replace(o,".")))):N=C.map(q=>Number.parseFloat(q.trim().replace(o,"."))),N.some(q=>Number.isNaN(q)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(N.length!=h)throw Error("Wrong number of values in row #"+v);y.v.set(new Float64Array(N),(v-a)*h)}return{values:y.t(),header:f,labels:u,sep:t,dec:o}}};xe(pe,"valuesConstructor",Float64Array),xe(pe,"TOLERANCE",Math.pow(10,-9));let ut=pe;function ye(l){return l&&l.constructor===he}function Le(l){return new he(new Float64Array(l))}const Ae=class Ae{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new We.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=s+1,n=n+1);return new We(t.subarray(0,n))}filter(e){const t=new Ae.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=this.v[s],n=n+1);return new Ae(t.subarray(0,n))}shuffle(){return new Ae(jn(this.v))}sort(e){return new Ae(Yn(this.v,e))}sortind(e){return new We(Dn(this.v,e))}rep(e){return Vn(this,e)}repeach(e){return Bn(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=We.seq(1,this.length)),lt(t)||(t=st(t));const n=t.length;if(Mt(t)<1||Oe(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==n)throw Error('Vector.replace: length of "x" does not match the indices.');for(let s=0;s<t.length;s++){const r=t.v[s];this.v[r-1]=e.v[s]}return this}subset(e){if(typeof e=="number"&&(e=st([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?We.bool2ind(e):st(e)),!lt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=Ae.zeros(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");n.v[s]=this.v[e.v[s]-1]}return n}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new Ae(this.v.slice(e-1,t))}copy(){return new Ae(this.v.slice())}dot(e){return e===void 0&&(e=this),fn(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(ye(e))return new Ae(rn(this.v,e.v,t));if(Pn(e))return new Ae(on(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e){const t=this.v.length,n=Ae.zeros(t);for(let s=0;s<t;s++)n.v[s]=e(this.v[s]);return n}static c(...e){if(e.length===1)return e[0];const t=e.reduce((r,o)=>r+(typeof o=="number"?1:o.length),0),n=new Ae.valuesConstructor(t);let s=0;for(const r of e)typeof r=="number"?(n[s]=r,s+=1):(n.set(ye(r)?r.v:new Ae.valuesConstructor(r),s),s+=typeof r=="number"?1:r.length);return new Ae(n)}static seq(e,t,n){return On(e,t,n,Ae)}static randn(e,t,n){return $n(e,t,n)}static rand(e,t,n){return Rn(e,t,n)}static zeros(e){return new Ae(new Ae.valuesConstructor(e))}static ones(e){return Ae.fill(1,e)}static fill(e,t){const n=new Ae.valuesConstructor(t);for(let s=0;s<n.length;s++)n[s]=e;return new Ae(n)}};xe(Ae,"valuesConstructor",Float64Array);let he=Ae;function lt(l){return l.constructor===We}function st(l){return new We(new Int32Array(l))}const Te=class Te{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new Te.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=s+1,n=n+1);return new Te(t.subarray(0,n))}filter(e){const t=new Te.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=this.v[s],n=n+1);return new Te(t.subarray(0,n))}shuffle(){return new Te(jn(this.v))}sort(e){return new Te(Yn(this.v,e))}sortind(e){return new Te(Dn(this.v,e))}rep(e){return Vn(this,e)}repeach(e){return Bn(this,e)}subset(e){if(typeof e=="number"&&(e=st([e])),Array.isArray(e)&&(e=st(e)),!lt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=new Te.valuesConstructor(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");n[s]=this.v[e.v[s]-1]}return new Te(n)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new Te(this.v.slice(e-1,t))}static seq(e,t,n){return On(e,t,n,Te)}static ones(e){return Te.fill(1,e)}static fill(e,t){const n=new Te.valuesConstructor(t);for(let s=0;s<n.length;s++)n[s]=e;return new Te(n)}static bool2ind(e){let t=0;const n=new Te.valuesConstructor(e.length);for(let s=0;s<e.length;s++)e[s]&&(n[t]=s+1,t=t+1);return new Te(n.subarray(0,t))}};xe(Te,"valuesConstructor",Int32Array);let We=Te;function On(l,e,t,n){t===void 0&&(t=l<=e?1:-1);const s=Math.floor((e-l)/t)+1;if(s<1)throw Error("seq: wrong combination of parameters.");const r=new n.valuesConstructor(s);for(let o=0;o<s;o++)r[o]=l+o*t;return new n(r)}function Vn(l,e){const t=l.length*e,n=new l.constructor.valuesConstructor(t);for(let s=1;s<=e;s++)for(let r=0;r<l.length;r++)n[(s-1)*l.length+r]=l.v[r];return new l.constructor(n)}function Bn(l,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=l.length*e,n=new l.constructor.valuesConstructor(t);for(let s=0;s<l.length;s++)for(let r=0;r<e;r++)n[s*e+r]=l.v[s];return new l.constructor(n)}function rn(l,e,t){if(l.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(l.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const n=new l.constructor(l.length);for(let s=0;s<l.length;s++)n[s]=t(l[s],e[s]);return n}function on(l,e,t){const n=new l.constructor(l.length);for(let s=0;s<l.length;s++)n[s]=t(l[s],e);return n}function fn(l,e,t,n,s,r){if(n!==s)throw Error("_dot: matrix dimensions do not much.");const o=t,i=r,f=n,a=new l.constructor(o*i);for(let c=0;c<i;c++){const u=e.subarray(c*s,(c+1)*s),m=a.subarray(c*o,(c+1)*o);for(let _=0;_<f;_++){const h=u[_],y=l.subarray(_*t,(_+1)*t);for(let v=0;v<o;v++)m[v]+=y[v]*h}}return a}function jn(l){let e=l.slice(),t=e.length,n,s;for(;t;)s=Math.floor(Math.random()*t--),n=e[t],e[t]=e[s],e[s]=n;return e}function Yn(l,e=!1){return e?l.slice().sort((t,n)=>n-t):l.slice().sort((t,n)=>t-n)}function Dn(l,e=!1){const t=We.seq(1,l.length).v;return e?t.sort((n,s)=>l[s-1]-l[n-1]):t.sort((n,s)=>l[n-1]-l[s-1])}function jr(l,e){return 5*l*e+e}function Yr(l,e){return 2+2*l+l*e+9*e}function ct(l,e,t){if(!l||!l.class||!l.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const n=l.ncols,s=l.ncomp;let r,o;switch(e){case"mX":r=2,o=n;break;case"sX":r=2+n,o=n;break;case"loadings":case"xloadings":r=2+2*n+(t-1)*n,o=n;break;case"eigenvals":case"xeigenvals":r=2+2*n+n*s,o=s;break;case"cq0":r=2+2*n+n*s+s,o=s;break;case"cNq":r=2+2*n+n*s+2*s,o=s;break;case"rq0":r=2+2*n+n*s+3*s,o=s;break;case"rNq":r=2+2*n+n*s+4*s,o=s;break;case"ch0":r=2+2*n+n*s+5*s,o=s;break;case"cNh":r=2+2*n+n*s+6*s,o=s;break;case"rh0":r=2+2*n+n*s+7*s,o=s;break;case"rNh":r=2+2*n+n*s+8*s,o=s;break;default:throw Error("pcamodel_get: wrong outcome name.")}return l.v.subarray(r,r+o)}function an(l,e,t){if(!l||!l.class||!l.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const n=l.nrows,s=l.ncomp;let r,o;switch(e){case"scores":case"xscores":r=(t-1)*n,o=n;break;case"hdist":r=n*s+(t-1)*n,o=n;break;case"qdist":r=2*n*s+(t-1)*n,o=n;break;case"xcumexpvar":case"cumexpvar":r=3*n*s,o=s;break;case"fdistc":r=3*n*s+s+(t-1)*n,o=n;break;case"fdistr":r=4*n*s+s+(t-1)*n,o=n;break;default:throw new Error("pcares_get: wrong outcome name.")}return l.v.subarray(r,r+o)}function Dr(l,e,t,n,s){if(t===void 0&&(t=Math.min(e.nrows-1,e.ncols)),n===void 0&&(n=!0),s===void 0&&(s=!1),!dt(e))throw new Error("pca_fit: X must be a matrix.");if(e.nrows<3||e.ncols<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(t<1||t>Math.min(e.nrows-1,e.ncols))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const r=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,r/e.v.BYTES_PER_ELEMENT);const o=Yr(e.ncols,t),i=Float64Array,f=l._malloc(o*i.BYTES_PER_ELEMENT);if(l.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number"],[r,e.nrows,e.ncols,t,n,s,f])!==1)throw new Error("pca_fit: PCA failed.");const c=l.HEAPF64.slice(f/i.BYTES_PER_ELEMENT,f/i.BYTES_PER_ELEMENT+o);return l._free(r),l._free(f),{class:["pcamodel"],v:c,ncomp:t,nrows:e.nrows,ncols:e.ncols,center:n,scale:s}}function un(l,e,t){if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA results.');if(!dt(t))throw new Error("pca_predict: X must be a matrix.");if(t.nrows<1)throw new Error("pca_fit: X must have at least 1 row.");if(t.ncols!==e.ncols)throw new Error("pca_fit: X must have the same number of columns as the training set.");const n=l._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);l.HEAPF64.set(t.v,n/t.v.BYTES_PER_ELEMENT);const s=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,s/e.v.BYTES_PER_ELEMENT);const r=jr(t.nrows,e.ncomp),o=Float64Array,i=l._malloc(r*o.BYTES_PER_ELEMENT);if(l.ccall("pcapredict_wasm",["number"],["number","number","number","number","number"],[n,t.nrows,t.ncols,s,i])!==1)throw new Error("pca_predict: PCA prediction failed.");const a=l.HEAPF64.slice(i/o.BYTES_PER_ELEMENT,i/o.BYTES_PER_ELEMENT+r);return l._free(n),l._free(s),l._free(i),{class:["pcares"],v:a,ncomp:e.ncomp,nrows:t.nrows,ncols:t.ncols,center:e.center,scale:e.scale}}function Wr(l,e,t,n,s,r,o){if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pcapcv: parameter "m" must be JSON with PCA results.');if(!dt(t))throw new Error("pcapcv: X must be a matrix.");if(t.nrows<3)throw new Error("pcapcv: X must have at least 3 rows.");if(t.ncols!==e.ncols)throw new Error("pcapcv: X must have the same number of columns as the training set.");if(!Number.isInteger(r)||![0,1,2].includes(r))throw new Error('pcapcv: parameter "cv_type" must be one of 0 ("loo"), 1 ("ven"), 2 ("rand).');if(!Number.isInteger(o)||![0,1].includes(o))throw new Error('pcapcv: parameter "cv_scope" must be 0 ("global") or 1 ("local").');if(r>0&&(!Number.isInteger(s)||s<2))throw new Error('pcapcv: parameter "cv_nseg" must be a number ≥ 2.');if(r>0&&s>t.nrows)throw new Error('pcapcv: the value of "cv_nseg" is too large for the given X.');if(!Number.isInteger(n)||n<1)throw new Error('pcapcv: the value of "ncomp" must be a number >= 1.');const i=Math.min(r===0?t.nrows-2:t.nrows-Math.ceil(t.nrows/s)-1,t.ncols,e.ncomp);if(n>i)throw new Error('pcapcv: the value of "ncomp" is too large.');const f=l._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);l.HEAPF64.set(t.v,f/t.v.BYTES_PER_ELEMENT);const a=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,a/e.v.BYTES_PER_ELEMENT);const c=t.v.length,u=t.v.constructor,m=l._malloc(c*u.BYTES_PER_ELEMENT);if(l.ccall("pcvpca_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number"],[f,t.nrows,t.ncols,n,e.center,e.scale,r,s,o,a,m])!==1)throw new Error("pcapcv: PCVPCA failed.");const h=l.HEAPF64.slice(m/u.BYTES_PER_ELEMENT,m/u.BYTES_PER_ELEMENT+c);return l._free(f),l._free(a),l._free(m),new ut(h,t.nrows,t.ncols)}function Hr(l,e,t){if(!e||!t||e.length!==l.length)return null;let n=0,s=0,r=0,o=0;for(let i=0;i<l.length;i++)l[i]==="regular"&&e[i]===t&&(n=n+1),l[i]==="regular"&&e[i]!==t&&(s=s+1),l[i]!=="regular"&&e[i]===t&&(o=o+1),l[i]!=="regular"&&e[i]!==t&&(r=r+1);return{TP:n,FP:s,TN:r,FN:o,accuracy:(n+r)/(n+r+s+o),specificity:r/(r+s),sensitivity:n/(n+o)}}function Gr(l,e,t,n,s){const r=an(e,t,n+1),o=an(e,"hdist",n+1),i=an(e,"qdist",n+1),f=r.length,a=l.h0[n],c=l.Nh[n],u=l.q0[n],m=l.Nq[n],_=l.Nf[n],h=l.oCrit[n],y=l.eCrit[n],v=new Array(f),C={regular:0,extreme:0,outliers:0};for(let q=0;q<f;q++){const E=r[q];E<y?(v[q]="regular",C.regular+=1):E>h?(v[q]="outlier",C.outliers+=1):(v[q]="extreme",C.extreme+=1)}const N=s&&s.length===f?Hr(v,s,l.className):null;return{h:o,h0:a,Nh:c,q:i,q0:u,Nq:m,f:r,Nf:_,eCrit:y,oCrit:h,c:v,cnum:C,stat:N}}function cn(l,e,t){const n=l.nrows,s=l.ncomp,r=t.limType==="classic"?"fdistc":"fdistr",o=new Array(s);for(let i=0;i<s;i++)o[i]=Gr(t,l,r,i,e.classes);return{class:["simcares"],v:o,className:t.className,alpha:t.alpha,limType:t.limType,ncomp:t.ncomp,nrows:n,classes:e.classes,labels:e.labels}}function Wn(l,e,t,n,s){function r(N){return N.some(q=>Number.isNaN(Number.parseFloat(q.trim())))}e===void 0&&(e=",");const o=e===";"?",":".";l=l.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),l=l.replace(/\r/gm,"");let i=l.split(/\n/),f=[],a=0;const c=i[0].split(e);(t||t===void 0&&r(c))&&(f=c,a=1),i=i.filter(N=>N.trim().length>1);let u=[],m=0;n&&(m=1);let _=[],h=[];s&&(m=m+1);const y=i.length-a,v=c.length-m;if(y<1)throw Error("Data file should contain at least 1 row with values.");if(v<1)throw Error("Data file should contain at least 1 column with values.");const C=ut.zeros(v,y);for(let N=a;N<y+a;N++){let q=i[N].split(e);if(n&&(u.push(q[0]),q=q.slice(1)),s){const R=q[0];h.push(R),(_.length===0||_.indexOf(R)<0)&&_.push(R),q=q.slice(1)}const E=q.map(R=>Number.parseFloat(R.trim().replace(o,".")));if(E.some(R=>Number.isNaN(R)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(E.length!=v)throw Error("Wrong number of values in row #"+N);C.v.set(new Float64Array(E),(N-a)*v)}return{values:C.t(),header:f,labels:u,classes:h,classNames:_,sep:e,dec:o}}const ic="";function Ur(l){let e,t,n,s,r;const o=l[1].default,i=vt(o,l,l[0],null);return{c(){e=F("span"),t=F("button"),i&&i.c(),p(t,"tabindex","0"),p(t,"class","button-rect svelte-12b8cv0"),p(e,"class","wrapper")},m(f,a){w(f,e,a),A(e,t),i&&i.m(t,null),n=!0,s||(r=ze(t,"click",l[2]),s=!0)},p(f,[a]){i&&i.p&&(!n||a&1)&&yt(i,o,f,f[0],n?kt(o,f[0],a,null):Ct(f[0]),null)},i(f){n||(g(i,f),n=!0)},o(f){d(i,f),n=!1},d(f){f&&b(e),i&&i.d(f),s=!1,r()}}}function Kr(l,e,t){let{$$slots:n={},$$scope:s}=e;function r(o){qn.call(this,l,o)}return l.$$set=o=>{"$$scope"in o&&t(0,s=o.$$scope)},[s,n,r]}class ft extends ie{constructor(e){super(),oe(this,e,Kr,Ur,ne,{})}}const fc="";function Xr(l){let e,t,n;return{c(){e=F("button"),p(e,"tabindex","0"),p(e,"alt",l[0]),p(e,"title",l[0]),p(e,"class","svelte-2vapqe")},m(s,r){w(s,e,r),t||(n=ze(e,"click",l[1]),t=!0)},p(s,[r]){r&1&&p(e,"alt",s[0]),r&1&&p(e,"title",s[0])},i:D,o:D,d(s){s&&b(e),t=!1,n()}}}function Zr(l,e,t){let{title:n="Reset"}=e;function s(r){qn.call(this,l,r)}return l.$$set=r=>{"title"in r&&t(0,n=r.title)},[n,s]}class Vt extends ie{constructor(e){super(),oe(this,e,Zr,Xr,ne,{title:0})}}const ac="";function Hn(l){let e,t;return{c(){e=F("span"),t=H(l[0]),p(e,"class","label svelte-1ybd854")},m(n,s){w(n,e,s),A(e,t)},p(n,s){s&1&&se(t,n[0])},d(n){n&&b(e)}}}function Qr(l){let e,t,n,s,r=l[0]&&Hn(l);const o=l[3].default,i=vt(o,l,l[2],null);return{c(){e=F("div"),r&&r.c(),t=P(),i&&i.c(),p(e,"class",n="control-element "+l[1]+" svelte-1ybd854")},m(f,a){w(f,e,a),r&&r.m(e,null),A(e,t),i&&i.m(e,null),s=!0},p(f,[a]){f[0]?r?r.p(f,a):(r=Hn(f),r.c(),r.m(e,t)):r&&(r.d(1),r=null),i&&i.p&&(!s||a&4)&&yt(i,o,f,f[2],s?kt(o,f[2],a,null):Ct(f[2]),null),(!s||a&2&&n!==(n="control-element "+f[1]+" svelte-1ybd854"))&&p(e,"class",n)},i(f){s||(g(i,f),s=!0)},o(f){d(i,f),s=!1},d(f){f&&b(e),r&&r.d(),i&&i.d(f)}}}function Jr(l,e,t){let{$$slots:n={},$$scope:s}=e,{label:r=null}=e,{status:o=""}=e;return l.$$set=i=>{"label"in i&&t(0,r=i.label),"status"in i&&t(1,o=i.status),"$$scope"in i&&t(2,s=i.$$scope)},[r,o,s,n]}class J extends ie{constructor(e){super(),oe(this,e,Jr,Qr,ne,{label:0,status:1})}}const uc="";function Gn(l){let e,t=l[0].toFixed(l[4])+"",n;return{c(){e=F("span"),n=H(t),Ye(e,"padding-right","0.25em"),Ye(e,"color","#fefefe"),p(e,"class","range-value svelte-yo8k5h")},m(s,r){w(s,e,r),A(e,n)},p(s,r){r&17&&t!==(t=s[0].toFixed(s[4])+"")&&se(n,t)},d(s){s&&b(e)}}}function Un(l){let e,t=l[0].toFixed(l[4])+"",n;return{c(){e=F("span"),n=H(t),Ye(e,"padding-left","0.25em"),Ye(e,"color","#606060"),p(e,"class","range-value svelte-yo8k5h")},m(s,r){w(s,e,r),A(e,n)},p(s,r){r&17&&t!==(t=s[0].toFixed(s[4])+"")&&se(n,t)},d(s){s&&b(e)}}}function xr(l){let e,t,n,s,r,o=l[7]>25&&Gn(l),i=l[7]<=25&&Un(l);return{c(){e=F("div"),t=F("div"),o&&o.c(),n=P(),i&&i.c(),p(t,"class","range-slider svelte-yo8k5h"),Ye(t,"width",l[7]+"%"),p(e,"id",l[1]),p(e,"role","slider"),p(e,"tabindex","0"),p(e,"aria-valuenow",l[0]),p(e,"aria-valuemin",l[2]),p(e,"aria-valuemax",l[3]),p(e,"class","range-slider-container svelte-yo8k5h")},m(f,a){w(f,e,a),A(e,t),o&&o.m(t,null),l[15](t),A(e,n),i&&i.m(e,null),l[16](e),s||(r=[ze(e,"mousewheel",kr(l[11])),ze(e,"mousemove",l[12]),ze(e,"keydown",l[13]),ze(e,"mousedown",l[8]),ze(e,"mouseleave",l[9]),ze(e,"mouseup",l[10])],s=!0)},p(f,[a]){f[7]>25?o?o.p(f,a):(o=Gn(f),o.c(),o.m(t,null)):o&&(o.d(1),o=null),a&128&&Ye(t,"width",f[7]+"%"),f[7]<=25?i?i.p(f,a):(i=Un(f),i.c(),i.m(e,null)):i&&(i.d(1),i=null),a&2&&p(e,"id",f[1]),a&1&&p(e,"aria-valuenow",f[0]),a&4&&p(e,"aria-valuemin",f[2]),a&8&&p(e,"aria-valuemax",f[3])},i:D,o:D,d(f){f&&b(e),o&&o.d(),l[15](null),i&&i.d(),l[16](null),s=!1,et(r)}}}function eo(l,e,t){let n,{id:s}=e,{value:r}=e,{min:o}=e,{max:i}=e,{decNum:f=1}=e,{step:a=+((i-o)/100).toFixed(4)}=e;if(r<o||r>i)throw new Error("The value is outside of the provided range.");const c=An();let u,m,_=!1;const h=I=>{const S=o+I*(i-o);return+(Math.round(S/a)*a).toFixed(4)},y=I=>{const S=u.getBoundingClientRect(),k=m.getBoundingClientRect(),$=S.x,W=k.x+k.width;return(I.clientX-$)/(W-$)},v=I=>{const S=y(I);S<0||S>1||(_=S*100>n-5&&S*100<n+5)},C=I=>{_=!1},N=I=>{_=!1;const S=y(I);S<0||S>1||t(0,r=h(S))},q=I=>{let S=r+a*I.deltaY*.5;S<o&&(S=o),S>i&&(S=i),t(0,r=+(Math.round(S/a)*a).toFixed(4))},E=I=>{if(!_)return;const S=y(I);S<0||S>1||t(0,r=h(S))},R=I=>{if(I.key==="ArrowLeft"){t(0,r=r-a<o?o:r-a);return}if(I.key==="ArrowRight"){t(0,r=r+a>i?i:r+a);return}};function z(I){te[I?"unshift":"push"](()=>{u=I,t(5,u)})}function B(I){te[I?"unshift":"push"](()=>{m=I,t(6,m)})}return l.$$set=I=>{"id"in I&&t(1,s=I.id),"value"in I&&t(0,r=I.value),"min"in I&&t(2,o=I.min),"max"in I&&t(3,i=I.max),"decNum"in I&&t(4,f=I.decNum),"step"in I&&t(14,a=I.step)},l.$$.update=()=>{l.$$.dirty&13&&t(7,n=(r-o)/(i-o)*100),l.$$.dirty&1&&c("change",r)},[r,s,o,i,f,u,m,n,v,C,N,q,E,R,a,z,B]}class mn extends ie{constructor(e){super(),oe(this,e,eo,xr,ne,{id:1,value:0,min:2,max:3,decNum:4,step:14})}}const cc="";function Kn(l,e,t){const n=l.slice();return n[7]=e[t],n}function Xn(l,e){let t,n,s=e[7]+"",r,o,i,f;function a(){return e[5](e[7])}return{key:l,first:null,c(){t=F("button"),n=new Er(!1),r=P(),n.a=r,p(t,"class",o="option option_"+e[7]+" svelte-18e38uq"),De(t,"selected",e[7]==e[0]),this.first=t},m(c,u){w(c,t,u),n.m(s,t),A(t,r),i||(f=ze(t,"click",a),i=!0)},p(c,u){e=c,u&4&&s!==(s=e[7]+"")&&n.p(s),u&4&&o!==(o="option option_"+e[7]+" svelte-18e38uq")&&p(t,"class",o),u&5&&De(t,"selected",e[7]==e[0])},d(c){c&&b(t),i=!1,f()}}}function to(l){let e,t=[],n=new Map,s,r,o,i,f,a=Ce(l[2]);const c=u=>u[7];for(let u=0;u<a.length;u+=1){let m=Kn(l,a,u),_=c(m);n.set(_,t[u]=Xn(_,m))}return{c(){e=F("div");for(let u=0;u<t.length;u+=1)t[u].c();r=P(),o=F("input"),p(e,"role","radiogroup"),p(e,"tabindex","0"),p(e,"class",s="selector "+l[3]+" svelte-18e38uq"),p(o,"name",l[1]),p(o,"class","svelte-18e38uq")},m(u,m){w(u,e,m);for(let _=0;_<t.length;_+=1)t[_]&&t[_].m(e,null);w(u,r,m),w(u,o,m),Nn(o,l[0]),i||(f=[ze(e,"keydown",l[4]),ze(o,"input",l[6])],i=!0)},p(u,[m]){m&5&&(a=Ce(u[2]),t=$r(t,m,c,1,u,a,n,e,Rr,Xn,null,Kn)),m&8&&s!==(s="selector "+u[3]+" svelte-18e38uq")&&p(e,"class",s),m&2&&p(o,"name",u[1]),m&1&&o.value!==u[0]&&Nn(o,u[0])},i:D,o:D,d(u){u&&(b(e),b(r),b(o));for(let m=0;m<t.length;m+=1)t[m].d();i=!1,et(f)}}}function no(l,e,t){let{id:n}=e,{options:s}=e,{value:r=s[0]}=e,{className:o=""}=e;const i=c=>{if(console.log(c.key),c.key==="ArrowLeft"){const u=s.findIndex(m=>m===r);u>0&&t(0,r=s[u-1]);return}if(c.key==="ArrowRight"){const u=s.findIndex(m=>m===r);u<s.length&&t(0,r=s[u+1]);return}},f=c=>t(0,r=c);function a(){r=this.value,t(0,r)}return l.$$set=c=>{"id"in c&&t(1,n=c.id),"options"in c&&t(2,s=c.options),"value"in c&&t(0,r=c.value),"className"in c&&t(3,o=c.className)},[r,n,s,o,i,f,a]}class Ee extends ie{constructor(e){super(),oe(this,e,no,to,ne,{id:1,options:2,value:0,className:3})}}const mc="";function lo(l){let e;return{c(){e=F("div"),p(e,"class","spinner svelte-1jycdl0")},m(t,n){w(t,e,n)},p:D,i:D,o:D,d(t){t&&b(e)}}}class _n extends ie{constructor(e){super(),oe(this,e,null,lo,ne,{})}}const _c="",pc="";function so(l){let e,t=(l[0]?l[0].name:l[2])+"",n,s,r,o,i;return{c(){e=F("label"),n=H(t),s=P(),r=F("input"),p(r,"name",l[1]),p(r,"type","file"),p(r,"accept",l[3]),p(r,"class","svelte-7uwoge"),p(e,"class","svelte-7uwoge"),De(e,"selected",l[0]!==null)},m(f,a){w(f,e,a),A(e,n),A(e,s),A(e,r),l[6](r),o||(i=ze(r,"change",l[5]),o=!0)},p(f,[a]){a&5&&t!==(t=(f[0]?f[0].name:f[2])+"")&&se(n,t),a&2&&p(r,"name",f[1]),a&8&&p(r,"accept",f[3]),a&1&&De(e,"selected",f[0]!==null)},i:D,o:D,d(f){f&&b(e),l[6](null),o=!1,i()}}}function ro(l,e,t){let{id:n}=e,{file:s}=e,{message:r="Select CSV file with dataset"}=e,{acceptType:o=".csv"}=e,i;function f(c){i.files.length>0&&t(0,s=i.files[0])}function a(c){te[c?"unshift":"push"](()=>{i=c,t(4,i)})}return l.$$set=c=>{"id"in c&&t(1,n=c.id),"file"in c&&t(0,s=c.file),"message"in c&&t(2,r=c.message),"acceptType"in c&&t(3,o=c.acceptType)},[s,n,r,o,i,f,a]}class pn extends ie{constructor(e){super(),oe(this,e,ro,so,ne,{id:1,file:0,message:2,acceptType:3})}}function oo(l){let e,t;return e=new J({props:{$$slots:{default:[fo]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&32769&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function io(l){let e=l[1]===void 0,t,n,s,r=Zn(l),o=l[1]&&Qn(l);return{c(){r.c(),t=P(),o&&o.c(),n=ee()},m(i,f){r.m(i,f),w(i,t,f),o&&o.m(i,f),w(i,n,f),s=!0},p(i,f){f&2&&ne(e,e=i[1]===void 0)?(Z(),d(r,1,1,D),Q(),r=Zn(i),r.c(),g(r,1),r.m(t.parentNode,t)):r.p(i,f),i[1]?o?(o.p(i,f),f&2&&g(o,1)):(o=Qn(i),o.c(),g(o,1),o.m(n.parentNode,n)):o&&(Z(),d(o,1,1,()=>{o=null}),Q())},i(i){s||(g(r),g(o),s=!0)},o(i){d(r),d(o),s=!1},d(i){i&&(b(t),b(n)),r.d(i),o&&o.d(i)}}}function fo(l){let e,t,n=l[0].values.nrows+"",s,r,o=l[0].values.ncols+"",i,f,a=l[0].header.length===0?"no header":"with header",c,u,m,_;return m=new Vt({}),m.$on("click",l[9]),{c(){e=F("p"),t=H("Dataset is loaded: "),s=H(n),r=H(" × "),i=H(o),f=H(`,
      `),c=H(a),u=P(),T(m.$$.fragment)},m(h,y){w(h,e,y),A(e,t),A(e,s),A(e,r),A(e,i),A(e,f),A(e,c),w(h,u,y),M(m,h,y),_=!0},p(h,y){(!_||y&1)&&n!==(n=h[0].values.nrows+"")&&se(s,n),(!_||y&1)&&o!==(o=h[0].values.ncols+"")&&se(i,o),(!_||y&1)&&a!==(a=h[0].header.length===0?"no header":"with header")&&se(c,a)},i(h){_||(g(m.$$.fragment,h),_=!0)},o(h){d(m.$$.fragment,h),_=!1},d(h){h&&(b(e),b(u)),L(m,h)}}}function ao(l){let e,t,n;function s(o){l[10](o)}let r={id:"dataFile"};return l[1]!==void 0&&(r.file=l[1]),e=new pn({props:r}),te.push(()=>fe(e,"file",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.file=o[1],ae(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function Zn(l){let e,t;return e=new J({props:{$$slots:{default:[ao]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&32770&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Qn(l){let e,t,n,s,r,o,i,f;return e=new J({props:{label:"Delimiter:",$$slots:{default:[uo]},$$scope:{ctx:l}}}),n=new J({props:{label:"Header:",$$slots:{default:[co]},$$scope:{ctx:l}}}),r=new J({props:{label:"Row labels:",$$slots:{default:[mo]},$$scope:{ctx:l}}}),i=new J({props:{label:" ",$$slots:{default:[po]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment),t=P(),T(n.$$.fragment),s=P(),T(r.$$.fragment),o=P(),T(i.$$.fragment)},m(a,c){M(e,a,c),w(a,t,c),M(n,a,c),w(a,s,c),M(r,a,c),w(a,o,c),M(i,a,c),f=!0},p(a,c){const u={};c&32772&&(u.$$scope={dirty:c,ctx:a}),e.$set(u);const m={};c&32776&&(m.$$scope={dirty:c,ctx:a}),n.$set(m);const _={};c&32784&&(_.$$scope={dirty:c,ctx:a}),r.$set(_);const h={};c&32768&&(h.$$scope={dirty:c,ctx:a}),i.$set(h)},i(a){f||(g(e.$$.fragment,a),g(n.$$.fragment,a),g(r.$$.fragment,a),g(i.$$.fragment,a),f=!0)},o(a){d(e.$$.fragment,a),d(n.$$.fragment,a),d(r.$$.fragment,a),d(i.$$.fragment,a),f=!1},d(a){a&&(b(t),b(s),b(o)),L(e,a),L(n,a),L(r,a),L(i,a)}}}function uo(l){let e,t,n;function s(o){l[11](o)}let r={id:"sep",options:l[7]};return l[2]!==void 0&&(r.value=l[2]),e=new Ee({props:r}),te.push(()=>fe(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ae(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function co(l){let e,t,n;function s(o){l[12](o)}let r={id:"hasHeader",options:["yes","no"]};return l[3]!==void 0&&(r.value=l[3]),e=new Ee({props:r}),te.push(()=>fe(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],ae(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function mo(l){let e,t,n;function s(o){l[13](o)}let r={id:"hasLabels",options:["yes","no"]};return l[4]!==void 0&&(r.value=l[4]),e=new Ee({props:r}),te.push(()=>fe(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],ae(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function _o(l){let e;return{c(){e=H("Load")},m(t,n){w(t,e,n)},d(t){t&&b(e)}}}function po(l){let e,t;return e=new ft({props:{$$slots:{default:[_o]},$$scope:{ctx:l}}}),e.$on("click",l[8]),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&32768&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Jn(l){let e,t;return e=new J({props:{status:"error",$$slots:{default:[go]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&32832&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function go(l){let e,t;return{c(){e=F("p"),t=H(l[6])},m(n,s){w(n,e,s),A(e,t)},p(n,s){s&64&&se(t,n[6])},d(n){n&&b(e)}}}function ho(l){let e,t,n,s,r;const o=[io,oo],i=[];function f(c,u){return c[0]?1:0}e=f(l),t=i[e]=o[e](l);let a=(l[5]==="error"||l[6])&&Jn(l);return{c(){t.c(),n=P(),a&&a.c(),s=ee()},m(c,u){i[e].m(c,u),w(c,n,u),a&&a.m(c,u),w(c,s,u),r=!0},p(c,[u]){let m=e;e=f(c),e===m?i[e].p(c,u):(Z(),d(i[m],1,1,()=>{i[m]=null}),Q(),t=i[e],t?t.p(c,u):(t=i[e]=o[e](c),t.c()),g(t,1),t.m(n.parentNode,n)),c[5]==="error"||c[6]?a?(a.p(c,u),u&96&&g(a,1)):(a=Jn(c),a.c(),g(a,1),a.m(s.parentNode,s)):a&&(Z(),d(a,1,1,()=>{a=null}),Q())},i(c){r||(g(t),g(a),r=!0)},o(c){d(t),d(a),r=!1},d(c){c&&(b(n),b(s)),i[e].d(c),a&&a.d(c)}}}function bo(l,e,t){let{dataset:n}=e,s,r=",",o="yes",i="no",f="neutral",a="";const c=[",",";"];function u(N){try{const q=Wn(N,r,o==="yes",i==="yes",!0);if(q.values.nrows<3||q.values.ncols<3)throw new Error("Calibration set must have at least 3 rows and 3 columns");if(q.classNames.length!==1)throw new Error("Calibration set must have a column filled with target class name.");i!=="yes"&&(q.labels=Array.from({length:q.values.nrows},(E,R)=>R+1)),t(0,n=q),t(6,a=""),t(5,f="success")}catch(q){t(0,n=null),t(5,f="error"),t(6,a=q)}}function m(N){const q=new FileReader;q.onload=()=>u(q.result),q.readAsBinaryString(s)}function _(){t(0,n=null),t(1,s=null)}function h(N){s=N,t(1,s)}function y(N){r=N,t(2,r)}function v(N){o=N,t(3,o)}function C(N){i=N,t(4,i)}return l.$$set=N=>{"dataset"in N&&t(0,n=N.dataset)},l.$$.update=()=>{l.$$.dirty&2&&(s===null?_():(t(5,f="neutral"),t(6,a=""))),l.$$.dirty&4&&r&&(t(5,f="neutral"),t(6,a=""))},[n,s,r,o,i,f,a,c,m,_,h,y,v,C]}let wo=class extends ie{constructor(e){super(),oe(this,e,bo,ho,ne,{dataset:0})}};function xn(l){let e,t,n,s,r;e=new J({props:{label:"Split type:",$$slots:{default:[vo]},$$scope:{ctx:l}}});let o=l[5]!=="loo"&&el(l);return s=new J({props:{label:" ",$$slots:{default:[Co]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment),t=P(),o&&o.c(),n=P(),T(s.$$.fragment)},m(i,f){M(e,i,f),w(i,t,f),o&&o.m(i,f),w(i,n,f),M(s,i,f),r=!0},p(i,f){const a={};f&524336&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),i[5]!=="loo"?o?(o.p(i,f),f&32&&g(o,1)):(o=el(i),o.c(),g(o,1),o.m(n.parentNode,n)):o&&(Z(),d(o,1,1,()=>{o=null}),Q());const c={};f&524288&&(c.$$scope={dirty:f,ctx:i}),s.$set(c)},i(i){r||(g(e.$$.fragment,i),g(o),g(s.$$.fragment,i),r=!0)},o(i){d(e.$$.fragment,i),d(o),d(s.$$.fragment,i),r=!1},d(i){i&&(b(t),b(n)),L(e,i),o&&o.d(i),L(s,i)}}}function vo(l){let e,t,n;function s(o){l[14](o)}let r={id:"cvType",options:l[4]};return l[5]!==void 0&&(r.value=l[5]),e=new Ee({props:r}),te.push(()=>fe(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};i&16&&(f.options=o[4]),!t&&i&32&&(t=!0,f.value=o[5],ae(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function el(l){let e,t;return e=new J({props:{label:"Segments:",$$slots:{default:[ko]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&524416&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function ko(l){let e,t,n;function s(o){l[15](o)}let r={id:"nseg",options:l[8]};return l[7]!==void 0&&(r.value=l[7]),e=new Ee({props:r}),te.push(()=>fe(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&128&&(t=!0,f.value=o[7],ae(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function yo(l){let e;return{c(){e=H("Compute PV-set")},m(t,n){w(t,e,n)},d(t){t&&b(e)}}}function Co(l){let e,t;return e=new ft({props:{$$slots:{default:[yo]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&524288&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function tl(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:So,then:Ao,catch:Eo,value:17,error:18,blocks:[,,,]};return St(t=l[6],s),{c(){e=ee(),s.block.c()},m(r,o){w(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o&64&&t!==(t=l[6])&&St(t,s)||Jt(s,l,o)},i(r){n||(g(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];d(i)}n=!1},d(r){r&&b(e),s.block.d(r),s.token=null,s=null}}}function Eo(l){let e,t;return e=new J({props:{status:"error",$$slots:{default:[No]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&524352&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function No(l){let e,t=l[18]+"",n;return{c(){e=F("p"),n=H(t)},m(s,r){w(s,e,r),A(e,n)},p(s,r){r&64&&t!==(t=s[18]+"")&&se(n,t)},d(s){s&&b(e)}}}function Ao(l){let e,t,n=l[0]!==null&&nl(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),w(s,e,r),t=!0},p(s,r){s[0]!==null?n?(n.p(s,r),r&1&&g(n,1)):(n=nl(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(Z(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&b(e),n&&n.d(s)}}}function nl(l){let e,t;return e=new J({props:{$$slots:{default:[qo]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&524449&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function qo(l){let e,t,n=l[0].values.nrows+"",s,r,o=l[0].values.ncols+"",i,f,a,c,u=l[5]!=="loo"?l[7]+" seg":"",m,_,h,y;return h=new Vt({}),h.$on("click",l[10]),{c(){e=F("p"),t=H("PV-set is computed: "),s=H(n),r=H(" × "),i=H(o),f=H(", "),a=H(l[5]),c=P(),m=H(u),_=P(),T(h.$$.fragment)},m(v,C){w(v,e,C),A(e,t),A(e,s),A(e,r),A(e,i),A(e,f),A(e,a),A(e,c),A(e,m),w(v,_,C),M(h,v,C),y=!0},p(v,C){(!y||C&1)&&n!==(n=v[0].values.nrows+"")&&se(s,n),(!y||C&1)&&o!==(o=v[0].values.ncols+"")&&se(i,o),(!y||C&32)&&se(a,v[5]),(!y||C&160)&&u!==(u=v[5]!=="loo"?v[7]+" seg":"")&&se(m,u)},i(v){y||(g(h.$$.fragment,v),y=!0)},o(v){d(h.$$.fragment,v),y=!1},d(v){v&&(b(e),b(_)),L(h,v)}}}function So(l){let e,t;return e=new J({props:{$$slots:{default:[Mo]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&524288&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Mo(l){let e,t,n,s;return e=new _n({}),{c(){T(e.$$.fragment),t=P(),n=F("p"),n.textContent="Computing PV-set..."},m(r,o){M(e,r,o),w(r,t,o),w(r,n,o),s=!0},p:D,i(r){s||(g(e.$$.fragment,r),s=!0)},o(r){d(e.$$.fragment,r),s=!1},d(r){r&&(b(t),b(n)),L(e,r)}}}function ll(l){let e,t;return e=new J({props:{status:"error",$$slots:{default:[Lo]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&524296&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Lo(l){let e,t;return{c(){e=F("p"),t=H(l[3])},m(n,s){w(n,e,s),A(e,t)},p(n,s){s&8&&se(t,n[3])},d(n){n&&b(e)}}}function To(l){let e,t,n,s,r=l[1]&&!l[0]&&l[2]!=="busy"&&xn(l),o=l[6]&&tl(l),i=l[2]==="error"&&l[3]&&ll(l);return{c(){r&&r.c(),e=P(),o&&o.c(),t=P(),i&&i.c(),n=ee()},m(f,a){r&&r.m(f,a),w(f,e,a),o&&o.m(f,a),w(f,t,a),i&&i.m(f,a),w(f,n,a),s=!0},p(f,[a]){f[1]&&!f[0]&&f[2]!=="busy"?r?(r.p(f,a),a&7&&g(r,1)):(r=xn(f),r.c(),g(r,1),r.m(e.parentNode,e)):r&&(Z(),d(r,1,1,()=>{r=null}),Q()),f[6]?o?(o.p(f,a),a&64&&g(o,1)):(o=tl(f),o.c(),g(o,1),o.m(t.parentNode,t)):o&&(Z(),d(o,1,1,()=>{o=null}),Q()),f[2]==="error"&&f[3]?i?(i.p(f,a),a&12&&g(i,1)):(i=ll(f),i.c(),g(i,1),i.m(n.parentNode,n)):i&&(Z(),d(i,1,1,()=>{i=null}),Q())},i(f){s||(g(r),g(o),g(i),s=!0)},o(f){d(r),d(o),d(i),s=!1},d(f){f&&(b(e),b(t),b(n)),r&&r.d(f),o&&o.d(f),i&&i.d(f)}}}function Ro(l,e,t){let{WASM:n}=e,{calset:s}=e,{model:r}=e,{pvset:o}=e,{pvres:i}=e,f="neutral",a=null,c=["ven","rand","loo"],u="ven",m,_=s&&s.values.nrows>0?[3,4,5,10,20].filter(E=>E>=s.values.nrows/(s.values.nrows-r.ncomp-1)&&E<=s.values.nrows/2):[],h=_.length>0?_[0]:0;async function y(E,R,z){t(6,m=n().then(B=>{const I=z.type=="loo"?0:z.type=="rand"?2:1,S=Wr(B,R,E.values,R.ncomp,z.nseg,I,0);t(0,o={values:S,header:E.header,labels:E.labels,classes:E.classes,sep:E.sep,dec:E.dec}),t(11,i=un(B,R,o.values))}).catch(B=>{t(0,o=null),t(11,i=null),t(2,f="error"),t(3,a=B)}))}function v(E){t(2,f="neutral"),t(3,a=null),y(s,r,{type:u,nseg:h})}function C(){t(2,f="neutral"),t(3,a=null),t(6,m=null),t(0,o=null)}function N(E){u=E,t(5,u),t(8,_)}function q(E){h=E,t(7,h)}return l.$$set=E=>{"WASM"in E&&t(12,n=E.WASM),"calset"in E&&t(13,s=E.calset),"model"in E&&t(1,r=E.model),"pvset"in E&&t(0,o=E.pvset),"pvres"in E&&t(11,i=E.pvres)},l.$$.update=()=>{l.$$.dirty&2&&r===null&&C()},_.length===0&&(t(4,c=["loo"]),t(5,u="loo")),[o,r,f,a,c,u,m,h,_,v,C,i,n,s,N,q]}class $o extends ie{constructor(e){super(),oe(this,e,Ro,To,ne,{WASM:12,calset:13,model:1,pvset:0,pvres:11})}}function sl(l){let e,t,n,s,r,o,i,f;return e=new J({props:{label:"# of PCs",$$slots:{default:[zo]},$$scope:{ctx:l}}}),n=new J({props:{label:"Center",$$slots:{default:[Fo]},$$scope:{ctx:l}}}),r=new J({props:{label:"Scale",$$slots:{default:[Po]},$$scope:{ctx:l}}}),i=new J({props:{label:" ",$$slots:{default:[Oo]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment),t=P(),T(n.$$.fragment),s=P(),T(r.$$.fragment),o=P(),T(i.$$.fragment)},m(a,c){M(e,a,c),w(a,t,c),M(n,a,c),w(a,s,c),M(r,a,c),w(a,o,c),M(i,a,c),f=!0},p(a,c){const u={};c&524324&&(u.$$scope={dirty:c,ctx:a}),e.$set(u);const m={};c&524352&&(m.$$scope={dirty:c,ctx:a}),n.$set(m);const _={};c&524416&&(_.$$scope={dirty:c,ctx:a}),r.$set(_);const h={};c&524288&&(h.$$scope={dirty:c,ctx:a}),i.$set(h)},i(a){f||(g(e.$$.fragment,a),g(n.$$.fragment,a),g(r.$$.fragment,a),g(i.$$.fragment,a),f=!0)},o(a){d(e.$$.fragment,a),d(n.$$.fragment,a),d(r.$$.fragment,a),d(i.$$.fragment,a),f=!1},d(a){a&&(b(t),b(s),b(o)),L(e,a),L(n,a),L(r,a),L(i,a)}}}function zo(l){let e,t,n;function s(o){l[13](o)}let r={id:"ncomp",min:1,max:l[2],step:1,decNum:0};return l[5]!==void 0&&(r.value=l[5]),e=new mn({props:r}),te.push(()=>fe(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};i&4&&(f.max=o[2]),!t&&i&32&&(t=!0,f.value=o[5],ae(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function Fo(l){let e,t,n;function s(o){l[14](o)}let r={id:"center",options:["yes","no"]};return l[6]!==void 0&&(r.value=l[6]),e=new Ee({props:r}),te.push(()=>fe(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&64&&(t=!0,f.value=o[6],ae(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function Po(l){let e,t,n;function s(o){l[15](o)}let r={id:"scale",options:["yes","no"]};return l[7]!==void 0&&(r.value=l[7]),e=new Ee({props:r}),te.push(()=>fe(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&128&&(t=!0,f.value=o[7],ae(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function Io(l){let e;return{c(){e=H("Create model")},m(t,n){w(t,e,n)},d(t){t&&b(e)}}}function Oo(l){let e,t;return e=new ft({props:{$$slots:{default:[Io]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&524288&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function rl(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:Do,then:jo,catch:Vo,value:17,error:18,blocks:[,,,]};return St(t=l[8],s),{c(){e=ee(),s.block.c()},m(r,o){w(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o&256&&t!==(t=l[8])&&St(t,s)||Jt(s,l,o)},i(r){n||(g(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];d(i)}n=!1},d(r){r&&b(e),s.block.d(r),s.token=null,s=null}}}function Vo(l){let e,t;return e=new J({props:{status:"error",$$slots:{default:[Bo]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&524544&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Bo(l){let e,t=l[18]+"",n;return{c(){e=F("p"),n=H(t)},m(s,r){w(s,e,r),A(e,n)},p(s,r){r&256&&t!==(t=s[18]+"")&&se(n,t)},d(s){s&&b(e)}}}function jo(l){let e,t,n=l[0]!==null&&ol(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),w(s,e,r),t=!0},p(s,r){s[0]!==null?n?(n.p(s,r),r&1&&g(n,1)):(n=ol(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(Z(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&b(e),n&&n.d(s)}}}function ol(l){let e,t;return e=new J({props:{$$slots:{default:[Yo]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&524289&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Yo(l){let e,t,n=l[0].ncomp+"",s,r,o,i,f;return i=new Vt({}),i.$on("click",l[10]),{c(){e=F("p"),t=H("Global model is computed: "),s=H(n),r=H(" PCs"),o=P(),T(i.$$.fragment)},m(a,c){w(a,e,c),A(e,t),A(e,s),A(e,r),w(a,o,c),M(i,a,c),f=!0},p(a,c){(!f||c&1)&&n!==(n=a[0].ncomp+"")&&se(s,n)},i(a){f||(g(i.$$.fragment,a),f=!0)},o(a){d(i.$$.fragment,a),f=!1},d(a){a&&(b(e),b(o)),L(i,a)}}}function Do(l){let e,t;return e=new J({props:{$$slots:{default:[Wo]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&524288&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Wo(l){let e,t,n,s;return e=new _n({}),{c(){T(e.$$.fragment),t=P(),n=F("p"),n.textContent="Computing global model..."},m(r,o){M(e,r,o),w(r,t,o),w(r,n,o),s=!0},p:D,i(r){s||(g(e.$$.fragment,r),s=!0)},o(r){d(e.$$.fragment,r),s=!1},d(r){r&&(b(t),b(n)),L(e,r)}}}function il(l){let e,t;return e=new J({props:{status:"error",$$slots:{default:[Ho]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&524304&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Ho(l){let e,t;return{c(){e=F("p"),t=H(l[4])},m(n,s){w(n,e,s),A(e,t)},p(n,s){s&16&&se(t,n[4])},d(n){n&&b(e)}}}function Go(l){let e,t,n,s,r=l[1]&&!l[0]&&l[3]!=="computing"&&sl(l),o=l[8]&&rl(l),i=(l[3]==="error"||l[4])&&il(l);return{c(){r&&r.c(),e=P(),o&&o.c(),t=P(),i&&i.c(),n=ee()},m(f,a){r&&r.m(f,a),w(f,e,a),o&&o.m(f,a),w(f,t,a),i&&i.m(f,a),w(f,n,a),s=!0},p(f,[a]){f[1]&&!f[0]&&f[3]!=="computing"?r?(r.p(f,a),a&11&&g(r,1)):(r=sl(f),r.c(),g(r,1),r.m(e.parentNode,e)):r&&(Z(),d(r,1,1,()=>{r=null}),Q()),f[8]?o?(o.p(f,a),a&256&&g(o,1)):(o=rl(f),o.c(),g(o,1),o.m(t.parentNode,t)):o&&(Z(),d(o,1,1,()=>{o=null}),Q()),f[3]==="error"||f[4]?i?(i.p(f,a),a&24&&g(i,1)):(i=il(f),i.c(),g(i,1),i.m(n.parentNode,n)):i&&(Z(),d(i,1,1,()=>{i=null}),Q())},i(f){s||(g(r),g(o),g(i),s=!0)},o(f){d(r),d(o),d(i),s=!1},d(f){f&&(b(e),b(t),b(n)),r&&r.d(f),o&&o.d(f),i&&i.d(f)}}}function Uo(l,e,t){let n,{WASM:s}=e,{model:r}=e,{calset:o}=e,{calres:i}=e,f="neutral",a=null,c=1,u="yes",m="no",_;async function h(E,R,z,B){t(8,_=s().then(I=>{t(3,f="computing");const S=Dr(I,E,R,z,B);S.lim={classic:{h0:ct(S,"ch0"),Nh:ct(S,"cNh"),q0:ct(S,"cq0"),Nq:ct(S,"cNq")},robust:{h0:ct(S,"rh0"),Nh:ct(S,"rNh"),q0:ct(S,"rq0"),Nq:ct(S,"rNq")}},t(0,r=S),t(11,i=un(I,r,E)),t(3,f="success")}).catch(I=>{t(0,r=null),t(11,i=null),t(3,f="error"),t(4,a=I)}))}function y(E){t(3,f="neutral"),t(4,a=null),h(o.values,c,u==="yes",m==="yes")}function v(){t(3,f="neutral"),t(8,_=null),t(0,r=null),t(4,a=null)}function C(E){c=E,t(5,c),t(2,n),t(1,o)}function N(E){u=E,t(6,u)}function q(E){m=E,t(7,m)}return l.$$set=E=>{"WASM"in E&&t(12,s=E.WASM),"model"in E&&t(0,r=E.model),"calset"in E&&t(1,o=E.calset),"calres"in E&&t(11,i=E.calres)},l.$$.update=()=>{l.$$.dirty&2&&o===null&&v(),l.$$.dirty&2&&t(2,n=o?Math.min(o.values.nrows-2,o.values.ncols-1):null),l.$$.dirty&4&&t(5,c=n?Math.min(n,20):null)},[r,o,n,f,a,c,u,m,_,y,v,i,s,C,N,q]}class Ko extends ie{constructor(e){super(),oe(this,e,Uo,Go,ne,{WASM:12,model:0,calset:1,calres:11})}}function Xo(l){let e,t,n=l[0].className+"",s;return{c(){e=F("p"),t=H("Target class: "),s=H(n),p(e,"class","title")},m(r,o){w(r,e,o),A(e,t),A(e,s)},p(r,o){o&1&&n!==(n=r[0].className+"")&&se(s,n)},d(r){r&&b(e)}}}function Zo(l){let e,t,n;function s(o){l[17](o)}let r={id:"ncomp",min:1,max:l[1].ncomp,step:1,decNum:0};return l[3]!==void 0&&(r.value=l[3]),e=new mn({props:r}),te.push(()=>fe(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};i&2&&(f.max=o[1].ncomp),!t&&i&8&&(t=!0,f.value=o[3],ae(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function Qo(l){let e,t,n;function s(o){l[18](o)}let r={id:"alpha",options:l[6]};return l[4]!==void 0&&(r.value=l[4]),e=new Ee({props:r}),te.push(()=>fe(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],ae(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function Jo(l){let e,t,n;function s(o){l[19](o)}let r={id:"gamma",options:l[7]};return l[5]!==void 0&&(r.value=l[5]),e=new Ee({props:r}),te.push(()=>fe(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&32&&(t=!0,f.value=o[5],ae(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function xo(l){let e,t,n;function s(o){l[20](o)}let r={id:"limType",options:["classic","robust"]};return l[2]!==void 0&&(r.value=l[2]),e=new Ee({props:r}),te.push(()=>fe(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ae(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function ei(l){let e;return{c(){e=H("Download model")},m(t,n){w(t,e,n)},d(t){t&&b(e)}}}function ti(l){let e,t;return e=new ft({props:{$$slots:{default:[ei]},$$scope:{ctx:l}}}),e.$on("click",l[21]),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&4194304&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function ni(l){let e,t,n,s,r,o,i,f,a,c,u,m;return e=new J({props:{label:"",$$slots:{default:[Xo]},$$scope:{ctx:l}}}),n=new J({props:{label:"# of PCs",$$slots:{default:[Zo]},$$scope:{ctx:l}}}),r=new J({props:{label:"Alpha, %:",$$slots:{default:[Qo]},$$scope:{ctx:l}}}),i=new J({props:{label:"Gamma, %:",$$slots:{default:[Jo]},$$scope:{ctx:l}}}),a=new J({props:{label:"Limits:",$$slots:{default:[xo]},$$scope:{ctx:l}}}),u=new J({props:{label:" ",$$slots:{default:[ti]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment),t=P(),T(n.$$.fragment),s=P(),T(r.$$.fragment),o=P(),T(i.$$.fragment),f=P(),T(a.$$.fragment),c=P(),T(u.$$.fragment)},m(_,h){M(e,_,h),w(_,t,h),M(n,_,h),w(_,s,h),M(r,_,h),w(_,o,h),M(i,_,h),w(_,f,h),M(a,_,h),w(_,c,h),M(u,_,h),m=!0},p(_,[h]){const y={};h&4194305&&(y.$$scope={dirty:h,ctx:_}),e.$set(y);const v={};h&4194314&&(v.$$scope={dirty:h,ctx:_}),n.$set(v);const C={};h&4194320&&(C.$$scope={dirty:h,ctx:_}),r.$set(C);const N={};h&4194336&&(N.$$scope={dirty:h,ctx:_}),i.$set(N);const q={};h&4194308&&(q.$$scope={dirty:h,ctx:_}),a.$set(q);const E={};h&4194307&&(E.$$scope={dirty:h,ctx:_}),u.$set(E)},i(_){m||(g(e.$$.fragment,_),g(n.$$.fragment,_),g(r.$$.fragment,_),g(i.$$.fragment,_),g(a.$$.fragment,_),g(u.$$.fragment,_),m=!0)},o(_){d(e.$$.fragment,_),d(n.$$.fragment,_),d(r.$$.fragment,_),d(i.$$.fragment,_),d(a.$$.fragment,_),d(u.$$.fragment,_),m=!1},d(_){_&&(b(t),b(s),b(o),b(f),b(c)),L(e,_),L(n,_),L(r,_),L(i,_),L(a,_),L(u,_)}}}function li(l,e,t){let n,s,{model:r=null}=e,{simca:o=null}=e,{className:i}=e,f="classic",a=1,c=5,u=1;const m=[10,5,1,.1],_=[5,1,.1,.01];let h,y,v,C,N;function q(S,k){const $=new Blob([JSON.stringify({pca:{class:S.class,ncomp:S.ncomp,nrows:S.nrows,ncols:S.ncols,center:S.center,scale:S.scale,v:Array.from(S.v)},simca:{h0:Array.from(k.h0),Nh:Array.from(k.Nh),q0:Array.from(k.q0),Nq:Array.from(k.Nq),Nf:Array.from(k.Nf),eCrit:Array.from(k.eCrit),oCrit:Array.from(k.oCrit),ncomp:k.ncomp,alpha:k.alpha,gamma:k.gamma,limType:k.limType,className:k.className}})],{type:"application/json"}),W=window.URL.createObjectURL($),K=document.createElement("a");K.setAttribute("href",W),K.setAttribute("download","ddsimca-model.json"),K.click()}function E(S){a=S,t(3,a)}function R(S){c=S,t(4,c)}function z(S){u=S,t(5,u)}function B(S){f=S,t(2,f)}const I=()=>q(r,o);return l.$$set=S=>{"model"in S&&t(1,r=S.model),"simca"in S&&t(0,o=S.simca),"className"in S&&t(9,i=S.className)},l.$$.update=()=>{l.$$.dirty&6150&&f&&(t(11,y=r.lim[f].Nh),t(13,C=r.lim[f].h0),t(12,v=r.lim[f].Nq),t(14,N=r.lim[f].q0),t(10,h=y.map((S,k)=>S+v[k]))),l.$$.dirty&1040&&t(16,n=h.map(S=>Wt(1-c/100,S))),l.$$.dirty&1058&&t(15,s=h.map(S=>Wt(Math.pow(1-u/100,1/r.nrows),S))),l.$$.dirty&130588&&t(0,o={ncomp:a,alpha:c,limType:f,h0:C,q0:N,Nh:y,Nq:v,Nf:h,eCrit:n,oCrit:s,className:i})},[o,r,f,a,c,u,m,_,q,i,h,y,v,C,N,s,n,E,R,z,B,I]}let si=class extends ie{constructor(e){super(),oe(this,e,li,ni,ne,{model:1,simca:0,className:9})}};const gc="";function fl(l,e,t){const n=l.slice();return n[13]=e[t].label,n[14]=e[t].plotComponent,n[15]=e[t].controlsComponent,n[17]=t,n}function ri(l){let e,t=l[13]+"",n,s,r;function o(){return l[11](l[17])}function i(){return l[12](l[17])}return{c(){e=F("button"),n=H(t),p(e,"class","plot-selector svelte-1ohq4sh")},m(f,a){w(f,e,a),A(e,n),s||(r=[ze(e,"keydown",o),ze(e,"click",i)],s=!0)},p(f,a){l=f,a&4&&t!==(t=l[13]+"")&&se(n,t)},i:D,o:D,d(f){f&&b(e),s=!1,et(r)}}}function oi(l){let e,t,n,s,r;function o(a){l[10](a)}var i=l[15];function f(a,c){let u={simcares:a[0]};return a[4]!==void 0&&(u.params=a[4]),{props:u}}return i&&(e=Yt(i,f(l)),te.push(()=>fe(e,"params",o))),s=new J({props:{label:"Download as",$$slots:{default:[ai]},$$scope:{ctx:l}}}),{c(){e&&T(e.$$.fragment),n=P(),T(s.$$.fragment)},m(a,c){e&&M(e,a,c),w(a,n,c),M(s,a,c),r=!0},p(a,c){if(c&4&&i!==(i=a[15])){if(e){Z();const m=e;d(m.$$.fragment,1,0,()=>{L(m,1)}),Q()}i?(e=Yt(i,f(a)),te.push(()=>fe(e,"params",o)),T(e.$$.fragment),g(e.$$.fragment,1),M(e,n.parentNode,n)):e=null}else if(i){const m={};c&1&&(m.simcares=a[0]),!t&&c&16&&(t=!0,m.params=a[4],ae(()=>t=!1)),e.$set(m)}const u={};c&262144&&(u.$$scope={dirty:c,ctx:a}),s.$set(u)},i(a){r||(e&&g(e.$$.fragment,a),g(s.$$.fragment,a),r=!0)},o(a){e&&d(e.$$.fragment,a),d(s.$$.fragment,a),r=!1},d(a){a&&b(n),e&&L(e,a),L(s,a)}}}function ii(l){let e;return{c(){e=H("SVG")},m(t,n){w(t,e,n)},d(t){t&&b(e)}}}function fi(l){let e;return{c(){e=H("PNG")},m(t,n){w(t,e,n)},d(t){t&&b(e)}}}function ai(l){let e,t,n,s,r,o;return t=new ft({props:{$$slots:{default:[ii]},$$scope:{ctx:l}}}),t.$on("click",l[7]),s=new ft({props:{$$slots:{default:[fi]},$$scope:{ctx:l}}}),s.$on("click",l[6]),{c(){e=F("div"),T(t.$$.fragment),n=P(),T(s.$$.fragment),r=P(),p(e,"class","buttons svelte-1ohq4sh")},m(i,f){w(i,e,f),M(t,e,null),A(e,n),M(s,e,null),w(i,r,f),o=!0},p(i,f){const a={};f&262144&&(a.$$scope={dirty:f,ctx:i}),t.$set(a);const c={};f&262144&&(c.$$scope={dirty:f,ctx:i}),s.$set(c)},i(i){o||(g(t.$$.fragment,i),g(s.$$.fragment,i),o=!0)},o(i){d(t.$$.fragment,i),d(s.$$.fragment,i),o=!1},d(i){i&&(b(e),b(r)),L(t),L(s)}}}function al(l){let e,t,n,s;const r=[oi,ri],o=[];function i(f,a){return f[3]===f[17]?0:1}return e=i(l),t=o[e]=r[e](l),{c(){t.c(),n=ee()},m(f,a){o[e].m(f,a),w(f,n,a),s=!0},p(f,a){let c=e;e=i(f),e===c?o[e].p(f,a):(Z(),d(o[c],1,1,()=>{o[c]=null}),Q(),t=o[e],t?t.p(f,a):(t=o[e]=r[e](f),t.c()),g(t,1),t.m(n.parentNode,n))},i(f){s||(g(t),s=!0)},o(f){d(t),s=!1},d(f){f&&b(n),o[e].d(f)}}}function ui(l){let e,t,n,s,r,o;var i=l[2][l[3]].plotComponent;function f(m,_){return{props:{simcares:m[0],simca:m[1],params:m[4]}}}i&&(n=Yt(i,f(l)));let a=Ce(l[2]),c=[];for(let m=0;m<a.length;m+=1)c[m]=al(fl(l,a,m));const u=m=>d(c[m],1,1,()=>{c[m]=null});return{c(){e=F("div"),t=F("div"),n&&T(n.$$.fragment),s=P(),r=F("div");for(let m=0;m<c.length;m+=1)c[m].c();p(t,"class","plot-area svelte-1ohq4sh"),p(r,"class","plot-controls-area svelte-1ohq4sh"),p(e,"class","plot-container svelte-1ohq4sh")},m(m,_){w(m,e,_),A(e,t),n&&M(n,t,null),l[9](t),A(e,s),A(e,r);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(r,null);o=!0},p(m,[_]){if(_&12&&i!==(i=m[2][m[3]].plotComponent)){if(n){Z();const h=n;d(h.$$.fragment,1,0,()=>{L(h,1)}),Q()}i?(n=Yt(i,f(m)),T(n.$$.fragment),g(n.$$.fragment,1),M(n,t,null)):n=null}else if(i){const h={};_&1&&(h.simcares=m[0]),_&2&&(h.simca=m[1]),_&16&&(h.params=m[4]),n.$set(h)}if(_&477){a=Ce(m[2]);let h;for(h=0;h<a.length;h+=1){const y=fl(m,a,h);c[h]?(c[h].p(y,_),g(c[h],1)):(c[h]=al(y),c[h].c(),g(c[h],1),c[h].m(r,null))}for(Z(),h=a.length;h<c.length;h+=1)u(h);Q()}},i(m){if(!o){n&&g(n.$$.fragment,m);for(let _=0;_<a.length;_+=1)g(c[_]);o=!0}},o(m){n&&d(n.$$.fragment,m),c=c.filter(Boolean);for(let _=0;_<c.length;_+=1)d(c[_]);o=!1},d(m){m&&b(e),n&&L(n),l[9](null),tt(c,m)}}}function ci(l,e,t){let{simcares:n}=e,{simca:s}=e,{options:r}=e;function o(){const C=c.getElementsByTagName("svg")[0],N=document.createElement("canvas"),q=N.getContext("2d");N.width=C.clientWidth*3,N.height=C.clientHeight*3,C.setAttribute("width",N.width),C.setAttribute("height",N.height),q.fillStyle="white",q.scale(3,3),q.fillRect(0,0,N.width,N.height);const E=new XMLSerializer().serializeToString(C),R=new Image;R.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(E))),R.onload=function(){q.drawImage(R,0,0,N.width,N.height);const z=N.toDataURL("image/png"),B=document.createElement("a");B.href=z,B.download="plot.png",B.click()}}function i(){const v=c.getElementsByTagName("svg")[0];v.setAttribute("xmlns","http://www.w3.org/2000/svg");const C=new Blob([v.parentNode.innerHTML],{type:"image/svg+xml"}),N=window.URL.createObjectURL(C),q=document.createElement("a");q.setAttribute("href",N),q.setAttribute("download","plot.svg"),q.click()}let f=0,a=null,c;function u(v){t(4,a=null),t(3,f=v)}function m(v){te[v?"unshift":"push"](()=>{c=v,t(5,c)})}function _(v){a=v,t(4,a)}const h=v=>u(v),y=v=>u(v);return l.$$set=v=>{"simcares"in v&&t(0,n=v.simcares),"simca"in v&&t(1,s=v.simca),"options"in v&&t(2,r=v.options)},[n,s,r,f,a,c,o,i,u,m,_,h,y]}class ul extends ie{constructor(e){super(),oe(this,e,ci,ui,ne,{simcares:0,simca:1,options:2})}}const Lt=[];function Tt(l,e=D){let t;const n=new Set;function s(i){if(ne(l,i)&&(l=i,t)){const f=!Lt.length;for(const a of n)a[1](),Lt.push(a,l);if(f){for(let a=0;a<Lt.length;a+=2)Lt[a][0](Lt[a+1]);Lt.length=0}}}function r(i){s(i(l))}function o(i,f=D){const a=[i,f];return n.add(a),n.size===1&&(t=e(s,r)||D),i(l),()=>{n.delete(a),n.size===0&&t&&(t(),t=null)}}return{set:s,update:r,subscribe:o}}function cl(l){if(l===void 0)return;const e=Math.abs(Mt(Sn(l)));let t=0;if(e<1&&Math.abs(Oe(l))<1){let n=Math.ceil(-Math.log10(e));return n<=2?[0,Array.from(l).map(s=>s.toFixed(n).toString())]:(t=n-2,n=2,[-t,Array.from(l).map(s=>(s*Math.pow(10,t)).toFixed(n).toString())])}else{let n=Math.ceil(Math.log10(e));return n<=2?[0,Array.from(l).map(s=>s.toString())]:(t=n-2,n=2,[t,Array.from(l).map(s=>(s/Math.pow(10,t)).toString())])}}function mt(l,e){if(Array.isArray(l)&&(l=Le(l)),!ye(l))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(l.length<1)throw Error(e+": vector with coordinates is empty.");return l}function mi(l,e,t,n,s){if(l===void 0||e===void 0)return;const r=s.transform(mt(l,"val2p"),t.coords),o=s.transform(mt(e,"val2p"),n.coords);if(r.length!=o.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let i="";for(let f=0;f<r.length;f++)i+=r[f]+","+o[f]+" ";return i}function ml(l,e,t,n=!0){if(l!==void 0){if(Array.isArray(l)&&(l=Le(l)),!ye(l))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return l.filter(a=>a>=e[0]&a<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const s=(e[1]-e[0])/50,r=_l(e[1]-e[0]-1*s,n),o=_l(r/(t-1),n),i=Math.ceil((e[0]+s)/o)*o,f=Math.floor((e[1]-s)/o)*o;if(t=Math.round((f-i+1)/o)+1,l=he.seq(i,f,o),Math.abs(o)<1){const a=Math.pow(10,1+Math.round(-Math.log10(o)));l=l.apply(c=>Math.round((c+Number.EPSILON)*a)/a)}return l.filter(a=>a>=e[0]&a<=e[1])}function _l(l,e){const t=Math.floor(Math.log10(l)),n=l/Math.pow(10,t);let s;return e?n<1.5?s=1:n<3?s=2:n<7?s=5:s=10:n<=1?s=1:n<=2?s=2:n<=5?s=5:s=10,s*Math.pow(10,t)}function _i(l){return Math.round(l*10)/10}function pi(l,e){return e<300.2||l<300.2?"small":e<600.2||l<600.2?"medium":e<850.2||l<850.2?"large":"xlarge"}const hc="",gi=l=>({}),pl=l=>({}),hi=l=>({}),gl=l=>({}),di=l=>({}),hl=l=>({});function dl(l){let e,t,n;return{c(){e=_e("text"),p(e,"x",0),p(e,"y",t=(l[4]+l[8])/2),p(e,"dx",0),p(e,"dy",0),p(e,"dominant-baseline","top"),p(e,"transform",n=`rotate(-90, 10, ${l[4]/2})`),Ye(e,"font-size","1.1em")},m(s,r){w(s,e,r),e.innerHTML=l[2]},p(s,r){r[0]&4&&(e.innerHTML=s[2]),r[0]&272&&t!==(t=(s[4]+s[8])/2)&&p(e,"y",t),r[0]&16&&n!==(n=`rotate(-90, 10, ${s[4]/2})`)&&p(e,"transform",n)},d(s){s&&b(e)}}}function bl(l){let e,t,n;return{c(){e=_e("text"),p(e,"x",t=l[7]+l[3]/2),p(e,"y",n=l[4]+l[8]),p(e,"dx",0),p(e,"dy",5),p(e,"dominant-baseline","middle"),Ye(e,"font-size","1.1em")},m(s,r){w(s,e,r),e.innerHTML=l[1]},p(s,r){r[0]&2&&(e.innerHTML=s[1]),r[0]&136&&t!==(t=s[7]+s[3]/2)&&p(e,"x",t),r[0]&272&&n!==(n=s[4]+s[8])&&p(e,"y",n)},d(s){s&&b(e)}}}function wl(l){let e,t;return{c(){e=_e("text"),p(e,"x",t=l[7]+l[3]/2),p(e,"y",0),p(e,"dx",0),p(e,"dy",10),p(e,"dominant-baseline","hanging"),Ye(e,"font-size","1.2em")},m(n,s){w(n,e,s),e.innerHTML=l[0]},p(n,s){s[0]&1&&(e.innerHTML=n[0]),s[0]&136&&t!==(t=n[7]+n[3]/2)&&p(e,"x",t)},d(n){n&&b(e)}}}function vl(l){let e;return{c(){e=F("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,p(e,"class","message_error svelte-iey6d1")},m(t,n){w(t,e,n)},d(t){t&&b(e)}}}function bi(l){let e,t,n,s,r,o,i,f,a,c,u,m,_,h,y,v,C,N,q,E=l[2]&&l[2]!==""&&dl(l),R=l[1]&&l[1]!==""&&bl(l),z=l[0]&&l[0]!==""&&wl(l);const B=l[31].xaxis,I=vt(B,l,l[30],hl),S=l[31].yaxis,k=vt(S,l,l[30],gl),$=l[31].default,W=vt($,l,l[30],null),K=l[31].box,ue=vt(K,l,l[30],pl);let be=!l[5]&&vl();return{c(){e=F("div"),t=_e("svg"),n=_e("g"),E&&E.c(),s=ee(),R&&R.c(),r=ee(),z&&z.c(),o=_e("svg"),i=_e("defs"),f=_e("clipPath"),a=_e("rect"),I&&I.c(),k&&k.c(),h=_e("g"),W&&W.c(),ue&&ue.c(),v=P(),be&&be.c(),p(n,"style",l[9]),Ye(a,"pointer-events","none"),p(a,"x",c=l[12][0]),p(a,"y",u=l[11][1]),p(a,"width",m=l[12][1]-l[12][0]),p(a,"height",_=l[11][0]-l[11][1]),p(f,"id",l[13]),p(h,"class","axes-content svelte-iey6d1"),p(h,"clip-path","url(#"+l[13]+")"),p(o,"x",l[7]),p(o,"y",l[8]),p(o,"width",l[3]),p(o,"height",l[4]),p(o,"preserveAspectRatio","none"),p(o,"class","axes"),p(t,"class","plot svelte-iey6d1"),p(t,"xmlns","http://www.w3.org/2000/svg"),p(t,"style",y=`font-family: Arial, Helvetica, sans-serif;font-size:${l[10]}px`),p(e,"class","plot-container svelte-iey6d1"),De(e,"plot_error",!l[5])},m(j,Y){w(j,e,Y),A(e,t),A(t,n),E&&E.m(n,null),A(n,s),R&&R.m(n,null),A(n,r),z&&z.m(n,null),A(t,o),A(o,i),A(i,f),A(f,a),I&&I.m(o,null),k&&k.m(o,null),A(o,h),W&&W.m(h,null),ue&&ue.m(o,null),l[32](t),A(e,v),be&&be.m(e,null),l[33](e),C=!0,N||(q=[ze(o,"click",l[14]),ze(o,"keydown",l[14])],N=!0)},p(j,Y){j[2]&&j[2]!==""?E?E.p(j,Y):(E=dl(j),E.c(),E.m(n,s)):E&&(E.d(1),E=null),j[1]&&j[1]!==""?R?R.p(j,Y):(R=bl(j),R.c(),R.m(n,r)):R&&(R.d(1),R=null),j[0]&&j[0]!==""?z?z.p(j,Y):(z=wl(j),z.c(),z.m(n,null)):z&&(z.d(1),z=null),(!C||Y[0]&512)&&p(n,"style",j[9]),(!C||Y[0]&4096&&c!==(c=j[12][0]))&&p(a,"x",c),(!C||Y[0]&2048&&u!==(u=j[11][1]))&&p(a,"y",u),(!C||Y[0]&4096&&m!==(m=j[12][1]-j[12][0]))&&p(a,"width",m),(!C||Y[0]&2048&&_!==(_=j[11][0]-j[11][1]))&&p(a,"height",_),I&&I.p&&(!C||Y[0]&1073741824)&&yt(I,B,j,j[30],C?kt(B,j[30],Y,di):Ct(j[30]),hl),k&&k.p&&(!C||Y[0]&1073741824)&&yt(k,S,j,j[30],C?kt(S,j[30],Y,hi):Ct(j[30]),gl),W&&W.p&&(!C||Y[0]&1073741824)&&yt(W,$,j,j[30],C?kt($,j[30],Y,null):Ct(j[30]),null),ue&&ue.p&&(!C||Y[0]&1073741824)&&yt(ue,K,j,j[30],C?kt(K,j[30],Y,gi):Ct(j[30]),pl),(!C||Y[0]&128)&&p(o,"x",j[7]),(!C||Y[0]&256)&&p(o,"y",j[8]),(!C||Y[0]&8)&&p(o,"width",j[3]),(!C||Y[0]&16)&&p(o,"height",j[4]),(!C||Y[0]&1024&&y!==(y=`font-family: Arial, Helvetica, sans-serif;font-size:${j[10]}px`))&&p(t,"style",y),j[5]?be&&(be.d(1),be=null):be||(be=vl(),be.c(),be.m(e,null)),(!C||Y[0]&32)&&De(e,"plot_error",!j[5])},i(j){C||(g(I,j),g(k,j),g(W,j),g(ue,j),C=!0)},o(j){d(I,j),d(k,j),d(W,j),d(ue,j),C=!1},d(j){j&&b(e),E&&E.d(),R&&R.d(),z&&z.d(),I&&I.d(j),k&&k.d(j),W&&W.d(j),ue&&ue.d(j),l[32](null),be&&be.d(),l[33](null),N=!1,et(q)}}}function wi(l,e,t){let n,s,r,o,i,f,a,c,u,m,_,{$$slots:h={},$$scope:y}=e,{limX:v}=e,{limY:C}=e,{title:N=""}=e,{xLabel:q=""}=e,{yLabel:E=""}=e,{margins:R=[1,.75,.5,.5]}=e;const z=An(),B={small:30,medium:40,large:50,xlarge:60},I={small:5,medium:8,large:12,xlarge:15},S={small:4,medium:6,large:8,xlarge:10},k={small:10,medium:12,large:14,xlarge:16},$={small:11,medium:13,large:16,xlarge:19},W={small:10,medium:13,large:15,xlarge:17},K={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},ue=["●","◼","▲","▼","⬥","＋","*","×"],be="plottingArea"+Math.round(Math.random()*1e4);let j,Y=100,re=100,ve=0,ke=0,Re=0;function Qe(U,ce){const qe=Array.prototype.indexOf.call(ce.parentNode.children,ce);z(U,{seriesTitle:ce.parentNode.getAttribute("title"),elementID:qe})}function Je(U){if(U.target.tagName==="text"&&U.target.parentNode.classList.contains("series_points")){Qe("markerclick",U.target);return}if(U.target.tagName==="rect"&&U.target.parentNode.classList.contains("series_bar")){Qe("barclick",U.target);return}z("axesclick")}const Fe=function(U,ce){if(!(!u||U===void 0||U===null)&&(Array.isArray(U)&&(U=Le(U)),!(!ye(U)||U.length<1)))return U.apply(qe=>_i((qe-ce[1])*ce[0]+ce[2])).v},Pe=function(U,ce){if(!(!u||U===void 0||U===null)&&(Array.isArray(U)&&(U=Le(U)),!(!ye(U)||U.length<1)))return U.apply(qe=>(qe-ce[2])/ce[0]+ce[1]).v},He=Tt("medium");le(l,He,U=>t(25,f=U));const Me=Tt({coords:[1,0,0],objects:[1,0,0]});le(l,Me,U=>t(28,m=U));const Ve=Tt({coords:[1,0,0],objects:[1,0,0]});le(l,Ve,U=>t(26,a=U));const Ge=Tt(!1);le(l,Ge,U=>t(5,u=U));const Ue=Tt(v);le(l,Ue,U=>t(29,_=U));const Ne=Tt(C);le(l,Ne,U=>t(27,c=U)),qr("axes",{transform:Fe,invTransform:Pe,scale:He,isOk:Ge,xLim:Ue,yLim:Ne,tX:Me,tY:Ve,xLabel:q,yLabel:E,LINE_STYLES:K,LABELS_MARGIN:W,TICK_NUM:I,TICK_SIZE:S,MARKER_SYMBOLS:ue,LEGEND_FONT_SIZE:k});const bt=new ResizeObserver(U=>{for(let ce of U){const qe=j.getBoundingClientRect(),Ht=pi(qe.width,qe.height);He.update(mr=>Ht);const Bt=$[Ht]*1.5;t(7,ve=q&&q!==""?Bt:0),ke=E&&E!==""?Bt:0,t(8,Re=N&&N!==""?Bt:0),t(3,Y=qe.width-ve),t(4,re=qe.height-ke-Re)}});Nr(()=>{bt.observe(j)}),Ar(()=>{bt.unobserve(j)});function pt(U){te[U?"unshift":"push"](()=>{j=U,t(6,j)})}function gt(U){te[U?"unshift":"push"](()=>{j=U,t(6,j)})}return l.$$set=U=>{"limX"in U&&t(21,v=U.limX),"limY"in U&&t(22,C=U.limY),"title"in U&&t(0,N=U.title),"xLabel"in U&&t(1,q=U.xLabel),"yLabel"in U&&t(2,E=U.yLabel),"margins"in U&&t(23,R=U.margins),"$$scope"in U&&t(30,y=U.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&41943040&&t(24,n=R.map(U=>U*B[f])),l.$$.dirty[0]&2097152&&Ue.update(U=>v),l.$$.dirty[0]&4194304&&Ne.update(U=>C),l.$$.dirty[0]&687865880&&Ge.update(U=>Array.isArray(c)&&Array.isArray(_)&&_.length===2&&c.length===2&&!c.some(ce=>ce===void 0)&&!_.some(ce=>ce===void 0)&&!c.some(ce=>isNaN(ce))&&!_.some(ce=>isNaN(ce))&&_[1]!==_[0]&&c[1]!==c[0]&&Y>n[1]+n[3]&&re>n[0]+n[2]),l.$$.dirty[0]&553648168&&u&&Me.update(U=>({coords:[(Y-n[1]-n[3])/(_[1]-_[0]),_[0],n[1]],objects:[(Y-n[1]-n[3])/(_[1]-_[0]),0,0]})),l.$$.dirty[0]&150994992&&u&&Ve.update(U=>({coords:[-(re-n[0]-n[2])/(c[1]-c[0]),c[1],n[2]],objects:[(re-n[0]-n[2])/(c[1]-c[0]),0,0]})),l.$$.dirty[0]&805306400&&t(12,s=u?Fe(_,m.coords):[0,1]),l.$$.dirty[0]&201326624&&t(11,r=u?Fe(c,a.coords):[1,0]),l.$$.dirty[0]&33554432&&t(10,o=$[f])},t(9,i="font-weight:bold;text-anchor:middle;"),[N,q,E,Y,re,u,j,ve,Re,i,o,r,s,be,Je,He,Me,Ve,Ge,Ue,Ne,v,C,R,n,f,a,c,m,_,y,h,pt,gt]}class Rt extends ie{constructor(e){super(),oe(this,e,wi,bi,ne,{limX:21,limY:22,title:0,xLabel:1,yLabel:2,margins:23},null,[-1,-1])}}const Se={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function kl(l,e,t){const n=l.slice();return n[17]=e[t],n[19]=t,n}function yl(l){let e,t=Ce(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Cl(kl(l,t,s));return{c(){e=_e("g");for(let s=0;s<n.length;s+=1)n[s].c();p(e,"class",l[0])},m(s,r){w(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&62){t=Ce(s[1]);let o;for(o=0;o<t.length;o+=1){const i=kl(s,t,o);n[o]?n[o].p(i,r):(n[o]=Cl(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}r&1&&p(e,"class",s[0])},d(s){s&&b(e),tt(n,s)}}}function Cl(l){let e,t,n,s,r;return{c(){e=_e("line"),p(e,"vector-effect","non-scaling-stroke"),p(e,"x1",t=l[1][l[19]]),p(e,"x2",n=l[2][l[19]]),p(e,"y1",s=l[3][l[19]]),p(e,"y2",r=l[4][l[19]]),p(e,"style",l[5])},m(o,i){w(o,e,i)},p(o,i){i&2&&t!==(t=o[1][o[19]])&&p(e,"x1",t),i&4&&n!==(n=o[2][o[19]])&&p(e,"x2",n),i&8&&s!==(s=o[3][o[19]])&&p(e,"y1",s),i&16&&r!==(r=o[4][o[19]])&&p(e,"y2",r),i&32&&p(e,"style",o[5])},d(o){o&&b(e)}}}function vi(l){let e,t=l[1]!==void 0&&l[3]!==void 0&&l[2]!==void 0&&l[4]!==void 0&&yl(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),w(n,e,s)},p(n,[s]){n[1]!==void 0&&n[3]!==void 0&&n[2]!==void 0&&n[4]!==void 0?t?t.p(n,s):(t=yl(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:D,o:D,d(n){n&&b(e),t&&t.d(n)}}}function ki(l,e,t){let n,s,r,o,{lineCoords:i=[]}=e,{lineColor:f=Se.DARKGRAY}=e,{lineType:a=1}=e,{lineWidth:c=1}=e,{className:u=""}=e;const m=nt("axes"),_=m.scale;le(l,_,E=>t(13,s=E));const h=m.tX;le(l,h,E=>t(15,o=E));const y=m.tY;le(l,y,E=>t(14,r=E));let v,C,N,q;return l.$$set=E=>{"lineCoords"in E&&t(9,i=E.lineCoords),"lineColor"in E&&t(10,f=E.lineColor),"lineType"in E&&t(11,a=E.lineType),"lineWidth"in E&&t(12,c=E.lineWidth),"className"in E&&t(0,u=E.className)},l.$$.update=()=>{l.$$.dirty&49664&&i.length==2&&(t(1,v=m.transform(i[0][0],o.coords)),t(3,N=m.transform(i[0][1],r.coords)),t(2,C=m.transform(i[1][0],o.coords)),t(4,q=m.transform(i[1][1],r.coords))),l.$$.dirty&15360&&t(5,n=`stroke:${f};stroke-width: ${c}px;stroke-dasharray:${m.LINE_STYLES[s][a-1]}`)},[u,v,C,N,q,n,_,h,y,i,f,a,c,s,r,o]}class gn extends ie{constructor(e){super(),oe(this,e,ki,vi,ne,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}const dc="";function El(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function Nl(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function Al(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function ql(l){let e;function t(r,o){return r[2]===2&&r[1]===4?Ei:r[2]===2&&r[1]===1?Ci:yi}let n=t(l),s=n(l);return{c(){e=_e("g"),s.c(),p(e,"class","tick_labels"),p(e,"style",l[9])},m(r,o){w(r,e,o),s.m(e,null),l[21](e)},p(r,o){n===(n=t(r))&&s?s.p(r,o):(s.d(1),s=n(r),s&&(s.c(),s.m(e,null))),o&512&&p(e,"style",r[9])},d(r){r&&b(e),s.d(),l[21](null)}}}function yi(l){let e,t=Ce(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Sl(El(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ee()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);w(s,e,r)},p(s,r){if(r&497){t=Ce(s[4]);let o;for(o=0;o<t.length;o+=1){const i=El(s,t,o);n[o]?n[o].p(i,r):(n[o]=Sl(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&b(e),tt(n,s)}}}function Ci(l){let e,t=Ce(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Ml(Nl(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ee()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);w(s,e,r)},p(s,r){if(r&177){t=Ce(s[4]);let o;for(o=0;o<t.length;o+=1){const i=Nl(s,t,o);n[o]?n[o].p(i,r):(n[o]=Ml(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&b(e),tt(n,s)}}}function Ei(l){let e,t=Ce(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Ll(Al(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ee()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);w(s,e,r)},p(s,r){if(r&113){t=Ce(s[4]);let o;for(o=0;o<t.length;o+=1){const i=Al(s,t,o);n[o]?n[o].p(i,r):(n[o]=Ll(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&b(e),tt(n,s)}}}function Sl(l){let e,t=l[0][l[25]]+"",n,s;return{c(){e=_e("text"),p(e,"data-id",l[25]),p(e,"x",n=l[4][l[25]]),p(e,"y",s=l[5][l[25]]),p(e,"dx",l[6]),p(e,"dy",l[7]),p(e,"text-anchor",l[8]),p(e,"class","svelte-131ks7u")},m(r,o){w(r,e,o),e.innerHTML=t},p(r,o){o&1&&t!==(t=r[0][r[25]]+"")&&(e.innerHTML=t),o&16&&n!==(n=r[4][r[25]])&&p(e,"x",n),o&32&&s!==(s=r[5][r[25]])&&p(e,"y",s),o&64&&p(e,"dx",r[6]),o&128&&p(e,"dy",r[7]),o&256&&p(e,"text-anchor",r[8])},d(r){r&&b(e)}}}function Ml(l){let e,t=l[0][l[25]]+"",n,s,r,o;return{c(){e=_e("text"),p(e,"data-id",l[25]),p(e,"x",n=l[4][l[25]]),p(e,"y",s=l[5][l[25]]),p(e,"dx",r=-l[7]/2),p(e,"dy",0),p(e,"transform",o=`rotate(-90, ${l[4][l[25]]}, ${l[5][l[25]]})`),p(e,"text-anchor","end"),p(e,"class","svelte-131ks7u")},m(i,f){w(i,e,f),e.innerHTML=t},p(i,f){f&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),f&16&&n!==(n=i[4][i[25]])&&p(e,"x",n),f&32&&s!==(s=i[5][i[25]])&&p(e,"y",s),f&128&&r!==(r=-i[7]/2)&&p(e,"dx",r),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&p(e,"transform",o)},d(i){i&&b(e)}}}function Ll(l){let e,t=l[0][l[25]]+"",n,s,r,o;return{c(){e=_e("text"),p(e,"data-id",l[25]),p(e,"x",n=l[4][l[25]]),p(e,"y",s=l[5][l[25]]),p(e,"dx",0),p(e,"dy",r=l[6]*1.25),p(e,"transform",o=`rotate(-90, ${l[4][l[25]]}, ${l[5][l[25]]})`),p(e,"text-anchor","middle"),p(e,"class","svelte-131ks7u")},m(i,f){w(i,e,f),e.innerHTML=t},p(i,f){f&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),f&16&&n!==(n=i[4][i[25]])&&p(e,"x",n),f&32&&s!==(s=i[5][i[25]])&&p(e,"y",s),f&64&&r!==(r=i[6]*1.25)&&p(e,"dy",r),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&p(e,"transform",o)},d(i){i&&b(e)}}}function Ni(l){let e,t=l[4]!==void 0&&l[5]!==void 0&&ql(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),w(n,e,s)},p(n,[s]){n[4]!==void 0&&n[5]!==void 0?t?t.p(n,s):(t=ql(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:D,o:D,d(n){n&&b(e),t&&t.d(n)}}}function Ai(l,e,t){let n,s,r,o,i,f,{tickCoords:a}=e,{textColor:c}=e,{tickLabels:u}=e,{pos:m=1}=e,{las:_=1}=e;const h=nt("axes"),y=h.scale;le(l,y,k=>t(17,r=k));const v=h.tX;le(l,v,k=>t(19,i=k));const C=h.tY;le(l,C,k=>t(18,o=k));const N=h.isOk;le(l,N,k=>t(20,f=k));let q,E,R,z=0,B=0,I;function S(k){te[k?"unshift":"push"](()=>{q=k,t(3,q)})}return l.$$set=k=>{"tickCoords"in k&&t(14,a=k.tickCoords),"textColor"in k&&t(15,c=k.textColor),"tickLabels"in k&&t(0,u=k.tickLabels),"pos"in k&&t(1,m=k.pos),"las"in k&&t(2,_=k.las)},l.$$.update=()=>{l.$$.dirty&1851392&&f&&(t(4,E=h.transform(a[1][0],i.coords)),t(5,R=h.transform(a[1][1],o.coords))),l.$$.dirty&131072&&t(16,n=h.LABELS_MARGIN[r]),l.$$.dirty&65538&&(t(8,I=["middle","middle","start","middle","end"][m]),t(6,z=[0,0,n,0,-n][m]),t(7,B=[0,n,0,-n,0][m])),l.$$.dirty&32768&&t(9,s=`dominant-baseline:middle;fill:${c};font-size:1em; text-anchor:middle;`)},[u,m,_,q,E,R,z,B,I,s,y,v,C,N,a,c,n,r,o,i,f,S]}class Tl extends ie{constructor(e){super(),oe(this,e,Ai,Ni,ne,{tickCoords:14,textColor:15,tickLabels:0,pos:1,las:2})}}function Rl(l){let e,t;return e=new gn({props:{lineCoords:l[5],lineColor:l[11],lineType:3}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&32&&(r.lineCoords=n[5]),s&2048&&(r.lineColor=n[11]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function $l(l){let e,t;return e=new Tl({props:{las:l[2],pos:l[3],tickCoords:l[7],tickLabels:l[0],textColor:l[12]}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&4&&(r.las=n[2]),s&8&&(r.pos=n[3]),s&128&&(r.tickCoords=n[7]),s&1&&(r.tickLabels=n[0]),s&4096&&(r.textColor=n[12]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function zl(l){let e,t;return e=new Tl({props:{pos:l[3],tickCoords:l[8],tickLabels:[Fl(l[9])],textColor:l[12]}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.pos=n[3]),s&256&&(r.tickCoords=n[8]),s&512&&(r.tickLabels=[Fl(n[9])]),s&4096&&(r.textColor=n[12]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function qi(l){let e,t,n,s,r,o,i,f=l[1]&&Rl(l);n=new gn({props:{lineCoords:l[6],lineColor:l[10],lineType:1}}),s=new gn({props:{lineCoords:l[7],lineColor:l[10],lineType:1}});let a=l[7].length===2&&l[0].length===l[7][1][0].length&&$l(l),c=l[9]!==0&&zl(l);return{c(){e=_e("g"),f&&f.c(),t=ee(),T(n.$$.fragment),T(s.$$.fragment),a&&a.c(),r=ee(),c&&c.c(),p(e,"class",o="mdaplot__axis "+l[4])},m(u,m){w(u,e,m),f&&f.m(e,null),A(e,t),M(n,e,null),M(s,e,null),a&&a.m(e,null),A(e,r),c&&c.m(e,null),i=!0},p(u,[m]){u[1]?f?(f.p(u,m),m&2&&g(f,1)):(f=Rl(u),f.c(),g(f,1),f.m(e,t)):f&&(Z(),d(f,1,1,()=>{f=null}),Q());const _={};m&64&&(_.lineCoords=u[6]),m&1024&&(_.lineColor=u[10]),n.$set(_);const h={};m&128&&(h.lineCoords=u[7]),m&1024&&(h.lineColor=u[10]),s.$set(h),u[7].length===2&&u[0].length===u[7][1][0].length?a?(a.p(u,m),m&129&&g(a,1)):(a=$l(u),a.c(),g(a,1),a.m(e,r)):a&&(Z(),d(a,1,1,()=>{a=null}),Q()),u[9]!==0?c?(c.p(u,m),m&512&&g(c,1)):(c=zl(u),c.c(),g(c,1),c.m(e,null)):c&&(Z(),d(c,1,1,()=>{c=null}),Q()),(!i||m&16&&o!==(o="mdaplot__axis "+u[4]))&&p(e,"class",o)},i(u){i||(g(f),g(n.$$.fragment,u),g(s.$$.fragment,u),g(a),g(c),i=!0)},o(u){d(f),d(n.$$.fragment,u),d(s.$$.fragment,u),d(a),d(c),i=!1},d(u){u&&b(e),f&&f.d(),L(n),L(s),a&&a.d(),c&&c.d()}}}function Fl(l){return l===0?"":l<0?`&times;10<tspan dy="-0.5em">${l.toString()}</tspan>`:`&times;10<tspan dy="-0.5em">${l.toString()}</tspan>`}function Si(l,e,t){let{tickLabels:n=[]}=e,{showGrid:s=!1}=e,{las:r=1}=e,{pos:o=1}=e,{className:i=""}=e,{grid:f=[]}=e,{axisLine:a=[]}=e,{tickCoords:c=[]}=e,{tfCoords:u=[]}=e,{tickFactor:m=0}=e,{lineColor:_=Se.DARKGRAY}=e,{gridColor:h=Se.MIDDLEGRAY}=e,{textColor:y=Se.DARKGRAY}=e;return l.$$set=v=>{"tickLabels"in v&&t(0,n=v.tickLabels),"showGrid"in v&&t(1,s=v.showGrid),"las"in v&&t(2,r=v.las),"pos"in v&&t(3,o=v.pos),"className"in v&&t(4,i=v.className),"grid"in v&&t(5,f=v.grid),"axisLine"in v&&t(6,a=v.axisLine),"tickCoords"in v&&t(7,c=v.tickCoords),"tfCoords"in v&&t(8,u=v.tfCoords),"tickFactor"in v&&t(9,m=v.tickFactor),"lineColor"in v&&t(10,_=v.lineColor),"gridColor"in v&&t(11,h=v.gridColor),"textColor"in v&&t(12,y=v.textColor)},[n,s,r,o,i,f,a,c,u,m,_,h,y]}class Pl extends ie{constructor(e){super(),oe(this,e,Si,qi,ne,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function Il(l){let e,t;return e=new Pl({props:{className:"mdaplot__xaxis",pos:1,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],tfCoords:l[10],tickFactor:l[11],las:l[2]}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.lineColor=n[3]),s&16&&(r.gridColor=n[4]),s&32&&(r.textColor=n[5]),s&2&&(r.showGrid=n[1]),s&128&&(r.grid=n[7]),s&256&&(r.axisLine=n[8]),s&512&&(r.tickCoords=n[9]),s&1&&(r.tickLabels=n[0]),s&1024&&(r.tfCoords=n[10]),s&2048&&(r.tickFactor=n[11]),s&4&&(r.las=n[2]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Mi(l){let e,t,n=l[6]&&l[8].length>0&&Il(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),w(s,e,r),t=!0},p(s,[r]){s[6]&&s[8].length>0?n?(n.p(s,r),r&320&&g(n,1)):(n=Il(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(Z(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&b(e),n&&n.d(s)}}}function Li(l,e,t){let n,s,r,o,i,{slot:f="xaxis"}=e,{ticks:a=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:u=!1}=e,{las:m=1}=e,{lineColor:_=Se.DARKGRAY}=e,{gridColor:h=Se.MIDDLEGRAY}=e,{textColor:y=Se.DARKGRAY}=e;if(f!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const v=nt("axes"),C=v.xLim;le(l,C,$=>t(19,n=$));const N=v.yLim;le(l,N,$=>t(20,s=$));const q=v.scale;le(l,q,$=>t(22,o=$));const E=v.isOk;le(l,E,$=>t(6,i=$));const R=v.tY;le(l,R,$=>t(21,r=$));let z=[],B=[],I=[],S=[],k=0;return l.$$set=$=>{"slot"in $&&t(17,f=$.slot),"ticks"in $&&t(18,a=$.ticks),"tickLabels"in $&&t(0,c=$.tickLabels),"showGrid"in $&&t(1,u=$.showGrid),"las"in $&&t(2,m=$.las),"lineColor"in $&&t(3,_=$.lineColor),"gridColor"in $&&t(4,h=$.gridColor),"textColor"in $&&t(5,y=$.textColor)},l.$$.update=()=>{if(l.$$.dirty&8126529&&i){const $=ml(a,n,v.TICK_NUM[o],!0),W=$.length,K=v.invTransform([v.TICK_SIZE[o]],r.objects)[0],ue=he.fill(s[0],W),be=ue.add(K),j=he.fill(s[1],W);if((a===void 0||c===void 0)&&t(11,[k,c]=cl($.v),k,(t(0,c),t(6,i),t(18,a),t(19,n),t(22,o),t(21,r),t(20,s))),c.length!==$.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';t(7,z=[[$,ue],[$,j]]),t(8,B=[[Le([n[0]]),Le([s[0]])],[Le([n[1]]),Le([s[0]])]]),t(9,I=[[$,be],[$,ue]]),t(10,S=[[null,null],[[n[1]],[ue.v[W-1]-1.5*K]]])}},[c,u,m,_,h,y,i,z,B,I,S,k,C,N,q,E,R,f,a,n,s,r,o]}class $t extends ie{constructor(e){super(),oe(this,e,Li,Mi,ne,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function Ol(l){let e,t;return e=new Pl({props:{className:"mdaplot__yaxis",pos:4,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],tfCoords:l[10],tickFactor:l[11],las:l[2]}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.lineColor=n[3]),s&16&&(r.gridColor=n[4]),s&32&&(r.textColor=n[5]),s&2&&(r.showGrid=n[1]),s&128&&(r.grid=n[7]),s&256&&(r.axisLine=n[8]),s&512&&(r.tickCoords=n[9]),s&1&&(r.tickLabels=n[0]),s&1024&&(r.tfCoords=n[10]),s&2048&&(r.tickFactor=n[11]),s&4&&(r.las=n[2]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Ti(l){let e,t,n=l[6]&&l[8].length>0&&Ol(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),w(s,e,r),t=!0},p(s,[r]){s[6]&&s[8].length>0?n?(n.p(s,r),r&320&&g(n,1)):(n=Ol(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(Z(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&b(e),n&&n.d(s)}}}function Ri(l,e,t){let n,s,r,o,i,{slot:f="yaxis"}=e,{ticks:a=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:u=!1}=e,{las:m=1}=e,{lineColor:_=Se.DARKGRAY}=e,{gridColor:h=Se.MIDDLEGRAY}=e,{textColor:y=Se.DARKGRAY}=e;if(f!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const v=nt("axes"),C=v.xLim;le(l,C,$=>t(20,s=$));const N=v.yLim;le(l,N,$=>t(19,n=$));const q=v.scale;le(l,q,$=>t(22,o=$));const E=v.isOk;le(l,E,$=>t(6,i=$));const R=v.tX;le(l,R,$=>t(21,r=$));let z=[],B=[],I=[],S=[],k=0;return l.$$set=$=>{"slot"in $&&t(17,f=$.slot),"ticks"in $&&t(18,a=$.ticks),"tickLabels"in $&&t(0,c=$.tickLabels),"showGrid"in $&&t(1,u=$.showGrid),"las"in $&&t(2,m=$.las),"lineColor"in $&&t(3,_=$.lineColor),"gridColor"in $&&t(4,h=$.gridColor),"textColor"in $&&t(5,y=$.textColor)},l.$$.update=()=>{if(l.$$.dirty&8126529&&i){const $=ml(a,n,v.TICK_NUM[o],!0),W=$.length,K=v.invTransform([v.TICK_SIZE[o]],r.objects)[0],ue=he.fill(s[0],W),be=ue.add(K),j=he.fill(s[1],W);if((a===void 0||c===void 0)&&t(11,[k,c]=cl($.v),k,(t(0,c),t(6,i),t(18,a),t(19,n),t(22,o),t(21,r),t(20,s))),c.length!==$.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';t(7,z=[[ue,$],[j,$]]),t(8,B=[[Le([s[0]]),Le([n[0]])],[Le([s[0]]),Le([n[1]])]]),t(9,I=[[ue,$],[be,$]]),t(10,S=[[[],[]],[[ue.v[W-1]],[n[1]]]])}},[c,u,m,_,h,y,i,z,B,I,S,k,C,N,q,E,R,f,a,n,s,r,o]}class zt extends ie{constructor(e){super(),oe(this,e,Ri,Ti,ne,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function Vl(l){let e,t,n,s,r,o;return{c(){e=_e("g"),t=_e("rect"),p(t,"x",n=l[2][0]),p(t,"y",s=l[1][1]),p(t,"width",r=l[2][1]-l[2][0]),p(t,"height",o=l[1][0]-l[1][1]),p(t,"style",l[3]),Ye(e,"pointer-events","none"),p(e,"class","mdaplot__axes-box")},m(i,f){w(i,e,f),A(e,t)},p(i,f){f&4&&n!==(n=i[2][0])&&p(t,"x",n),f&2&&s!==(s=i[1][1])&&p(t,"y",s),f&4&&r!==(r=i[2][1]-i[2][0])&&p(t,"width",r),f&2&&o!==(o=i[1][0]-i[1][1])&&p(t,"height",o)},d(i){i&&b(e)}}}function $i(l){let e,t=l[0]&&Vl(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),w(n,e,s)},p(n,[s]){n[0]?t?t.p(n,s):(t=Vl(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:D,o:D,d(n){n&&b(e),t&&t.d(n)}}}function zi(l,e,t){let n,s,r,o,i,f,a,{slot:c}=e;if(c!=="box")throw`Component Box must have 'slot="box"' attribute.`;const u=`fill:transparent;stroke:${Se.DARKGRAY};stroke-width:1px;`,m=nt("axes"),_=m.xLim;le(l,_,N=>t(13,a=N));const h=m.yLim;le(l,h,N=>t(11,o=N));const y=m.isOk;le(l,y,N=>t(0,i=N));const v=m.tX;le(l,v,N=>t(12,f=N));const C=m.tY;return le(l,C,N=>t(10,r=N)),l.$$set=N=>{"slot"in N&&t(9,c=N.slot)},l.$$.update=()=>{l.$$.dirty&12289&&t(2,n=i?m.transform(a,f.coords):void 0),l.$$.dirty&3073&&t(1,s=i?m.transform(o,r.coords):void 0)},[i,s,n,u,_,h,y,v,C,c,r,o,f,a]}class Ft extends ie{constructor(e){super(),oe(this,e,zi,$i,ne,{slot:9})}}function Bl(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function jl(l){let e,t,n=Ce(l[2]),s=[];for(let r=0;r<n.length;r+=1)s[r]=Yl(Bl(l,n,r));return{c(){e=_e("g");for(let r=0;r<s.length;r+=1)s[r].c();p(e,"class",t="series "+l[0]),p(e,"title",l[1]),p(e,"style",l[7])},m(r,o){w(r,e,o);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(r,o){if(o&60){n=Ce(r[2]);let i;for(i=0;i<n.length;i+=1){const f=Bl(r,n,i);s[i]?s[i].p(f,o):(s[i]=Yl(f),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}o&1&&t!==(t="series "+r[0])&&p(e,"class",t),o&2&&p(e,"title",r[1]),o&128&&p(e,"style",r[7])},d(r){r&&b(e),tt(s,r)}}}function Yl(l){let e,t,n,s,r;return{c(){e=_e("line"),p(e,"x1",t=l[2][l[25]]),p(e,"x2",n=l[3][l[25]]),p(e,"y1",s=l[4][l[25]]),p(e,"y2",r=l[5][l[25]])},m(o,i){w(o,e,i)},p(o,i){i&4&&t!==(t=o[2][o[25]])&&p(e,"x1",t),i&8&&n!==(n=o[3][o[25]])&&p(e,"x2",n),i&16&&s!==(s=o[4][o[25]])&&p(e,"y1",s),i&32&&r!==(r=o[5][o[25]])&&p(e,"y2",r)},d(o){o&&b(e)}}}function Fi(l){let e,t=l[6]&&jl(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),w(n,e,s)},p(n,[s]){n[6]?t?t.p(n,s):(t=jl(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:D,o:D,d(n){n&&b(e),t&&t.d(n)}}}function Pi(l,e,t){let n,s,r,o,i,{xStart:f}=e,{xEnd:a}=e,{yStart:c}=e,{yEnd:u}=e,{lineColor:m=Se.PRIMARY}=e,{lineType:_=1}=e,{lineWidth:h=1}=e,{className:y="series_seg"}=e,{title:v=""}=e;const C=nt("axes"),N=C.scale;le(l,N,k=>t(19,s=k));const q=C.isOk;le(l,q,k=>t(6,i=k));const E=C.tX;le(l,E,k=>t(21,o=k));const R=C.tY;le(l,R,k=>t(20,r=k));let z,B,I,S;return l.$$set=k=>{"xStart"in k&&t(12,f=k.xStart),"xEnd"in k&&t(13,a=k.xEnd),"yStart"in k&&t(14,c=k.yStart),"yEnd"in k&&t(15,u=k.yEnd),"lineColor"in k&&t(16,m=k.lineColor),"lineType"in k&&t(17,_=k.lineType),"lineWidth"in k&&t(18,h=k.lineWidth),"className"in k&&t(0,y=k.className),"title"in k&&t(1,v=k.title)},l.$$.update=()=>{if(l.$$.dirty&3207292&&i){t(2,z=C.transform(mt(f,"Segments"),o.coords)),t(4,I=C.transform(mt(c,"Segments"),r.coords)),t(3,B=C.transform(mt(a,"Segments"),o.coords)),t(5,S=C.transform(mt(u,"Segments"),r.coords));const k=z.length;if(B.length!==k||I.length!==k||S.length!==k)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}l.$$.dirty&983040&&t(7,n=`stroke:${m};stroke-width: ${h}px;stroke-dasharray:${C.LINE_STYLES[s][_-1]}`)},[y,v,z,B,I,S,i,n,N,q,E,R,f,a,c,u,m,_,h,s,r,o]}class _t extends ie{constructor(e){super(),oe(this,e,Pi,Fi,ne,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}const bc="",wc="";function Dl(l,e,t){const n=l.slice();return n[19]=e[t],n[21]=t,n}function Wl(l){let e,t=Ce(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Hl(Dl(l,t,s));return{c(){e=_e("g");for(let s=0;s<n.length;s+=1)n[s].c();p(e,"class","series series_points"),p(e,"title",l[0]),p(e,"style",l[5])},m(s,r){w(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&22){t=Ce(s[1]);let o;for(o=0;o<t.length;o+=1){const i=Dl(s,t,o);n[o]?n[o].p(i,r):(n[o]=Hl(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}r&1&&p(e,"title",s[0]),r&32&&p(e,"style",s[5])},d(s){s&&b(e),tt(n,s)}}}function Hl(l){let e,t,n,s;return{c(){e=_e("text"),t=H(l[4]),p(e,"x",n=l[1][l[21]]),p(e,"y",s=l[2][l[21]]),p(e,"class","svelte-12moot9")},m(r,o){w(r,e,o),A(e,t)},p(r,o){o&16&&se(t,r[4]),o&2&&n!==(n=r[1][r[21]])&&p(e,"x",n),o&4&&s!==(s=r[2][r[21]])&&p(e,"y",s)},d(r){r&&b(e)}}}function Ii(l){let e,t=l[3]&&l[1]!==void 0&&l[2]!==void 0&&Wl(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),w(n,e,s)},p(n,[s]){n[3]&&n[1]!==void 0&&n[2]!==void 0?t?t.p(n,s):(t=Wl(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:D,o:D,d(n){n&&b(e),t&&t.d(n)}}}function Oi(l,e,t){let n,s,r,o,{xValues:i}=e,{yValues:f}=e,{marker:a=1}=e,{faceColor:c="transparent"}=e,{borderColor:u=Se.PRIMARY}=e,{borderWidth:m=1}=e,{markerSize:_=1}=e,{title:h=""}=e;const y=nt("axes"),v=y.tX;le(l,v,z=>t(17,r=z));const C=y.tY;le(l,C,z=>t(16,s=z));const N=y.isOk;le(l,N,z=>t(3,o=z));let q,E,R;return l.$$set=z=>{"xValues"in z&&t(9,i=z.xValues),"yValues"in z&&t(10,f=z.yValues),"marker"in z&&t(11,a=z.marker),"faceColor"in z&&t(12,c=z.faceColor),"borderColor"in z&&t(13,u=z.borderColor),"borderWidth"in z&&t(14,m=z.borderWidth),"markerSize"in z&&t(15,_=z.markerSize),"title"in z&&t(0,h=z.title)},l.$$.update=()=>{if(l.$$.dirty&200206&&o){if(typeof a!="number"||a<1||a>y.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${y.MARKER_SYMBOLS.length}.`);if(t(4,R=y.MARKER_SYMBOLS[a-1]),t(1,q=y.transform(mt(i,"Points"),r.coords)),t(2,E=y.transform(mt(f,"Points"),s.coords)),q.length!==E.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}l.$$.dirty&61440&&t(5,n=`dominant-baseline:middle;fill:${c};stroke-width:${m}px;stroke:${u};
      font-size:${_}em; text-anchor:middle;cursor:default;user-select:none;`)},[h,q,E,o,R,n,v,C,N,i,f,a,c,u,m,_,s,r]}class rt extends ie{constructor(e){super(),oe(this,e,Oi,Ii,ne,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function Gl(l){let e,t;return{c(){e=_e("g"),t=_e("polyline"),p(t,"class","line"),p(t,"points",l[3]),p(e,"class","series series_line"),p(e,"style",l[2]),p(e,"title",l[0])},m(n,s){w(n,e,s),A(e,t)},p(n,s){s&8&&p(t,"points",n[3]),s&4&&p(e,"style",n[2]),s&1&&p(e,"title",n[0])},d(n){n&&b(e)}}}function Vi(l){let e,t=l[1]&&l[3]!==void 0&&Gl(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),w(n,e,s)},p(n,[s]){n[1]&&n[3]!==void 0?t?t.p(n,s):(t=Gl(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:D,o:D,d(n){n&&b(e),t&&t.d(n)}}}function Bi(l,e,t){let n,s,r,o,i,f,{xValues:a}=e,{yValues:c}=e,{lineWidth:u=1}=e,{lineColor:m=Se.PRIMARY}=e,{lineType:_=1}=e,{title:h=""}=e;const y=nt("axes"),v=y.scale;le(l,v,E=>t(13,r=E));const C=y.isOk;le(l,C,E=>t(1,f=E));const N=y.tX;le(l,N,E=>t(15,i=E));const q=y.tY;return le(l,q,E=>t(14,o=E)),l.$$set=E=>{"xValues"in E&&t(8,a=E.xValues),"yValues"in E&&t(9,c=E.yValues),"lineWidth"in E&&t(10,u=E.lineWidth),"lineColor"in E&&t(11,m=E.lineColor),"lineType"in E&&t(12,_=E.lineType),"title"in E&&t(0,h=E.title)},l.$$.update=()=>{l.$$.dirty&49922&&t(3,n=f?mi(a,c,i,o,y):void 0),l.$$.dirty&15360&&t(2,s=`fill:transparent;stroke:${m};stroke-width: ${u}px; stroke-dasharray:${y.LINE_STYLES[r][_-1]}`)},[h,f,s,n,v,C,N,q,a,c,u,m,_,r,o,i]}class ot extends ie{constructor(e){super(),oe(this,e,Bi,Vi,ne,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function Ul(l,e,t){const n=l.slice();return n[25]=e[t],n[27]=t,n}function Kl(l){let e,t,n,s,r,o=Ce(l[0]),i=[];for(let f=0;f<o.length;f+=1)i[f]=Ql(Ul(l,o,f));return{c(){e=_e("svg"),t=_e("rect");for(let f=0;f<i.length;f+=1)i[f].c();p(t,"height","100%"),p(t,"width","100%"),Ye(t,"fill","white"),Ye(t,"stroke",Se.MIDDLEGRAY),p(e,"x",n=l[9]+"px"),p(e,"y",s=l[10]+"px"),p(e,"height",r=l[4]+"px"),p(e,"width",l[5])},m(f,a){w(f,e,a),A(e,t);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null)},p(f,a){if(a&2287){o=Ce(f[0]);let c;for(c=0;c<o.length;c+=1){const u=Ul(f,o,c);i[c]?i[c].p(u,a):(i[c]=Ql(u),i[c].c(),i[c].m(e,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=o.length}a&512&&n!==(n=f[9]+"px")&&p(e,"x",n),a&1024&&s!==(s=f[10]+"px")&&p(e,"y",s),a&16&&r!==(r=f[4]+"px")&&p(e,"height",r),a&32&&p(e,"width",f[5])},d(f){f&&b(e),tt(i,f)}}}function Xl(l){let e,t,n,s,r;return{c(){e=_e("line"),p(e,"x1",l[3]),p(e,"x2",t=l[3]+l[2]),p(e,"y1",n=(l[1]+l[3]*2)/2),p(e,"y2",s=(l[1]+l[3]*2)/2),p(e,"style",r=`
      stroke:${l[25].lineColor?l[25].lineColor:Se.PRIMARY};
      stroke-width: ${l[25].lineWidth?l[25].lineWidth:1}px;
      stroke-dasharray:${l[11].LINE_STYLES[l[7]][l[25].lineType-1]}
   `)},m(o,i){w(o,e,i)},p(o,i){i&8&&p(e,"x1",o[3]),i&12&&t!==(t=o[3]+o[2])&&p(e,"x2",t),i&10&&n!==(n=(o[1]+o[3]*2)/2)&&p(e,"y1",n),i&10&&s!==(s=(o[1]+o[3]*2)/2)&&p(e,"y2",s),i&129&&r!==(r=`
      stroke:${o[25].lineColor?o[25].lineColor:Se.PRIMARY};
      stroke-width: ${o[25].lineWidth?o[25].lineWidth:1}px;
      stroke-dasharray:${o[11].LINE_STYLES[o[7]][o[25].lineType-1]}
   `)&&p(e,"style",r)},d(o){o&&b(e)}}}function Zl(l){let e,t=l[11].MARKER_SYMBOLS[l[25].marker-1]+"",n,s,r,o;return{c(){e=_e("text"),n=H(t),p(e,"x",s=(l[2]+2*l[3])/2+"px"),p(e,"y",r=(l[1]+2*l[3])/2+"px"),p(e,"dominant-baseline","middle"),p(e,"style",o=`
         fill:${l[25].faceColor?l[25].faceColor:"transparent"};
         stroke-width:${l[25].borderWidth?l[25].borderWidth:1}px;
         stroke:${l[25].borderColor?l[25].borderColor:Se.PRIMARY};
         font-size:${l[6]}px;
         text-anchor:middle;`)},m(i,f){w(i,e,f),A(e,n)},p(i,f){f&1&&t!==(t=i[11].MARKER_SYMBOLS[i[25].marker-1]+"")&&se(n,t),f&12&&s!==(s=(i[2]+2*i[3])/2+"px")&&p(e,"x",s),f&10&&r!==(r=(i[1]+2*i[3])/2+"px")&&p(e,"y",r),f&65&&o!==(o=`
         fill:${i[25].faceColor?i[25].faceColor:"transparent"};
         stroke-width:${i[25].borderWidth?i[25].borderWidth:1}px;
         stroke:${i[25].borderColor?i[25].borderColor:Se.PRIMARY};
         font-size:${i[6]}px;
         text-anchor:middle;`)&&p(e,"style",o)},d(i){i&&b(e)}}}function Ql(l){let e,t,n,s="&nbsp;"+l[25].label,r,o,i,f,a,c,u=l[25].lineType&&l[25].lineType>0&&l[25].lineType<=4&&Xl(l),m=l[25].marker&&l[25].marker>0&&l[25].marker<l[11].MARKER_SYMBOLS.length&&Zl(l);return{c(){e=_e("svg"),u&&u.c(),t=ee(),m&&m.c(),n=_e("text"),p(n,"x",r=l[2]+l[3]*3+"px"),p(n,"y",o=l[3]+"px"),p(n,"dominant-baseline","hanging"),p(n,"style",i=`text-anchor:start;fill:${Se.LEGEND};font-size:${l[6]}px;`),p(e,"x","0px"),p(e,"y",f=l[27]*(l[1]+2*l[3])+"px"),p(e,"width",a=l[5]+"px"),p(e,"height",c=l[1]+2*l[3]+"px")},m(_,h){w(_,e,h),u&&u.m(e,null),A(e,t),m&&m.m(e,null),A(e,n),n.innerHTML=s},p(_,h){_[25].lineType&&_[25].lineType>0&&_[25].lineType<=4?u?u.p(_,h):(u=Xl(_),u.c(),u.m(e,t)):u&&(u.d(1),u=null),_[25].marker&&_[25].marker>0&&_[25].marker<_[11].MARKER_SYMBOLS.length?m?m.p(_,h):(m=Zl(_),m.c(),m.m(e,n)):m&&(m.d(1),m=null),h&1&&s!==(s="&nbsp;"+_[25].label)&&(n.innerHTML=s),h&12&&r!==(r=_[2]+_[3]*3+"px")&&p(n,"x",r),h&8&&o!==(o=_[3]+"px")&&p(n,"y",o),h&64&&i!==(i=`text-anchor:start;fill:${Se.LEGEND};font-size:${_[6]}px;`)&&p(n,"style",i),h&10&&f!==(f=_[27]*(_[1]+2*_[3])+"px")&&p(e,"y",f),h&32&&a!==(a=_[5]+"px")&&p(e,"width",a),h&10&&c!==(c=_[1]+2*_[3]+"px")&&p(e,"height",c)},d(_){_&&b(e),u&&u.d(),m&&m.d()}}}function ji(l){let e,t=l[8]&&Kl(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),w(n,e,s)},p(n,[s]){n[8]?t?t.p(n,s):(t=Kl(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:D,o:D,d(n){n&&b(e),t&&t.d(n)}}}function Yi(l,e){const n=document.createElement("canvas").getContext("2d");return n.font=e,n.measureText(l).width}function Di(l,e,t){const n=e,s=n/4,r=n*1.5,o=n;let i=0;for(let f=0;f<l.length;f++){const a=Yi("  "+l[f].label+"  ",e+"px Arial");i=a>i?a:i}return[n,r,s,o,i]}function Wi(l,e,t){let n,s,r,o,i,f,{items:a}=e,{position:c="topleft"}=e;const u=nt("axes"),m=u.scale;le(l,m,W=>t(7,n=W));const _=u.xLim;le(l,_,W=>t(23,i=W));const h=u.yLim;le(l,h,W=>t(21,r=W));const y=u.tX;le(l,y,W=>t(22,o=W));const v=u.tY;le(l,v,W=>t(20,s=W));const C=u.isOk;le(l,C,W=>t(8,f=W));let N,q,E,R,z,B,I,S,k,$;return l.$$set=W=>{"items"in W&&t(0,a=W.items),"position"in W&&t(18,c=W.position)},l.$$.update=()=>{if(l.$$.dirty&16515583&&f){t(6,$=u.LEGEND_FONT_SIZE[n]),t(1,[E,R,z,B,I]=Di(a,$),E,(t(2,R),t(8,f),t(7,n),t(0,a),t(6,$),t(18,c),t(1,E),t(3,z),t(19,I),t(23,i),t(22,o),t(5,k),t(21,r),t(20,s),t(4,S)),(t(3,z),t(8,f),t(7,n),t(0,a),t(6,$),t(18,c),t(1,E),t(2,R),t(19,I),t(23,i),t(22,o),t(5,k),t(21,r),t(20,s),t(4,S)),(t(19,I),t(8,f),t(7,n),t(0,a),t(6,$),t(18,c),t(1,E),t(3,z),t(2,R),t(23,i),t(22,o),t(5,k),t(21,r),t(20,s),t(4,S))),t(4,S=(E+2*z)*a.length),t(5,k=R+2*z+I);const W=u.transform(i,o.coords);t(9,N=c.includes("left")?W[0]+u.TICK_SIZE[n]:c.includes("right")?W[1]-k-u.TICK_SIZE[n]:xt(W)-k/2);const K=u.transform(r,s.coords);t(10,q=c.includes("top")?K[1]+u.TICK_SIZE[n]:c.includes("bottom")?K[0]-S-u.TICK_SIZE[n]:xt(K)-S/2)}},[a,E,R,z,S,k,$,n,f,N,q,u,m,_,h,y,v,C,c,I,s,r,o,i]}class Hi extends ie{constructor(e){super(),oe(this,e,Wi,ji,ne,{items:0,position:18})}}function Jl(l,e,t){const n=l.slice();return n[33]=e[t],n[35]=t,n}function xl(l,e,t){const n=l.slice();return n[33]=e[t],n[35]=t,n}function es(l){let e,t,n,s=Ce(l[5]),r=[];for(let i=0;i<s.length;i+=1)r[i]=ts(xl(l,s,i));let o=l[0]==="show"&&l[3]&&l[3].length>0&&ns(l);return{c(){e=_e("g");for(let i=0;i<r.length;i+=1)r[i].c();t=P(),o&&o.c(),n=ee(),p(e,"class","series series_points"),p(e,"title","distance_points"),p(e,"style",l[12])},m(i,f){w(i,e,f);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);w(i,t,f),o&&o.m(i,f),w(i,n,f)},p(i,f){if(f[0]&500){s=Ce(i[5]);let a;for(a=0;a<s.length;a+=1){const c=xl(i,s,a);r[a]?r[a].p(c,f):(r[a]=ts(c),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=s.length}i[0]==="show"&&i[3]&&i[3].length>0?o?o.p(i,f):(o=ns(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&(b(e),b(t),b(n)),tt(r,i),o&&o.d(i)}}}function ts(l){let e,t=l[7][l[4][l[35]]]+"",n,s,r,o;return{c(){e=_e("text"),n=H(t),p(e,"x",s=l[5][l[35]]),p(e,"y",r=l[6][l[35]]),p(e,"stroke",o=l[8][l[2][l[35]]])},m(i,f){w(i,e,f),A(e,n)},p(i,f){f[0]&144&&t!==(t=i[7][i[4][i[35]]]+"")&&se(n,t),f[0]&32&&s!==(s=i[5][i[35]])&&p(e,"x",s),f[0]&64&&r!==(r=i[6][i[35]])&&p(e,"y",r),f[0]&260&&o!==(o=i[8][i[2][i[35]]])&&p(e,"stroke",o)},d(i){i&&b(e)}}}function ns(l){let e,t=Ce(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=ls(Jl(l,t,s));return{c(){e=_e("g");for(let s=0;s<n.length;s+=1)n[s].c();p(e,"class","series series_labels"),p(e,"title","distance_labels"),p(e,"style",l[13])},m(s,r){w(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r[0]&104){t=Ce(s[5]);let o;for(o=0;o<t.length;o+=1){const i=Jl(s,t,o);n[o]?n[o].p(i,r):(n[o]=ls(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&b(e),tt(n,s)}}}function ls(l){let e,t=l[3][l[35]]+"",n,s,r;return{c(){e=_e("text"),n=H(t),p(e,"x",s=l[5][l[35]]),p(e,"y",r=l[6][l[35]]),p(e,"dy",-12)},m(o,i){w(o,e,i),A(e,n)},p(o,i){i[0]&8&&t!==(t=o[3][o[35]]+"")&&se(n,t),i[0]&32&&s!==(s=o[5][o[35]])&&p(e,"x",s),i[0]&64&&r!==(r=o[6][o[35]])&&p(e,"y",r)},d(o){o&&b(e)}}}function Gi(l){let e,t=l[1]&&l[5]&&l[6]&&es(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),w(n,e,s)},p(n,s){n[1]&&n[5]&&n[6]?t?t.p(n,s):(t=es(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:D,o:D,d(n){n&&b(e),t&&t.d(n)}}}const ss="#a0a0a0";function Ui(l,e,t){let n,s,r,o,i,{res:f}=e,{labels:a}=e,{classes:c=[]}=e,{targetClass:u}=e,{colors:m}=e,{transType:_="no"}=e,{distType:h="h/q"}=e,{showLabels:y="hide"}=e,{xMax:v=0}=e,{yMax:C=0}=e;const N=nt("axes"),q=N.tX;le(l,q,Y=>t(28,o=Y));const E=N.tY;le(l,E,Y=>t(27,r=Y));const R=N.isOk;le(l,R,Y=>t(1,i=Y));let z,B,I,S,k,$,W,K,ue;const be="dominant-baseline:middle;font-size:1em;fill:none;text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;",j=`dominant-baseline:middle;font-size:0.85em;fill:${ss};text-anchor:middle;cursor:default;stroke:${ss};stroke-width:0.1px;user-select:none;`;return l.$$set=Y=>{"res"in Y&&t(16,f=Y.res),"labels"in Y&&t(17,a=Y.labels),"classes"in Y&&t(18,c=Y.classes),"targetClass"in Y&&t(19,u=Y.targetClass),"colors"in Y&&t(20,m=Y.colors),"transType"in Y&&t(21,_=Y.transType),"distType"in Y&&t(22,h=Y.distType),"showLabels"in Y&&t(0,y=Y.showLabels),"xMax"in Y&&t(14,v=Y.xMax),"yMax"in Y&&t(15,C=Y.yMax)},l.$$.update=()=>{if(l.$$.dirty[0]&1048576&&t(8,n={regular:m[0],extreme:m[1],outlier:m[2]}),l.$$.dirty[0]&124715008)if(f){const Y=f.h.length;if(t(23,z=he.zeros(Y)),t(24,B=he.zeros(Y)),t(25,I=he.zeros(Y)),t(26,S=he.zeros(Y)),t(4,W=new Int32Array(Y)),_==="log")for(let re=0;re<Y;re++)t(23,z.v[re]=re,z),t(24,B.v[re]=Math.log(1+f.h[re]/f.h0),B),t(25,I.v[re]=Math.log(1+f.q[re]/f.q0),I),t(26,S.v[re]=Math.log(1+f.f[re]),S);else for(let re=0;re<Y;re++)t(23,z.v[re]=re,z),t(24,B.v[re]=f.h[re]/f.h0,B),t(25,I.v[re]=f.q[re]/f.q0,I),t(26,S.v[re]=f.f[re],S);if(c&&c.length===Y)for(let re=0;re<Y;re++)t(4,W[re]=c[re]===u?1:2,W);t(2,k=f.c),t(3,$=a),t(14,v=h==="h/q"?Oe(B):S.length),t(15,C=Oe(h==="h/q"?I:S))}else t(24,B=null),t(25,I=null),t(26,S=null),t(2,k=null),t(3,$=null),t(4,W=null);l.$$.dirty[0]&532676610&&i&&B&&I&&S&&(t(5,K=h==="h/q"?N.transform(B,o.coords):N.transform(z,o.coords)),t(6,ue=h==="h/q"?N.transform(I,r.coords):N.transform(S,r.coords)))},t(7,s=["⬥","●","■"]),[y,i,k,$,W,K,ue,s,n,q,E,R,be,j,v,C,f,a,c,u,m,_,h,z,B,I,S,r,o]}class Ki extends ie{constructor(e){super(),oe(this,e,Ui,Gi,ne,{res:16,labels:17,classes:18,targetClass:19,colors:20,transType:21,distType:22,showLabels:0,xMax:14,yMax:15},null,[-1,-1])}}function rs(l,e,t){const n=l.slice();return n[22]=e[t],n[24]=t,n}function os(l){let e,t=Ce(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=is(rs(l,t,s));return{c(){e=_e("g");for(let s=0;s<n.length;s+=1)n[s].c();p(e,"class","series colormap_legend"),Ye(e,"stroke","0"),Ye(e,"stroke-width","0px")},m(s,r){w(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&123){t=Ce(s[1]);let o;for(o=0;o<t.length;o+=1){const i=rs(s,t,o);n[o]?n[o].p(i,r):(n[o]=is(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&b(e),tt(n,s)}}}function is(l){let e,t,n,s,r=l[0][l[24]]+"",o,i;return{c(){e=_e("rect"),s=_e("text"),p(e,"x",t=l[3][l[24]]),p(e,"y",l[4]),p(e,"width",l[5]),p(e,"height",l[6]),p(e,"fill",n=l[22]),p(s,"x",o=l[3][l[24]]+l[5]/2),p(s,"y",l[4]),p(s,"dx",0),p(s,"dy",i=l[6]*1.5),p(s,"dominant-baseline","hanging"),p(s,"fill",Zi),p(s,"font-size",Qi+"em"),p(s,"text-anchor","middle")},m(f,a){w(f,e,a),w(f,s,a),s.innerHTML=r},p(f,a){a&8&&t!==(t=f[3][f[24]])&&p(e,"x",t),a&16&&p(e,"y",f[4]),a&32&&p(e,"width",f[5]),a&64&&p(e,"height",f[6]),a&2&&n!==(n=f[22])&&p(e,"fill",n),a&1&&r!==(r=f[0][f[24]]+"")&&(s.innerHTML=r),a&40&&o!==(o=f[3][f[24]]+f[5]/2)&&p(s,"x",o),a&16&&p(s,"y",f[4]),a&64&&i!==(i=f[6]*1.5)&&p(s,"dy",i)},d(f){f&&(b(e),b(s))}}}function Xi(l){let e,t=l[2]&&l[3].length>0&&os(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),w(n,e,s)},p(n,[s]){n[2]&&n[3].length>0?t?t.p(n,s):(t=os(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:D,o:D,d(n){n&&b(e),t&&t.d(n)}}}const Zi="#909090",Qi=.85,fs=.8,Ji=.02,xi=.25;function ef(l,e,t){let n,s,r,o,i,f,a,{categories:c}=e,{colmap:u}=e,{labels:m}=e;const _={small:5,medium:8,large:10,xlarge:12},h=nt("axes"),y=h.tX;le(l,y,S=>t(16,r=S));const v=h.tY;le(l,v,S=>t(17,o=S));const C=h.xLim;le(l,C,S=>t(19,f=S));const N=h.yLim;le(l,N,S=>t(18,i=S));const q=h.scale;le(l,q,S=>t(15,s=S));const E=h.isOk;le(l,E,S=>t(2,a=S));let R,z,B,I;return l.$$set=S=>{"categories"in S&&t(13,c=S.categories),"colmap"in S&&t(1,u=S.colmap),"labels"in S&&t(0,m=S.labels)},l.$$.update=()=>{if(l.$$.dirty&2&&t(14,n=u.length),l.$$.dirty&8192&&t(0,m=c?Object.keys(c).map(S=>S+": "+c[S]):null),l.$$.dirty&1032196&&a){const S=f[1]-f[0],k=i[1]-i[0],$=S*fs,W=k*Ji,K=$/n,ue=f[0]+S*(1-fs)*.5,be=i[1]-W*xi;t(4,z=h.transform(be,o.coords)),t(3,R=h.transform(he.seq(0,n).apply(j=>ue+j*K),r.coords)),t(5,B=h.transform([K],r.objects)),t(6,I=_[s]),t(4,z=_[s])}},[m,u,a,R,z,B,I,y,v,C,N,q,E,c,n,s,r,o,i,f]}class tf extends ie{constructor(e){super(),oe(this,e,ef,Xi,ne,{categories:13,colmap:1,labels:0})}}function as(l){let e,t;return e=new ot({props:{xValues:l[1].x,yValues:l[1].y,lineColor:ms,lineType:2}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&2&&(r.xValues=n[1].x),s&2&&(r.yValues=n[1].y),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function us(l){let e,t;return e=new ot({props:{xValues:l[0].x,yValues:l[0].y,lineColor:ms,lineType:3}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.xValues=n[0].x),s&1&&(r.yValues=n[0].y),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function nf(l){let e,t,n,s=l[1]&&as(l),r=l[0]&&us(l);return{c(){s&&s.c(),e=P(),r&&r.c(),t=ee()},m(o,i){s&&s.m(o,i),w(o,e,i),r&&r.m(o,i),w(o,t,i),n=!0},p(o,[i]){o[1]?s?(s.p(o,i),i&2&&g(s,1)):(s=as(o),s.c(),g(s,1),s.m(e.parentNode,e)):s&&(Z(),d(s,1,1,()=>{s=null}),Q()),o[0]?r?(r.p(o,i),i&1&&g(r,1)):(r=us(o),r.c(),g(r,1),r.m(t.parentNode,t)):r&&(Z(),d(r,1,1,()=>{r=null}),Q())},i(o){n||(g(s),g(r),n=!0)},o(o){d(s),d(r),n=!1},d(o){o&&(b(e),b(t)),s&&s.d(o),r&&r.d(o)}}}const cs=100,ms="#909090";function lf(l,e,t){let{simca:n}=e,{transType:s="no"}=e,{distType:r="h/q"}=e,{xMax:o=0}=e,{yMax:i=0}=e;function f(u,m,_,h,y){if(y==="f")return{x:Le([0,1e3]),y:Le(h==="log"?[Math.log(1+u),Math.log(1+u)]:[u,u])};const v=u/_,C=-m/_,N=-v/C,q=he.seq(0,N*1,N/cs),E=q.apply(R=>R*C+v);return{x:h==="log"?q.apply(R=>Math.log(1+R)):q,y:h==="log"?E.apply(R=>Math.log(1+R)):E}}let a=null,c=null;return l.$$set=u=>{"simca"in u&&t(4,n=u.simca),"transType"in u&&t(5,s=u.transType),"distType"in u&&t(6,r=u.distType),"xMax"in u&&t(2,o=u.xMax),"yMax"in u&&t(3,i=u.yMax)},l.$$.update=()=>{if(l.$$.dirty&113)if(n){const u=n.ncomp-1;t(1,a=f(n.eCrit[u],n.Nh[u],n.Nq[u],s,r)),t(0,c=f(n.oCrit[u],n.Nh[u],n.Nq[u],s,r)),t(2,o=r==="h/q"?c.x.v[cs-1]:1),t(3,i=c.y.v[0])}else t(1,a=null),t(0,c=null),t(2,o=1),t(3,i=1)},[c,a,o,i,n,s,r]}class sf extends ie{constructor(e){super(),oe(this,e,lf,nf,ne,{simca:4,transType:5,distType:6,xMax:2,yMax:3})}}function _s(l){let e,t;return e=new Rt({props:{margins:l[16],xLabel:l[13],yLabel:l[12],limX:l[11],limY:l[10],title:l[14],$$slots:{box:[af],yaxis:[ff],xaxis:[of],default:[rf]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&8192&&(r.xLabel=n[13]),s&4096&&(r.yLabel=n[12]),s&2048&&(r.limX=n[11]),s&1024&&(r.limY=n[10]),s&16384&&(r.title=n[14]),s&67142654&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function rf(l){let e,t,n,s,r,o,i,f,a,c;function u(C){l[22](C)}function m(C){l[23](C)}let _={colors:l[17],res:l[15].v[l[5]-1],labels:l[15].labels,classes:l[15].classes,targetClass:l[1].className,distType:l[2],transType:l[3],showLabels:l[4]};l[6]!==void 0&&(_.xMax=l[6]),l[7]!==void 0&&(_.yMax=l[7]),e=new Ki({props:_}),te.push(()=>fe(e,"xMax",u)),te.push(()=>fe(e,"yMax",m));function h(C){l[24](C)}function y(C){l[25](C)}let v={simca:l[1],transType:l[3],distType:l[2]};return l[8]!==void 0&&(v.xMax=l[8]),l[9]!==void 0&&(v.yMax=l[9]),r=new sf({props:v}),te.push(()=>fe(r,"xMax",h)),te.push(()=>fe(r,"yMax",y)),a=new tf({props:{categories:l[15].v[l[5]-1].cnum,colmap:l[17]}}),{c(){T(e.$$.fragment),s=P(),T(r.$$.fragment),f=P(),T(a.$$.fragment)},m(C,N){M(e,C,N),w(C,s,N),M(r,C,N),w(C,f,N),M(a,C,N),c=!0},p(C,N){const q={};N&32800&&(q.res=C[15].v[C[5]-1]),N&32768&&(q.labels=C[15].labels),N&32768&&(q.classes=C[15].classes),N&2&&(q.targetClass=C[1].className),N&4&&(q.distType=C[2]),N&8&&(q.transType=C[3]),N&16&&(q.showLabels=C[4]),!t&&N&64&&(t=!0,q.xMax=C[6],ae(()=>t=!1)),!n&&N&128&&(n=!0,q.yMax=C[7],ae(()=>n=!1)),e.$set(q);const E={};N&2&&(E.simca=C[1]),N&8&&(E.transType=C[3]),N&4&&(E.distType=C[2]),!o&&N&256&&(o=!0,E.xMax=C[8],ae(()=>o=!1)),!i&&N&512&&(i=!0,E.yMax=C[9],ae(()=>i=!1)),r.$set(E);const R={};N&32800&&(R.categories=C[15].v[C[5]-1].cnum),a.$set(R)},i(C){c||(g(e.$$.fragment,C),g(r.$$.fragment,C),g(a.$$.fragment,C),c=!0)},o(C){d(e.$$.fragment,C),d(r.$$.fragment,C),d(a.$$.fragment,C),c=!1},d(C){C&&(b(s),b(f)),L(e,C),L(r,C),L(a,C)}}}function of(l){let e,t;return e=new $t({props:{showGrid:ps,slot:"xaxis"}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:D,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function ff(l){let e,t;return e=new zt({props:{showGrid:ps,slot:"yaxis"}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:D,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function af(l){let e,t;return e=new Ft({props:{slot:"box"}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:D,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function uf(l){let e,t,n=l[15]&&l[0]&&_s(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),w(s,e,r),t=!0},p(s,[r]){s[15]&&s[0]?n?(n.p(s,r),r&32769&&g(n,1)):(n=_s(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(Z(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&b(e),n&&n.d(s)}}}const ps=!0;function hn(l,e){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance"}[l]+", "+(e==="log"?"log(1 + "+l+"/"+l+"0)":l+"/"+l+"0")}function cf(l,e,t){let n,s,r,o,i,f,a,c,{params:u}=e,{simcares:m}=e,{simca:_}=e;const h=[.85,1,.25,.25],y=["#2679B2","#F2B825","#D22C2F"];let v="h/q",C="no",N="no",q=m?Object.keys(m)[0]:"",E=1,R=1,z=1,B=1,I=1;function S(K){R=K,t(6,R)}function k(K){z=K,t(7,z)}function $(K){B=K,t(8,B)}function W(K){I=K,t(9,I)}return l.$$set=K=>{"params"in K&&t(0,u=K.params),"simcares"in K&&t(18,m=K.simcares),"simca"in K&&t(1,_=K.simca)},l.$$.update=()=>{l.$$.dirty&524289&&u&&u.resID!==q&&t(19,q=u.resID),l.$$.dirty&5&&u&&u.distType!==v&&t(2,v=u.distType),l.$$.dirty&9&&u&&u.transType!==C&&t(3,C=u.transType),l.$$.dirty&17&&u&&u.showLabels!==N&&t(4,N=u.showLabels),l.$$.dirty&34&&_&&_.ncomp!==E&&t(5,E=_.ncomp),l.$$.dirty&786432&&t(15,n=m&&q?m[q]:null),l.$$.dirty&32&&t(14,s="Acceptance plot (A = "+E+")"),l.$$.dirty&12&&t(13,r=v==="f"?"Objects":hn("h",C)),l.$$.dirty&12&&t(12,o=hn(v==="h/q"?"q":"f",C)),l.$$.dirty&320&&t(21,i=Oe([R,B])),l.$$.dirty&640&&t(20,f=Oe([z,I])),l.$$.dirty&2097152&&t(11,a=[-.02*i,1.05*i]),l.$$.dirty&1048576&&t(10,c=[-.02*f,1.2*f])},[u,_,v,C,N,E,R,z,B,I,c,a,o,r,s,n,h,y,m,q,f,i,S,k,$,W]}class dn extends ie{constructor(e){super(),oe(this,e,cf,uf,ne,{params:0,simcares:18,simca:1})}}function gs(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o,i,f,a,c;e=new J({props:{label:"",$$slots:{default:[mf]},$$scope:{ctx:l}}});let u=n&&hs(l);return r=new J({props:{label:"Distances:",$$slots:{default:[pf]},$$scope:{ctx:l}}}),i=new J({props:{label:"Transform:",$$slots:{default:[gf]},$$scope:{ctx:l}}}),a=new J({props:{label:"Labels:",$$slots:{default:[hf]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment),t=P(),u&&u.c(),s=P(),T(r.$$.fragment),o=P(),T(i.$$.fragment),f=P(),T(a.$$.fragment)},m(m,_){M(e,m,_),w(m,t,_),u&&u.m(m,_),w(m,s,_),M(r,m,_),w(m,o,_),M(i,m,_),w(m,f,_),M(a,m,_),c=!0},p(m,_){const h={};_&1024&&(h.$$scope={dirty:_,ctx:m}),e.$set(h),_&1&&(n=Object.keys(m[0]).length>1),n?u?(u.p(m,_),_&1&&g(u,1)):(u=hs(m),u.c(),g(u,1),u.m(s.parentNode,s)):u&&(Z(),d(u,1,1,()=>{u=null}),Q());const y={};_&1026&&(y.$$scope={dirty:_,ctx:m}),r.$set(y);const v={};_&1028&&(v.$$scope={dirty:_,ctx:m}),i.$set(v);const C={};_&1032&&(C.$$scope={dirty:_,ctx:m}),a.$set(C)},i(m){c||(g(e.$$.fragment,m),g(u),g(r.$$.fragment,m),g(i.$$.fragment,m),g(a.$$.fragment,m),c=!0)},o(m){d(e.$$.fragment,m),d(u),d(r.$$.fragment,m),d(i.$$.fragment,m),d(a.$$.fragment,m),c=!1},d(m){m&&(b(t),b(s),b(o),b(f)),L(e,m),u&&u.d(m),L(r,m),L(i,m),L(a,m)}}}function mf(l){let e;return{c(){e=F("p"),e.textContent="Acceptance plot",p(e,"class","title")},m(t,n){w(t,e,n)},p:D,d(t){t&&b(e)}}}function hs(l){let e,t;return e=new J({props:{label:"Results:",$$slots:{default:[_f]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&1041&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function _f(l){let e,t,n;function s(o){l[6](o)}let r={id:"resType",options:Object.keys(l[0])};return l[4]!==void 0&&(r.value=l[4]),e=new Ee({props:r}),te.push(()=>fe(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&16&&(t=!0,f.value=o[4],ae(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function pf(l){let e,t,n;function s(o){l[7](o)}let r={id:"distances",options:["h/q","f"]};return l[1]!==void 0&&(r.value=l[1]),e=new Ee({props:r}),te.push(()=>fe(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],ae(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function gf(l){let e,t,n;function s(o){l[8](o)}let r={id:"limType",options:["no","log"]};return l[2]!==void 0&&(r.value=l[2]),e=new Ee({props:r}),te.push(()=>fe(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ae(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function hf(l){let e,t,n;function s(o){l[9](o)}let r={id:"showLabels",options:["hide","show"]};return l[3]!==void 0&&(r.value=l[3]),e=new Ee({props:r}),te.push(()=>fe(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],ae(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function df(l){let e,t,n=l[0]&&gs(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),w(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&g(n,1)):(n=gs(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(Z(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&b(e),n&&n.d(s)}}}function bf(l,e,t){let{params:n}=e,{simcares:s}=e,r="h/q",o="no",i="hide",f=s?Object.keys(s)[0]:"";function a(_){f=_,t(4,f)}function c(_){r=_,t(1,r)}function u(_){o=_,t(2,o)}function m(_){i=_,t(3,i)}return l.$$set=_=>{"params"in _&&t(5,n=_.params),"simcares"in _&&t(0,s=_.simcares)},l.$$.update=()=>{l.$$.dirty&30&&t(5,n={distType:r,transType:o,showLabels:i,resID:f})},[s,r,o,i,f,n,a,c,u,m]}class bn extends ie{constructor(e){super(),oe(this,e,bf,df,ne,{params:5,simcares:0})}}function ds(l){let e,t;return e=new Rt({props:{margins:l[9],title:l[8],xLabel:l[1],yLabel:l[2],limX:[-1,l[3]+2],limY:[-1,l[3]+2],$$slots:{box:[yf],yaxis:[kf],xaxis:[vf],default:[wf]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&256&&(r.title=n[8]),s&2&&(r.xLabel=n[1]),s&4&&(r.yLabel=n[2]),s&8&&(r.limX=[-1,n[3]+2]),s&8&&(r.limY=[-1,n[3]+2]),s&262385&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function wf(l){let e,t,n,s,r,o,i,f,a,c;return e=new ot({props:{xValues:l[4],yValues:l[4],lineColor:"#e0e0e0"}}),n=new ot({props:{xValues:l[4],yValues:l[5],lineColor:"#e0e0e0"}}),r=new ot({props:{xValues:l[4],yValues:l[6],lineColor:"#e0e0e0"}}),i=new _t({props:{xStart:l[4],xEnd:l[4],yStart:l[5],yEnd:l[6],lineColor:"#e0e0e0"}}),a=new rt({props:{xValues:l[4],yValues:l[7],borderWidth:2}}),{c(){T(e.$$.fragment),t=P(),T(n.$$.fragment),s=P(),T(r.$$.fragment),o=P(),T(i.$$.fragment),f=P(),T(a.$$.fragment)},m(u,m){M(e,u,m),w(u,t,m),M(n,u,m),w(u,s,m),M(r,u,m),w(u,o,m),M(i,u,m),w(u,f,m),M(a,u,m),c=!0},p(u,m){const _={};m&16&&(_.xValues=u[4]),m&16&&(_.yValues=u[4]),e.$set(_);const h={};m&16&&(h.xValues=u[4]),m&32&&(h.yValues=u[5]),n.$set(h);const y={};m&16&&(y.xValues=u[4]),m&64&&(y.yValues=u[6]),r.$set(y);const v={};m&16&&(v.xStart=u[4]),m&16&&(v.xEnd=u[4]),m&32&&(v.yStart=u[5]),m&64&&(v.yEnd=u[6]),i.$set(v);const C={};m&16&&(C.xValues=u[4]),m&128&&(C.yValues=u[7]),a.$set(C)},i(u){c||(g(e.$$.fragment,u),g(n.$$.fragment,u),g(r.$$.fragment,u),g(i.$$.fragment,u),g(a.$$.fragment,u),c=!0)},o(u){d(e.$$.fragment,u),d(n.$$.fragment,u),d(r.$$.fragment,u),d(i.$$.fragment,u),d(a.$$.fragment,u),c=!1},d(u){u&&(b(t),b(s),b(o),b(f)),L(e,u),L(n,u),L(r,u),L(i,u),L(a,u)}}}function vf(l){let e,t;return e=new $t({props:{showGrid:l[0],slot:"xaxis"}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function kf(l){let e,t;return e=new zt({props:{showGrid:l[0],slot:"yaxis"}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function yf(l){let e,t;return e=new Ft({props:{slot:"box"}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:D,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Cf(l){let e,t,n=l[4]&&l[7]&&ds(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),w(s,e,r),t=!0},p(s,[r]){s[4]&&s[7]?n?(n.p(s,r),r&144&&g(n,1)):(n=ds(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(Z(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&b(e),n&&n.d(s)}}}function Ef(l,e,t){let n,s,r,o,i,{params:f}=e,{simcares:a}=e,{simca:c}=e;const u=[.85,1,.25,.25];let{showGrid:m=!0}=e,{xLabel:_="Number of extremes (expected)"}=e,{yLabel:h="Number of extremes (observed)"}=e,y=a?Object.keys(a)[0]:"";function v(R){const z=R.f.length;let B=he.zeros(z);for(let I=0;I<z;I++){const S=sn(R.f[I],R.Nf);B=B.add(E.apply(k=>1-S<k))}return B}let C,N,q,E;return l.$$set=R=>{"params"in R&&t(10,f=R.params),"simcares"in R&&t(11,a=R.simcares),"simca"in R&&t(12,c=R.simca),"showGrid"in R&&t(0,m=R.showGrid),"xLabel"in R&&t(1,_=R.xLabel),"yLabel"in R&&t(2,h=R.yLabel)},l.$$.update=()=>{if(l.$$.dirty&9216&&f&&f.resID!==y&&t(13,y=f.resID),l.$$.dirty&4096&&t(14,n=c?c.ncomp:null),l.$$.dirty&16384&&t(8,s=n?"Extremes plot (A = "+n+")":""),l.$$.dirty&10240&&t(15,r=a&&y?a[y]:null),l.$$.dirty&49152&&t(3,o=r?r.v[n].f.length:null),l.$$.dirty&8)if(o){E=he.zeros(o),t(4,C=he.zeros(o)),t(5,N=he.zeros(o)),t(6,q=he.zeros(o));for(let R=1;R<=o;R++){const z=R/o,B=2*Math.sqrt(R*(1-z));t(5,N.v[R-1]=R-B,N),t(6,q.v[R-1]=R+B,q),E.v[R-1]=z,t(4,C.v[R-1]=R,C)}}else t(4,C=null),t(5,N=null),t(6,q=null),E=null;l.$$.dirty&49152&&t(7,i=r?v(r.v[n]):null)},[m,_,h,o,C,N,q,i,s,u,f,a,c,y,n,r]}class Nf extends ie{constructor(e){super(),oe(this,e,Ef,Cf,ne,{params:10,simcares:11,simca:12,showGrid:0,xLabel:1,yLabel:2})}}function bs(l){let e,t,n,s;return e=new J({props:{label:"",$$slots:{default:[Af]},$$scope:{ctx:l}}}),n=new J({props:{label:"Results:",$$slots:{default:[qf]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment),t=P(),T(n.$$.fragment)},m(r,o){M(e,r,o),w(r,t,o),M(n,r,o),s=!0},p(r,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:r}),e.$set(i);const f={};o&19&&(f.$$scope={dirty:o,ctx:r}),n.$set(f)},i(r){s||(g(e.$$.fragment,r),g(n.$$.fragment,r),s=!0)},o(r){d(e.$$.fragment,r),d(n.$$.fragment,r),s=!1},d(r){r&&b(t),L(e,r),L(n,r)}}}function Af(l){let e;return{c(){e=F("p"),e.textContent="Extremes plot",p(e,"class","title")},m(t,n){w(t,e,n)},p:D,d(t){t&&b(e)}}}function qf(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new Ee({props:r}),te.push(()=>fe(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&2&&(t=!0,f.value=o[1],ae(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function Sf(l){let e,t,n=l[0]&&bs(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),w(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&g(n,1)):(n=bs(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(Z(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&b(e),n&&n.d(s)}}}function Mf(l,e,t){let{params:n}=e,{simcares:s}=e,r=s?Object.keys(s)[0]:"";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={resID:r})},[s,r,n,o]}class Lf extends ie{constructor(e){super(),oe(this,e,Mf,Sf,ne,{params:2,simcares:0})}}function ws(l){let e,t;return e=new Rt({props:{margins:l[9],title:Of,xLabel:Pf,yLabel:If,limX:[0,l[3]+1],limY:[-1,l[7][l[1]]],$$slots:{box:[zf],yaxis:[$f],xaxis:[Rf],default:[Tf]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.limX=[0,n[3]+1]),s&130&&(r.limY=[-1,n[7][n[1]]]),s&8694&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function vs(l){let e,t,n,s,r,o;return e=new ot({props:{xValues:l[6],yValues:l[5],lineWidth:1.5,lineColor:l[10][0]}}),n=new rt({props:{xValues:l[6],yValues:l[5],borderWidth:1.5,faceColor:"#fff",borderColor:l[10][0]}}),r=new rt({props:{xValues:[l[6].v[l[8]-1]],yValues:[l[5].v[l[8]-1]],borderWidth:4,faceColor:l[10][0],borderColor:l[10][0]}}),{c(){T(e.$$.fragment),t=P(),T(n.$$.fragment),s=P(),T(r.$$.fragment)},m(i,f){M(e,i,f),w(i,t,f),M(n,i,f),w(i,s,f),M(r,i,f),o=!0},p(i,f){const a={};f&64&&(a.xValues=i[6]),f&32&&(a.yValues=i[5]),e.$set(a);const c={};f&64&&(c.xValues=i[6]),f&32&&(c.yValues=i[5]),n.$set(c);const u={};f&320&&(u.xValues=[i[6].v[i[8]-1]]),f&288&&(u.yValues=[i[5].v[i[8]-1]]),r.$set(u)},i(i){o||(g(e.$$.fragment,i),g(n.$$.fragment,i),g(r.$$.fragment,i),o=!0)},o(i){d(e.$$.fragment,i),d(n.$$.fragment,i),d(r.$$.fragment,i),o=!1},d(i){i&&(b(t),b(s)),L(e,i),L(n,i),L(r,i)}}}function ks(l){let e,t,n,s,r,o;return e=new ot({props:{xValues:l[6],yValues:l[4],lineWidth:1.5,lineColor:l[10][1]}}),n=new rt({props:{xValues:l[6],yValues:l[4],borderWidth:1.5,faceColor:"#fff",borderColor:l[10][1]}}),r=new rt({props:{xValues:[l[6].v[l[8]-1]],yValues:[l[4].v[l[8]-1]],borderWidth:4,faceColor:l[10][1],borderColor:l[10][1]}}),{c(){T(e.$$.fragment),t=P(),T(n.$$.fragment),s=P(),T(r.$$.fragment)},m(i,f){M(e,i,f),w(i,t,f),M(n,i,f),w(i,s,f),M(r,i,f),o=!0},p(i,f){const a={};f&64&&(a.xValues=i[6]),f&16&&(a.yValues=i[4]),e.$set(a);const c={};f&64&&(c.xValues=i[6]),f&16&&(c.yValues=i[4]),n.$set(c);const u={};f&320&&(u.xValues=[i[6].v[i[8]-1]]),f&272&&(u.yValues=[i[4].v[i[8]-1]]),r.$set(u)},i(i){o||(g(e.$$.fragment,i),g(n.$$.fragment,i),g(r.$$.fragment,i),o=!0)},o(i){d(e.$$.fragment,i),d(n.$$.fragment,i),d(r.$$.fragment,i),o=!1},d(i){i&&(b(t),b(s)),L(e,i),L(n,i),L(r,i)}}}function Tf(l){let e,t,n,s,r,o;e=new _t({props:{xStart:[l[8]],xEnd:[l[8]],yStart:[-1],yEnd:[l[7][l[1]]],lineColor:"#00000040"}});let i=(l[1]==="Nh"||l[1]==="both")&&vs(l),f=(l[1]==="Nq"||l[1]==="both")&&ks(l);return r=new Hi({props:{items:l[2]}}),{c(){T(e.$$.fragment),t=P(),i&&i.c(),n=P(),f&&f.c(),s=P(),T(r.$$.fragment)},m(a,c){M(e,a,c),w(a,t,c),i&&i.m(a,c),w(a,n,c),f&&f.m(a,c),w(a,s,c),M(r,a,c),o=!0},p(a,c){const u={};c&256&&(u.xStart=[a[8]]),c&256&&(u.xEnd=[a[8]]),c&130&&(u.yEnd=[a[7][a[1]]]),e.$set(u),a[1]==="Nh"||a[1]==="both"?i?(i.p(a,c),c&2&&g(i,1)):(i=vs(a),i.c(),g(i,1),i.m(n.parentNode,n)):i&&(Z(),d(i,1,1,()=>{i=null}),Q()),a[1]==="Nq"||a[1]==="both"?f?(f.p(a,c),c&2&&g(f,1)):(f=ks(a),f.c(),g(f,1),f.m(s.parentNode,s)):f&&(Z(),d(f,1,1,()=>{f=null}),Q());const m={};c&4&&(m.items=a[2]),r.$set(m)},i(a){o||(g(e.$$.fragment,a),g(i),g(f),g(r.$$.fragment,a),o=!0)},o(a){d(e.$$.fragment,a),d(i),d(f),d(r.$$.fragment,a),o=!1},d(a){a&&(b(t),b(n),b(s)),L(e,a),i&&i.d(a),f&&f.d(a),L(r,a)}}}function Rf(l){let e,t;return e=new $t({props:{showGrid:ys,slot:"xaxis"}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:D,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function $f(l){let e,t;return e=new zt({props:{showGrid:ys,slot:"yaxis"}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:D,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function zf(l){let e,t;return e=new Ft({props:{slot:"box"}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:D,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Ff(l){let e,t,n=(l[0],l[6],l[5],l[4]&&ws(l));return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),w(s,e,r),t=!0},p(s,[r]){s[0],s[6],s[5],s[4]?n?(n.p(s,r),r&113&&g(n,1)):(n=ws(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(Z(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&b(e),n&&n.d(s)}}}const ys=!0,Pf="Number of PCs",If="Degrees of freedom, Nu",Of="DoF plot";function Vf(l,e,t){let n,s,r,o,i,f,{params:a}=e,{simcares:c}=e,{simca:u}=e;const m=[.85,1,.25,.25],_=["#2679B2","#D22C2F"];let h="both",y=[];return l.$$set=v=>{"params"in v&&t(0,a=v.params),"simcares"in v&&t(11,c=v.simcares),"simca"in v&&t(12,u=v.simca)},l.$$.update=()=>{l.$$.dirty&3&&a&&a.item&&a.item!==h&&t(1,h=a.item),l.$$.dirty&6&&(h?(t(2,y=[]),(h==="Nh"||h==="both")&&y.push({label:"Nh",borderColor:_[0],marker:1,borderWidth:2}),(h==="Nq"||h==="both")&&y.push({label:"Nq",borderColor:_[1],marker:1,borderWidth:2})):t(2,y=null)),l.$$.dirty&4096&&t(8,n=u?u.ncomp:null),l.$$.dirty&4096&&t(5,s=u?new he(u.Nh):null),l.$$.dirty&4096&&t(4,r=u?new he(u.Nq):null),l.$$.dirty&4096&&t(3,o=u.Nh.length),l.$$.dirty&48&&t(7,i={both:1.2*Oe([Oe(s),Oe(r)]),Nh:1.2*Oe(s),Nq:1.2*Oe(r)}),l.$$.dirty&4104&&t(6,f=u?he.seq(1,o):null)},[a,h,y,o,r,s,f,i,n,m,_,c,u]}class Bf extends ie{constructor(e){super(),oe(this,e,Vf,Ff,ne,{params:0,simcares:11,simca:12})}}function Cs(l){let e,t,n,s;return e=new J({props:{label:"",$$slots:{default:[jf]},$$scope:{ctx:l}}}),n=new J({props:{label:"Results:",$$slots:{default:[Yf]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment),t=P(),T(n.$$.fragment)},m(r,o){M(e,r,o),w(r,t,o),M(n,r,o),s=!0},p(r,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:r}),e.$set(i);const f={};o&18&&(f.$$scope={dirty:o,ctx:r}),n.$set(f)},i(r){s||(g(e.$$.fragment,r),g(n.$$.fragment,r),s=!0)},o(r){d(e.$$.fragment,r),d(n.$$.fragment,r),s=!1},d(r){r&&b(t),L(e,r),L(n,r)}}}function jf(l){let e;return{c(){e=F("p"),e.textContent="DoF plot",p(e,"class","title")},m(t,n){w(t,e,n)},p:D,d(t){t&&b(e)}}}function Yf(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:["both","Nh","Nq"]};return l[1]!==void 0&&(r.value=l[1]),e=new Ee({props:r}),te.push(()=>fe(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],ae(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function Df(l){let e,t,n=l[0]&&Cs(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),w(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&g(n,1)):(n=Cs(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(Z(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&b(e),n&&n.d(s)}}}function Wf(l,e,t){let{params:n}=e,{simcares:s}=e,r="both";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={item:r})},[s,r,n,o]}class Hf extends ie{constructor(e){super(),oe(this,e,Wf,Df,ne,{params:2,simcares:0})}}function Es(l){let e,t;return e=new Rt({props:{margins:l[5],title:xf,xLabel:Qf,yLabel:Jf,limX:[0,l[3].length+1],limY:[-.1,1.1],$$slots:{box:[Xf],yaxis:[Kf],xaxis:[Uf],default:[Gf]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.limX=[0,n[3].length+1]),s&542&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Gf(l){let e,t,n,s,r,o,i,f,a,c;return e=new _t({props:{xStart:[l[4]],xEnd:[l[4]],yStart:[-1],yEnd:[1.1],lineColor:"#00000040"}}),n=new _t({props:{xStart:[0],xEnd:[l[3].length+1],yStart:[1-l[1].alpha/100],yEnd:[1-l[1].alpha/100],lineColor:"#D22C2F",lineType:2}}),r=new ot({props:{xValues:l[3],yValues:l[2],lineWidth:1.5,lineColor:"#2679B2"}}),i=new rt({props:{xValues:l[3],yValues:l[2],borderWidth:1.5,faceColor:"#fff",borderColor:"#2679B2"}}),a=new rt({props:{xValues:[l[3].v[l[4]-1]],yValues:[l[2][l[4]-1]],borderWidth:4,faceColor:"#2679B2",borderColor:"#2679B2"}}),{c(){T(e.$$.fragment),t=P(),T(n.$$.fragment),s=P(),T(r.$$.fragment),o=P(),T(i.$$.fragment),f=P(),T(a.$$.fragment)},m(u,m){M(e,u,m),w(u,t,m),M(n,u,m),w(u,s,m),M(r,u,m),w(u,o,m),M(i,u,m),w(u,f,m),M(a,u,m),c=!0},p(u,m){const _={};m&16&&(_.xStart=[u[4]]),m&16&&(_.xEnd=[u[4]]),e.$set(_);const h={};m&8&&(h.xEnd=[u[3].length+1]),m&2&&(h.yStart=[1-u[1].alpha/100]),m&2&&(h.yEnd=[1-u[1].alpha/100]),n.$set(h);const y={};m&8&&(y.xValues=u[3]),m&4&&(y.yValues=u[2]),r.$set(y);const v={};m&8&&(v.xValues=u[3]),m&4&&(v.yValues=u[2]),i.$set(v);const C={};m&24&&(C.xValues=[u[3].v[u[4]-1]]),m&20&&(C.yValues=[u[2][u[4]-1]]),a.$set(C)},i(u){c||(g(e.$$.fragment,u),g(n.$$.fragment,u),g(r.$$.fragment,u),g(i.$$.fragment,u),g(a.$$.fragment,u),c=!0)},o(u){d(e.$$.fragment,u),d(n.$$.fragment,u),d(r.$$.fragment,u),d(i.$$.fragment,u),d(a.$$.fragment,u),c=!1},d(u){u&&(b(t),b(s),b(o),b(f)),L(e,u),L(n,u),L(r,u),L(i,u),L(a,u)}}}function Uf(l){let e,t;return e=new $t({props:{showGrid:Ns,slot:"xaxis"}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:D,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Kf(l){let e,t;return e=new zt({props:{showGrid:Ns,slot:"yaxis"}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:D,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Xf(l){let e,t;return e=new Ft({props:{slot:"box"}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:D,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Zf(l){let e,t,n=(l[0],l[3],l[2]&&Es(l));return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),w(s,e,r),t=!0},p(s,[r]){s[0],s[3],s[2]?n?(n.p(s,r),r&13&&g(n,1)):(n=Es(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(Z(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&b(e),n&&n.d(s)}}}const Ns=!0,Qf="Number of PCs",Jf="Sensitivity",xf="Sensitivity plot";function ea(l,e,t){let n,s,r,o,{params:i}=e,{simcares:f}=e,{simca:a}=e;const c=[.85,1,.25,.25];let u=f?Object.keys(f)[0]:"";return l.$$set=m=>{"params"in m&&t(0,i=m.params),"simcares"in m&&t(6,f=m.simcares),"simca"in m&&t(1,a=m.simca)},l.$$.update=()=>{l.$$.dirty&129&&i&&i.resID!==u&&t(7,u=i.resID),l.$$.dirty&192&&t(8,n=f&&u?f[u]:null),l.$$.dirty&2&&t(4,s=a?a.ncomp:null),l.$$.dirty&256&&t(2,r=n?n.v.map(m=>m.stat.sensitivity):null),l.$$.dirty&4&&t(3,o=r?he.seq(1,r.length):null)},[i,a,r,o,s,c,f,u,n]}class As extends ie{constructor(e){super(),oe(this,e,ea,Zf,ne,{params:0,simcares:6,simca:1})}}function qs(l){let e,t,n=Object.keys(l[0]).length>1,s,r;e=new J({props:{label:"",$$slots:{default:[ta]},$$scope:{ctx:l}}});let o=n&&Ss(l);return{c(){T(e.$$.fragment),t=P(),o&&o.c(),s=ee()},m(i,f){M(e,i,f),w(i,t,f),o&&o.m(i,f),w(i,s,f),r=!0},p(i,f){const a={};f&16&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),f&1&&(n=Object.keys(i[0]).length>1),n?o?(o.p(i,f),f&1&&g(o,1)):(o=Ss(i),o.c(),g(o,1),o.m(s.parentNode,s)):o&&(Z(),d(o,1,1,()=>{o=null}),Q())},i(i){r||(g(e.$$.fragment,i),g(o),r=!0)},o(i){d(e.$$.fragment,i),d(o),r=!1},d(i){i&&(b(t),b(s)),L(e,i),o&&o.d(i)}}}function ta(l){let e;return{c(){e=F("p"),e.textContent="Sensitivity plot",p(e,"class","title")},m(t,n){w(t,e,n)},p:D,d(t){t&&b(e)}}}function Ss(l){let e,t;return e=new J({props:{label:"Results:",$$slots:{default:[na]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&19&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function na(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new Ee({props:r}),te.push(()=>fe(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&2&&(t=!0,f.value=o[1],ae(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function la(l){let e,t,n=l[0]&&qs(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),w(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&g(n,1)):(n=qs(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(Z(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&b(e),n&&n.d(s)}}}function sa(l,e,t){let{params:n}=e,{simcares:s}=e,r=s?Object.keys(s)[0]:"";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={resID:r})},[s,r,n,o]}class Ms extends ie{constructor(e){super(),oe(this,e,sa,la,ne,{params:2,simcares:0})}}function Ls(l){let e,t;return e=new Rt({props:{margins:l[5],title:ma,xLabel:ua,yLabel:ca,limX:[0,l[3].length+1],limY:[-.1,1.1],$$slots:{box:[fa],yaxis:[ia],xaxis:[oa],default:[ra]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.limX=[0,n[3].length+1]),s&542&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function ra(l){let e,t,n,s,r,o,i,f,a,c;return e=new _t({props:{xStart:[l[4]],xEnd:[l[4]],yStart:[-1],yEnd:[1.1],lineColor:"#00000040"}}),n=new _t({props:{xStart:[0],xEnd:[l[3].length+1],yStart:[1-l[1].alpha/100],yEnd:[1-l[1].alpha/100],lineColor:"#D22C2F",lineType:2}}),r=new ot({props:{xValues:l[3],yValues:l[2],lineWidth:1.5,lineColor:"#2679B2"}}),i=new rt({props:{xValues:l[3],yValues:l[2],borderWidth:1.5,faceColor:"#fff",borderColor:"#2679B2"}}),a=new rt({props:{xValues:[l[3].v[l[4]-1]],yValues:[l[2][l[4]-1]],borderWidth:4,faceColor:"#2679B2",borderColor:"#2679B2"}}),{c(){T(e.$$.fragment),t=P(),T(n.$$.fragment),s=P(),T(r.$$.fragment),o=P(),T(i.$$.fragment),f=P(),T(a.$$.fragment)},m(u,m){M(e,u,m),w(u,t,m),M(n,u,m),w(u,s,m),M(r,u,m),w(u,o,m),M(i,u,m),w(u,f,m),M(a,u,m),c=!0},p(u,m){const _={};m&16&&(_.xStart=[u[4]]),m&16&&(_.xEnd=[u[4]]),e.$set(_);const h={};m&8&&(h.xEnd=[u[3].length+1]),m&2&&(h.yStart=[1-u[1].alpha/100]),m&2&&(h.yEnd=[1-u[1].alpha/100]),n.$set(h);const y={};m&8&&(y.xValues=u[3]),m&4&&(y.yValues=u[2]),r.$set(y);const v={};m&8&&(v.xValues=u[3]),m&4&&(v.yValues=u[2]),i.$set(v);const C={};m&24&&(C.xValues=[u[3].v[u[4]-1]]),m&20&&(C.yValues=[u[2][u[4]-1]]),a.$set(C)},i(u){c||(g(e.$$.fragment,u),g(n.$$.fragment,u),g(r.$$.fragment,u),g(i.$$.fragment,u),g(a.$$.fragment,u),c=!0)},o(u){d(e.$$.fragment,u),d(n.$$.fragment,u),d(r.$$.fragment,u),d(i.$$.fragment,u),d(a.$$.fragment,u),c=!1},d(u){u&&(b(t),b(s),b(o),b(f)),L(e,u),L(n,u),L(r,u),L(i,u),L(a,u)}}}function oa(l){let e,t;return e=new $t({props:{showGrid:Ts,slot:"xaxis"}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:D,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function ia(l){let e,t;return e=new zt({props:{showGrid:Ts,slot:"yaxis"}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:D,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function fa(l){let e,t;return e=new Ft({props:{slot:"box"}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:D,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function aa(l){let e,t,n=(l[0],l[3],l[2]&&Ls(l));return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),w(s,e,r),t=!0},p(s,[r]){s[0],s[3],s[2]?n?(n.p(s,r),r&13&&g(n,1)):(n=Ls(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(Z(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&b(e),n&&n.d(s)}}}const Ts=!0,ua="Number of PCs",ca="Specificity",ma="Specificity plot";function _a(l,e,t){let n,s,r,o,{params:i}=e,{simcares:f}=e,{simca:a}=e;const c=[.85,1,.25,.25];let u=f?Object.keys(f)[0]:"";return l.$$set=m=>{"params"in m&&t(0,i=m.params),"simcares"in m&&t(6,f=m.simcares),"simca"in m&&t(1,a=m.simca)},l.$$.update=()=>{l.$$.dirty&129&&i&&i.resID!==u&&t(7,u=i.resID),l.$$.dirty&192&&t(8,n=f&&u?f[u]:null),l.$$.dirty&2&&t(4,s=a?a.ncomp:null),l.$$.dirty&256&&t(2,r=n?n.v.map(m=>m.stat.specificity):null),l.$$.dirty&4&&t(3,o=r?he.seq(1,r.length):null)},[i,a,r,o,s,c,f,u,n]}class pa extends ie{constructor(e){super(),oe(this,e,_a,aa,ne,{params:0,simcares:6,simca:1})}}function Rs(l){let e,t,n=Object.keys(l[0]).length>1,s,r;e=new J({props:{label:"",$$slots:{default:[ga]},$$scope:{ctx:l}}});let o=n&&$s(l);return{c(){T(e.$$.fragment),t=P(),o&&o.c(),s=ee()},m(i,f){M(e,i,f),w(i,t,f),o&&o.m(i,f),w(i,s,f),r=!0},p(i,f){const a={};f&16&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),f&1&&(n=Object.keys(i[0]).length>1),n?o?(o.p(i,f),f&1&&g(o,1)):(o=$s(i),o.c(),g(o,1),o.m(s.parentNode,s)):o&&(Z(),d(o,1,1,()=>{o=null}),Q())},i(i){r||(g(e.$$.fragment,i),g(o),r=!0)},o(i){d(e.$$.fragment,i),d(o),r=!1},d(i){i&&(b(t),b(s)),L(e,i),o&&o.d(i)}}}function ga(l){let e;return{c(){e=F("p"),e.textContent="Specificity plot",p(e,"class","title")},m(t,n){w(t,e,n)},p:D,d(t){t&&b(e)}}}function $s(l){let e,t;return e=new J({props:{label:"Results:",$$slots:{default:[ha]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&19&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function ha(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new Ee({props:r}),te.push(()=>fe(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&2&&(t=!0,f.value=o[1],ae(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function da(l){let e,t,n=l[0]&&Rs(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),w(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&g(n,1)):(n=Rs(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(Z(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&b(e),n&&n.d(s)}}}function ba(l,e,t){let{params:n}=e,{simcares:s}=e,r=s?Object.keys(s)[0]:"";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={resID:r})},[s,r,n,o]}class wa extends ie{constructor(e){super(),oe(this,e,ba,da,ne,{params:2,simcares:0})}}function zs(l){let e,t;return e=new Rt({props:{margins:l[5],title:qa,xLabel:Na,yLabel:Aa,limX:[0,l[3].length+1],limY:[-.1,1.1],$$slots:{box:[Ca],yaxis:[ya],xaxis:[ka],default:[va]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.limX=[0,n[3].length+1]),s&542&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function va(l){let e,t,n,s,r,o,i,f,a,c;return e=new _t({props:{xStart:[l[4]],xEnd:[l[4]],yStart:[-1],yEnd:[1.1],lineColor:"#00000040"}}),n=new _t({props:{xStart:[0],xEnd:[l[3].length+1],yStart:[1-l[1].alpha/100],yEnd:[1-l[1].alpha/100],lineColor:"#D22C2F",lineType:2}}),r=new ot({props:{xValues:l[3],yValues:l[2],lineWidth:1.5,lineColor:"#2679B2"}}),i=new rt({props:{xValues:l[3],yValues:l[2],borderWidth:1.5,faceColor:"#fff",borderColor:"#2679B2"}}),a=new rt({props:{xValues:[l[3].v[l[4]-1]],yValues:[l[2][l[4]-1]],borderWidth:4,faceColor:"#2679B2",borderColor:"#2679B2"}}),{c(){T(e.$$.fragment),t=P(),T(n.$$.fragment),s=P(),T(r.$$.fragment),o=P(),T(i.$$.fragment),f=P(),T(a.$$.fragment)},m(u,m){M(e,u,m),w(u,t,m),M(n,u,m),w(u,s,m),M(r,u,m),w(u,o,m),M(i,u,m),w(u,f,m),M(a,u,m),c=!0},p(u,m){const _={};m&16&&(_.xStart=[u[4]]),m&16&&(_.xEnd=[u[4]]),e.$set(_);const h={};m&8&&(h.xEnd=[u[3].length+1]),m&2&&(h.yStart=[1-u[1].alpha/100]),m&2&&(h.yEnd=[1-u[1].alpha/100]),n.$set(h);const y={};m&8&&(y.xValues=u[3]),m&4&&(y.yValues=u[2]),r.$set(y);const v={};m&8&&(v.xValues=u[3]),m&4&&(v.yValues=u[2]),i.$set(v);const C={};m&24&&(C.xValues=[u[3].v[u[4]-1]]),m&20&&(C.yValues=[u[2][u[4]-1]]),a.$set(C)},i(u){c||(g(e.$$.fragment,u),g(n.$$.fragment,u),g(r.$$.fragment,u),g(i.$$.fragment,u),g(a.$$.fragment,u),c=!0)},o(u){d(e.$$.fragment,u),d(n.$$.fragment,u),d(r.$$.fragment,u),d(i.$$.fragment,u),d(a.$$.fragment,u),c=!1},d(u){u&&(b(t),b(s),b(o),b(f)),L(e,u),L(n,u),L(r,u),L(i,u),L(a,u)}}}function ka(l){let e,t;return e=new $t({props:{showGrid:Fs,slot:"xaxis"}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:D,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function ya(l){let e,t;return e=new zt({props:{showGrid:Fs,slot:"yaxis"}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:D,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Ca(l){let e,t;return e=new Ft({props:{slot:"box"}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p:D,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Ea(l){let e,t,n=(l[0],l[3],l[2]&&zs(l));return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),w(s,e,r),t=!0},p(s,[r]){s[0],s[3],s[2]?n?(n.p(s,r),r&13&&g(n,1)):(n=zs(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(Z(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&b(e),n&&n.d(s)}}}const Fs=!0,Na="Number of PCs",Aa="Accuracy",qa="Accuracy plot";function Sa(l,e,t){let n,s,r,o,{params:i}=e,{simcares:f}=e,{simca:a}=e;const c=[.85,1,.25,.25];let u=f?Object.keys(f)[0]:"";return l.$$set=m=>{"params"in m&&t(0,i=m.params),"simcares"in m&&t(6,f=m.simcares),"simca"in m&&t(1,a=m.simca)},l.$$.update=()=>{l.$$.dirty&129&&i&&i.resID!==u&&t(7,u=i.resID),l.$$.dirty&192&&t(8,n=f&&u?f[u]:null),l.$$.dirty&2&&t(4,s=a?a.ncomp:null),l.$$.dirty&256&&t(2,r=n?n.v.map(m=>m.stat.accuracy):null),l.$$.dirty&4&&t(3,o=r?he.seq(1,r.length):null)},[i,a,r,o,s,c,f,u,n]}class Ma extends ie{constructor(e){super(),oe(this,e,Sa,Ea,ne,{params:0,simcares:6,simca:1})}}function Ps(l){let e,t,n=Object.keys(l[0]).length>1,s,r;e=new J({props:{label:"",$$slots:{default:[La]},$$scope:{ctx:l}}});let o=n&&Is(l);return{c(){T(e.$$.fragment),t=P(),o&&o.c(),s=ee()},m(i,f){M(e,i,f),w(i,t,f),o&&o.m(i,f),w(i,s,f),r=!0},p(i,f){const a={};f&16&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),f&1&&(n=Object.keys(i[0]).length>1),n?o?(o.p(i,f),f&1&&g(o,1)):(o=Is(i),o.c(),g(o,1),o.m(s.parentNode,s)):o&&(Z(),d(o,1,1,()=>{o=null}),Q())},i(i){r||(g(e.$$.fragment,i),g(o),r=!0)},o(i){d(e.$$.fragment,i),d(o),r=!1},d(i){i&&(b(t),b(s)),L(e,i),o&&o.d(i)}}}function La(l){let e;return{c(){e=F("p"),e.textContent="Accuracy plot",p(e,"class","title")},m(t,n){w(t,e,n)},p:D,d(t){t&&b(e)}}}function Is(l){let e,t;return e=new J({props:{label:"Results:",$$slots:{default:[Ta]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&19&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Ta(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new Ee({props:r}),te.push(()=>fe(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&2&&(t=!0,f.value=o[1],ae(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function Ra(l){let e,t,n=l[0]&&Ps(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),w(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&g(n,1)):(n=Ps(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(Z(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&b(e),n&&n.d(s)}}}function $a(l,e,t){let{params:n}=e,{simcares:s}=e,r=s?Object.keys(s)[0]:"";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={resID:r})},[s,r,n,o]}class za extends ie{constructor(e){super(),oe(this,e,$a,Ra,ne,{params:2,simcares:0})}}function Fa(l){let e,t;return e=new ul({props:{simcares:l[0],simca:l[1],options:l[2]}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,[s]){const r={};s&1&&(r.simcares=n[0]),s&2&&(r.simca=n[1]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Pa(l,e,t){let{simcares:n}=e,{simca:s}=e;const r=[{label:"Acceptance",plotComponent:dn,controlsComponent:bn},{label:"DoF",plotComponent:Bf,controlsComponent:Hf},{label:"Extremes",plotComponent:Nf,controlsComponent:Lf},{label:"Sensitivity",plotComponent:As,controlsComponent:Ms}];return l.$$set=o=>{"simcares"in o&&t(0,n=o.simcares),"simca"in o&&t(1,s=o.simca)},[n,s,r]}let Ia=class extends ie{constructor(e){super(),oe(this,e,Pa,Fa,ne,{simcares:0,simca:1})}};const vc="";function Os(l){let e,t,n,s,r,o,i,f=l[0].cal.nrows+"",a,c,u,m=l[0].pv.nrows+"",_,h,y,v,C,N,q=l[2].cnum.extreme+"",E,R,z,B=l[1].cnum.extreme+"",I,S,k,$,W,K,ue=l[2].cnum.outliers+"",be,j,Y,re=l[1].cnum.outliers+"",ve,ke,Re,Qe,Je,Fe,Pe=l[2].stat.sensitivity.toFixed(2)+"",He,Me,Ve,Ge=l[1].stat.sensitivity.toFixed(2)+"",Ue;return{c(){e=F("table"),t=F("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Cal</th> <th class="svelte-kg0b31">PV</th>',n=P(),s=F("tr"),r=F("td"),r.textContent="Objects",o=P(),i=F("td"),a=H(f),c=P(),u=F("td"),_=H(m),h=P(),y=F("tr"),v=F("td"),v.textContent="Extremes",C=P(),N=F("td"),E=H(q),R=P(),z=F("td"),I=H(B),S=P(),k=F("tr"),$=F("td"),$.textContent="Outliers",W=P(),K=F("td"),be=H(ue),j=P(),Y=F("td"),ve=H(re),ke=P(),Re=F("tr"),Qe=F("td"),Qe.textContent="Sensitivity",Je=P(),Fe=F("td"),He=H(Pe),Me=P(),Ve=F("td"),Ue=H(Ge),p(t,"class","svelte-kg0b31"),p(r,"class","label svelte-kg0b31"),p(i,"class","svelte-kg0b31"),p(u,"class","svelte-kg0b31"),p(s,"class","svelte-kg0b31"),p(v,"class","label svelte-kg0b31"),p(N,"class","svelte-kg0b31"),p(z,"class","svelte-kg0b31"),p(y,"class","svelte-kg0b31"),p($,"class","label svelte-kg0b31"),p(K,"class","svelte-kg0b31"),p(Y,"class","svelte-kg0b31"),p(k,"class","svelte-kg0b31"),p(Qe,"class","label svelte-kg0b31"),p(Fe,"class","svelte-kg0b31"),p(Ve,"class","svelte-kg0b31"),p(Re,"class","svelte-kg0b31"),p(e,"class","svelte-kg0b31")},m(Ne,Be){w(Ne,e,Be),A(e,t),A(e,n),A(e,s),A(s,r),A(s,o),A(s,i),A(i,a),A(s,c),A(s,u),A(u,_),A(e,h),A(e,y),A(y,v),A(y,C),A(y,N),A(N,E),A(y,R),A(y,z),A(z,I),A(e,S),A(e,k),A(k,$),A(k,W),A(k,K),A(K,be),A(k,j),A(k,Y),A(Y,ve),A(e,ke),A(e,Re),A(Re,Qe),A(Re,Je),A(Re,Fe),A(Fe,He),A(Re,Me),A(Re,Ve),A(Ve,Ue)},p(Ne,Be){Be&1&&f!==(f=Ne[0].cal.nrows+"")&&se(a,f),Be&1&&m!==(m=Ne[0].pv.nrows+"")&&se(_,m),Be&4&&q!==(q=Ne[2].cnum.extreme+"")&&se(E,q),Be&2&&B!==(B=Ne[1].cnum.extreme+"")&&se(I,B),Be&4&&ue!==(ue=Ne[2].cnum.outliers+"")&&se(be,ue),Be&2&&re!==(re=Ne[1].cnum.outliers+"")&&se(ve,re),Be&4&&Pe!==(Pe=Ne[2].stat.sensitivity.toFixed(2)+"")&&se(He,Pe),Be&2&&Ge!==(Ge=Ne[1].stat.sensitivity.toFixed(2)+"")&&se(Ue,Ge)},d(Ne){Ne&&b(e)}}}function Oa(l){let e,t=l[2]&&l[1]&&Os(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),w(n,e,s)},p(n,[s]){n[2]&&n[1]?t?t.p(n,s):(t=Os(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:D,o:D,d(n){n&&b(e),t&&t.d(n)}}}function Va(l,e,t){let n,s,r,{res:o}=e,{simca:i}=e;return l.$$set=f=>{"res"in f&&t(0,o=f.res),"simca"in f&&t(3,i=f.simca)},l.$$.update=()=>{l.$$.dirty&8&&t(4,n=i?i.ncomp:null),l.$$.dirty&17&&t(2,s=n?o.cal.v[n-1]:null),l.$$.dirty&17&&t(1,r=n?o.pv.v[n-1]:null)},[o,r,s,i,n]}let Ba=class extends ie{constructor(e){super(),oe(this,e,Va,Oa,ne,{res:0,simca:3})}};const kc="";function Vs(l){let e,t,n,s,r,o,i,f=l[0].Nh[l[1]-1]+"",a,c,u,m=l[0].Nq[l[1]-1]+"",_,h,y,v=l[0].Nf[l[1]-1]+"",C,N,q,E,R,z,B=l[0].h0[l[1]-1].toFixed(2)+"",I,S,k,$=l[0].q0[l[1]-1].toFixed(l[0].q0[l[1]-1]>99?0:2)+"",W,K,ue,be,j,Y,re,ve,ke,Re,Qe,Je,Fe=l[0].eCrit[l[1]-1].toFixed(1)+"",Pe,He,Me,Ve,Ge,Ue,Ne,Be,bt,pt,gt=l[0].oCrit[l[1]-1].toFixed(1)+"",U;return{c(){e=F("table"),t=F("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">h</th> <th class="svelte-kg0b31">q</th> <th class="svelte-kg0b31">f</th>',n=P(),s=F("tr"),r=F("td"),r.textContent="DoF (Nu)",o=P(),i=F("td"),a=H(f),c=P(),u=F("td"),_=H(m),h=P(),y=F("td"),C=H(v),N=P(),q=F("tr"),E=F("td"),E.textContent="u0",R=P(),z=F("td"),I=H(B),S=P(),k=F("td"),W=H($),K=P(),ue=F("td"),be=P(),j=F("tr"),Y=F("td"),Y.textContent="Crit (extreme)",re=P(),ve=F("td"),ke=P(),Re=F("td"),Qe=P(),Je=F("td"),Pe=H(Fe),He=P(),Me=F("tr"),Ve=F("td"),Ve.textContent="Crit (outliers)",Ge=P(),Ue=F("td"),Ne=P(),Be=F("td"),bt=P(),pt=F("td"),U=H(gt),p(t,"class","svelte-kg0b31"),p(r,"class","label svelte-kg0b31"),p(i,"class","svelte-kg0b31"),p(u,"class","svelte-kg0b31"),p(y,"class","svelte-kg0b31"),p(s,"class","svelte-kg0b31"),p(E,"class","label svelte-kg0b31"),p(z,"class","svelte-kg0b31"),p(k,"class","svelte-kg0b31"),p(ue,"class","svelte-kg0b31"),p(q,"class","svelte-kg0b31"),p(Y,"class","label svelte-kg0b31"),p(ve,"class","svelte-kg0b31"),p(Re,"class","svelte-kg0b31"),p(Je,"class","svelte-kg0b31"),p(j,"class","svelte-kg0b31"),p(Ve,"class","label svelte-kg0b31"),p(Ue,"class","svelte-kg0b31"),p(Be,"class","svelte-kg0b31"),p(pt,"class","svelte-kg0b31"),p(Me,"class","svelte-kg0b31"),p(e,"class","svelte-kg0b31")},m(ce,qe){w(ce,e,qe),A(e,t),A(e,n),A(e,s),A(s,r),A(s,o),A(s,i),A(i,a),A(s,c),A(s,u),A(u,_),A(s,h),A(s,y),A(y,C),A(e,N),A(e,q),A(q,E),A(q,R),A(q,z),A(z,I),A(q,S),A(q,k),A(k,W),A(q,K),A(q,ue),A(e,be),A(e,j),A(j,Y),A(j,re),A(j,ve),A(j,ke),A(j,Re),A(j,Qe),A(j,Je),A(Je,Pe),A(e,He),A(e,Me),A(Me,Ve),A(Me,Ge),A(Me,Ue),A(Me,Ne),A(Me,Be),A(Me,bt),A(Me,pt),A(pt,U)},p(ce,qe){qe&3&&f!==(f=ce[0].Nh[ce[1]-1]+"")&&se(a,f),qe&3&&m!==(m=ce[0].Nq[ce[1]-1]+"")&&se(_,m),qe&3&&v!==(v=ce[0].Nf[ce[1]-1]+"")&&se(C,v),qe&3&&B!==(B=ce[0].h0[ce[1]-1].toFixed(2)+"")&&se(I,B),qe&3&&$!==($=ce[0].q0[ce[1]-1].toFixed(ce[0].q0[ce[1]-1]>99?0:2)+"")&&se(W,$),qe&3&&Fe!==(Fe=ce[0].eCrit[ce[1]-1].toFixed(1)+"")&&se(Pe,Fe),qe&3&&gt!==(gt=ce[0].oCrit[ce[1]-1].toFixed(1)+"")&&se(U,gt)},d(ce){ce&&b(e)}}}function ja(l){let e,t=l[0]&&Vs(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),w(n,e,s)},p(n,[s]){n[0]?t?t.p(n,s):(t=Vs(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:D,o:D,d(n){n&&b(e),t&&t.d(n)}}}function Ya(l,e,t){let n,{simca:s}=e;return l.$$set=r=>{"simca"in r&&t(0,s=r.simca)},l.$$.update=()=>{l.$$.dirty&1&&t(1,n=s.ncomp)},[s,n]}class Bs extends ie{constructor(e){super(),oe(this,e,Ya,ja,ne,{simca:0})}}const yc="";function js(l){let e,t,n,s,r;function o(a){l[10](a)}function i(a){l[11](a)}let f={WASM:l[0],calset:l[1]};return l[4]!==void 0&&(f.model=l[4]),l[6]!==void 0&&(f.calres=l[6]),t=new Ko({props:f}),te.push(()=>fe(t,"model",o)),te.push(()=>fe(t,"calres",i)),{c(){e=F("div"),T(t.$$.fragment),p(e,"class","model-calculator svelte-czeafq")},m(a,c){w(a,e,c),M(t,e,null),r=!0},p(a,c){const u={};c&1&&(u.WASM=a[0]),c&2&&(u.calset=a[1]),!n&&c&16&&(n=!0,u.model=a[4],ae(()=>n=!1)),!s&&c&64&&(s=!0,u.calres=a[6],ae(()=>s=!1)),t.$set(u)},i(a){r||(g(t.$$.fragment,a),r=!0)},o(a){d(t.$$.fragment,a),r=!1},d(a){a&&b(e),L(t)}}}function Ys(l){let e,t,n,s,r;function o(a){l[12](a)}function i(a){l[13](a)}let f={WASM:l[0],calset:l[1],model:l[4]};return l[2]!==void 0&&(f.pvset=l[2]),l[7]!==void 0&&(f.pvres=l[7]),t=new $o({props:f}),te.push(()=>fe(t,"pvset",o)),te.push(()=>fe(t,"pvres",i)),{c(){e=F("div"),T(t.$$.fragment),p(e,"class","pcv-calculator svelte-czeafq")},m(a,c){w(a,e,c),M(t,e,null),r=!0},p(a,c){const u={};c&1&&(u.WASM=a[0]),c&2&&(u.calset=a[1]),c&16&&(u.model=a[4]),!n&&c&4&&(n=!0,u.pvset=a[2],ae(()=>n=!1)),!s&&c&128&&(s=!0,u.pvres=a[7],ae(()=>s=!1)),t.$set(u)},i(a){r||(g(t.$$.fragment,a),r=!0)},o(a){d(t.$$.fragment,a),r=!1},d(a){a&&b(e),L(t)}}}function Ds(l){let e,t,n,s;function r(i){l[14](i)}let o={model:l[4],className:l[3]};return l[5]!==void 0&&(o.simca=l[5]),t=new si({props:o}),te.push(()=>fe(t,"simca",r)),{c(){e=F("div"),T(t.$$.fragment),p(e,"class","simca-settings svelte-czeafq")},m(i,f){w(i,e,f),M(t,e,null),s=!0},p(i,f){const a={};f&16&&(a.model=i[4]),f&8&&(a.className=i[3]),!n&&f&32&&(n=!0,a.simca=i[5],ae(()=>n=!1)),t.$set(a)},i(i){s||(g(t.$$.fragment,i),s=!0)},o(i){d(t.$$.fragment,i),s=!1},d(i){i&&b(e),L(t)}}}function Ws(l){let e,t,n;return t=new Bs({props:{simca:l[5]}}),{c(){e=F("div"),T(t.$$.fragment),p(e,"class","model-stats svelte-czeafq")},m(s,r){w(s,e,r),M(t,e,null),n=!0},p(s,r){const o={};r&32&&(o.simca=s[5]),t.$set(o)},i(s){n||(g(t.$$.fragment,s),n=!0)},o(s){d(t.$$.fragment,s),n=!1},d(s){s&&b(e),L(t)}}}function Hs(l){let e,t,n;return t=new Ba({props:{simca:l[5],res:l[8]}}),{c(){e=F("div"),T(t.$$.fragment),p(e,"class","result-stats svelte-czeafq")},m(s,r){w(s,e,r),M(t,e,null),n=!0},p(s,r){const o={};r&32&&(o.simca=s[5]),r&256&&(o.res=s[8]),t.$set(o)},i(s){n||(g(t.$$.fragment,s),n=!0)},o(s){d(t.$$.fragment,s),n=!1},d(s){s&&b(e),L(t)}}}function Da(l){let e=l[4],t,n,s=Gs(l);return{c(){s.c(),t=ee()},m(r,o){s.m(r,o),w(r,t,o),n=!0},p(r,o){o&16&&ne(e,e=r[4])?(Z(),d(s,1,1,D),Q(),s=Gs(r),s.c(),g(s,1),s.m(t.parentNode,t)):s.p(r,o)},i(r){n||(g(s),n=!0)},o(r){d(s),n=!1},d(r){r&&b(t),s.d(r)}}}function Wa(l){let e;function t(r,o){return r[1]?Ha:Ga}let n=t(l),s=n(l);return{c(){e=F("div"),s.c(),p(e,"class","help-text svelte-czeafq")},m(r,o){w(r,e,o),s.m(e,null)},p(r,o){n===(n=t(r))&&s?s.p(r,o):(s.d(1),s=n(r),s&&(s.c(),s.m(e,null)))},i:D,o:D,d(r){r&&b(e),s.d()}}}function Gs(l){let e,t;return e=new Ia({props:{simcares:l[8],simca:l[5]}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&256&&(r.simcares=n[8]),s&32&&(r.simca=n[5]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Ha(l){let e,t,n=!l[4]&&Us(),s=l[4]&&!l[2]&&Ks();return{c(){n&&n.c(),e=P(),s&&s.c(),t=ee()},m(r,o){n&&n.m(r,o),w(r,e,o),s&&s.m(r,o),w(r,t,o)},p(r,o){r[4]?n&&(n.d(1),n=null):n||(n=Us(),n.c(),n.m(e.parentNode,e)),r[4]&&!r[2]?s||(s=Ks(),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(r){r&&(b(e),b(t)),n&&n.d(r),s&&s.d(r)}}}function Ga(l){let e,t,n,s,r,o,i;return{c(){e=F("p"),e.innerHTML="<strong>Step 1.</strong>",t=P(),n=F("p"),n.textContent=`Load your calibration set from a CSV file. The file should contain data as numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables.`,s=P(),r=F("p"),r.textContent=`First column must contain class names for each row. It is assumed that
               all rows in calibrations set belongs to the same class, so it is expected that
               the class names will be the same.`,o=P(),i=F("p"),i.innerHTML="First row can contain variable names (<strong>header</strong>) and first column can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. In this case it is assumed that column with the class names is located next to the column with row labels.",p(e,"class","svelte-czeafq"),p(n,"class","svelte-czeafq"),p(r,"class","svelte-czeafq"),p(i,"class","svelte-czeafq")},m(f,a){w(f,e,a),w(f,t,a),w(f,n,a),w(f,s,a),w(f,r,a),w(f,o,a),w(f,i,a)},p:D,d(f){f&&(b(e),b(t),b(n),b(s),b(r),b(o),b(i))}}}function Us(l){let e,t,n;return{c(){e=F("p"),e.innerHTML="<strong>Step 2</strong>",t=P(),n=F("p"),n.textContent=`Next step is to create a global PCA model for the calibration set, which will be the basis for the SIMCA model. Use more components/latent variables (PCs) than you expect to be optimal. You will have possibility to set
               optimal number later.`,p(e,"class","svelte-czeafq"),p(n,"class","svelte-czeafq")},m(s,r){w(s,e,r),w(s,t,r),w(s,n,r)},d(s){s&&(b(e),b(t),b(n))}}}function Ks(l){let e,t,n,s,r;return{c(){e=F("p"),e.innerHTML="<strong>Step 3</strong>",t=P(),n=F("p"),n.textContent="Now set necessary parameters for Procrustes cross-validation and click button to compute the PV-set, which will help you to optimize SIMCA model parameters. The parameters are the same as for conventional cross-validation: type of splits and number of segments. It is recommended to use fewer number of segments (e.g. 3, 4 or 5).",s=P(),r=F("p"),r.textContent="After this step SIMCA model will be created automatically and you will be able to tune its parameters.",p(e,"class","svelte-czeafq"),p(n,"class","svelte-czeafq"),p(r,"class","svelte-czeafq")},m(o,i){w(o,e,i),w(o,t,i),w(o,n,i),w(o,s,i),w(o,r,i)},d(o){o&&(b(e),b(t),b(n),b(s),b(r))}}}function Ua(l){let e,t,n,s,r,o,i,f,a,c,u,m,_,h,y;function v(k){l[9](k)}let C={};l[1]!==void 0&&(C.dataset=l[1]),s=new wo({props:C}),te.push(()=>fe(s,"dataset",v));let N=l[1]&&js(l),q=l[1]&&l[4]&&Ys(l),E=l[4]&&l[7]&&l[6]&&Ds(l),R=l[5]&&l[2]&&l[4]&&Ws(l),z=l[8]&&Hs(l);const B=[Wa,Da],I=[];function S(k,$){return!k[2]||!k[7]||!k[5]?0:1}return _=S(l),h=I[_]=B[_](l),{c(){e=F("div"),t=F("div"),n=F("div"),T(s.$$.fragment),o=P(),N&&N.c(),i=P(),q&&q.c(),f=P(),E&&E.c(),a=P(),R&&R.c(),c=P(),z&&z.c(),u=P(),m=F("div"),h.c(),p(n,"class","data-loader svelte-czeafq"),p(t,"class","app-controls svelte-czeafq"),p(m,"class","app-content svelte-czeafq"),p(e,"class","app-container svelte-czeafq")},m(k,$){w(k,e,$),A(e,t),A(t,n),M(s,n,null),A(t,o),N&&N.m(t,null),A(t,i),q&&q.m(t,null),A(t,f),E&&E.m(t,null),A(t,a),R&&R.m(t,null),A(t,c),z&&z.m(t,null),A(e,u),A(e,m),I[_].m(m,null),y=!0},p(k,[$]){const W={};!r&&$&2&&(r=!0,W.dataset=k[1],ae(()=>r=!1)),s.$set(W),k[1]?N?(N.p(k,$),$&2&&g(N,1)):(N=js(k),N.c(),g(N,1),N.m(t,i)):N&&(Z(),d(N,1,1,()=>{N=null}),Q()),k[1]&&k[4]?q?(q.p(k,$),$&18&&g(q,1)):(q=Ys(k),q.c(),g(q,1),q.m(t,f)):q&&(Z(),d(q,1,1,()=>{q=null}),Q()),k[4]&&k[7]&&k[6]?E?(E.p(k,$),$&208&&g(E,1)):(E=Ds(k),E.c(),g(E,1),E.m(t,a)):E&&(Z(),d(E,1,1,()=>{E=null}),Q()),k[5]&&k[2]&&k[4]?R?(R.p(k,$),$&52&&g(R,1)):(R=Ws(k),R.c(),g(R,1),R.m(t,c)):R&&(Z(),d(R,1,1,()=>{R=null}),Q()),k[8]?z?(z.p(k,$),$&256&&g(z,1)):(z=Hs(k),z.c(),g(z,1),z.m(t,null)):z&&(Z(),d(z,1,1,()=>{z=null}),Q());let K=_;_=S(k),_===K?I[_].p(k,$):(Z(),d(I[K],1,1,()=>{I[K]=null}),Q(),h=I[_],h?h.p(k,$):(h=I[_]=B[_](k),h.c()),g(h,1),h.m(m,null))},i(k){y||(g(s.$$.fragment,k),g(N),g(q),g(E),g(R),g(z),g(h),y=!0)},o(k){d(s.$$.fragment,k),d(N),d(q),d(E),d(R),d(z),d(h),y=!1},d(k){k&&b(e),L(s),N&&N.d(),q&&q.d(),E&&E.d(),R&&R.d(),z&&z.d(),I[_].d()}}}function Ka(l,e,t){let{WASM:n}=e,s,r,o,i,f,a,c,u;function m(N){s=N,t(1,s)}function _(N){i=N,t(4,i),t(1,s)}function h(N){a=N,t(6,a),t(4,i),t(1,s)}function y(N){r=N,t(2,r),t(4,i),t(1,s)}function v(N){c=N,t(7,c),t(2,r),t(4,i),t(1,s)}function C(N){f=N,t(5,f)}return l.$$set=N=>{"WASM"in N&&t(0,n=N.WASM)},l.$$.update=()=>{l.$$.dirty&2&&(s===null?(t(4,i=null),t(3,o=null)):s&&t(3,o=s.classNames[0])),l.$$.dirty&16&&i===null&&(t(2,r=null),t(6,a=null)),l.$$.dirty&4&&(r||t(7,c=null)),l.$$.dirty&192,l.$$.dirty&238&&(f&&a&&c?t(8,u={cal:cn(a,s,f),pv:cn(c,r,f)}):t(8,u=null))},[n,s,r,o,i,f,a,c,u,m,_,h,y,v,C]}let Xa=class extends ie{constructor(e){super(),oe(this,e,Ka,Ua,ne,{WASM:0})}};const Cc="";function Za(l){let e,t;return e=new J({props:{$$slots:{default:[Ja]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&514&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Qa(l){let e=l[2]===void 0,t,n,s,r=Xs(l),o=l[2]&&Zs(l);return{c(){r.c(),t=P(),o&&o.c(),n=ee()},m(i,f){r.m(i,f),w(i,t,f),o&&o.m(i,f),w(i,n,f),s=!0},p(i,f){f&4&&ne(e,e=i[2]===void 0)?(Z(),d(r,1,1,D),Q(),r=Xs(i),r.c(),g(r,1),r.m(t.parentNode,t)):r.p(i,f),i[2]?o?(o.p(i,f),f&4&&g(o,1)):(o=Zs(i),o.c(),g(o,1),o.m(n.parentNode,n)):o&&(Z(),d(o,1,1,()=>{o=null}),Q())},i(i){s||(g(r),g(o),s=!0)},o(i){d(r),d(o),s=!1},d(i){i&&(b(t),b(n)),r.d(i),o&&o.d(i)}}}function Ja(l){let e,t,n,s=l[1].className+"",r,o,i,f,a;return f=new Vt({}),f.$on("click",l[6]),{c(){e=F("p"),t=H("Model for class "),n=F("span"),r=H(s),o=H(" is loaded"),i=P(),T(f.$$.fragment),p(n,"class","className svelte-1htmzzh")},m(c,u){w(c,e,u),A(e,t),A(e,n),A(n,r),A(e,o),w(c,i,u),M(f,c,u),a=!0},p(c,u){(!a||u&2)&&s!==(s=c[1].className+"")&&se(r,s)},i(c){a||(g(f.$$.fragment,c),a=!0)},o(c){d(f.$$.fragment,c),a=!1},d(c){c&&(b(e),b(i)),L(f,c)}}}function xa(l){let e,t,n;function s(o){l[7](o)}let r={id:"modelFile",acceptType:".json",message:"Select file with model"};return l[2]!==void 0&&(r.file=l[2]),e=new pn({props:r}),te.push(()=>fe(e,"file",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.file=o[2],ae(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function Xs(l){let e,t;return e=new J({props:{$$slots:{default:[xa]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&516&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Zs(l){let e,t;return e=new J({props:{label:" ",$$slots:{default:[tu]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&512&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function eu(l){let e;return{c(){e=H("Load")},m(t,n){w(t,e,n)},d(t){t&&b(e)}}}function tu(l){let e,t;return e=new ft({props:{$$slots:{default:[eu]},$$scope:{ctx:l}}}),e.$on("click",l[5]),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&512&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Qs(l){let e,t;return e=new J({props:{status:"error",$$slots:{default:[nu]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&528&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function nu(l){let e,t;return{c(){e=F("p"),t=H(l[4])},m(n,s){w(n,e,s),A(e,t)},p(n,s){s&16&&se(t,n[4])},d(n){n&&b(e)}}}function lu(l){let e,t,n,s,r;const o=[Qa,Za],i=[];function f(c,u){return c[0]?1:0}e=f(l),t=i[e]=o[e](l);let a=(l[3]==="error"||l[4])&&Qs(l);return{c(){t.c(),n=P(),a&&a.c(),s=ee()},m(c,u){i[e].m(c,u),w(c,n,u),a&&a.m(c,u),w(c,s,u),r=!0},p(c,[u]){let m=e;e=f(c),e===m?i[e].p(c,u):(Z(),d(i[m],1,1,()=>{i[m]=null}),Q(),t=i[e],t?t.p(c,u):(t=i[e]=o[e](c),t.c()),g(t,1),t.m(n.parentNode,n)),c[3]==="error"||c[4]?a?(a.p(c,u),u&24&&g(a,1)):(a=Qs(c),a.c(),g(a,1),a.m(s.parentNode,s)):a&&(Z(),d(a,1,1,()=>{a=null}),Q())},i(c){r||(g(t),g(a),r=!0)},o(c){d(t),d(a),r=!1},d(c){c&&(b(n),b(s)),i[e].d(c),a&&a.d(c)}}}function su(l,e,t){let{model:n}=e,{simca:s}=e,r,o="neutral",i="";function f(m){try{const _=JSON.parse(m);_.pca.v=new Float64Array(_.pca.v),_.simca.h0=new Float64Array(_.simca.h0),_.simca.Nh=new Float64Array(_.simca.Nh),_.simca.q0=new Float64Array(_.simca.q0),_.simca.Nq=new Float64Array(_.simca.Nq),_.simca.Nf=new Float64Array(_.simca.Nf),_.simca.eCrit=new Float64Array(_.simca.eCrit),_.simca.oCrit=new Float64Array(_.simca.oCrit),t(0,n=_.pca),t(1,s=_.simca),t(3,o="success"),t(4,i="")}catch(_){t(0,n=null),t(1,s=null),t(3,o="error"),t(4,i=_)}}function a(m){const _=new FileReader;_.onload=()=>f(_.result),_.readAsBinaryString(r)}function c(){t(2,r=null)}function u(m){r=m,t(2,r)}return l.$$set=m=>{"model"in m&&t(0,n=m.model),"simca"in m&&t(1,s=m.simca)},l.$$.update=()=>{l.$$.dirty&4&&(r===null?(t(0,n=null),t(1,s=null)):(t(3,o="neutral"),t(4,i="")))},[n,s,r,o,i,a,c,u]}class ru extends ie{constructor(e){super(),oe(this,e,su,lu,ne,{model:0,simca:1})}}function ou(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:mu,then:uu,catch:fu,value:22,error:23,blocks:[,,,]};return St(t=l[7],s),{c(){e=ee(),s.block.c()},m(r,o){w(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o&128&&t!==(t=l[7])&&St(t,s)||Jt(s,l,o)},i(r){n||(g(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];d(i)}n=!1},d(r){r&&b(e),s.block.d(r),s.token=null,s=null}}}function iu(l){let e=l[2]===void 0,t,n,s,r=xs(l),o=l[2]&&er(l);return{c(){r.c(),t=P(),o&&o.c(),n=ee()},m(i,f){r.m(i,f),w(i,t,f),o&&o.m(i,f),w(i,n,f),s=!0},p(i,f){f&4&&ne(e,e=i[2]===void 0)?(Z(),d(r,1,1,D),Q(),r=xs(i),r.c(),g(r,1),r.m(t.parentNode,t)):r.p(i,f),i[2]?o?(o.p(i,f),f&4&&g(o,1)):(o=er(i),o.c(),g(o,1),o.m(n.parentNode,n)):o&&(Z(),d(o,1,1,()=>{o=null}),Q())},i(i){s||(g(r),g(o),s=!0)},o(i){d(r),d(o),s=!1},d(i){i&&(b(t),b(n)),r.d(i),o&&o.d(i)}}}function fu(l){let e,t;return e=new J({props:{status:"error",$$slots:{default:[au]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&16777344&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function au(l){let e,t=l[23]+"",n;return{c(){e=F("p"),n=H(t)},m(s,r){w(s,e,r),A(e,n)},p(s,r){r&128&&t!==(t=s[23]+"")&&se(n,t)},d(s){s&&b(e)}}}function uu(l){let e,t,n=l[1]!==null&&Js(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),w(s,e,r),t=!0},p(s,r){s[1]!==null?n?(n.p(s,r),r&2&&g(n,1)):(n=Js(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(Z(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&b(e),n&&n.d(s)}}}function Js(l){let e,t;return e=new J({props:{$$slots:{default:[cu]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&16777217&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function cu(l){let e,t,n=l[0].values.nrows+"",s,r,o=l[0].values.ncols+"",i,f,a=l[0].header.length===0?"no header":"with header",c,u,m,_;return m=new Vt({}),m.$on("click",l[12]),{c(){e=F("p"),t=H("Dataset is loaded: "),s=H(n),r=H(" × "),i=H(o),f=H(`,
         `),c=H(a),u=P(),T(m.$$.fragment)},m(h,y){w(h,e,y),A(e,t),A(e,s),A(e,r),A(e,i),A(e,f),A(e,c),w(h,u,y),M(m,h,y),_=!0},p(h,y){(!_||y&1)&&n!==(n=h[0].values.nrows+"")&&se(s,n),(!_||y&1)&&o!==(o=h[0].values.ncols+"")&&se(i,o),(!_||y&1)&&a!==(a=h[0].header.length===0?"no header":"with header")&&se(c,a)},i(h){_||(g(m.$$.fragment,h),_=!0)},o(h){d(m.$$.fragment,h),_=!1},d(h){h&&(b(e),b(u)),L(m,h)}}}function mu(l){let e,t;return e=new J({props:{$$slots:{default:[_u]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&16777216&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function _u(l){let e,t,n,s;return e=new _n({}),{c(){T(e.$$.fragment),t=P(),n=F("p"),n.textContent="Loading data and apply model..."},m(r,o){M(e,r,o),w(r,t,o),w(r,n,o),s=!0},p:D,i(r){s||(g(e.$$.fragment,r),s=!0)},o(r){d(e.$$.fragment,r),s=!1},d(r){r&&(b(t),b(n)),L(e,r)}}}function pu(l){let e,t,n;function s(o){l[15](o)}let r={id:"dataFile"};return l[2]!==void 0&&(r.file=l[2]),e=new pn({props:r}),te.push(()=>fe(e,"file",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.file=o[2],ae(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function xs(l){let e,t;return e=new J({props:{$$slots:{default:[pu]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&16777220&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function er(l){let e,t,n,s,r,o,i,f,a,c;return e=new J({props:{label:"Delimiter:",$$slots:{default:[gu]},$$scope:{ctx:l}}}),n=new J({props:{label:"Header:",$$slots:{default:[hu]},$$scope:{ctx:l}}}),r=new J({props:{label:"Row labels:",$$slots:{default:[du]},$$scope:{ctx:l}}}),i=new J({props:{label:"Class names:",$$slots:{default:[bu]},$$scope:{ctx:l}}}),a=new J({props:{label:" ",$$slots:{default:[vu]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment),t=P(),T(n.$$.fragment),s=P(),T(r.$$.fragment),o=P(),T(i.$$.fragment),f=P(),T(a.$$.fragment)},m(u,m){M(e,u,m),w(u,t,m),M(n,u,m),w(u,s,m),M(r,u,m),w(u,o,m),M(i,u,m),w(u,f,m),M(a,u,m),c=!0},p(u,m){const _={};m&16777224&&(_.$$scope={dirty:m,ctx:u}),e.$set(_);const h={};m&16777248&&(h.$$scope={dirty:m,ctx:u}),n.$set(h);const y={};m&16777280&&(y.$$scope={dirty:m,ctx:u}),r.$set(y);const v={};m&16777232&&(v.$$scope={dirty:m,ctx:u}),i.$set(v);const C={};m&16777216&&(C.$$scope={dirty:m,ctx:u}),a.$set(C)},i(u){c||(g(e.$$.fragment,u),g(n.$$.fragment,u),g(r.$$.fragment,u),g(i.$$.fragment,u),g(a.$$.fragment,u),c=!0)},o(u){d(e.$$.fragment,u),d(n.$$.fragment,u),d(r.$$.fragment,u),d(i.$$.fragment,u),d(a.$$.fragment,u),c=!1},d(u){u&&(b(t),b(s),b(o),b(f)),L(e,u),L(n,u),L(r,u),L(i,u),L(a,u)}}}function gu(l){let e,t,n;function s(o){l[16](o)}let r={id:"sep",options:l[10]};return l[3]!==void 0&&(r.value=l[3]),e=new Ee({props:r}),te.push(()=>fe(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],ae(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function hu(l){let e,t,n;function s(o){l[17](o)}let r={id:"hasHeader",options:["yes","no"]};return l[5]!==void 0&&(r.value=l[5]),e=new Ee({props:r}),te.push(()=>fe(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&32&&(t=!0,f.value=o[5],ae(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function du(l){let e,t,n;function s(o){l[18](o)}let r={id:"hasLabels",options:["yes","no"]};return l[6]!==void 0&&(r.value=l[6]),e=new Ee({props:r}),te.push(()=>fe(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&64&&(t=!0,f.value=o[6],ae(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function bu(l){let e,t,n;function s(o){l[19](o)}let r={id:"hasClassNames",options:["yes","no"]};return l[4]!==void 0&&(r.value=l[4]),e=new Ee({props:r}),te.push(()=>fe(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],ae(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function wu(l){let e;return{c(){e=H("Load")},m(t,n){w(t,e,n)},d(t){t&&b(e)}}}function vu(l){let e,t;return e=new ft({props:{$$slots:{default:[wu]},$$scope:{ctx:l}}}),e.$on("click",l[11]),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&16777216&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function tr(l){let e,t;return e=new J({props:{status:"error",$$slots:{default:[ku]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&16777728&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function ku(l){let e,t;return{c(){e=F("p"),t=H(l[9])},m(n,s){w(n,e,s),A(e,t)},p(n,s){s&512&&se(t,n[9])},d(n){n&&b(e)}}}function yu(l){let e,t,n,s,r;const o=[iu,ou],i=[];function f(c,u){return c[0]?c[7]?1:-1:0}~(e=f(l))&&(t=i[e]=o[e](l));let a=(l[8]==="error"||l[9])&&tr(l);return{c(){t&&t.c(),n=P(),a&&a.c(),s=ee()},m(c,u){~e&&i[e].m(c,u),w(c,n,u),a&&a.m(c,u),w(c,s,u),r=!0},p(c,[u]){let m=e;e=f(c),e===m?~e&&i[e].p(c,u):(t&&(Z(),d(i[m],1,1,()=>{i[m]=null}),Q()),~e?(t=i[e],t?t.p(c,u):(t=i[e]=o[e](c),t.c()),g(t,1),t.m(n.parentNode,n)):t=null),c[8]==="error"||c[9]?a?(a.p(c,u),u&768&&g(a,1)):(a=tr(c),a.c(),g(a,1),a.m(s.parentNode,s)):a&&(Z(),d(a,1,1,()=>{a=null}),Q())},i(c){r||(g(t),g(a),r=!0)},o(c){d(t),d(a),r=!1},d(c){c&&(b(n),b(s)),~e&&i[e].d(c),a&&a.d(c)}}}function Cu(l,e,t){let{WASM:n}=e,{dataset:s}=e,{model:r}=e,{pcares:o}=e,i,f=",",a="yes",c="yes",u="no",m,_="neutral",h="";const y=[",",";"];function v(S){t(7,m=n().then(k=>{const $=un(k,r,S);t(1,o=$)}).catch(k=>{t(1,o=null),t(8,_="error"),t(9,h=k)}))}function C(S){try{const k=Wn(S,f,c==="yes",u==="yes",a==="yes");if(k.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(a==="yes"&&k.classNames.length<1)throw new Error("Can not find column with reference class labels.");if(k.values.ncols!==r.ncols)throw new Error("Dataset has different number of columns than the training set.");t(0,s=k),v(k.values),t(9,h=""),t(8,_="success")}catch(k){t(0,s=null),t(8,_="error"),t(9,h=k)}}function N(S){const k=new FileReader;k.onload=()=>C(k.result),k.readAsBinaryString(i)}function q(){t(2,i=null)}function E(S){i=S,t(2,i)}function R(S){f=S,t(3,f)}function z(S){c=S,t(5,c)}function B(S){u=S,t(6,u)}function I(S){a=S,t(4,a)}return l.$$set=S=>{"WASM"in S&&t(13,n=S.WASM),"dataset"in S&&t(0,s=S.dataset),"model"in S&&t(14,r=S.model),"pcares"in S&&t(1,o=S.pcares)},l.$$.update=()=>{l.$$.dirty&4&&(i===null?t(0,s=null):(t(8,_="neutral"),t(9,h=""))),l.$$.dirty&8&&f&&(t(8,_="neutral"),t(9,h=""))},[s,o,i,f,a,c,u,m,_,h,y,N,q,n,r,E,R,z,B,I]}class Eu extends ie{constructor(e){super(),oe(this,e,Cu,yu,ne,{WASM:13,dataset:0,model:14,pcares:1})}}function Nu(l){let e,t;return e=new ul({props:{simcares:l[0],simca:l[1],options:l[2]}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,[s]){const r={};s&1&&(r.simcares=n[0]),s&2&&(r.simca=n[1]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Au(l,e,t){let{simcares:n}=e,{simca:s}=e;const r=n.new.classes.length>0?[{label:"Acceptance",plotComponent:dn,controlsComponent:bn},{label:"Sensitivity",plotComponent:As,controlsComponent:Ms},{label:"Specificity",plotComponent:pa,controlsComponent:wa},{label:"Accuracy",plotComponent:Ma,controlsComponent:za}]:[{label:"Acceptance",plotComponent:dn,controlsComponent:bn}];return l.$$set=o=>{"simcares"in o&&t(0,n=o.simcares),"simca"in o&&t(1,s=o.simca)},[n,s,r]}class qu extends ie{constructor(e){super(),oe(this,e,Au,Nu,ne,{simcares:0,simca:1})}}const Ec="";function nr(l){let e,t,n,s,r,o,i,f=l[0].new.nrows+"",a,c,u,m,_,h,y=l[1].cnum.extreme+"",v,C,N,q,E,R,z=l[1].cnum.outliers+"",B,I,S=l[1].stat&&lr(l);return{c(){e=F("table"),t=F("tr"),t.innerHTML='<th class="svelte-qzht8m"></th> <th class="svelte-qzht8m">New</th>',n=P(),s=F("tr"),r=F("td"),r.textContent="Objects",o=P(),i=F("td"),a=H(f),c=P(),u=F("tr"),m=F("td"),m.textContent="Extremes",_=P(),h=F("td"),v=H(y),C=P(),N=F("tr"),q=F("td"),q.textContent="Outliers",E=P(),R=F("td"),B=H(z),I=P(),S&&S.c(),p(t,"class","svelte-qzht8m"),p(r,"class","label svelte-qzht8m"),p(i,"class","svelte-qzht8m"),p(s,"class","svelte-qzht8m"),p(m,"class","label svelte-qzht8m"),p(h,"class","svelte-qzht8m"),p(u,"class","svelte-qzht8m"),p(q,"class","label svelte-qzht8m"),p(R,"class","svelte-qzht8m"),p(N,"class","svelte-qzht8m"),p(e,"class","svelte-qzht8m")},m(k,$){w(k,e,$),A(e,t),A(e,n),A(e,s),A(s,r),A(s,o),A(s,i),A(i,a),A(e,c),A(e,u),A(u,m),A(u,_),A(u,h),A(h,v),A(e,C),A(e,N),A(N,q),A(N,E),A(N,R),A(R,B),A(e,I),S&&S.m(e,null)},p(k,$){$&1&&f!==(f=k[0].new.nrows+"")&&se(a,f),$&2&&y!==(y=k[1].cnum.extreme+"")&&se(v,y),$&2&&z!==(z=k[1].cnum.outliers+"")&&se(B,z),k[1].stat?S?S.p(k,$):(S=lr(k),S.c(),S.m(e,null)):S&&(S.d(1),S=null)},d(k){k&&b(e),S&&S.d()}}}function lr(l){let e,t,n,s,r=l[1].stat.TP+l[1].stat.FN+"",o,i,f,a,c,u,m=l[1].stat.TN+l[1].stat.FP+"",_,h,y,v,C,N,q=l[1].stat.sensitivity.toFixed(2)+"",E,R,z,B,I,S,k=l[1].stat.specificity.toFixed(2)+"",$,W,K,ue,be,j,Y=l[1].stat.accuracy.toFixed(2)+"",re;return{c(){e=F("tr"),t=F("td"),t.textContent="Members",n=P(),s=F("td"),o=H(r),i=P(),f=F("tr"),a=F("td"),a.textContent="Strangers",c=P(),u=F("td"),_=H(m),h=P(),y=F("tr"),v=F("td"),v.textContent="Sensitivity",C=P(),N=F("td"),E=H(q),R=P(),z=F("tr"),B=F("td"),B.textContent="Specificity",I=P(),S=F("td"),$=H(k),W=P(),K=F("tr"),ue=F("td"),ue.textContent="Accuracy",be=P(),j=F("td"),re=H(Y),p(t,"class","label svelte-qzht8m"),p(s,"class","svelte-qzht8m"),p(e,"class","stat_row svelte-qzht8m"),p(a,"class","label svelte-qzht8m"),p(u,"class","svelte-qzht8m"),p(f,"class","svelte-qzht8m"),p(v,"class","label svelte-qzht8m"),p(N,"class","svelte-qzht8m"),p(y,"class","stat_row svelte-qzht8m"),p(B,"class","label svelte-qzht8m"),p(S,"class","svelte-qzht8m"),p(z,"class","svelte-qzht8m"),p(ue,"class","label svelte-qzht8m"),p(j,"class","svelte-qzht8m"),p(K,"class","svelte-qzht8m")},m(ve,ke){w(ve,e,ke),A(e,t),A(e,n),A(e,s),A(s,o),w(ve,i,ke),w(ve,f,ke),A(f,a),A(f,c),A(f,u),A(u,_),w(ve,h,ke),w(ve,y,ke),A(y,v),A(y,C),A(y,N),A(N,E),w(ve,R,ke),w(ve,z,ke),A(z,B),A(z,I),A(z,S),A(S,$),w(ve,W,ke),w(ve,K,ke),A(K,ue),A(K,be),A(K,j),A(j,re)},p(ve,ke){ke&2&&r!==(r=ve[1].stat.TP+ve[1].stat.FN+"")&&se(o,r),ke&2&&m!==(m=ve[1].stat.TN+ve[1].stat.FP+"")&&se(_,m),ke&2&&q!==(q=ve[1].stat.sensitivity.toFixed(2)+"")&&se(E,q),ke&2&&k!==(k=ve[1].stat.specificity.toFixed(2)+"")&&se($,k),ke&2&&Y!==(Y=ve[1].stat.accuracy.toFixed(2)+"")&&se(re,Y)},d(ve){ve&&(b(e),b(i),b(f),b(h),b(y),b(R),b(z),b(W),b(K))}}}function Su(l){let e,t=l[1]&&nr(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),w(n,e,s)},p(n,[s]){n[1]?t?t.p(n,s):(t=nr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:D,o:D,d(n){n&&b(e),t&&t.d(n)}}}function Mu(l,e,t){let n,s,{res:r}=e,{simca:o}=e;return l.$$set=i=>{"res"in i&&t(0,r=i.res),"simca"in i&&t(2,o=i.simca)},l.$$.update=()=>{l.$$.dirty&4&&t(3,n=o?o.ncomp:null),l.$$.dirty&9&&t(1,s=n?r.new.v[n-1]:null)},[r,s,o,n]}class Lu extends ie{constructor(e){super(),oe(this,e,Mu,Su,ne,{res:0,simca:2})}}function Tu(l){let e,t,n=l[0].className+"",s;return{c(){e=F("p"),t=H("Target class: "),s=H(n),p(e,"class","title")},m(r,o){w(r,e,o),A(e,t),A(e,s)},p(r,o){o&1&&n!==(n=r[0].className+"")&&se(s,n)},d(r){r&&b(e)}}}function Ru(l){let e,t,n;function s(o){l[5](o)}let r={id:"ncomp",min:1,max:l[1].ncomp,step:1,decNum:0};return l[0].ncomp!==void 0&&(r.value=l[0].ncomp),e=new mn({props:r}),te.push(()=>fe(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};i&2&&(f.max=o[1].ncomp),!t&&i&1&&(t=!0,f.value=o[0].ncomp,ae(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function $u(l){let e,t,n;function s(o){l[6](o)}let r={id:"alpha",options:l[4]};return l[0].alpha!==void 0&&(r.value=l[0].alpha),e=new Ee({props:r}),te.push(()=>fe(e,"value",s)),{c(){T(e.$$.fragment)},m(o,i){M(e,o,i),n=!0},p(o,i){const f={};!t&&i&1&&(t=!0,f.value=o[0].alpha,ae(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function sr(l){let e,t;return e=new J({props:{label:" ",$$slots:{default:[Fu]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&268&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function zu(l){let e;return{c(){e=H("Download results")},m(t,n){w(t,e,n)},d(t){t&&b(e)}}}function Fu(l){let e,t;return e=new ft({props:{$$slots:{default:[zu]},$$scope:{ctx:l}}}),e.$on("click",l[7]),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&256&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Pu(l){let e,t,n,s,r,o,i,f;e=new J({props:{label:"",$$slots:{default:[Tu]},$$scope:{ctx:l}}}),n=new J({props:{label:"# of PCs",$$slots:{default:[Ru]},$$scope:{ctx:l}}}),r=new J({props:{label:"Alpha, %:",$$slots:{default:[$u]},$$scope:{ctx:l}}});let a=l[2]&&sr(l);return{c(){T(e.$$.fragment),t=P(),T(n.$$.fragment),s=P(),T(r.$$.fragment),o=P(),a&&a.c(),i=ee()},m(c,u){M(e,c,u),w(c,t,u),M(n,c,u),w(c,s,u),M(r,c,u),w(c,o,u),a&&a.m(c,u),w(c,i,u),f=!0},p(c,[u]){const m={};u&257&&(m.$$scope={dirty:u,ctx:c}),e.$set(m);const _={};u&259&&(_.$$scope={dirty:u,ctx:c}),n.$set(_);const h={};u&257&&(h.$$scope={dirty:u,ctx:c}),r.$set(h),c[2]?a?(a.p(c,u),u&4&&g(a,1)):(a=sr(c),a.c(),g(a,1),a.m(i.parentNode,i)):a&&(Z(),d(a,1,1,()=>{a=null}),Q())},i(c){f||(g(e.$$.fragment,c),g(n.$$.fragment,c),g(r.$$.fragment,c),g(a),f=!0)},o(c){d(e.$$.fragment,c),d(n.$$.fragment,c),d(r.$$.fragment,c),d(a),f=!1},d(c){c&&(b(t),b(s),b(o),b(i)),L(e,c),L(n,c),L(r,c),a&&a.d(c)}}}function Iu(l,e){const t=l.ncomp,n=l.nrows,s=l.v[t-1],r=l.classes&&l.classes.length===n,o=r?["","","","",""]:["","","",""];let i="";if(i+=["Target class:",l.className,...o].join(e.sep)+`
`,i+=["Reference classes:",r?"provided":"not provided",...o].join(e.sep)+`
`,i+=["Number of components:",l.ncomp,...o].join(e.sep)+`
`,i+=["Alpha:",(l.alpha/100).toFixed(3),...o].join(e.sep)+`
`,i+=["Limits estimator:",l.limType,...o].join(e.sep)+`
`,i+=`
`,i+=["h0:",s.h0,...o].join(e.sep)+`
`,i+=["Nh:",s.Nh,...o].join(e.sep)+`
`,i+=["q0:",s.h0,...o].join(e.sep)+`
`,i+=["Nq:",s.Nh,...o].join(e.sep)+`
`,i+=["Nf:",s.Nf,...o].join(e.sep)+`
`,i+=`
`,i+=["Objects:",n,...o].join(e.sep)+`
`,i+=["Regular:",s.cnum.regular,...o].join(e.sep)+`
`,i+=["Extremes:",s.cnum.extreme,...o].join(e.sep)+`
`,i+=["Outliers:",s.cnum.outliers,...o].join(e.sep)+`
`,i+=`
`,l.classes&&l.classes.length===n){s.stat&&(i+=["Specificity:",s.stat.sensitivity,...o].join(e.sep)+`
`,i+=["Sensitivity:",s.stat.specificity,...o].join(e.sep)+`
`,i+=["Accuracy:",s.stat.accuracy,...o].join(e.sep)+`
`,i+=`
`),i+=["","object","class","decision","h","q","f"].join(e.sep)+`
`;for(let m=0;m<n;m++)i+=["",e.labels[m],l.classes[m],s.c[m],s.h[m],s.q[m],s.f[m]].join(e.sep)+`
`}else{i+=["","object","decision","h","q","f"].join(e.sep)+`
`;for(let m=0;m<n;m++)i+=["",e.labels[m],s.c[m],s.h[m],s.q[m],s.f[m]].join(e.sep)+`
`}e.dec!=="."&&(i=i.replace(/\./g,e.dec));let f=["DD-SIMCA classification results","https://mda.tools/ddsimca/",...o].join(e.sep)+`

`;const a=new Blob([f+i],{type:"text/csv"}),c=window.URL.createObjectURL(a),u=document.createElement("a");u.setAttribute("href",c),u.setAttribute("download","ddsimca-results.csv"),u.click()}function Ou(l,e,t){let{model:n}=e,{simca:s}=e,{simcares:r}=e,{newset:o}=e;const i=[10,5,1,.1];function f(u){l.$$.not_equal(s.ncomp,u)&&(s.ncomp=u,t(0,s))}function a(u){l.$$.not_equal(s.alpha,u)&&(s.alpha=u,t(0,s))}const c=()=>Iu(r.new,o);return l.$$set=u=>{"model"in u&&t(1,n=u.model),"simca"in u&&t(0,s=u.simca),"simcares"in u&&t(2,r=u.simcares),"newset"in u&&t(3,o=u.newset)},l.$$.update=()=>{l.$$.dirty&1&&t(0,s.eCrit=s.Nf.map(u=>Wt(1-s.alpha/100,u)),s)},[s,n,r,o,i,f,a,c]}class Vu extends ie{constructor(e){super(),oe(this,e,Ou,Pu,ne,{model:1,simca:0,simcares:2,newset:3})}}const Nc="";function rr(l){let e,t,n,s,r;function o(a){l[8](a)}function i(a){l[9](a)}let f={WASM:l[0],model:l[1]};return l[3]!==void 0&&(f.dataset=l[3]),l[4]!==void 0&&(f.pcares=l[4]),t=new Eu({props:f}),te.push(()=>fe(t,"dataset",o)),te.push(()=>fe(t,"pcares",i)),{c(){e=F("div"),T(t.$$.fragment),p(e,"class","data-loader svelte-1mh5ixs")},m(a,c){w(a,e,c),M(t,e,null),r=!0},p(a,c){const u={};c&1&&(u.WASM=a[0]),c&2&&(u.model=a[1]),!n&&c&8&&(n=!0,u.dataset=a[3],ae(()=>n=!1)),!s&&c&16&&(s=!0,u.pcares=a[4],ae(()=>s=!1)),t.$set(u)},i(a){r||(g(t.$$.fragment,a),r=!0)},o(a){d(t.$$.fragment,a),r=!1},d(a){a&&b(e),L(t)}}}function or(l){let e,t,n,s;function r(i){l[10](i)}let o={model:l[1],simcares:l[5],newset:l[3]};return l[2]!==void 0&&(o.simca=l[2]),t=new Vu({props:o}),te.push(()=>fe(t,"simca",r)),{c(){e=F("div"),T(t.$$.fragment),p(e,"class","simca-settings svelte-1mh5ixs")},m(i,f){w(i,e,f),M(t,e,null),s=!0},p(i,f){const a={};f&2&&(a.model=i[1]),f&32&&(a.simcares=i[5]),f&8&&(a.newset=i[3]),!n&&f&4&&(n=!0,a.simca=i[2],ae(()=>n=!1)),t.$set(a)},i(i){s||(g(t.$$.fragment,i),s=!0)},o(i){d(t.$$.fragment,i),s=!1},d(i){i&&b(e),L(t)}}}function ir(l){let e,t,n;return t=new Bs({props:{simca:l[2]}}),{c(){e=F("div"),T(t.$$.fragment),p(e,"class","model-stats svelte-1mh5ixs")},m(s,r){w(s,e,r),M(t,e,null),n=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),t.$set(o)},i(s){n||(g(t.$$.fragment,s),n=!0)},o(s){d(t.$$.fragment,s),n=!1},d(s){s&&b(e),L(t)}}}function fr(l){let e,t,n;return t=new Lu({props:{simca:l[2],res:l[5]}}),{c(){e=F("div"),T(t.$$.fragment),p(e,"class","result-stats svelte-1mh5ixs")},m(s,r){w(s,e,r),M(t,e,null),n=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),r&32&&(o.res=s[5]),t.$set(o)},i(s){n||(g(t.$$.fragment,s),n=!0)},o(s){d(t.$$.fragment,s),n=!1},d(s){s&&b(e),L(t)}}}function Bu(l){let e=l[3],t,n,s=ar(l);return{c(){s.c(),t=ee()},m(r,o){s.m(r,o),w(r,t,o),n=!0},p(r,o){o&8&&ne(e,e=r[3])?(Z(),d(s,1,1,D),Q(),s=ar(r),s.c(),g(s,1),s.m(t.parentNode,t)):s.p(r,o)},i(r){n||(g(s),n=!0)},o(r){d(s),n=!1},d(r){r&&b(t),s.d(r)}}}function ju(l){let e;function t(r,o){if(!r[1])return Du;if(!r[3])return Yu}let n=t(l),s=n&&n(l);return{c(){e=F("div"),s&&s.c(),p(e,"class","help-text svelte-1mh5ixs")},m(r,o){w(r,e,o),s&&s.m(e,null)},p(r,o){n!==(n=t(r))&&(s&&s.d(1),s=n&&n(r),s&&(s.c(),s.m(e,null)))},i:D,o:D,d(r){r&&b(e),s&&s.d()}}}function ar(l){let e,t;return e=new qu({props:{simcares:l[5],simca:l[2]}}),{c(){T(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,s){const r={};s&32&&(r.simcares=n[5]),s&4&&(r.simca=n[2]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Yu(l){let e,t,n;return{c(){e=F("p"),e.innerHTML="<strong>Step 2</strong>",t=P(),n=F("p"),n.textContent=`Load new data from CSV file. Make sure that the data contains same number of variables
               as the training data. If you have labels of reference classes, make sure they are located
               in the first column (or in the second column if first column contains row labels) and mark
               this option before clicking "Load data".`,p(e,"class","svelte-1mh5ixs"),p(n,"class","svelte-1mh5ixs")},m(s,r){w(s,e,r),w(s,t,r),w(s,n,r)},d(s){s&&(b(e),b(t),b(n))}}}function Du(l){let e,t,n;return{c(){e=F("p"),e.innerHTML="<strong>Step 1.</strong>",t=P(),n=F("p"),n.textContent="Load DD-SIMCA model from file you downloaded in the training app.",p(e,"class","svelte-1mh5ixs"),p(n,"class","svelte-1mh5ixs")},m(s,r){w(s,e,r),w(s,t,r),w(s,n,r)},d(s){s&&(b(e),b(t),b(n))}}}function Wu(l){let e,t,n,s,r,o,i,f,a,c,u,m,_,h,y;function v(k){l[6](k)}function C(k){l[7](k)}let N={};l[1]!==void 0&&(N.model=l[1]),l[2]!==void 0&&(N.simca=l[2]),s=new ru({props:N}),te.push(()=>fe(s,"model",v)),te.push(()=>fe(s,"simca",C));let q=l[1]&&rr(l),E=l[1]&&l[2]&&l[3]&&or(l),R=l[2]&&l[3]&&ir(l),z=l[5]&&fr(l);const B=[ju,Bu],I=[];function S(k,$){return k[4]?1:0}return _=S(l),h=I[_]=B[_](l),{c(){e=F("div"),t=F("div"),n=F("div"),T(s.$$.fragment),i=P(),q&&q.c(),f=P(),E&&E.c(),a=P(),R&&R.c(),c=P(),z&&z.c(),u=P(),m=F("div"),h.c(),p(n,"class","model-loader svelte-1mh5ixs"),p(t,"class","app-controls svelte-1mh5ixs"),p(m,"class","app-content svelte-1mh5ixs"),p(e,"class","app-container svelte-1mh5ixs")},m(k,$){w(k,e,$),A(e,t),A(t,n),M(s,n,null),A(t,i),q&&q.m(t,null),A(t,f),E&&E.m(t,null),A(t,a),R&&R.m(t,null),A(t,c),z&&z.m(t,null),A(e,u),A(e,m),I[_].m(m,null),y=!0},p(k,[$]){const W={};!r&&$&2&&(r=!0,W.model=k[1],ae(()=>r=!1)),!o&&$&4&&(o=!0,W.simca=k[2],ae(()=>o=!1)),s.$set(W),k[1]?q?(q.p(k,$),$&2&&g(q,1)):(q=rr(k),q.c(),g(q,1),q.m(t,f)):q&&(Z(),d(q,1,1,()=>{q=null}),Q()),k[1]&&k[2]&&k[3]?E?(E.p(k,$),$&14&&g(E,1)):(E=or(k),E.c(),g(E,1),E.m(t,a)):E&&(Z(),d(E,1,1,()=>{E=null}),Q()),k[2]&&k[3]?R?(R.p(k,$),$&12&&g(R,1)):(R=ir(k),R.c(),g(R,1),R.m(t,c)):R&&(Z(),d(R,1,1,()=>{R=null}),Q()),k[5]?z?(z.p(k,$),$&32&&g(z,1)):(z=fr(k),z.c(),g(z,1),z.m(t,null)):z&&(Z(),d(z,1,1,()=>{z=null}),Q());let K=_;_=S(k),_===K?I[_].p(k,$):(Z(),d(I[K],1,1,()=>{I[K]=null}),Q(),h=I[_],h?h.p(k,$):(h=I[_]=B[_](k),h.c()),g(h,1),h.m(m,null))},i(k){y||(g(s.$$.fragment,k),g(q),g(E),g(R),g(z),g(h),y=!0)},o(k){d(s.$$.fragment,k),d(q),d(E),d(R),d(z),d(h),y=!1},d(k){k&&b(e),L(s),q&&q.d(),E&&E.d(),R&&R.d(),z&&z.d(),I[_].d()}}}function Hu(l,e,t){let{WASM:n}=e,s,r,o,i,f;function a(h){s=h,t(1,s)}function c(h){r=h,t(2,r),t(1,s)}function u(h){o=h,t(3,o),t(1,s)}function m(h){i=h,t(4,i),t(3,o),t(1,s)}function _(h){r=h,t(2,r),t(1,s)}return l.$$set=h=>{"WASM"in h&&t(0,n=h.WASM)},l.$$.update=()=>{l.$$.dirty&2&&s===null&&(t(2,r=null),t(3,o=null)),l.$$.dirty&8&&o===null&&(t(4,i=null),t(5,f=null)),l.$$.dirty&28&&(r&&o&&i?t(5,f={new:cn(i,o,r,r.className)}):t(5,f=null))},[n,s,r,o,i,f,a,c,u,m,_]}class Gu extends ie{constructor(e){super(),oe(this,e,Hu,Wu,ne,{WASM:0})}}const Uu="modulepreload",Ku=function(l){return"/"+l},ur={},Xu=function(e,t,n){return e()};var cr=(()=>{var l=Ze&&Ze.src||new URL("ddsimca.js",document.baseURI).href;return async function(e={}){var t=e,n,s;t.ready=new Promise((O,V)=>{n=O,s=V});var r=Object.assign({},t),o=typeof window=="object",i=typeof importScripts=="function",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",a="";function c(O){return t.locateFile?t.locateFile(O,a):a+O}var u,m,_;if(f){const{createRequire:O}=await Xu(()=>Promise.resolve().then(()=>xu),void 0);var h=O(Ze&&Ze.src||new URL("ddsimca.js",document.baseURI).href),y=h("fs"),v=h("path");i?a=v.dirname(a)+"/":a=h("url").fileURLToPath(new URL("./",self.location)),u=(V,G)=>(V=Fe(V)?new URL(V):v.normalize(V),y.readFileSync(V,G?void 0:"utf8")),_=V=>{var G=u(V,!0);return G.buffer||(G=new Uint8Array(G)),G},m=(V,G,X,de=!0)=>{V=Fe(V)?new URL(V):v.normalize(V),y.readFile(V,de?void 0:"utf8",(ge,me)=>{ge?X(ge):G(de?me.buffer:me)})},!t.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),t.inspect=()=>"[Emscripten Module object]"}else(o||i)&&(i?a=self.location.href:typeof document<"u"&&document.currentScript&&(a=document.currentScript.src),l&&(a=l),a.indexOf("blob:")!==0?a=a.substr(0,a.replace(/[?#].*/,"").lastIndexOf("/")+1):a="",u=O=>{var V=new XMLHttpRequest;return V.open("GET",O,!1),V.send(null),V.responseText},i&&(_=O=>{var V=new XMLHttpRequest;return V.open("GET",O,!1),V.responseType="arraybuffer",V.send(null),new Uint8Array(V.response)}),m=(O,V,G)=>{var X=new XMLHttpRequest;X.open("GET",O,!0),X.responseType="arraybuffer",X.onload=()=>{if(X.status==200||X.status==0&&X.response){V(X.response);return}G()},X.onerror=G,X.send(null)});t.print||console.log.bind(console);var C=t.printErr||console.error.bind(console);Object.assign(t,r),r=null,t.arguments&&t.arguments,t.thisProgram&&t.thisProgram,t.quit&&t.quit;var N;t.wasmBinary&&(N=t.wasmBinary),t.noExitRuntime,typeof WebAssembly!="object"&&Re("no native wasm support detected");var q,E=!1,R,z;function B(){var O=q.buffer;t.HEAP8=R=new Int8Array(O),t.HEAP16=new Int16Array(O),t.HEAPU8=z=new Uint8Array(O),t.HEAPU16=new Uint16Array(O),t.HEAP32=new Int32Array(O),t.HEAPU32=new Uint32Array(O),t.HEAPF32=new Float32Array(O),t.HEAPF64=new Float64Array(O)}var I=[],S=[],k=[];function $(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)ue(t.preRun.shift());Ne(I)}function W(){Ne(S)}function K(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)j(t.postRun.shift());Ne(k)}function ue(O){I.unshift(O)}function be(O){S.unshift(O)}function j(O){k.unshift(O)}var Y=0,re=null;function ve(O){Y++,t.monitorRunDependencies&&t.monitorRunDependencies(Y)}function ke(O){if(Y--,t.monitorRunDependencies&&t.monitorRunDependencies(Y),Y==0&&re){var V=re;re=null,V()}}function Re(O){t.onAbort&&t.onAbort(O),O="Aborted("+O+")",C(O),E=!0,O+=". Build with -sASSERTIONS for more info.";var V=new WebAssembly.RuntimeError(O);throw s(V),V}var Qe="data:application/octet-stream;base64,";function Je(O){return O.startsWith(Qe)}function Fe(O){return O.startsWith("file://")}var Pe;t.locateFile?(Pe="/ddsimca_alpha/ddsimca.wasm",Je(Pe)||(Pe=c(Pe))):Pe=new URL("/ddsimca_alpha/ddsimca.wasm",self.location).href;function He(O){if(O==Pe&&N)return new Uint8Array(N);if(_)return _(O);throw"both async and sync fetching of the wasm failed"}function Me(O){if(!N&&(o||i)){if(typeof fetch=="function"&&!Fe(O))return fetch(O,{credentials:"same-origin"}).then(V=>{if(!V.ok)throw"failed to load wasm binary file at '"+O+"'";return V.arrayBuffer()}).catch(()=>He(O));if(m)return new Promise((V,G)=>{m(O,X=>V(new Uint8Array(X)),G)})}return Promise.resolve().then(()=>He(O))}function Ve(O,V,G){return Me(O).then(X=>WebAssembly.instantiate(X,V)).then(X=>X).then(G,X=>{C(`failed to asynchronously prepare wasm: ${X}`),Re(X)})}function Ge(O,V,G,X){return!O&&typeof WebAssembly.instantiateStreaming=="function"&&!Je(V)&&!Fe(V)&&!f&&typeof fetch=="function"?fetch(V,{credentials:"same-origin"}).then(de=>{var ge=WebAssembly.instantiateStreaming(de,G);return ge.then(X,function(me){return C(`wasm streaming compile failed: ${me}`),C("falling back to ArrayBuffer instantiation"),Ve(V,G,X)})}):Ve(V,G,X)}function Ue(){var O={a:sc};function V(X,de){var ge=X.exports;return Ie=ge,q=Ie.d,B(),Ie.q,be(Ie.e),ke(),ge}ve();function G(X){V(X.instance)}if(t.instantiateWasm)try{return t.instantiateWasm(O,V)}catch(X){C(`Module.instantiateWasm callback failed with error: ${X}`),s(X)}return Ge(N,Pe,O,G).catch(s),{}}var Ne=O=>{for(;O.length>0;)O.shift()(t)},Be=()=>Date.now(),bt=(O,V,G)=>z.copyWithin(O,V,V+G),pt=()=>2147483648,gt=O=>{var V=q.buffer,G=(O-V.byteLength+65535)/65536;try{return q.grow(G),B(),1}catch{}},U=O=>{var V=z.length;O>>>=0;var G=pt();if(O>G)return!1;for(var X=($e,je)=>$e+(je-$e%je)%je,de=1;de<=4;de*=2){var ge=V*(1+.2/de);ge=Math.min(ge,O+100663296);var me=Math.min(G,X(Math.max(O,ge),65536)),we=gt(me);if(we)return!0}return!1},ce=O=>{var V=t["_"+O];return V},qe=(O,V)=>{R.set(O,V)},Ht=O=>{for(var V=0,G=0;G<O.length;++G){var X=O.charCodeAt(G);X<=127?V++:X<=2047?V+=2:X>=55296&&X<=57343?(V+=4,++G):V+=3}return V},Bt=(O,V,G,X)=>{if(!(X>0))return 0;for(var de=G,ge=G+X-1,me=0;me<O.length;++me){var we=O.charCodeAt(me);if(we>=55296&&we<=57343){var $e=O.charCodeAt(++me);we=65536+((we&1023)<<10)|$e&1023}if(we<=127){if(G>=ge)break;V[G++]=we}else if(we<=2047){if(G+1>=ge)break;V[G++]=192|we>>6,V[G++]=128|we&63}else if(we<=65535){if(G+2>=ge)break;V[G++]=224|we>>12,V[G++]=128|we>>6&63,V[G++]=128|we&63}else{if(G+3>=ge)break;V[G++]=240|we>>18,V[G++]=128|we>>12&63,V[G++]=128|we>>6&63,V[G++]=128|we&63}}return V[G]=0,G-de},mr=(O,V,G)=>Bt(O,z,V,G),ec=O=>{var V=Ht(O)+1,G=wn(V);return mr(O,G,V),G},_r=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,tc=(O,V,G)=>{for(var X=V+G,de=V;O[de]&&!(de>=X);)++de;if(de-V>16&&O.buffer&&_r)return _r.decode(O.subarray(V,de));for(var ge="";V<de;){var me=O[V++];if(!(me&128)){ge+=String.fromCharCode(me);continue}var we=O[V++]&63;if((me&224)==192){ge+=String.fromCharCode((me&31)<<6|we);continue}var $e=O[V++]&63;if((me&240)==224?me=(me&15)<<12|we<<6|$e:me=(me&7)<<18|we<<12|$e<<6|O[V++]&63,me<65536)ge+=String.fromCharCode(me);else{var je=me-65536;ge+=String.fromCharCode(55296|je>>10,56320|je&1023)}}return ge},nc=(O,V)=>O?tc(z,O,V):"",lc=(O,V,G,X,de)=>{var ge={string:Xe=>{var jt=0;return Xe!=null&&Xe!==0&&(jt=ec(Xe)),jt},array:Xe=>{var jt=wn(Xe.length);return qe(Xe,jt),jt}};function me(Xe){return V==="string"?nc(Xe):V==="boolean"?!!Xe:Xe}var we=ce(O),$e=[],je=0;if(X)for(var Ke=0;Ke<X.length;Ke++){var Pt=ge[G[Ke]];Pt?(je===0&&(je=pr()),$e[Ke]=Pt(X[Ke])):$e[Ke]=X[Ke]}var wt=we.apply(null,$e);function vn(Xe){return je!==0&&gr(je),me(Xe)}return wt=vn(wt),wt},sc={b:Be,c:bt,a:U},Ie=Ue();t._pcafit_wasm=(O,V,G,X,de,ge,me)=>(t._pcafit_wasm=Ie.f)(O,V,G,X,de,ge,me),t._malloc=O=>(t._malloc=Ie.g)(O),t._free=O=>(t._free=Ie.h)(O),t._pcapredict_wasm=(O,V,G,X,de)=>(t._pcapredict_wasm=Ie.i)(O,V,G,X,de),t._pcvpca_wasm=(O,V,G,X,de,ge,me,we,$e,je,Ke)=>(t._pcvpca_wasm=Ie.j)(O,V,G,X,de,ge,me,we,$e,je,Ke),t._pcrfit_wasm=(O,V,G,X,de,ge,me,we)=>(t._pcrfit_wasm=Ie.k)(O,V,G,X,de,ge,me,we),t._pcrpredict_wasm=(O,V,G,X,de)=>(t._pcrpredict_wasm=Ie.l)(O,V,G,X,de),t._pcvpcr_wasm=(O,V,G,X,de,ge,me,we,$e,je,Ke,Pt,wt)=>(t._pcvpcr_wasm=Ie.m)(O,V,G,X,de,ge,me,we,$e,je,Ke,Pt,wt),t._plsfit_wasm=(O,V,G,X,de,ge,me,we,$e)=>(t._plsfit_wasm=Ie.n)(O,V,G,X,de,ge,me,we,$e),t._plspredict_wasm=(O,V,G,X,de,ge,me)=>(t._plspredict_wasm=Ie.o)(O,V,G,X,de,ge,me),t._pcvpls_wasm=(O,V,G,X,de,ge,me,we,$e,je,Ke,Pt,wt,vn)=>(t._pcvpls_wasm=Ie.p)(O,V,G,X,de,ge,me,we,$e,je,Ke,Pt,wt,vn);var pr=()=>(pr=Ie.r)(),gr=O=>(gr=Ie.s)(O),wn=O=>(wn=Ie.t)(O);t.ccall=lc;var Gt;re=function O(){Gt||hr(),Gt||(re=O)};function hr(){if(Y>0||($(),Y>0))return;function O(){Gt||(Gt=!0,t.calledRun=!0,!E&&(W(),n(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),K()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),O()},1)):O()}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return hr(),e.ready}})();const Ac="";function Zu(l){let e,t,n,s,r,o,i,f,a,c,u,m,_,h,y,v,C,N,q,E;return m=new Xa({props:{WASM:cr}}),y=new Gu({props:{WASM:cr}}),{c(){e=F("div"),t=F("header"),n=F("div"),n.innerHTML='<img class="logo svelte-iq1n1r" alt="DD-SIMCA" src="logo.svg"/> <h1 class="svelte-iq1n1r">Data Driven SIMCA (DD-SIMCA)</h1> <p class="svelte-iq1n1r">Classify your data in your browser</p>',s=P(),r=F("ul"),o=F("li"),o.textContent="Train",i=P(),f=F("li"),f.textContent="Predict",a=P(),c=F("main"),u=F("div"),T(m.$$.fragment),_=P(),h=F("div"),T(y.$$.fragment),v=P(),C=F("footer"),C.innerHTML='<p class="svelte-iq1n1r">Theory and citation reference: <a class="paper-link svelte-iq1n1r" href="">xxx.xxx/xxx</a></p>',p(n,"class","header-group svelte-iq1n1r"),p(o,"class","nav-item svelte-iq1n1r"),De(o,"selected",l[0]==="train"),p(f,"class","nav-item svelte-iq1n1r"),De(f,"selected",l[0]==="predict"),p(r,"class","nav svelte-iq1n1r"),p(t,"class","page-header svelte-iq1n1r"),p(u,"class","train-app-container svelte-iq1n1r"),De(u,"hidden",l[0]!=="train"),p(h,"class","predict-app-container svelte-iq1n1r"),De(h,"hidden",l[0]!=="predict"),p(c,"class","svelte-iq1n1r"),p(C,"class","svelte-iq1n1r"),p(e,"class","page svelte-iq1n1r")},m(R,z){w(R,e,z),A(e,t),A(t,n),A(t,s),A(t,r),A(r,o),A(r,i),A(r,f),A(e,a),A(e,c),A(c,u),M(m,u,null),l[5](u),A(c,_),A(c,h),M(y,h,null),l[6](h),A(e,v),A(e,C),N=!0,q||(E=[ze(o,"click",l[3]),ze(f,"click",l[4])],q=!0)},p(R,[z]){(!N||z&1)&&De(o,"selected",R[0]==="train"),(!N||z&1)&&De(f,"selected",R[0]==="predict"),(!N||z&1)&&De(u,"hidden",R[0]!=="train"),(!N||z&1)&&De(h,"hidden",R[0]!=="predict")},i(R){N||(g(m.$$.fragment,R),g(y.$$.fragment,R),N=!0)},o(R){d(m.$$.fragment,R),d(y.$$.fragment,R),N=!1},d(R){R&&b(e),L(m),l[5](null),L(y),l[6](null),q=!1,et(E)}}}function Qu(l,e,t){let n="train",s,r;function o(c){t(0,n="train")}function i(c){t(0,n="predict")}function f(c){te[c?"unshift":"push"](()=>{s=c,t(1,s)})}function a(c){te[c?"unshift":"push"](()=>{r=c,t(2,r)})}return[n,s,r,o,i,f,a]}class Ju extends ie{constructor(e){super(),oe(this,e,Qu,Zu,ne,{})}}new Ju({target:document.body});const xu=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=ddsimca.js.map
