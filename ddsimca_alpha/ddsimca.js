var hm=Object.defineProperty;var dm=(_t,tt,H)=>tt in _t?hm(_t,tt,{enumerable:!0,configurable:!0,writable:!0,value:H}):_t[tt]=H;var rt=(_t,tt,H)=>(dm(_t,typeof tt!="symbol"?tt+"":tt,H),H);(function(){"use strict";var _t=document.createElement("style");_t.textContent=`button.svelte-12b8cv0{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-12b8cv0:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}button.svelte-2vapqe{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-2vapqe:hover{background-color:#dc143c}.control-element.svelte-1ybd854{font-size:.85em;background:#fff;padding:.35em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-1ybd854:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-1ybd854:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-1ybd854{display:none}.control-element.error.svelte-1ybd854{background:crimson;color:#fefefe}.label.svelte-1ybd854{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-1ybd854>.wrapper{flex:1 1}.control-element.svelte-1ybd854>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-1ybd854>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:.3em 0;margin:0}.range-slider-container.svelte-pjrnyj{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-pjrnyj{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;background:#6EB8FF;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-pjrnyj{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.spinner.svelte-1jycdl0{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-1jycdl0:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-1jycdl0-spinner 1.2s linear infinite}@keyframes svelte-1jycdl0-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.file-selector>.option{width:36px;height:24px;background-size:32px 20px;background-repeat:no-repeat;background-position:50%;font-size:0;border-radius:2px;margin-right:2px}.file-selector>.option:not(.selected):hover{border-color:#6eb8ff20}.file-selector .option_bp{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23606060" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23606060" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23606060" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_bp.selected:hover,.file-selector .option_bp.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23fefefe" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23fefefe" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23fefefe" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_bp:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%236EB8FF" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%236EB8FF" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%236EB8FF" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_hm{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23606060" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23606060" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23606060" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_hm.selected:hover,.file-selector .option_hm.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23fefefe" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_hm:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%236EB8FF" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_l{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_l.selected:hover,.file-selector .option_l.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_l:hover{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p.selected:hover,.file-selector .option_p.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p:hover{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h.selected:hover,.file-selector .option_h.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h:hover{background-image:url(data:image/svg+xml;utf8,)}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}.button-outlier.svelte-dhzh2h button{color:#fff;border-color:#dc143c;background:crimson}.button-outlier.svelte-dhzh2h button:hover{background:#DC143C20;border-color:#dc143c80;color:#dc143c}.buttons.svelte-dhzh2h{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}.plot-container.svelte-dhzh2h{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-dhzh2h{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-dhzh2h{padding:0 .25em 0 .5em}.plot-selector.svelte-dhzh2h{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-dhzh2h:hover{background:#e0e0e0;color:#403020}div.plot-container.off-screen{position:absolute;top:0;left:50%;width:650px;height:600px;background:white;z-index:999}@media (min-width:1100px){.plot-container.svelte-dhzh2h{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-dhzh2h{grid-template-columns:1fr minmax(300px,30%)}}.plot-container.svelte-iey6d1{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0}.plot_error.svelte-iey6d1{display:flex;justify-content:center;align-items:center}.message_error.svelte-iey6d1{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-iey6d1{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-iey6d1{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}text.svelte-131ks7u,text.svelte-131ks7u>tspan{cursor:default;-webkit-user-select:none;user-select:none;dominant-baseline:middle}text.svelte-12moot9,text.svelte-12moot9>tspan{dominant-baseline:middle;text-anchor:middle;cursor:default;-webkit-user-select:none;user-select:none}.plot-container.svelte-1aze4qe{width:100%;height:calc(100% - 15px)}.msg-select.svelte-1aze4qe{height:15px;font-size:12px;color:#aaa;text-align:center}.outliers.svelte-4rlpf1{line-height:2em;text-align:center;flex:0 0 80%}.outliers.svelte-4rlpf1>span{color:#dc143c;background:#DC143C20;padding:.25em .5em;margin:0 .1em;border-radius:.2em}.app-container.svelte-1kl15v.svelte-1kl15v{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1kl15v.svelte-1kl15v{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1kl15v.svelte-1kl15v{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-1kl15v>div.svelte-1kl15v{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1kl15v.svelte-1kl15v{margin-top:.25rem}.help-text.svelte-1kl15v>p.svelte-1kl15v,.help-text.svelte-1kl15v>div.svelte-1kl15v{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1kl15v table.svelte-1kl15v{border-collapse:collapse}.help-text.svelte-1kl15v table td.svelte-1kl15v{padding:.25em .5em;background:#e0f0fa;text-align:right;border:1px solid white}.help-text.svelte-1kl15v table tr:first-child td.svelte-1kl15v{font-weight:700;background:#f8f4e0}.help-text.svelte-1kl15v table td.svelte-1kl15v:first-child{font-weight:700;background:#f8f4e0;padding-right:1em}.help-text.svelte-1kl15v table td.svelte-1kl15v:nth-child(2){background:#e0e8f0;padding-right:1em}.help-text.svelte-1kl15v>p.svelte-1kl15v:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1kl15v>p.svelte-1kl15v:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1kl15v.svelte-1kl15v{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1kl15v.svelte-1kl15v{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1kl15v.svelte-1kl15v{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}@media (min-width:1300px){.app-container.svelte-1kl15v.svelte-1kl15v{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1kl15v.svelte-1kl15v{grid-template-columns:min(320px,30%) 1fr}}.modelInfo.svelte-19exump{line-height:1.5em}.modelInfo.svelte-19exump>span{vertical-align:top}.modelName.svelte-19exump,.className.svelte-19exump{display:inline-block;padding:0;margin:0;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch}table.svelte-kg0b31{width:100%;border-collapse:collapse}tr.svelte-kg0b31{width:100%}th.svelte-kg0b31{border-bottom:1px solid #a0a0a0}th.svelte-kg0b31,td.svelte-kg0b31{text-align:right;padding:.2em .5em .2em .1em;color:#404040;margin:0}.label.svelte-kg0b31{text-align:left;padding:.1em .5em}.app-container.svelte-1lragme.svelte-1lragme{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1lragme.svelte-1lragme{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1lragme.svelte-1lragme{box-sizing:border-box;padding:.25em}.app-controls.svelte-1lragme>div.svelte-1lragme{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1lragme.svelte-1lragme{margin-top:.25rem}.help-text.svelte-1lragme>p.svelte-1lragme{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1lragme>p.svelte-1lragme:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1lragme>p.svelte-1lragme:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1lragme.svelte-1lragme{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1lragme.svelte-1lragme{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1lragme.svelte-1lragme{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}@media (min-width:1300px){.app-container.svelte-1lragme.svelte-1lragme{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1lragme.svelte-1lragme{grid-template-columns:min(320px,30%) 1fr}}.page.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{width:100%;height:100%;margin:0 auto;padding:0;min-width:1020px;min-height:590px;max-width:1600px;display:flex;flex-direction:column}.page.svelte-zx03ih>header.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{display:flex;justify-content:flex-start;flex-direction:row;background:#f8f6f4}.header-group.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{width:min-content;margin:0 0 0 .25rem;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-zx03ih>h1.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-zx03ih>p.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}.page.svelte-zx03ih>main.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0}.page.svelte-zx03ih>main.svelte-zx03ih>div.svelte-zx03ih.svelte-zx03ih{height:100%}.page.svelte-zx03ih>footer.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}.page.svelte-zx03ih>footer p.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{max-width:800px;text-align:center;margin:0 auto;padding:.15em}.page.svelte-zx03ih>footer span.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih,.page.svelte-zx03ih>footer a.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{color:#f8ebc5}.hidden.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{display:none}.nav.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih,.nav.svelte-zx03ih .svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{-webkit-user-select:none;user-select:none;-moz-user-select:none}.nav.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{display:flex;flex-direction:row;justify-content:flex-end;list-style:none;margin:0 100px 0 auto;padding:0;align-self:flex-end}.nav-item.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{list-style:none;margin:0 2px;border-bottom:5px solid transparent}.nav-item.svelte-zx03ih>button.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{cursor:pointer;padding:.5em 1em;border:none;box-shadow:none;background:transparent;font-size:inherit}.nav-item.svelte-zx03ih>button.svelte-zx03ih>span.svelte-zx03ih.svelte-zx03ih{color:#888}.nav-item.selected.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{border-bottom:5px solid #80888f}.nav-item.selected.svelte-zx03ih>button.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{font-weight:700;cursor:default}.nav-item.selected.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih:hover{border-bottom:5px solid #80888f}@media (min-width: 1600px){.page.svelte-zx03ih>header.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.page.svelte-zx03ih>footer.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{border-top-right-radius:.25rem;border-top-left-radius:.25rem}}.button-info.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{cursor:pointer;border:none;box-shadow:none;background:transparent;font-weight:700;color:#4e5052;border-radius:.2em;padding:.25em .5em;text-align:center;line-height:1em;margin-left:.25em;margin-right:.5em;background-color:#f8ebc5}.info-backdrop.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000a0;z-index:100;display:flex;justify-content:center;align-items:flex-start}.info-container.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{position:relative;top:10%;width:100%;max-width:800px;max-height:600px;background-color:#f8f6f4;border-radius:.25rem;padding:1rem;z-index:101}.info-container.svelte-zx03ih>p.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{font-size:1.15em;line-height:1.35em;padding:0 1em .5em;margin:0}.info-container.svelte-zx03ih>.release-info.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{font-size:1em;color:gray;line-height:1.25em;padding:0 1.2em .5em;margin:0}.info-container.svelte-zx03ih>h2.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{font-size:1.5em;line-height:1.25em;padding:.5em 1rem;margin:0}.info-container.svelte-zx03ih>h3.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{font-size:1.15em;line-height:1.25em;padding:1rem 1em .25em;margin:0}.info-container.svelte-zx03ih>ul.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{margin:0}.info-container.svelte-zx03ih>ul.svelte-zx03ih>li.svelte-zx03ih.svelte-zx03ih{font-size:1.15em;line-height:1.25em;padding:0 .5em .25em 0;margin:0}.info-container.svelte-zx03ih>ul.svelte-zx03ih>li.svelte-zx03ih>span.svelte-zx03ih{font-size:.9em;color:gray;line-height:1.25em;padding:0 .25em;margin:0}.info-container.svelte-zx03ih a.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{color:#ae8032}.info-container.svelte-zx03ih a.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih:hover{color:#eb9707}.info-close-button.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px}.info-close-button.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih:hover{background-color:#4e5052}.info-container.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih.svelte-zx03ih:last-child{padding-bottom:2rem}
`,document.head.appendChild(_t);var tt=typeof document<"u"?document.currentScript:null;function H(){}function mo(l,e){for(const t in e)l[t]=e[t];return l}function _o(l){return!!l&&(typeof l=="object"||typeof l=="function")&&typeof l.then=="function"}function Sn(l){return l()}function Tn(){return Object.create(null)}function ot(l){l.forEach(Sn)}function Rn(l){return typeof l=="function"}function se(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}function po(l){return Object.keys(l).length===0}function go(l,...e){if(l==null){for(const n of e)n(void 0);return H}const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function oe(l,e,t){l.$$.on_destroy.push(go(e,t))}function Nt(l,e,t,n){if(l){const s=On(l,e,t,n);return l[0](s)}}function On(l,e,t,n){return l[1]&&n?mo(t.ctx.slice(),l[1](n(e))):t.ctx}function Mt(l,e,t,n){if(l[2]&&n){const s=l[2](n(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],o=Math.max(e.dirty.length,s.length);for(let i=0;i<o;i+=1)r[i]=e.dirty[i]|s[i];return r}return e.dirty|s}return e.dirty}function Lt(l,e,t,n,s,r){if(s){const o=On(e,t,n,r);l.p(o,s)}}function zt(l){if(l.ctx.length>32){const e=[],t=l.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function C(l,e){l.appendChild(e)}function y(l,e,t){l.insertBefore(e,t||null)}function k(l){l.parentNode&&l.parentNode.removeChild(l)}function Ge(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function F(l){return document.createElement(l)}function _e(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function G(l){return document.createTextNode(l)}function V(){return G(" ")}function ee(){return G("")}function Le(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function ho(l){return function(e){return e.preventDefault(),l.call(this,e)}}function _(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function bo(l){return Array.from(l.childNodes)}function ae(l,e){e=""+e,l.data!==e&&(l.data=e)}function In(l,e){l.value=e??""}function We(l,e,t,n){t==null?l.style.removeProperty(e):l.style.setProperty(e,t,n?"important":"")}function Be(l,e,t){l.classList.toggle(e,!!t)}function wo(l,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(l,{detail:e,bubbles:t,cancelable:n})}class Pn{constructor(e=!1){rt(this,"is_svg",!1);rt(this,"e");rt(this,"n");rt(this,"t");rt(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=_e(t.nodeName):this.e=F(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)y(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(k)}}function Wt(l,e){return new l(e)}let Ft;function ct(l){Ft=l}function St(){if(!Ft)throw new Error("Function called outside component initialization");return Ft}function vo(l){St().$$.on_mount.push(l)}function ko(l){St().$$.on_destroy.push(l)}function Ht(){const l=St();return(e,t,{cancelable:n=!1}={})=>{const s=l.$$.callbacks[e];if(s){const r=wo(e,t,{cancelable:n});return s.slice().forEach(o=>{o.call(l,r)}),!r.defaultPrevented}return!0}}function yo(l,e){return St().$$.context.set(l,e),e}function Xe(l){return St().$$.context.get(l)}function Gt(l,e){const t=l.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const Tt=[],Z=[];let Rt=[];const ln=[],Co=Promise.resolve();let sn=!1;function Eo(){sn||(sn=!0,Co.then(fn))}function rn(l){Rt.push(l)}function le(l){ln.push(l)}const on=new Set;let Ot=0;function fn(){if(Ot!==0)return;const l=Ft;do{try{for(;Ot<Tt.length;){const e=Tt[Ot];Ot++,ct(e),Ao(e.$$)}}catch(e){throw Tt.length=0,Ot=0,e}for(ct(null),Tt.length=0,Ot=0;Z.length;)Z.pop()();for(let e=0;e<Rt.length;e+=1){const t=Rt[e];on.has(t)||(on.add(t),t())}Rt.length=0}while(Tt.length);for(;ln.length;)ln.pop()();sn=!1,on.clear(),ct(l)}function Ao(l){if(l.fragment!==null){l.update(),ot(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(rn)}}function No(l){const e=[],t=[];Rt.forEach(n=>l.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Rt=e}const Ut=new Set;let bt;function K(){bt={r:0,c:[],p:bt}}function X(){bt.r||ot(bt.c),bt=bt.p}function p(l,e){l&&l.i&&(Ut.delete(l),l.i(e))}function d(l,e,t,n){if(l&&l.o){if(Ut.has(l))return;Ut.add(l),bt.c.push(()=>{Ut.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}function pt(l,e){const t=e.token={};function n(s,r,o,i){if(e.token!==t)return;e.resolved=i;let f=e.ctx;o!==void 0&&(f=f.slice(),f[o]=i);const a=s&&(e.current=s)(f);let c=!1;e.block&&(e.blocks?e.blocks.forEach((u,m)=>{m!==r&&u&&(K(),d(u,1,1,()=>{e.blocks[m]===u&&(e.blocks[m]=null)}),X())}):e.block.d(1),a.c(),p(a,1),a.m(e.mount(),e.anchor),c=!0),e.block=a,e.blocks&&(e.blocks[r]=a),c&&fn()}if(_o(l)){const s=St();if(l.then(r=>{ct(s),n(e.then,1,e.value,r),ct(null)},r=>{if(ct(s),n(e.catch,2,e.error,r),ct(null),!e.hasCatch)throw r}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,l),!0;e.resolved=l}}function Kt(l,e,t){const n=e.slice(),{resolved:s}=l;l.current===l.then&&(n[l.value]=s),l.current===l.catch&&(n[l.error]=s),l.block.p(n,t)}function ke(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function Mo(l,e){l.d(1),e.delete(l.key)}function Lo(l,e,t,n,s,r,o,i,f,a,c,u){let m=l.length,g=r.length,h=m;const v={};for(;h--;)v[l[h].key]=h;const w=[],b=new Map,E=new Map,T=[];for(h=g;h--;){const N=u(s,r,h),L=t(N);let q=o.get(L);q?n&&T.push(()=>q.p(N,e)):(q=a(L,N),q.c()),b.set(L,w[h]=q),L in v&&E.set(L,Math.abs(h-v[L]))}const z=new Set,A=new Set;function S(N){p(N,1),N.m(i,c),o.set(N.key,N),c=N.first,g--}for(;m&&g;){const N=w[g-1],L=l[m-1],q=N.key,M=L.key;N===L?(c=N.first,m--,g--):b.has(M)?!o.has(q)||z.has(q)?S(N):A.has(M)?m--:E.get(q)>E.get(M)?(A.add(q),S(N)):(z.add(M),m--):(f(L,o),m--)}for(;m--;){const N=l[m];b.has(N.key)||f(N,o)}for(;g;)S(w[g-1]);return ot(T),w}function ne(l,e,t){const n=l.$$.props[e];n!==void 0&&(l.$$.bound[n]=t,t(l.$$.ctx[n]))}function I(l){l&&l.c()}function R(l,e,t){const{fragment:n,after_update:s}=l.$$;n&&n.m(e,t),rn(()=>{const r=l.$$.on_mount.map(Sn).filter(Rn);l.$$.on_destroy?l.$$.on_destroy.push(...r):ot(r),l.$$.on_mount=[]}),s.forEach(rn)}function O(l,e){const t=l.$$;t.fragment!==null&&(No(t.after_update),ot(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function zo(l,e){l.$$.dirty[0]===-1&&(Tt.push(l),Eo(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function ue(l,e,t,n,s,r,o=null,i=[-1]){const f=Ft;ct(l);const a=l.$$={fragment:null,ctx:[],props:r,update:H,not_equal:s,bound:Tn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:Tn(),dirty:i,skip_bound:!1,root:e.target||f.$$.root};o&&o(a.root);let c=!1;if(a.ctx=t?t(l,e.props||{},(u,m,...g)=>{const h=g.length?g[0]:m;return a.ctx&&s(a.ctx[u],a.ctx[u]=h)&&(!a.skip_bound&&a.bound[u]&&a.bound[u](h),c&&zo(l,u)),m}):[],a.update(),c=!0,ot(a.before_update),a.fragment=n?n(a.ctx):!1,e.target){if(e.hydrate){const u=bo(e.target);a.fragment&&a.fragment.l(u),u.forEach(k)}else a.fragment&&a.fragment.c();e.intro&&p(l.$$.fragment),R(l,e.target,e.anchor),fn()}ct(f)}class ce{constructor(){rt(this,"$$");rt(this,"$$set")}$destroy(){O(this,1),this.$destroy=H}$on(e,t){if(!Rn(t))return H;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!po(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const So="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(So);function qn(l){if(Me(l))return qn(l.v);const e=new he.valuesConstructor(l.length-1);for(let t=0;t<l.length-1;t++)e[t]=l[t+1]-l[t];return new he(e)}function Fn(l,e){if(e===void 0&&(e=!1),Me(l))return Fn(l.v);const t=jt(l);let n=0;for(let s=0;s<l.length;s++){const r=l[s]-t;n=n+r*r}return n/(e?l.length:l.length-1)}function jt(l){return Me(l)?jt(l.v):jn(l)/l.length}function jn(l){if(Me(l))return jn(l.v);let e=0;for(let t=0;t<l.length;t++)e=e+l[t];return e}function Vn(l){if(Me(l))return Vn(l.v);let e=1;for(let t=0;t<l.length;t++)e=e*l[t];return e}function It(l){return Me(l)||it(l)?l.v[an(l.v)-1]:l[an(l)-1]}function an(l){if(Me(l)||it(l))return an(l.v);let e=1,t=l[0];for(let n=2;n<=l.length;n++)l[n-1]<t&&(e=n,t=l[n-1]);return e}function Oe(l){return Me(l)||it(l)?l.v[un(l.v)-1]:l[un(l)-1]}function un(l){if(Me(l)||it(l))return un(l.v);let e=1,t=l[0];for(let n=2;n<=l.length;n++)l[n-1]>t&&(e=n,t=l[n-1]);return e}function Yn(l,e){if(Me(l))return Yn(l.v,e);const t=l.reduce((n,s)=>Math.abs(s-e)<Math.abs(n-e)?s:n);return l.indexOf(t)+1}const cn=30,To=1e-7;function Dn(l,e=0,t=1){let n=he.zeros(l);for(let s=0;s<l;s++)n.v[s]=e+Math.random()*(t-e);return n}function $n(l,e=0,t=1){let n=he.zeros(l);for(let s=0;s<l;s++){const r=Math.sqrt(-2*Math.log(Math.random())),o=2*Math.PI*Math.random();n.v[s]=r*Math.sin(o)*t+e}return n}function mn(l,e=0,t=1){if(Me(l))return l.apply(s=>mn(s,e,t));const n=1/(Math.sqrt(2)*t);return .5*(1+Oo((l-e)*n))}function Xt(l,e=0,t=1){if(Me(l))return l.apply(D=>Xt(D,e,t));if(e!==0||t!==1)return Xt(l)*t+e;if(l<0||l>1)throw Error('Parameter "p" must be between 0 and 1.');if(l<1e-10)return-1/0;if(l>.9999999999)return 1/0;const n=.425,s=5,r=.180625,o=1.6,i=3.3871327179,f=5.0434271938*10,a=1.5929113202*100,c=5.910937472*10,u=1.7895169469*10,m=7.8757757664*10,g=6.71875636*10,h=1.4234372777,v=2.75681539,w=1.3067284816,b=1.7023821103*.1,E=7.370016425*.1,T=1.2021132975*.1,z=6.657905115,A=3.081226386,S=4.2868294337*.1,N=1.7337203997*.01,L=2.4197894225*.1,q=1.2258202635*.01,M=l-.5;let j;if(Math.abs(M)<=n)return j=r-M*M,M*(((c*j+a)*j+f)*j+i)/(((g*j+m)*j+u)*j+1);j=M<0?l:1-l,j=Math.sqrt(-Math.log(j));let P;return j<=s?(j=j-o,P=(((b*j+w)*j+v)*j+h)/((T*j+E)*j+1)):(j=j-s,P=((N*j+S)*j+A+z)/((q*j+L)*j+1)),M<0?-P:P}function _n(l,e){if(Array.isArray(l))return _n(Ie(l),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),n=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(n);function r(f){if(f===0)return 0;if(e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30)return 1;const a=f/e,c=Math.pow(a,1/6)-.5*Math.pow(a,1/3)+1/3*Math.pow(a,1/2);return mn(c,t,s)}function o(f){return f===0?0:e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30?1:Ro(f/2,e/2)/Vt(e/2)}const i=e>cn?r:o;return Me(l)?l.apply(i):i(l)}function wt(l,e){if(Array.isArray(l))return wt(Ie(l),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),n=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(n);function r(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;const a=Xt(f,t,s),c=Math.pow(Math.sqrt(36*a*a-30*a+13)/4+(3*a-3/2)/2+1/8,1/3);return Math.pow(c-3/(4*c)+.5,6)*e}function o(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;let a=0,c=cn*10,u=c/30;for(let m=0;m<30;m++){const g=he.seq(a,c,u),h=_n(g,e),v=Yn(h,f)-1;if(Math.abs(h.v[v]-f)<To)return g.v[v];if(a=v==0?g.v[0]:g.v[v-1],c=v==g.v.length-1?g.v[v]:g.v[v+1],a==c)return a;u=(c-a)/30}return(c+a)/2}const i=e>cn?r:o;return Me(l)?l.apply(i):i(l)}function Vt(l){if(Me(l))return l.apply(Vt);if(l<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(l<.5)return Math.PI/(Math.sin(Math.PI*l)+Vt(1-l));l=l-1;let t=.9999999999998099;for(let s=0;s<e.length;s++)t=t+e[s]/(l+s+1);const n=l+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(n,l+.5)*Math.exp(-n)*t}function Ro(l,e){let s=0;for(let r=0;r<1e4;r++){const o=Math.pow(l,r)/Vt(e+r+1);if(isNaN(o)||o<1e-18)break;s+=o}return Math.pow(l,e)*Vt(e)*Math.exp(-l)*s}function Oo(l){const e=l>=0?1:-1;l=Math.abs(l);const t=.254829592,n=-.284496736,s=1.421413741,r=-1.453152027,o=1.061405429,f=1/(1+.3275911*l),a=1-((((o*f+r)*f+s)*f+n)*f+t)*f*Math.exp(-l*l);return e*a}function Bn(l){const e=l.nrows,t=l.ncols;if(e<t){const o=Bn(l.subset([],Ze.seq(1,e)));return{Q:o.Q,R:Po(o.Q,l)}}let n=gt.eye(e),s=l.t();for(let o=1;o<=t;o++)for(let i=e;i>=o+1;i--){const f=s.v.subarray((i-2)*t,i*t),a=n.v.subarray((i-2)*e,i*e),c=f.slice(),u=a.slice(),[m,g,h]=Io(c[o-1],c[o-1+t]);for(let v=0;v<t;v++)f[v]=c[v]*m+c[v+t]*g,f[v+t]=c[v]*-g+c[v+t]*m,a[v]=u[v]*m+u[v+e]*g,a[v+e]=u[v]*-g+u[v+e]*m;for(let v=t;v<e;v++)a[v]=u[v]*m+u[v+e]*g,a[v+e]=u[v]*-g+u[v+e]*m}const r=Ze.seq(1,t);return{Q:e===t?n:n.subset([],r),R:e===t?s.t():s.subset([],r).t()}}function Io(l,e){if(l==0)return[0,1,e];if(Math.abs(l)>Math.abs(e)){const r=e/l,o=Math.sqrt(1+r*r),i=1/o;return[i,r*i,l*o]}const t=l/e,n=Math.sqrt(1+t*t),s=1/n;return[t*s,s,e*n]}function Wn(l){return typeof l=="number"}function Po(l,e){if(e===void 0&&(e=l),!vt(l)||!vt(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const t=l.nrows,n=l.ncols,s=e.nrows,r=e.ncols,o=n,i=r,f=t,a=new Float64Array(o*i);for(let c=0;c<i;c++){const u=e.v.subarray(c*s,(c+1)*s),m=a.subarray(c*o,(c+1)*o);for(let g=0;g<o;g++){const h=l.v.subarray(g*t,(g+1)*t);let v=0;for(let w=0;w<f;w++)v+=h[w]*u[w];m[g]=v}}return new gt(a,o,i)}function Hn(l,e,t){if(t===void 0){if(e!==l.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new he(l.v)}if(l.v.length!==e*t)throw Error("reshape: provided dimension does not match number of values in the object.");return new gt(l.v,e,t)}function vt(l){return l&&l.constructor===gt}const be=class be{constructor(e,t,n){if(!ArrayBuffer.isView(e)||e.constructor!==be.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(t===0||n===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==t*n)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=t,this.ncols=n}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return be.diagm(this.diag().apply(f=>Math.abs(f)>Number.EPSILON?1/f:x));const n=be.eye(e),s=be.eye(e),r=this.t(),o=r.v[(e-1)*e+(e-1)],i=e-1;for(let f=0;f<e;f++)s.v[i*e+f]=n.v[i*e+f]/o;for(let f=e-2;f>=0;f--){let a=n.getcolumn(f+1);const c=r.getcolref(f+1);for(let u=f+1;u<e;u++){const m=s.getcolumn(u+1);a=a.subtract(m.mult(c[u]))}s.v.set(a.divide(c[f]).v,f*e)}return s.t()}if(this.islowertriangular()){const n=this.diag();if(Vn(n)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const s=be.eye(e),r=be.eye(e),o=this.t(),i=0,f=o.v[0];for(let a=0;a<e;a++)r.v[i*e+a]=s.v[i*e+a]/f;for(let a=1;a<e;a++){let c=s.getcolumn(a+1);const u=o.getcolref(a+1);for(let m=0;m<a;m++){const g=r.getcolumn(m+1);c=c.subtract(g.mult(u[m]))}r.v.set(c.divide(u[a]).v,a*e)}return r.t()}const t=Bn(this);if(!t.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return t.R.inv().dot(t.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let t=0;t<e;t++)if(Math.abs(this.v[e*this.nrows+t])>be.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let t=e+1;t<this.nrows;t++)if(Math.abs(this.v[e*this.nrows+t])>be.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),t=new Float64Array(e);for(let n=0;n<e;n++)t[n]=this.getcolref(n+1)[n];return new he(t)}t(){const e=this.nrows,t=this.ncols,n=new be.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let s=0;s<this.ncols;s++){const r=this.v.subarray(s*this.nrows,(s+1)*this.nrows);for(let o=0;o<this.nrows;o++)n[o*t+s]=r[o]}return new be(n,t,e)}for(let s=0;s<this.nrows;s++){const r=n.subarray(s*t,(s+1)*t);for(let o=0;o<this.ncols;o++)r[o]=this.v[o*this.nrows+s]}return new be(n,t,e)}dot(e){if(Me(e))return new be(hn(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(vt(e))return new be(hn(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,t,n){if(vt(e))return new be(pn(this.v,e.v,t),this.nrows,this.ncols);if(Wn(e))return new be(gn(this.v,e,t),this.nrows,this.ncols);if(!Me(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(n===void 0&&(n=e.length===this.ncols?2:1),n===2&&e.length===this.ncols){const s=new be.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)s.set(gn(this.getcolref(r+1),e.v[r],t),r*this.nrows);return new be(s,this.nrows,this.ncols)}if(n===1&&e.length===this.nrows){const s=new be.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)s.set(pn(this.getcolref(r+1),e.v,t),r*this.nrows);return new be(s,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e,t){if(t===void 0&&(t=2),t==2){const n=this.ncols,s=new be.valuesConstructor(n);for(let r=0;r<n;r++)s[r]=e(this.getcolref(r+1));return new he(s)}if(t==1)return this.t().apply(e,2);if(t==0){const n=this.v.length,s=new be.valuesConstructor(n);for(let r=0;r<n;r++)s[r]=e(this.v[r]);return new be(s,this.nrows,this.ncols)}}replace(e,t,n){typeof t=="number"&&(t=[t]),t.length===0&&(t=Ze.seq(1,this.nrows)),it(t)||(t=ft(t)),typeof n=="number"&&(n=[n]),n.length===0&&(n=Ze.seq(1,this.ncols)),it(n)||(n=ft(n));const s=t.length,r=n.length;if(It(t)<1||Oe(t)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(It(n)<1||Oe(n)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==s||e.ncols!==r)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let o=0;o<n.length;o++){const i=e.getcolref(o+1),f=(n.v[o]-1)*this.nrows;for(let a=0;a<t.length;a++){const c=t.v[a];this.v[f+c-1]=i[a]}}return this}copy(){return new be(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const t=new he.valuesConstructor(this.ncols);for(let n=0;n<this.ncols;n++)t[n]=this.getcolref(n+1)[e-1];return new he(t)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new he(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,t){if(typeof e=="number"&&(e=ft([e])),typeof t=="number"&&(t=ft([t])),Array.isArray(e)&&(e=e.length===0?null:ft(e)),Array.isArray(t)&&(t=t.length===0?null:ft(t)),e!==null&&!it(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(t!==null&&!it(t))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(It(e)<1||Oe(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(t!==null&&(It(t)<1||Oe(t)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const i=t.length,f=this.nrows,a=new be.valuesConstructor(f*i);for(let c=0;c<t.length;c++)a.set(this.v.slice((t.v[c]-1)*this.nrows,t.v[c]*this.nrows),c*this.nrows);return new be(a,f,i)}if(t==null)return this.t().subset(t,e).t();const n=e.length,s=t.length,r=new be.valuesConstructor(n*s);let o=new be.valuesConstructor(n);for(let i=0;i<s;i++){const f=this.v.subarray((t.v[i]-1)*this.nrows,t.v[i]*this.nrows);for(let a=0;a<n;a++)o[a]=f[e.v[a]-1];r.set(o,i*n)}return new be(r,n,s)}toString(e){function t(o,i){return" ".repeat(i-o.length)+o}e===void 0&&(e=2),this.ncols;const n=Math.round(Math.abs(Math.log10(Oe(this.v))))+e+3;let s="";const r=this.t();for(let o=1;o<=r.ncols;o++)s+=Array.from(r.getcolref(o)).map(i=>t(i.toFixed(e),n)).join(" ")+`
`;return s}toCSV(e,t,n,s){e===void 0&&(e=","),t===void 0&&(t=e===";"?",":".");const r=s!=null&&s.length>0,o=n!=null&&n.length>0;if(r&&s.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(o&&n.length!==this.ncols+(r?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const i=this.t();let f=o?n.join(e)+`
`:"";for(let a=1;a<=i.ncols;a++)f=f+(r?s[a-1]+e:"")+i.getcolref(a).join(e)+`
`;return f=f.replace(/\./g,t),f}static randn(e,t,n,s){return Hn($n(e*t,n,s),e,t)}static rand(e,t,n,s){return Hn(Dn(e*t,n,s),e,t)}static eye(e,t){t===void 0&&(t=e);const n=new Float64Array(e*t);for(let s=0;s<Math.min(e,t);s++)n[s*e+s]=1;return new be(n,e,t)}static diagm(e){if(!Me(e))throw Error('diagm: the argument "x" must be a Vector.');const t=e.length,n=new Float64Array(t*t);for(let s=0;s<t;s++)n[s*t+s]=e.v[s];return new be(n,t,t)}static zeros(e,t){return t===void 0&&(t=e),new be(new Float64Array(e*t),e,t)}static ones(e,t){return be.fill(1,e,t)}static fill(e,t,n){n===void 0&&(n=t);const s=new Float64Array(t*n);for(let r=0;r<s.length;r++)s[r]=e;return new be(s,t,n)}static outer(e,t,n){if(Array.isArray(e)&&(e=Ie(e)),Array.isArray(t)&&(t=Ie(t)),!Me(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!Me(t))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const s=be.zeros(e.length,t.length);for(let r=0;r<t.length;r++){const o=t.v[r],i=s.getcolref(r+1);for(let f=0;f<e.length;f++)i[f]=n(e.v[f],o)}return s}static parseCSV(e,t,n,s){function r(w){return w.some(b=>Number.isNaN(Number.parseFloat(b.trim())))}t===void 0&&(t=",");const o=t===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let i=e.split(/\n/),f=[],a=0;const c=i[0].split(t);(n||n===void 0&&r(c))&&(f=c,a=1),i=i.filter(w=>w.trim().length>1);let u=[],m=0;s&&(m=1);const g=i.length-a,h=c.length-m;if(g<1)throw Error("Data file should contain at least 1 row with values.");if(h<1)throw Error("Data file should contain at least 1 column with values.");const v=be.zeros(h,g);for(let w=a;w<g+a;w++){const b=i[w].split(t);let E;if(s?(u[w-a]=b[0],E=b.slice(1).map(T=>Number.parseFloat(T.trim().replace(o,".")))):E=b.map(T=>Number.parseFloat(T.trim().replace(o,"."))),E.some(T=>Number.isNaN(T)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(E.length!=h)throw Error("Wrong number of values in row #"+w);v.v.set(new Float64Array(E),(w-a)*h)}return{values:v.t(),header:f,labels:u,sep:t,dec:o}}};rt(be,"valuesConstructor",Float64Array),rt(be,"TOLERANCE",Math.pow(10,-9));let gt=be;function Me(l){return l&&l.constructor===he}function Ie(l){return new he(new Float64Array(l))}const qe=class qe{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new Ze.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=s+1,n=n+1);return new Ze(t.subarray(0,n))}filter(e){const t=new qe.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=this.v[s],n=n+1);return new qe(t.subarray(0,n))}shuffle(){return new qe(Xn(this.v))}sort(e){return new qe(Zn(this.v,e))}sortind(e){return new Ze(Qn(this.v,e))}rep(e){return Un(this,e)}repeach(e){return Kn(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=Ze.seq(1,this.length)),it(t)||(t=ft(t));const n=t.length;if(It(t)<1||Oe(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==n)throw Error('Vector.replace: length of "x" does not match the indices.');for(let s=0;s<t.length;s++){const r=t.v[s];this.v[r-1]=e.v[s]}return this}subset(e){if(typeof e=="number"&&(e=ft([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?Ze.bool2ind(e):ft(e)),!it(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=qe.zeros(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");n.v[s]=this.v[e.v[s]-1]}return n}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new qe(this.v.slice(e-1,t))}copy(){return new qe(this.v.slice())}dot(e){return e===void 0&&(e=this),hn(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(Me(e))return new qe(pn(this.v,e.v,t));if(Wn(e))return new qe(gn(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e){const t=this.v.length,n=qe.zeros(t);for(let s=0;s<t;s++)n.v[s]=e(this.v[s]);return n}static c(...e){if(e.length===1)return e[0];const t=e.reduce((r,o)=>r+(typeof o=="number"?1:o.length),0),n=new qe.valuesConstructor(t);let s=0;for(const r of e)typeof r=="number"?(n[s]=r,s+=1):(n.set(Me(r)?r.v:new qe.valuesConstructor(r),s),s+=typeof r=="number"?1:r.length);return new qe(n)}static seq(e,t,n){return Gn(e,t,n,qe)}static randn(e,t,n){return $n(e,t,n)}static rand(e,t,n){return Dn(e,t,n)}static zeros(e){return new qe(new qe.valuesConstructor(e))}static ones(e){return qe.fill(1,e)}static fill(e,t){const n=new qe.valuesConstructor(t);for(let s=0;s<n.length;s++)n[s]=e;return new qe(n)}};rt(qe,"valuesConstructor",Float64Array);let he=qe;function it(l){return l.constructor===Ze}function ft(l){return new Ze(new Int32Array(l))}const De=class De{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new De.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=s+1,n=n+1);return new De(t.subarray(0,n))}filter(e){const t=new De.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=this.v[s],n=n+1);return new De(t.subarray(0,n))}shuffle(){return new De(Xn(this.v))}sort(e){return new De(Zn(this.v,e))}sortind(e){return new De(Qn(this.v,e))}rep(e){return Un(this,e)}repeach(e){return Kn(this,e)}subset(e){if(typeof e=="number"&&(e=ft([e])),Array.isArray(e)&&(e=ft(e)),!it(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=new De.valuesConstructor(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");n[s]=this.v[e.v[s]-1]}return new De(n)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new De(this.v.slice(e-1,t))}static seq(e,t,n){return Gn(e,t,n,De)}static ones(e){return De.fill(1,e)}static fill(e,t){const n=new De.valuesConstructor(t);for(let s=0;s<n.length;s++)n[s]=e;return new De(n)}static bool2ind(e){let t=0;const n=new De.valuesConstructor(e.length);for(let s=0;s<e.length;s++)e[s]&&(n[t]=s+1,t=t+1);return new De(n.subarray(0,t))}};rt(De,"valuesConstructor",Int32Array);let Ze=De;function Gn(l,e,t,n){t===void 0&&(t=l<=e?1:-1);const s=Math.floor((e-l)/t)+1;if(s<1)throw Error("seq: wrong combination of parameters.");const r=new n.valuesConstructor(s);for(let o=0;o<s;o++)r[o]=l+o*t;return new n(r)}function Un(l,e){const t=l.length*e,n=new l.constructor.valuesConstructor(t);for(let s=1;s<=e;s++)for(let r=0;r<l.length;r++)n[(s-1)*l.length+r]=l.v[r];return new l.constructor(n)}function Kn(l,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=l.length*e,n=new l.constructor.valuesConstructor(t);for(let s=0;s<l.length;s++)for(let r=0;r<e;r++)n[s*e+r]=l.v[s];return new l.constructor(n)}function pn(l,e,t){if(l.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(l.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const n=new l.constructor(l.length);for(let s=0;s<l.length;s++)n[s]=t(l[s],e[s]);return n}function gn(l,e,t){const n=new l.constructor(l.length);for(let s=0;s<l.length;s++)n[s]=t(l[s],e);return n}function hn(l,e,t,n,s,r){if(n!==s)throw Error("_dot: matrix dimensions do not much.");const o=t,i=r,f=n,a=new l.constructor(o*i);for(let c=0;c<i;c++){const u=e.subarray(c*s,(c+1)*s),m=a.subarray(c*o,(c+1)*o);for(let g=0;g<f;g++){const h=u[g],v=l.subarray(g*t,(g+1)*t);for(let w=0;w<o;w++)m[w]+=v[w]*h}}return a}function Xn(l){let e=l.slice(),t=e.length,n,s;for(;t;)s=Math.floor(Math.random()*t--),n=e[t],e[t]=e[s],e[s]=n;return e}function Zn(l,e=!1){return e?l.slice().sort((t,n)=>n-t):l.slice().sort((t,n)=>t-n)}function Qn(l,e=!1){const t=Ze.seq(1,l.length).v;return e?t.sort((n,s)=>l[s-1]-l[n-1]):t.sort((n,s)=>l[n-1]-l[s-1])}function qo(l,e){return 5*l*e+e}function Fo(l,e){return 2+2*l+l*e+9*e}function ht(l,e,t){if(!l||!l.class||!l.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const n=l.ncols,s=l.ncomp;let r,o;switch(e){case"mX":r=2,o=n;break;case"sX":r=2+n,o=n;break;case"loadings":case"xloadings":r=2+2*n+(t-1)*n,o=n;break;case"eigenvals":case"xeigenvals":r=2+2*n+n*s,o=s;break;case"cq0":r=2+2*n+n*s+s,o=s;break;case"cNq":r=2+2*n+n*s+2*s,o=s;break;case"rq0":r=2+2*n+n*s+3*s,o=s;break;case"rNq":r=2+2*n+n*s+4*s,o=s;break;case"ch0":r=2+2*n+n*s+5*s,o=s;break;case"cNh":r=2+2*n+n*s+6*s,o=s;break;case"rh0":r=2+2*n+n*s+7*s,o=s;break;case"rNh":r=2+2*n+n*s+8*s,o=s;break;default:throw Error("pcamodel_get: wrong outcome name.")}return l.v.subarray(r,r+o)}function Zt(l,e,t){if(!l||!l.class||!l.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const n=l.nrows,s=l.ncomp;let r,o;switch(e){case"scores":case"xscores":r=(t-1)*n,o=n;break;case"hdist":r=n*s+(t-1)*n,o=n;break;case"qdist":r=2*n*s+(t-1)*n,o=n;break;case"xcumexpvar":case"cumexpvar":r=3*n*s,o=s;break;case"fdistc":r=3*n*s+s+(t-1)*n,o=n;break;case"fdistr":r=4*n*s+s+(t-1)*n,o=n;break;default:throw new Error("pcares_get: wrong outcome name.")}return l.v.subarray(r,r+o)}function jo(l,e,t,n,s,r){r||(r=[]);const o=r&&Array.isArray(r)?r.length:0;if(t===void 0&&(t=Math.min(e.nrows-o-1,e.ncols)),n===void 0&&(n=!0),s===void 0&&(s=!1),!vt(e))throw new Error("pca_fit: X must be a matrix.");if(e.nrows-o<3||e.ncols<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(t<1||t>Math.min(e.nrows-o-1,e.ncols))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const i=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,i/e.v.BYTES_PER_ELEMENT);let f=null;if(o>0){const h=new Int16Array(r);f=l._malloc(h.length*h.BYTES_PER_ELEMENT),l.HEAP16.set(h,f/h.BYTES_PER_ELEMENT)}const a=Fo(e.ncols,t),c=Float64Array,u=l._malloc(a*c.BYTES_PER_ELEMENT);if(l.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number","number","number"],[i,e.nrows,e.ncols,t,n,s,u,f,o])!==1)throw new Error("pca_fit: PCA failed.");const g=l.HEAPF64.slice(u/c.BYTES_PER_ELEMENT,u/c.BYTES_PER_ELEMENT+a);return l._free(i),l._free(u),{class:["pcamodel"],v:g,ncomp:t,nrows:e.nrows-o,ncols:e.ncols,center:n,scale:s}}function Qt(l,e,t,n){n||(n=[]);const s=n&&Array.isArray(n)?n.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA results.');if(!vt(t))throw new Error("pca_predict: X must be a matrix.");if(t.nrows<1)throw new Error("pca_fit: X must have at least 1 row.");if(t.ncols!==e.ncols)throw new Error("pca_fit: X must have the same number of columns as the training set.");const r=l._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);l.HEAPF64.set(t.v,r/t.v.BYTES_PER_ELEMENT);let o=null;if(s>0){const g=new Int16Array(n);o=l._malloc(g.length*g.BYTES_PER_ELEMENT),l.HEAP16.set(g,o/g.BYTES_PER_ELEMENT)}const i=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,i/e.v.BYTES_PER_ELEMENT);const f=qo(t.nrows,e.ncomp),a=Float64Array,c=l._malloc(f*a.BYTES_PER_ELEMENT);if(l.ccall("pcapredict_wasm",["number"],["number","number","number","number","number","number","number"],[r,t.nrows,t.ncols,i,c,o,s])!==1)throw new Error("pca_predict: PCA prediction failed.");const m=l.HEAPF64.slice(c/a.BYTES_PER_ELEMENT,c/a.BYTES_PER_ELEMENT+f);return l._free(r),l._free(i),l._free(c),{class:["pcares"],v:m,ncomp:e.ncomp,nrows:t.nrows-s,ncols:t.ncols,center:e.center,scale:e.scale}}function Vo(l,e,t,n,s,r,o,i){i||(i=[]);const f=i&&Array.isArray(i)?i.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pcapcv: parameter "m" must be JSON with PCA results.');if(!vt(t))throw new Error("pcapcv: X must be a matrix.");if(t.nrows-f<3)throw new Error("pcapcv: X must have at least 3 rows.");if(t.ncols!==e.ncols)throw new Error("pcapcv: X must have the same number of columns as the training set.");if(!Number.isInteger(r)||![0,1,2].includes(r))throw new Error('pcapcv: parameter "cv_type" must be one of 0 ("loo"), 1 ("ven"), 2 ("rand).');if(!Number.isInteger(o)||![0,1].includes(o))throw new Error('pcapcv: parameter "cv_scope" must be 0 ("global") or 1 ("local").');if(r>0&&(!Number.isInteger(s)||s<2))throw new Error('pcapcv: parameter "cv_nseg" must be a number ≥ 2.');if(r>0&&s>t.nrows-f)throw new Error('pcapcv: the value of "cv_nseg" is too large for the given X.');if(!Number.isInteger(n)||n<1)throw new Error('pcapcv: the value of "ncomp" must be a number >= 1.');const a=Math.min(r===0?t.nrows-f-2:t.nrows-f-Math.ceil((t.nrows-f)/s)-1,t.ncols,e.ncomp);if(n>a)throw new Error('pcapcv: the value of "ncomp" is too large.');const c=l._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);l.HEAPF64.set(t.v,c/t.v.BYTES_PER_ELEMENT);let u=null;if(f>0){const E=new Int16Array(i);u=l._malloc(E.length*E.BYTES_PER_ELEMENT),l.HEAP16.set(E,u/E.BYTES_PER_ELEMENT)}const m=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,m/e.v.BYTES_PER_ELEMENT);const g=t.v.length-f*t.ncols,h=t.v.constructor,v=l._malloc(g*h.BYTES_PER_ELEMENT);if(l.ccall("pcvpca_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number","number","number"],[c,t.nrows,t.ncols,n,e.center,e.scale,r,s,o,m,v,u,f])!==1)throw new Error("pcapcv: PCVPCA failed.");const b=l.HEAPF64.slice(v/h.BYTES_PER_ELEMENT,v/h.BYTES_PER_ELEMENT+g);return l._free(c),l._free(m),l._free(v),new gt(b,t.nrows-f,t.ncols)}function Yo(l,e,t){if(!e||!t||e.length!==l.length)return null;let n=0,s=0,r=0,o=0;for(let i=0;i<l.length;i++)l[i]==="regular"&&e[i]===t&&(n=n+1),l[i]==="regular"&&e[i]!==t&&(s=s+1),l[i]!=="regular"&&e[i]===t&&(o=o+1),l[i]!=="regular"&&e[i]!==t&&(r=r+1);return{TP:n,FP:s,TN:r,FN:o,accuracy:(n+r)/(n+r+s+o),specificity:r/(r+s),sensitivity:n/(n+o)}}function Do(l,e,t){const n=l.nrows,s=l.ncomp,r=t.limType==="classic"?"fdistc":"fdistr",o=Array.from({length:n},()=>"alternative"),i=new Array(s);for(let f=0;f<s;f++){let a=n;const c=Zt(l,r,f+1),u=t.eCrit[f],m=t.Nf[f],g=new he(c);let h=g.sort(),v=g.sortind();const w=Array.from({length:n},()=>"alien");let b=-1,E=0,T=0,z=0,A=0;for(;b<0;)E>0&&(w[v.v[a-1]-1]="external",a=a-1,v=v.slice(1,a),h=h.slice(1,a)),T=jt(h),z=Fn(h,!0),A=z/(T*T),b=4-2*m*A,E=E+1;const S=(2+Math.sqrt(b))/A,N=S-m,L=T/S,q=u/L,M=1-2*(m+N)*(m+3*N)/(3*(m+2*N)**2),j=(M-1)*(1-3*M),P=(m+2*N)/(m+N)**2,D=1+M*P*(M-1-.5*(2-M)*j*P),Q=M*Math.sqrt(2*P)*(1+.5*j*P),te=mn((Math.pow(q/(m+N),M)-D)/Q);i[f]=Jn(t,l,r,f,o),i[f].beta=te,i[f].s=N,i[f].k=m,i[f].Mz=D,i[f].Sz=Q,i[f].m=T,i[f].f0=L,i[f].hz=M,i[f].anum={aliens:a,external:n-a},i[f].a=w}return{class:["simcares"],v:i,className:t.className,alpha:t.alpha,limType:t.limType,ncomp:t.ncomp,nrows:n,classes:e.classes,labels:e.labels}}function Jn(l,e,t,n,s){const r=Zt(e,t,n+1),o=Zt(e,"hdist",n+1),i=Zt(e,"qdist",n+1),f=r.length,a=l.h0[n],c=l.Nh[n],u=l.q0[n],m=l.Nq[n],g=l.Nf[n],h=l.oCrit[n],v=l.eCrit[n],w=new Array(f),b=new Array(f),E={regular:0,extreme:0,outliers:0},T={in:0,out:0};for(let A=0;A<f;A++){const S=r[A];S<v?(w[A]="regular",b[A]="in",E.regular+=1,T.in+=1):S>h?(w[A]="outlier",b[A]="out",E.outliers+=1,T.out+=1):(w[A]="extreme",b[A]="out",E.extreme+=1,T.out+=1)}const z=s&&s.length===f?Yo(w,s,l.className):null;return{h:o,h0:a,Nh:c,q:i,q0:u,Nq:m,f:r,Nf:g,eCrit:v,oCrit:h,c:w,d:b,cnum:E,dnum:T,stat:z}}function dn(l,e,t,n){const s=l.nrows,r=l.ncomp,o=e.limType==="classic"?"fdistc":"fdistr",i=Array.from({length:s},()=>e.className),f=new Array(r);for(let a=0;a<r;a++)f[a]=Jn(e,l,o,a,i);return{class:["simcares"],v:f,className:e.className,alpha:e.alpha,limType:e.limType,ncomp:e.ncomp,nrows:s,classes:t,labels:n}}const bm="";function $o(l){let e,t,n,s,r;const o=l[1].default,i=Nt(o,l,l[0],null);return{c(){e=F("span"),t=F("button"),i&&i.c(),_(t,"tabindex","0"),_(t,"class","button-rect svelte-12b8cv0"),_(e,"class","wrapper")},m(f,a){y(f,e,a),C(e,t),i&&i.m(t,null),n=!0,s||(r=Le(t,"click",l[2]),s=!0)},p(f,[a]){i&&i.p&&(!n||a&1)&&Lt(i,o,f,f[0],n?Mt(o,f[0],a,null):zt(f[0]),null)},i(f){n||(p(i,f),n=!0)},o(f){d(i,f),n=!1},d(f){f&&k(e),i&&i.d(f),s=!1,r()}}}function Bo(l,e,t){let{$$slots:n={},$$scope:s}=e;function r(o){Gt.call(this,l,o)}return l.$$set=o=>{"$$scope"in o&&t(0,s=o.$$scope)},[s,n,r]}class Ue extends ce{constructor(e){super(),ue(this,e,Bo,$o,se,{})}}const wm="";function Wo(l){let e,t,n;return{c(){e=F("button"),_(e,"tabindex","0"),_(e,"alt",l[0]),_(e,"title",l[0]),_(e,"class","svelte-2vapqe")},m(s,r){y(s,e,r),t||(n=Le(e,"click",l[1]),t=!0)},p(s,[r]){r&1&&_(e,"alt",s[0]),r&1&&_(e,"title",s[0])},i:H,o:H,d(s){s&&k(e),t=!1,n()}}}function Ho(l,e,t){let{title:n="Reset"}=e;function s(r){Gt.call(this,l,r)}return l.$$set=r=>{"title"in r&&t(0,n=r.title)},[n,s]}class kt extends ce{constructor(e){super(),ue(this,e,Ho,Wo,se,{title:0})}}const vm="";function xn(l){let e,t;return{c(){e=F("span"),t=G(l[0]),_(e,"class","label svelte-1ybd854")},m(n,s){y(n,e,s),C(e,t)},p(n,s){s&1&&ae(t,n[0])},d(n){n&&k(e)}}}function Go(l){let e,t,n,s,r=l[0]&&xn(l);const o=l[3].default,i=Nt(o,l,l[2],null);return{c(){e=F("div"),r&&r.c(),t=V(),i&&i.c(),_(e,"class",n="control-element "+l[1]+" svelte-1ybd854")},m(f,a){y(f,e,a),r&&r.m(e,null),C(e,t),i&&i.m(e,null),s=!0},p(f,[a]){f[0]?r?r.p(f,a):(r=xn(f),r.c(),r.m(e,t)):r&&(r.d(1),r=null),i&&i.p&&(!s||a&4)&&Lt(i,o,f,f[2],s?Mt(o,f[2],a,null):zt(f[2]),null),(!s||a&2&&n!==(n="control-element "+f[1]+" svelte-1ybd854"))&&_(e,"class",n)},i(f){s||(p(i,f),s=!0)},o(f){d(i,f),s=!1},d(f){f&&k(e),r&&r.d(),i&&i.d(f)}}}function Uo(l,e,t){let{$$slots:n={},$$scope:s}=e,{label:r=null}=e,{status:o=""}=e;return l.$$set=i=>{"label"in i&&t(0,r=i.label),"status"in i&&t(1,o=i.status),"$$scope"in i&&t(2,s=i.$$scope)},[r,o,s,n]}class J extends ce{constructor(e){super(),ue(this,e,Uo,Go,se,{label:0,status:1})}}const km="";function el(l){let e,t=l[0].toFixed(l[4])+"",n;return{c(){e=F("span"),n=G(t),We(e,"padding-right","0.25em"),We(e,"color","#fefefe"),_(e,"class","range-value svelte-pjrnyj")},m(s,r){y(s,e,r),C(e,n)},p(s,r){r&17&&t!==(t=s[0].toFixed(s[4])+"")&&ae(n,t)},d(s){s&&k(e)}}}function tl(l){let e,t=l[0].toFixed(l[4])+"",n;return{c(){e=F("span"),n=G(t),We(e,"padding-left","0.25em"),We(e,"color","#606060"),_(e,"class","range-value svelte-pjrnyj")},m(s,r){y(s,e,r),C(e,n)},p(s,r){r&17&&t!==(t=s[0].toFixed(s[4])+"")&&ae(n,t)},d(s){s&&k(e)}}}function Ko(l){let e,t,n,s,r,o=l[7]>25&&el(l),i=l[7]<=25&&tl(l);return{c(){e=F("div"),t=F("div"),o&&o.c(),n=V(),i&&i.c(),_(t,"class","range-slider svelte-pjrnyj"),We(t,"width",l[7]+"%"),_(e,"id",l[1]),_(e,"role","slider"),_(e,"tabindex","0"),_(e,"aria-valuenow",l[0]),_(e,"aria-valuemin",l[2]),_(e,"aria-valuemax",l[3]),_(e,"class","range-slider-container svelte-pjrnyj")},m(f,a){y(f,e,a),C(e,t),o&&o.m(t,null),l[15](t),C(e,n),i&&i.m(e,null),l[16](e),s||(r=[Le(e,"mousewheel",ho(l[11])),Le(e,"mousemove",l[12]),Le(e,"keydown",l[13]),Le(e,"mousedown",l[8]),Le(e,"mouseleave",l[9]),Le(e,"mouseup",l[10])],s=!0)},p(f,[a]){f[7]>25?o?o.p(f,a):(o=el(f),o.c(),o.m(t,null)):o&&(o.d(1),o=null),a&128&&We(t,"width",f[7]+"%"),f[7]<=25?i?i.p(f,a):(i=tl(f),i.c(),i.m(e,null)):i&&(i.d(1),i=null),a&2&&_(e,"id",f[1]),a&1&&_(e,"aria-valuenow",f[0]),a&4&&_(e,"aria-valuemin",f[2]),a&8&&_(e,"aria-valuemax",f[3])},i:H,o:H,d(f){f&&k(e),o&&o.d(),l[15](null),i&&i.d(),l[16](null),s=!1,ot(r)}}}function Xo(l,e,t){let n,{id:s}=e,{value:r}=e,{min:o}=e,{max:i}=e,{decNum:f=1}=e,{step:a=+((i-o)/100).toFixed(4)}=e;if(r<o||r>i)throw new Error("The value is outside of the provided range.");const c=Ht();let u,m,g=!1;const h=L=>{const q=o+L*(i-o);return+(Math.round(q/a)*a).toFixed(4)},v=L=>{const q=u.getBoundingClientRect(),M=m.getBoundingClientRect(),j=q.x,P=M.x+M.width;return(L.clientX-j)/(P-j)},w=L=>{const q=v(L);q<0||q>1||(g=q*100>n-5&&q*100<n+5)},b=L=>{g=!1},E=L=>{g=!1;const q=v(L);q<0||q>1||t(0,r=h(q))},T=L=>{let q=r+a*L.deltaY*.5;q<o&&(q=o),q>i&&(q=i),t(0,r=+(Math.round(q/a)*a).toFixed(4))},z=L=>{if(!g)return;const q=v(L);q<0||q>1||t(0,r=h(q))},A=L=>{if(L.key==="ArrowLeft"){t(0,r=r-a<o?o:r-a);return}if(L.key==="ArrowRight"){t(0,r=r+a>i?i:r+a);return}};function S(L){Z[L?"unshift":"push"](()=>{u=L,t(5,u)})}function N(L){Z[L?"unshift":"push"](()=>{m=L,t(6,m)})}return l.$$set=L=>{"id"in L&&t(1,s=L.id),"value"in L&&t(0,r=L.value),"min"in L&&t(2,o=L.min),"max"in L&&t(3,i=L.max),"decNum"in L&&t(4,f=L.decNum),"step"in L&&t(14,a=L.step)},l.$$.update=()=>{l.$$.dirty&13&&t(7,n=(r-o)/(i-o)*100),l.$$.dirty&1&&c("change",r)},[r,s,o,i,f,u,m,n,w,b,E,T,z,A,a,S,N]}class nl extends ce{constructor(e){super(),ue(this,e,Xo,Ko,se,{id:1,value:0,min:2,max:3,decNum:4,step:14})}}const ym="";function ll(l,e,t){const n=l.slice();return n[7]=e[t],n}function sl(l,e){let t,n,s=e[7]+"",r,o,i,f;function a(){return e[5](e[7])}return{key:l,first:null,c(){t=F("button"),n=new Pn(!1),r=V(),n.a=r,_(t,"class",o="option option_"+e[7]+" svelte-18e38uq"),Be(t,"selected",e[7]==e[0]),this.first=t},m(c,u){y(c,t,u),n.m(s,t),C(t,r),i||(f=Le(t,"click",a),i=!0)},p(c,u){e=c,u&4&&s!==(s=e[7]+"")&&n.p(s),u&4&&o!==(o="option option_"+e[7]+" svelte-18e38uq")&&_(t,"class",o),u&5&&Be(t,"selected",e[7]==e[0])},d(c){c&&k(t),i=!1,f()}}}function Zo(l){let e,t=[],n=new Map,s,r,o,i,f,a=ke(l[2]);const c=u=>u[7];for(let u=0;u<a.length;u+=1){let m=ll(l,a,u),g=c(m);n.set(g,t[u]=sl(g,m))}return{c(){e=F("div");for(let u=0;u<t.length;u+=1)t[u].c();r=V(),o=F("input"),_(e,"role","radiogroup"),_(e,"tabindex","0"),_(e,"class",s="selector "+l[3]+" svelte-18e38uq"),_(o,"name",l[1]),_(o,"class","svelte-18e38uq")},m(u,m){y(u,e,m);for(let g=0;g<t.length;g+=1)t[g]&&t[g].m(e,null);y(u,r,m),y(u,o,m),In(o,l[0]),i||(f=[Le(e,"keydown",l[4]),Le(o,"input",l[6])],i=!0)},p(u,[m]){m&5&&(a=ke(u[2]),t=Lo(t,m,c,1,u,a,n,e,Mo,sl,null,ll)),m&8&&s!==(s="selector "+u[3]+" svelte-18e38uq")&&_(e,"class",s),m&2&&_(o,"name",u[1]),m&1&&o.value!==u[0]&&In(o,u[0])},i:H,o:H,d(u){u&&(k(e),k(r),k(o));for(let m=0;m<t.length;m+=1)t[m].d();i=!1,ot(f)}}}function Qo(l,e,t){let{id:n}=e,{options:s}=e,{value:r=s[0]}=e,{className:o=""}=e;const i=c=>{if(console.log(c.key),c.key==="ArrowLeft"){const u=s.findIndex(m=>m===r);u>0&&t(0,r=s[u-1]);return}if(c.key==="ArrowRight"){const u=s.findIndex(m=>m===r);u<s.length&&t(0,r=s[u+1]);return}},f=c=>t(0,r=c);function a(){r=this.value,t(0,r)}return l.$$set=c=>{"id"in c&&t(1,n=c.id),"options"in c&&t(2,s=c.options),"value"in c&&t(0,r=c.value),"className"in c&&t(3,o=c.className)},[r,n,s,o,i,f,a]}class ve extends ce{constructor(e){super(),ue(this,e,Qo,Zo,se,{id:1,options:2,value:0,className:3})}}const Cm="";function Jo(l){let e;return{c(){e=F("div"),_(e,"class","spinner svelte-1jycdl0")},m(t,n){y(t,e,n)},p:H,i:H,o:H,d(t){t&&k(e)}}}class Jt extends ce{constructor(e){super(),ue(this,e,null,Jo,se,{})}}const Em="",Am="";function xo(l){let e,t=(l[0]?l[0].name:l[2])+"",n,s,r,o,i;return{c(){e=F("label"),n=G(t),s=V(),r=F("input"),_(r,"name",l[1]),_(r,"type","file"),_(r,"accept",l[3]),_(r,"class","svelte-7uwoge"),_(e,"class","svelte-7uwoge"),Be(e,"selected",l[0]!==null)},m(f,a){y(f,e,a),C(e,n),C(e,s),C(e,r),l[6](r),o||(i=Le(r,"change",l[5]),o=!0)},p(f,[a]){a&5&&t!==(t=(f[0]?f[0].name:f[2])+"")&&ae(n,t),a&2&&_(r,"name",f[1]),a&8&&_(r,"accept",f[3]),a&1&&Be(e,"selected",f[0]!==null)},i:H,o:H,d(f){f&&k(e),l[6](null),o=!1,i()}}}function ei(l,e,t){let{id:n}=e,{file:s}=e,{message:r="Select CSV file with dataset"}=e,{acceptType:o=".csv"}=e,i;function f(c){i.files.length>0&&t(0,s=i.files[0])}function a(c){Z[c?"unshift":"push"](()=>{i=c,t(4,i)})}return l.$$set=c=>{"id"in c&&t(1,n=c.id),"file"in c&&t(0,s=c.file),"message"in c&&t(2,r=c.message),"acceptType"in c&&t(3,o=c.acceptType)},[s,n,r,o,i,f,a]}class xt extends ce{constructor(e){super(),ue(this,e,ei,xo,se,{id:1,file:0,message:2,acceptType:3})}}function bn(l,e,t,n,s){function r(E){return E.some(T=>Number.isNaN(Number.parseFloat(T.trim())))}e===void 0&&(e=",");const o=e===";"?",":".";l=l.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),l=l.replace(/\r/gm,"");let i=l.split(/\n/),f=[],a=0;const c=i[0].split(e);(t||t===void 0&&r(c))&&(f=c,a=1),i=i.filter(E=>E.trim().length>1);let u=[],m=0;n&&(m=1);let g=[],h=[];s&&(m=m+1);const v=i.length-a,w=c.length-m;if(v<1)throw Error("Data file should contain at least 1 row with values.");if(w<1)throw Error("Data file should contain at least 1 column with values.");const b=gt.zeros(w,v);for(let E=a;E<v+a;E++){let T=i[E].split(e);if(n&&(u.push(T[0]),T=T.slice(1)),s){const A=T[0];h.push(A),(g.length===0||g.indexOf(A)<0)&&g.push(A),T=T.slice(1)}const z=T.map(A=>Number.parseFloat(A.trim().replace(o,".")));if(z.some(A=>Number.isNaN(A)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(z.length!=w)throw Error("Wrong number of values in row #"+E);b.v.set(new Float64Array(z),(E-a)*w)}return{values:b.t(),header:f,labels:u,classes:h,classNames:g,sep:e,dec:o}}function wn(l,e,t,n){(!n||!Array.isArray(n))&&(n=[]);const s=l.ncomp,r=e.values.nrows,o=n.length,i=r-o,f=l.v[s-1],a=l.classes&&l.classes.length===i,c=a?["","","","",""]:["","","",""];let u="";if(u+=["Target class:",l.className,...c].join(e.sep)+`
`,u+=["Reference classes:",a?"provided":"not provided",...c].join(e.sep)+`
`,u+=["Number of components:",s,...c].join(e.sep)+`
`,u+=["Alpha:",(l.alpha/100).toFixed(3),...c].join(e.sep)+`
`,u+=["Limits estimator:",l.limType,...c].join(e.sep)+`
`,u+=`
`,u+=["Nh:",f.Nh,...c].join(e.sep)+`
`,u+=["Nq:",f.Nq,...c].join(e.sep)+`
`,u+=["Nf:",f.Nf,...c].join(e.sep)+`
`,u+=`
`,u+=["F crit (extremes):",f.eCrit,...c].join(e.sep)+`
`,u+=["F crit (outliers):",f.oCrit,...c].join(e.sep)+`
`,u+=`
`,f.beta){u+=["Objects treated as from non-target class","",...c].join(e.sep)+`
`,u+=["Objects:",r,...c].join(e.sep)+`
`,u+=["In:",f.dnum.in,...c].join(e.sep)+`
`,u+=["Out:",f.dnum.out,...c].join(e.sep)+`
`,u+=["Aliens:",f.anum.aliens,...c].join(e.sep)+`
`,u+=["External:",f.anum.external,...c].join(e.sep)+`
`,u+=["Specificity:",f.stat.specificity?f.stat.specificity:"-",...c].join(e.sep)+`
`,u+=["Beta:",f.beta,...c].join(e.sep)+`
`,u+=`
`,u+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;for(let w=0;w<r;w++)u+=["",e.labels[w],l.classes[w],f.a[w],f.d[w],f.h[w]/f.h0,f.q[w]/f.q0,f.f[w]].join(e.sep)+`
`}else{u+=["Objects treated as from target class","",...c].join(e.sep)+`
`,u+=["Objects:",r,...c].join(e.sep)+`
`,u+=["Removed:",o,...c].join(e.sep)+`
`,u+=["In:",f.dnum.in,...c].join(e.sep)+`
`,u+=["Out:",f.dnum.out,...c].join(e.sep)+`
`,u+=["Regular:",f.cnum.regular,...c].join(e.sep)+`
`,u+=["Extreme:",f.cnum.extreme,...c].join(e.sep)+`
`,u+=["Outliers:",f.cnum.outliers,...c].join(e.sep)+`
`,u+=["Sensitivity:",f.stat.sensitivity?f.stat.sensitivity:"-",...c].join(e.sep)+`
`,u+=`
`,u+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;let w=0;for(let b=0;b<r;b++){if(o>0&&n.includes(b)){u+=["",e.labels[b],"-","removed","-","-","-","-"].join(e.sep)+`
`;continue}u+=["",e.labels[w],l.classes[w],f.c[w],f.d[w],f.h[w]/f.h0,f.q[w]/f.q0,f.f[w]].join(e.sep)+`
`,w=w+1}}u+=`
`,e.dec!=="."&&(u=u.replace(/\./g,e.dec));let m=["DD-SIMCA results ("+t+")","https://mda.tools/ddsimca/",...c].join(e.sep)+`

`;const g=new Blob([m+u],{type:"text/csv"}),h=window.URL.createObjectURL(g),v=document.createElement("a");v.setAttribute("href",h),v.setAttribute("download",`ddsimca-results-${t}.csv`),v.click()}function vn(l,e){const t=new Blob([JSON.stringify({pca:{class:l.class,ncomp:l.ncomp,nrows:l.nrows,ncols:l.ncols,center:l.center,scale:l.scale,lim:{classic:{Nh:Array.from(l.lim.classic.Nh),Nq:Array.from(l.lim.classic.Nq),q0:Array.from(l.lim.classic.q0),h0:Array.from(l.lim.classic.h0)},robust:{Nh:Array.from(l.lim.robust.Nh),Nq:Array.from(l.lim.robust.Nq),q0:Array.from(l.lim.robust.q0),h0:Array.from(l.lim.robust.h0)}},v:Array.from(l.v)},simca:{h0:Array.from(e.h0),Nh:Array.from(e.Nh),q0:Array.from(e.q0),Nq:Array.from(e.Nq),Nf:Array.from(e.Nf),eCrit:Array.from(e.eCrit),oCrit:Array.from(e.oCrit),ncomp:e.ncomp,alpha:e.alpha,gamma:e.gamma,limType:e.limType,className:e.className}})],{type:"application/json"}),n=window.URL.createObjectURL(t),s=document.createElement("a");s.setAttribute("href",n),s.setAttribute("download","ddsimca-model.json"),s.click()}function ti(l){let e,t;return e=new J({props:{$$slots:{default:[li]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&32769&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function ni(l){let e=l[1]===void 0,t,n,s,r=rl(l),o=l[1]&&ol(l);return{c(){r.c(),t=V(),o&&o.c(),n=ee()},m(i,f){r.m(i,f),y(i,t,f),o&&o.m(i,f),y(i,n,f),s=!0},p(i,f){f&2&&se(e,e=i[1]===void 0)?(K(),d(r,1,1,H),X(),r=rl(i),r.c(),p(r,1),r.m(t.parentNode,t)):r.p(i,f),i[1]?o?(o.p(i,f),f&2&&p(o,1)):(o=ol(i),o.c(),p(o,1),o.m(n.parentNode,n)):o&&(K(),d(o,1,1,()=>{o=null}),X())},i(i){s||(p(r),p(o),s=!0)},o(i){d(r),d(o),s=!1},d(i){i&&(k(t),k(n)),r.d(i),o&&o.d(i)}}}function li(l){let e,t,n=l[0].values.nrows+"",s,r,o=l[0].values.ncols+"",i,f,a,c;return a=new kt({}),a.$on("click",l[9]),{c(){e=F("p"),t=G("Training set is loaded: "),s=G(n),r=G(" × "),i=G(o),f=V(),I(a.$$.fragment)},m(u,m){y(u,e,m),C(e,t),C(e,s),C(e,r),C(e,i),y(u,f,m),R(a,u,m),c=!0},p(u,m){(!c||m&1)&&n!==(n=u[0].values.nrows+"")&&ae(s,n),(!c||m&1)&&o!==(o=u[0].values.ncols+"")&&ae(i,o)},i(u){c||(p(a.$$.fragment,u),c=!0)},o(u){d(a.$$.fragment,u),c=!1},d(u){u&&(k(e),k(f)),O(a,u)}}}function si(l){let e,t,n;function s(o){l[10](o)}let r={id:"dataFile",message:"Select CSV file with training set"};return l[1]!==void 0&&(r.file=l[1]),e=new xt({props:r}),Z.push(()=>ne(e,"file",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.file=o[1],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function rl(l){let e,t;return e=new J({props:{$$slots:{default:[si]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&32770&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function ol(l){let e,t,n,s,r,o,i,f;return e=new J({props:{label:"Delimiter:",$$slots:{default:[ri]},$$scope:{ctx:l}}}),n=new J({props:{label:"Header:",$$slots:{default:[oi]},$$scope:{ctx:l}}}),r=new J({props:{label:"Row labels:",$$slots:{default:[ii]},$$scope:{ctx:l}}}),i=new J({props:{label:" ",$$slots:{default:[ai]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),t=V(),I(n.$$.fragment),s=V(),I(r.$$.fragment),o=V(),I(i.$$.fragment)},m(a,c){R(e,a,c),y(a,t,c),R(n,a,c),y(a,s,c),R(r,a,c),y(a,o,c),R(i,a,c),f=!0},p(a,c){const u={};c&32772&&(u.$$scope={dirty:c,ctx:a}),e.$set(u);const m={};c&32776&&(m.$$scope={dirty:c,ctx:a}),n.$set(m);const g={};c&32784&&(g.$$scope={dirty:c,ctx:a}),r.$set(g);const h={};c&32768&&(h.$$scope={dirty:c,ctx:a}),i.$set(h)},i(a){f||(p(e.$$.fragment,a),p(n.$$.fragment,a),p(r.$$.fragment,a),p(i.$$.fragment,a),f=!0)},o(a){d(e.$$.fragment,a),d(n.$$.fragment,a),d(r.$$.fragment,a),d(i.$$.fragment,a),f=!1},d(a){a&&(k(t),k(s),k(o)),O(e,a),O(n,a),O(r,a),O(i,a)}}}function ri(l){let e,t,n;function s(o){l[11](o)}let r={id:"sep",options:l[7]};return l[2]!==void 0&&(r.value=l[2]),e=new ve({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function oi(l){let e,t,n;function s(o){l[12](o)}let r={id:"hasHeader",options:["yes","no"]};return l[3]!==void 0&&(r.value=l[3]),e=new ve({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function ii(l){let e,t,n;function s(o){l[13](o)}let r={id:"hasLabels",options:["yes","no"]};return l[4]!==void 0&&(r.value=l[4]),e=new ve({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function fi(l){let e;return{c(){e=G("Load")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function ai(l){let e,t;return e=new Ue({props:{$$slots:{default:[fi]},$$scope:{ctx:l}}}),e.$on("click",l[8]),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&32768&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function il(l){let e,t;return e=new J({props:{status:"error",$$slots:{default:[ui]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&32832&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function ui(l){let e,t;return{c(){e=F("p"),t=G(l[6])},m(n,s){y(n,e,s),C(e,t)},p(n,s){s&64&&ae(t,n[6])},d(n){n&&k(e)}}}function ci(l){let e,t,n,s,r;const o=[ni,ti],i=[];function f(c,u){return c[0]?1:0}e=f(l),t=i[e]=o[e](l);let a=(l[5]==="error"||l[6])&&il(l);return{c(){t.c(),n=V(),a&&a.c(),s=ee()},m(c,u){i[e].m(c,u),y(c,n,u),a&&a.m(c,u),y(c,s,u),r=!0},p(c,[u]){let m=e;e=f(c),e===m?i[e].p(c,u):(K(),d(i[m],1,1,()=>{i[m]=null}),X(),t=i[e],t?t.p(c,u):(t=i[e]=o[e](c),t.c()),p(t,1),t.m(n.parentNode,n)),c[5]==="error"||c[6]?a?(a.p(c,u),u&96&&p(a,1)):(a=il(c),a.c(),p(a,1),a.m(s.parentNode,s)):a&&(K(),d(a,1,1,()=>{a=null}),X())},i(c){r||(p(t),p(a),r=!0)},o(c){d(t),d(a),r=!1},d(c){c&&(k(n),k(s)),i[e].d(c),a&&a.d(c)}}}function mi(l,e,t){let{dataset:n}=e,s,r=",",o="yes",i="no",f="neutral",a="";const c=[",",";"];function u(E){try{const T=bn(E,r,o==="yes",i==="yes",!0);if(T.values.nrows<3||T.values.ncols<3)throw new Error("Calibration set must have at least 3 rows and 3 columns");if(T.classNames.length!==1)throw new Error("Calibration set must have a column filled with target class name.");i!=="yes"&&(T.labels=Array.from({length:T.values.nrows},(z,A)=>A+1)),t(0,n=T),t(6,a=""),t(5,f="success")}catch(T){t(0,n=null),t(5,f="error"),t(6,a=T)}}function m(E){const T=new FileReader;T.onload=()=>u(T.result),T.readAsBinaryString(s)}function g(){t(0,n=null),t(1,s=null)}function h(E){s=E,t(1,s)}function v(E){r=E,t(2,r)}function w(E){o=E,t(3,o)}function b(E){i=E,t(4,i)}return l.$$set=E=>{"dataset"in E&&t(0,n=E.dataset)},l.$$.update=()=>{l.$$.dirty&2&&(s===null?g():(t(5,f="neutral"),t(6,a=""))),l.$$.dirty&4&&r&&(t(5,f="neutral"),t(6,a=""))},[n,s,r,o,i,f,a,c,m,g,h,v,w,b]}let _i=class extends ce{constructor(e){super(),ue(this,e,mi,ci,se,{dataset:0})}};function fl(l){let e,t,n,s,r;e=new J({props:{label:"Split type:",$$slots:{default:[pi]},$$scope:{ctx:l}}});let o=l[5]!=="loo"&&al(l);return s=new J({props:{label:" ",$$slots:{default:[di]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),t=V(),o&&o.c(),n=V(),I(s.$$.fragment)},m(i,f){R(e,i,f),y(i,t,f),o&&o.m(i,f),y(i,n,f),R(s,i,f),r=!0},p(i,f){const a={};f&1048624&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),i[5]!=="loo"?o?(o.p(i,f),f&32&&p(o,1)):(o=al(i),o.c(),p(o,1),o.m(n.parentNode,n)):o&&(K(),d(o,1,1,()=>{o=null}),X());const c={};f&1048576&&(c.$$scope={dirty:f,ctx:i}),s.$set(c)},i(i){r||(p(e.$$.fragment,i),p(o),p(s.$$.fragment,i),r=!0)},o(i){d(e.$$.fragment,i),d(o),d(s.$$.fragment,i),r=!1},d(i){i&&(k(t),k(n)),O(e,i),o&&o.d(i),O(s,i)}}}function pi(l){let e,t,n;function s(o){l[15](o)}let r={id:"cvType",options:l[4]};return l[5]!==void 0&&(r.value=l[5]),e=new ve({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&16&&(f.options=o[4]),!t&&i&32&&(t=!0,f.value=o[5],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function al(l){let e,t;return e=new J({props:{label:"Segments:",$$slots:{default:[gi]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1048704&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function gi(l){let e,t,n;function s(o){l[16](o)}let r={id:"nseg",options:l[8]};return l[7]!==void 0&&(r.value=l[7]),e=new ve({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&128&&(t=!0,f.value=o[7],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function hi(l){let e;return{c(){e=G("Compute PV-set")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function di(l){let e,t;return e=new Ue({props:{$$slots:{default:[hi]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1048576&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function ul(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:yi,then:vi,catch:bi,value:18,error:19,blocks:[,,,]};return pt(t=l[6],s),{c(){e=ee(),s.block.c()},m(r,o){y(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o&64&&t!==(t=l[6])&&pt(t,s)||Kt(s,l,o)},i(r){n||(p(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];d(i)}n=!1},d(r){r&&k(e),s.block.d(r),s.token=null,s=null}}}function bi(l){let e,t;return e=new J({props:{status:"error",$$slots:{default:[wi]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1048640&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function wi(l){let e,t=l[19]+"",n;return{c(){e=F("p"),n=G(t)},m(s,r){y(s,e,r),C(e,n)},p(s,r){r&64&&t!==(t=s[19]+"")&&ae(n,t)},d(s){s&&k(e)}}}function vi(l){let e,t,n=l[0]!==null&&cl(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,r){s[0]!==null?n?(n.p(s,r),r&1&&p(n,1)):(n=cl(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),d(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function cl(l){let e,t;return e=new J({props:{$$slots:{default:[ki]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1048737&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function ki(l){let e,t,n=l[0].values.nrows+"",s,r,o=l[0].values.ncols+"",i,f,a,c,u=l[5]!=="loo"?l[7]+" seg":"",m,g,h,v;return h=new kt({}),h.$on("click",l[10]),{c(){e=F("p"),t=G("PV-set is computed: "),s=G(n),r=G(" × "),i=G(o),f=G(", "),a=G(l[5]),c=V(),m=G(u),g=V(),I(h.$$.fragment)},m(w,b){y(w,e,b),C(e,t),C(e,s),C(e,r),C(e,i),C(e,f),C(e,a),C(e,c),C(e,m),y(w,g,b),R(h,w,b),v=!0},p(w,b){(!v||b&1)&&n!==(n=w[0].values.nrows+"")&&ae(s,n),(!v||b&1)&&o!==(o=w[0].values.ncols+"")&&ae(i,o),(!v||b&32)&&ae(a,w[5]),(!v||b&160)&&u!==(u=w[5]!=="loo"?w[7]+" seg":"")&&ae(m,u)},i(w){v||(p(h.$$.fragment,w),v=!0)},o(w){d(h.$$.fragment,w),v=!1},d(w){w&&(k(e),k(g)),O(h,w)}}}function yi(l){let e,t;return e=new J({props:{$$slots:{default:[Ci]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1048576&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Ci(l){let e,t,n,s;return e=new Jt({}),{c(){I(e.$$.fragment),t=V(),n=F("p"),n.textContent="Computing PV-set..."},m(r,o){R(e,r,o),y(r,t,o),y(r,n,o),s=!0},p:H,i(r){s||(p(e.$$.fragment,r),s=!0)},o(r){d(e.$$.fragment,r),s=!1},d(r){r&&(k(t),k(n)),O(e,r)}}}function ml(l){let e,t;return e=new J({props:{status:"error",$$slots:{default:[Ei]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1048584&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Ei(l){let e,t;return{c(){e=F("p"),t=G(l[3])},m(n,s){y(n,e,s),C(e,t)},p(n,s){s&8&&ae(t,n[3])},d(n){n&&k(e)}}}function Ai(l){let e,t,n,s,r=l[1]&&!l[0]&&l[2]!=="busy"&&fl(l),o=l[6]&&ul(l),i=l[2]==="error"&&l[3]&&ml(l);return{c(){r&&r.c(),e=V(),o&&o.c(),t=V(),i&&i.c(),n=ee()},m(f,a){r&&r.m(f,a),y(f,e,a),o&&o.m(f,a),y(f,t,a),i&&i.m(f,a),y(f,n,a),s=!0},p(f,[a]){f[1]&&!f[0]&&f[2]!=="busy"?r?(r.p(f,a),a&7&&p(r,1)):(r=fl(f),r.c(),p(r,1),r.m(e.parentNode,e)):r&&(K(),d(r,1,1,()=>{r=null}),X()),f[6]?o?(o.p(f,a),a&64&&p(o,1)):(o=ul(f),o.c(),p(o,1),o.m(t.parentNode,t)):o&&(K(),d(o,1,1,()=>{o=null}),X()),f[2]==="error"&&f[3]?i?(i.p(f,a),a&12&&p(i,1)):(i=ml(f),i.c(),p(i,1),i.m(n.parentNode,n)):i&&(K(),d(i,1,1,()=>{i=null}),X())},i(f){s||(p(r),p(o),p(i),s=!0)},o(f){d(r),d(o),d(i),s=!1},d(f){f&&(k(e),k(t),k(n)),r&&r.d(f),o&&o.d(f),i&&i.d(f)}}}function Ni(l,e,t){let{WASM:n}=e,{calset:s}=e,{model:r}=e,{pvset:o}=e,{pvres:i}=e,{outliers:f}=e,a="neutral",c=null,u=["ven","rand","loo"],m="ven",g,h=s&&s.values.nrows>0?[3,4,5,10,20].filter(A=>A>=s.values.nrows/(s.values.nrows-r.ncomp-1)&&A<=s.values.nrows/2):[],v=h.length>0?h[0]:0;async function w(A,S,N){t(6,g=n().then(L=>{const q=N.type=="loo"?0:N.type=="rand"?2:1,M=Vo(L,S,A.values,S.ncomp,N.nseg,q,0,f);t(0,o={values:M,header:A.header,labels:A.labels,classes:A.classes,sep:A.sep,dec:A.dec}),t(11,i=Qt(L,S,o.values))}).catch(L=>{t(0,o=null),t(11,i=null),t(2,a="error"),t(3,c=L)}))}function b(A){t(2,a="neutral"),t(3,c=null),w(s,r,{type:m,nseg:v})}function E(){t(2,a="neutral"),t(3,c=null),t(6,g=null),t(0,o=null)}function T(A){m=A,t(5,m),t(8,h)}function z(A){v=A,t(7,v)}return l.$$set=A=>{"WASM"in A&&t(12,n=A.WASM),"calset"in A&&t(13,s=A.calset),"model"in A&&t(1,r=A.model),"pvset"in A&&t(0,o=A.pvset),"pvres"in A&&t(11,i=A.pvres),"outliers"in A&&t(14,f=A.outliers)},l.$$.update=()=>{l.$$.dirty&2&&r===null&&E()},h.length===0&&(t(4,u=["loo"]),t(5,m="loo")),[o,r,a,c,u,m,g,v,h,b,E,i,n,s,f,T,z]}class Mi extends ce{constructor(e){super(),ue(this,e,Ni,Ai,se,{WASM:12,calset:13,model:1,pvset:0,pvres:11,outliers:14})}}function _l(l){let e,t,n,s,r,o,i,f;return e=new J({props:{label:"# of PCs",$$slots:{default:[Li]},$$scope:{ctx:l}}}),n=new J({props:{label:"Center",$$slots:{default:[zi]},$$scope:{ctx:l}}}),r=new J({props:{label:"Scale",$$slots:{default:[Si]},$$scope:{ctx:l}}}),i=new J({props:{label:" ",$$slots:{default:[Ri]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),t=V(),I(n.$$.fragment),s=V(),I(r.$$.fragment),o=V(),I(i.$$.fragment)},m(a,c){R(e,a,c),y(a,t,c),R(n,a,c),y(a,s,c),R(r,a,c),y(a,o,c),R(i,a,c),f=!0},p(a,c){const u={};c&4194340&&(u.$$scope={dirty:c,ctx:a}),e.$set(u);const m={};c&4194368&&(m.$$scope={dirty:c,ctx:a}),n.$set(m);const g={};c&4194432&&(g.$$scope={dirty:c,ctx:a}),r.$set(g);const h={};c&4194304&&(h.$$scope={dirty:c,ctx:a}),i.$set(h)},i(a){f||(p(e.$$.fragment,a),p(n.$$.fragment,a),p(r.$$.fragment,a),p(i.$$.fragment,a),f=!0)},o(a){d(e.$$.fragment,a),d(n.$$.fragment,a),d(r.$$.fragment,a),d(i.$$.fragment,a),f=!1},d(a){a&&(k(t),k(s),k(o)),O(e,a),O(n,a),O(r,a),O(i,a)}}}function Li(l){let e,t,n;function s(o){l[16](o)}let r={id:"ncomp",min:1,max:l[2],step:1,decNum:0};return l[5]!==void 0&&(r.value=l[5]),e=new nl({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&4&&(f.max=o[2]),!t&&i&32&&(t=!0,f.value=o[5],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function zi(l){let e,t,n;function s(o){l[17](o)}let r={id:"center",options:["yes","no"]};return l[6]!==void 0&&(r.value=l[6]),e=new ve({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&64&&(t=!0,f.value=o[6],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Si(l){let e,t,n;function s(o){l[18](o)}let r={id:"scale",options:["yes","no"]};return l[7]!==void 0&&(r.value=l[7]),e=new ve({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&128&&(t=!0,f.value=o[7],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Ti(l){let e;return{c(){e=G("Create model")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function Ri(l){let e,t;return e=new Ue({props:{$$slots:{default:[Ti]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&4194304&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function pl(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:Fi,then:Pi,catch:Oi,value:20,error:21,blocks:[,,,]};return pt(t=l[8],s),{c(){e=ee(),s.block.c()},m(r,o){y(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o&256&&t!==(t=l[8])&&pt(t,s)||Kt(s,l,o)},i(r){n||(p(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];d(i)}n=!1},d(r){r&&k(e),s.block.d(r),s.token=null,s=null}}}function Oi(l){let e,t;return e=new J({props:{status:"error",$$slots:{default:[Ii]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&4194560&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Ii(l){let e,t=l[21]+"",n;return{c(){e=F("p"),n=G(t)},m(s,r){y(s,e,r),C(e,n)},p(s,r){r&256&&t!==(t=s[21]+"")&&ae(n,t)},d(s){s&&k(e)}}}function Pi(l){let e,t,n=l[0]!==null&&gl(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,r){s[0]!==null?n?(n.p(s,r),r&1&&p(n,1)):(n=gl(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),d(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function gl(l){let e,t;return e=new J({props:{$$slots:{default:[qi]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&4194305&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function qi(l){let e,t,n=l[0].ncomp+"",s,r,o,i,f;return i=new kt({}),i.$on("click",l[10]),{c(){e=F("p"),t=G("Global model is computed: "),s=G(n),r=G(" PCs"),o=V(),I(i.$$.fragment)},m(a,c){y(a,e,c),C(e,t),C(e,s),C(e,r),y(a,o,c),R(i,a,c),f=!0},p(a,c){(!f||c&1)&&n!==(n=a[0].ncomp+"")&&ae(s,n)},i(a){f||(p(i.$$.fragment,a),f=!0)},o(a){d(i.$$.fragment,a),f=!1},d(a){a&&(k(e),k(o)),O(i,a)}}}function Fi(l){let e,t;return e=new J({props:{$$slots:{default:[ji]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&4194304&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function ji(l){let e,t,n,s;return e=new Jt({}),{c(){I(e.$$.fragment),t=V(),n=F("p"),n.textContent="Computing global model..."},m(r,o){R(e,r,o),y(r,t,o),y(r,n,o),s=!0},p:H,i(r){s||(p(e.$$.fragment,r),s=!0)},o(r){d(e.$$.fragment,r),s=!1},d(r){r&&(k(t),k(n)),O(e,r)}}}function hl(l){let e,t;return e=new J({props:{status:"error",$$slots:{default:[Vi]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&4194320&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Vi(l){let e,t;return{c(){e=F("p"),t=G(l[4])},m(n,s){y(n,e,s),C(e,t)},p(n,s){s&16&&ae(t,n[4])},d(n){n&&k(e)}}}function Yi(l){let e,t,n,s,r=l[1]&&!l[0]&&l[3]!=="computing"&&_l(l),o=l[8]&&pl(l),i=(l[3]==="error"||l[4])&&hl(l);return{c(){r&&r.c(),e=V(),o&&o.c(),t=V(),i&&i.c(),n=ee()},m(f,a){r&&r.m(f,a),y(f,e,a),o&&o.m(f,a),y(f,t,a),i&&i.m(f,a),y(f,n,a),s=!0},p(f,[a]){f[1]&&!f[0]&&f[3]!=="computing"?r?(r.p(f,a),a&11&&p(r,1)):(r=_l(f),r.c(),p(r,1),r.m(e.parentNode,e)):r&&(K(),d(r,1,1,()=>{r=null}),X()),f[8]?o?(o.p(f,a),a&256&&p(o,1)):(o=pl(f),o.c(),p(o,1),o.m(t.parentNode,t)):o&&(K(),d(o,1,1,()=>{o=null}),X()),f[3]==="error"||f[4]?i?(i.p(f,a),a&24&&p(i,1)):(i=hl(f),i.c(),p(i,1),i.m(n.parentNode,n)):i&&(K(),d(i,1,1,()=>{i=null}),X())},i(f){s||(p(r),p(o),p(i),s=!0)},o(f){d(r),d(o),d(i),s=!1},d(f){f&&(k(e),k(t),k(n)),r&&r.d(f),o&&o.d(f),i&&i.d(f)}}}const dl=5,bl=1,Yt="classic";function Di(l,e,t){let n,{WASM:s}=e,{model:r}=e,{simca:o}=e,{calset:i}=e,{calres:f}=e,{className:a}=e,{outliers:c}=e,u="neutral",m=null,g=1,h="yes",v="no",w;async function b(N,L,q,M){t(8,w=s().then(j=>{t(3,u="computing");const P=jo(j,N,L,q,M,c);P.lim={classic:{h0:ht(P,"ch0"),Nh:ht(P,"cNh"),q0:ht(P,"cq0"),Nq:ht(P,"cNq")},robust:{h0:ht(P,"rh0"),Nh:ht(P,"rNh"),q0:ht(P,"rq0"),Nq:ht(P,"rNq")}},t(0,r=P),t(12,f=Qt(j,r,N,c));const D=r.lim[Yt].Nh,Q=r.lim[Yt].h0,te=r.lim[Yt].Nq,Y=r.lim[Yt].q0,B=D.map((ge,de)=>ge+te[de]),ie=B.map(ge=>wt(1-dl/100,ge)),fe=B.map(ge=>wt(Math.pow(1-bl/100,1/r.nrows),ge));t(11,o={ncomp:1,alpha:dl,gamma:bl,limType:Yt,h0:Q,q0:Y,Nh:D,Nq:te,Nf:B,eCrit:ie,oCrit:fe,className:a}),t(3,u="success")}).catch(j=>{t(0,r=null),t(12,f=null),t(11,o=null),t(3,u="error"),t(4,m=j)}))}function E(N){t(3,u="neutral"),t(4,m=null),b(i.values,g,h==="yes",v==="yes")}function T(){t(3,u="neutral"),t(8,w=null),t(0,r=null),t(4,m=null)}function z(N){g=N,t(5,g),t(2,n),t(1,i)}function A(N){h=N,t(6,h)}function S(N){v=N,t(7,v)}return l.$$set=N=>{"WASM"in N&&t(13,s=N.WASM),"model"in N&&t(0,r=N.model),"simca"in N&&t(11,o=N.simca),"calset"in N&&t(1,i=N.calset),"calres"in N&&t(12,f=N.calres),"className"in N&&t(14,a=N.className),"outliers"in N&&t(15,c=N.outliers)},l.$$.update=()=>{l.$$.dirty&2&&i===null&&T(),l.$$.dirty&2&&t(2,n=i?Math.min(i.values.nrows-2,i.values.ncols-1):null),l.$$.dirty&4&&t(5,g=n?Math.min(n,20):null)},[r,i,n,u,m,g,h,v,w,E,T,o,f,s,a,c,z,A,S]}class $i extends ce{constructor(e){super(),ue(this,e,Di,Yi,se,{WASM:13,model:0,simca:11,calset:1,calres:12,className:14,outliers:15})}}const Nm="";function wl(l){let e,t,n,s,r,o,i,f=l[0].cal.nrows+"",a,c,u,m=l[0].pv.nrows+"",g,h,v,w,b,E,T=l[2].cnum.extreme+"",z,A,S,N=l[1].cnum.extreme+"",L,q,M,j,P,D,Q=l[2].cnum.outliers+"",te,Y,B,ie=l[1].cnum.outliers+"",fe,ge,de,we,Ee,Re,Fe=l[2].stat.sensitivity.toFixed(2)+"",$e,ze,je,He=l[1].stat.sensitivity.toFixed(2)+"",Ve;return{c(){e=F("table"),t=F("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Cal</th> <th class="svelte-kg0b31">PV</th>',n=V(),s=F("tr"),r=F("td"),r.textContent="Objects",o=V(),i=F("td"),a=G(f),c=V(),u=F("td"),g=G(m),h=V(),v=F("tr"),w=F("td"),w.textContent="Extremes",b=V(),E=F("td"),z=G(T),A=V(),S=F("td"),L=G(N),q=V(),M=F("tr"),j=F("td"),j.textContent="Outliers",P=V(),D=F("td"),te=G(Q),Y=V(),B=F("td"),fe=G(ie),ge=V(),de=F("tr"),we=F("td"),we.textContent="Sensitivity",Ee=V(),Re=F("td"),$e=G(Fe),ze=V(),je=F("td"),Ve=G(He),_(t,"class","svelte-kg0b31"),_(r,"class","label svelte-kg0b31"),_(i,"class","svelte-kg0b31"),_(u,"class","svelte-kg0b31"),_(s,"class","svelte-kg0b31"),_(w,"class","label svelte-kg0b31"),_(E,"class","svelte-kg0b31"),_(S,"class","svelte-kg0b31"),_(v,"class","svelte-kg0b31"),_(j,"class","label svelte-kg0b31"),_(D,"class","svelte-kg0b31"),_(B,"class","svelte-kg0b31"),_(M,"class","svelte-kg0b31"),_(we,"class","label svelte-kg0b31"),_(Re,"class","svelte-kg0b31"),_(je,"class","svelte-kg0b31"),_(de,"class","svelte-kg0b31"),_(e,"class","svelte-kg0b31")},m(Ae,Ye){y(Ae,e,Ye),C(e,t),C(e,n),C(e,s),C(s,r),C(s,o),C(s,i),C(i,a),C(s,c),C(s,u),C(u,g),C(e,h),C(e,v),C(v,w),C(v,b),C(v,E),C(E,z),C(v,A),C(v,S),C(S,L),C(e,q),C(e,M),C(M,j),C(M,P),C(M,D),C(D,te),C(M,Y),C(M,B),C(B,fe),C(e,ge),C(e,de),C(de,we),C(de,Ee),C(de,Re),C(Re,$e),C(de,ze),C(de,je),C(je,Ve)},p(Ae,Ye){Ye&1&&f!==(f=Ae[0].cal.nrows+"")&&ae(a,f),Ye&1&&m!==(m=Ae[0].pv.nrows+"")&&ae(g,m),Ye&4&&T!==(T=Ae[2].cnum.extreme+"")&&ae(z,T),Ye&2&&N!==(N=Ae[1].cnum.extreme+"")&&ae(L,N),Ye&4&&Q!==(Q=Ae[2].cnum.outliers+"")&&ae(te,Q),Ye&2&&ie!==(ie=Ae[1].cnum.outliers+"")&&ae(fe,ie),Ye&4&&Fe!==(Fe=Ae[2].stat.sensitivity.toFixed(2)+"")&&ae($e,Fe),Ye&2&&He!==(He=Ae[1].stat.sensitivity.toFixed(2)+"")&&ae(Ve,He)},d(Ae){Ae&&k(e)}}}function Bi(l){let e,t=l[2]&&l[1]&&wl(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[2]&&n[1]?t?t.p(n,s):(t=wl(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){n&&k(e),t&&t.d(n)}}}function Wi(l,e,t){let n,s,r,{res:o}=e,{simca:i}=e;return l.$$set=f=>{"res"in f&&t(0,o=f.res),"simca"in f&&t(3,i=f.simca)},l.$$.update=()=>{l.$$.dirty&8&&t(4,n=i?i.ncomp:null),l.$$.dirty&17&&t(2,s=n?o.cal.v[n-1]:null),l.$$.dirty&17&&t(1,r=n?o.pv.v[n-1]:null)},[o,r,s,i,n]}let Hi=class extends ce{constructor(e){super(),ue(this,e,Wi,Bi,se,{res:0,simca:3})}};const Mm="";function vl(l,e,t){const n=l.slice();return n[19]=e[t].label,n[20]=e[t].plotComponent,n[21]=e[t].controlsComponent,n[23]=t,n}function Gi(l){let e,t=l[19]+"",n,s,r;function o(){return l[15](l[23])}function i(){return l[16](l[23])}return{c(){e=F("button"),n=G(t),_(e,"class","plot-selector svelte-dhzh2h")},m(f,a){y(f,e,a),C(e,n),s||(r=[Le(e,"keydown",o),Le(e,"click",i)],s=!0)},p(f,a){l=f,a&4&&t!==(t=l[19]+"")&&ae(n,t)},i:H,o:H,d(f){f&&k(e),s=!1,ot(r)}}}function Ui(l){let e,t,n,s,r,o,i;function f(m){l[14](m)}var a=l[21];function c(m,g){let h={simcares:m[0]};return m[5]!==void 0&&(h.params=m[5]),{props:h}}a&&(e=Wt(a,c(l)),Z.push(()=>ne(e,"params",f))),s=new J({props:{label:"Download as",$$slots:{default:[Zi]},$$scope:{ctx:l}}});let u=l[3]>=0&&kl(l);return{c(){e&&I(e.$$.fragment),n=V(),I(s.$$.fragment),r=V(),u&&u.c(),o=ee()},m(m,g){e&&R(e,m,g),y(m,n,g),R(s,m,g),y(m,r,g),u&&u.m(m,g),y(m,o,g),i=!0},p(m,g){if(g&4&&a!==(a=m[21])){if(e){K();const v=e;d(v.$$.fragment,1,0,()=>{O(v,1)}),X()}a?(e=Wt(a,c(m)),Z.push(()=>ne(e,"params",f)),I(e.$$.fragment),p(e.$$.fragment,1),R(e,n.parentNode,n)):e=null}else if(a){const v={};g&1&&(v.simcares=m[0]),!t&&g&32&&(t=!0,v.params=m[5],le(()=>t=!1)),e.$set(v)}const h={};g&16777216&&(h.$$scope={dirty:g,ctx:m}),s.$set(h),m[3]>=0?u?(u.p(m,g),g&8&&p(u,1)):(u=kl(m),u.c(),p(u,1),u.m(o.parentNode,o)):u&&(K(),d(u,1,1,()=>{u=null}),X())},i(m){i||(e&&p(e.$$.fragment,m),p(s.$$.fragment,m),p(u),i=!0)},o(m){e&&d(e.$$.fragment,m),d(s.$$.fragment,m),d(u),i=!1},d(m){m&&(k(n),k(r),k(o)),e&&O(e,m),O(s,m),u&&u.d(m)}}}function Ki(l){let e;return{c(){e=G("SVG")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function Xi(l){let e;return{c(){e=G("PNG")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function Zi(l){let e,t,n,s,r;return t=new Ue({props:{$$slots:{default:[Ki]},$$scope:{ctx:l}}}),t.$on("click",l[8]),s=new Ue({props:{$$slots:{default:[Xi]},$$scope:{ctx:l}}}),s.$on("click",l[7]),{c(){e=F("div"),I(t.$$.fragment),n=V(),I(s.$$.fragment),_(e,"class","buttons svelte-dhzh2h")},m(o,i){y(o,e,i),R(t,e,null),C(e,n),R(s,e,null),r=!0},p(o,i){const f={};i&16777216&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const a={};i&16777216&&(a.$$scope={dirty:i,ctx:o}),s.$set(a)},i(o){r||(p(t.$$.fragment,o),p(s.$$.fragment,o),r=!0)},o(o){d(t.$$.fragment,o),d(s.$$.fragment,o),r=!1},d(o){o&&k(e),O(t),O(s)}}}function kl(l){let e,t;return e=new J({props:{label:"Selected",$$slots:{default:[Ji]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&16777216&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Qi(l){let e;return{c(){e=G("remove as outlier")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function Ji(l){let e,t,n,s;return t=new Ue({props:{$$slots:{default:[Qi]},$$scope:{ctx:l}}}),t.$on("click",l[10]),{c(){e=F("div"),I(t.$$.fragment),n=V(),_(e,"class","buttons button-outlier svelte-dhzh2h")},m(r,o){y(r,e,o),R(t,e,null),y(r,n,o),s=!0},p(r,o){const i={};o&16777216&&(i.$$scope={dirty:o,ctx:r}),t.$set(i)},i(r){s||(p(t.$$.fragment,r),s=!0)},o(r){d(t.$$.fragment,r),s=!1},d(r){r&&(k(e),k(n)),O(t)}}}function yl(l){let e,t,n,s;const r=[Ui,Gi],o=[];function i(f,a){return f[4]===f[23]?0:1}return e=i(l),t=o[e]=r[e](l),{c(){t.c(),n=ee()},m(f,a){o[e].m(f,a),y(f,n,a),s=!0},p(f,a){let c=e;e=i(f),e===c?o[e].p(f,a):(K(),d(o[c],1,1,()=>{o[c]=null}),X(),t=o[e],t?t.p(f,a):(t=o[e]=r[e](f),t.c()),p(t,1),t.m(n.parentNode,n))},i(f){s||(p(t),s=!0)},o(f){d(t),s=!1},d(f){f&&k(n),o[e].d(f)}}}function xi(l){let e,t,n,s,r,o,i;function f(h){l[12](h)}var a=l[2][l[4]].plotComponent;function c(h,v){let w={simcares:h[0],simca:h[1],params:h[5]};return h[3]!==void 0&&(w.selected=h[3]),{props:w}}a&&(n=Wt(a,c(l)),Z.push(()=>ne(n,"selected",f)));let u=ke(l[2]),m=[];for(let h=0;h<u.length;h+=1)m[h]=yl(vl(l,u,h));const g=h=>d(m[h],1,1,()=>{m[h]=null});return{c(){e=F("div"),t=F("div"),n&&I(n.$$.fragment),r=V(),o=F("div");for(let h=0;h<m.length;h+=1)m[h].c();_(t,"class","plot-area svelte-dhzh2h"),_(o,"class","plot-controls-area svelte-dhzh2h"),_(e,"class","plot-container svelte-dhzh2h")},m(h,v){y(h,e,v),C(e,t),n&&R(n,t,null),l[13](t),C(e,r),C(e,o);for(let w=0;w<m.length;w+=1)m[w]&&m[w].m(o,null);i=!0},p(h,[v]){if(v&20&&a!==(a=h[2][h[4]].plotComponent)){if(n){K();const w=n;d(w.$$.fragment,1,0,()=>{O(w,1)}),X()}a?(n=Wt(a,c(h)),Z.push(()=>ne(n,"selected",f)),I(n.$$.fragment),p(n.$$.fragment,1),R(n,t,null)):n=null}else if(a){const w={};v&1&&(w.simcares=h[0]),v&2&&(w.simca=h[1]),v&32&&(w.params=h[5]),!s&&v&8&&(s=!0,w.selected=h[3],le(()=>s=!1)),n.$set(w)}if(v&1981){u=ke(h[2]);let w;for(w=0;w<u.length;w+=1){const b=vl(h,u,w);m[w]?(m[w].p(b,v),p(m[w],1)):(m[w]=yl(b),m[w].c(),p(m[w],1),m[w].m(o,null))}for(K(),w=u.length;w<m.length;w+=1)g(w);X()}},i(h){if(!i){n&&p(n.$$.fragment,h);for(let v=0;v<u.length;v+=1)p(m[v]);i=!0}},o(h){n&&d(n.$$.fragment,h),m=m.filter(Boolean);for(let v=0;v<m.length;v+=1)d(m[v]);i=!1},d(h){h&&k(e),n&&O(n),l[13](null),Ge(m,h)}}}const ef=600;function tf(){const l=new Int32Array(256);for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;l[e]=t}return l}function nf(l){let e=-1,t=tf();for(let n=0;n<l.length;n++)e=t[(e^l[n])&255]^e>>>8;return e^-1}function lf(l,e){const t=new Uint8Array(13);e*=39.3701,t[0]="p".charCodeAt(0),t[1]="H".charCodeAt(0),t[2]="Y".charCodeAt(0),t[3]="s".charCodeAt(0),t[4]=e>>>24,t[5]=e>>>16,t[6]=e>>>8,t[7]=e&255,t[8]=t[4],t[9]=t[5],t[10]=t[6],t[11]=t[7],t[12]=1;const n=nf(t),s=new Uint8Array(4);s[0]=n>>>24,s[1]=n>>>16,s[2]=n>>>8,s[3]=n&255;const r=new Uint8Array(4);r[0]=0,r[1]=0,r[2]=0,r[3]=9;const o=new Uint8Array(54);return o.set(l,0),o.set(r,33),o.set(t,37),o.set(s,50),o}function kn(l,e){const t=l.split(","),n=t[0],s=t[1],r=33/3*4,o=s.substring(0,r),i=s.substring(r),f=atob(o),a=new Uint8Array(f.length);for(let m=0;m<a.length;m++)a[m]=f.charCodeAt(m);const c=lf(a,e),u=btoa(String.fromCharCode(...c));return[n,",",u,i].join("")}function sf(l,e,t){let{simcares:n}=e,{simca:s}=e,{options:r}=e,o=-1;const i=Ht(),f=3.125*ef;function a(){const A=g.getElementsByTagName("svg")[0],S=A.style.fontSize;A.parentNode.classList.add("off-screen"),setTimeout(()=>{A.style.fontSize="16px";const N=A.clientWidth,L=A.clientHeight,q=f/N,M=document.createElement("canvas"),j=M.getContext("2d");M.width=N*q,M.height=L*q,A.setAttribute("width",M.width),A.setAttribute("height",M.height),j.fillStyle="white",j.scale(q,q),j.fillRect(0,0,M.width,M.height);const P=new XMLSerializer().serializeToString(A),D=new Image;D.onload=function(){j.drawImage(D,0,0,M.width,M.height);const Q=M.toDataURL("image/png"),te=kn(Q,600),Y=document.createElement("a");Y.href=te,Y.download="ddcimca-plot.png",Y.click()},D.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(P))),A.style.fontSize=S,A.parentNode.classList.remove("off-screen")},20)}function c(){const A=g.getElementsByTagName("svg")[0];A.setAttribute("xmlns","http://www.w3.org/2000/svg");const S=new Blob([A.parentNode.innerHTML],{type:"image/svg+xml"}),N=window.URL.createObjectURL(S),L=document.createElement("a");L.setAttribute("href",N),L.setAttribute("download","ddsimca-plot.svg"),L.click()}let u=0,m=null,g;function h(A){t(5,m=null),t(4,u=A)}function v(A){i("setoutlier",{id:o})}function w(A){o=A,t(3,o)}function b(A){Z[A?"unshift":"push"](()=>{g=A,t(6,g)})}function E(A){m=A,t(5,m)}const T=A=>h(A),z=A=>h(A);return l.$$set=A=>{"simcares"in A&&t(0,n=A.simcares),"simca"in A&&t(1,s=A.simca),"options"in A&&t(2,r=A.options)},[n,s,r,o,u,m,g,a,c,h,v,kn,w,b,E,T,z]}class yn extends ce{constructor(e){super(),ue(this,e,sf,xi,se,{simcares:0,simca:1,options:2,changeDPI:11})}get changeDPI(){return kn}}const Pt=[];function qt(l,e=H){let t;const n=new Set;function s(i){if(se(l,i)&&(l=i,t)){const f=!Pt.length;for(const a of n)a[1](),Pt.push(a,l);if(f){for(let a=0;a<Pt.length;a+=2)Pt[a][0](Pt[a+1]);Pt.length=0}}}function r(i){s(i(l))}function o(i,f=H){const a=[i,f];return n.add(a),n.size===1&&(t=e(s,r)||H),i(l),()=>{n.delete(a),n.size===0&&t&&(t(),t=null)}}return{set:s,update:r,subscribe:o}}function Cl(l){if(l===void 0)return;const e=Math.abs(It(qn(l)));let t=0;if(e<1&&Math.abs(Oe(l))<1){let n=Math.ceil(-Math.log10(e));return n<=2?[0,Array.from(l).map(s=>s.toFixed(n).toString())]:(t=n-2,n=2,[-t,Array.from(l).map(s=>(s*Math.pow(10,t)).toFixed(n).toString())])}else{let n=Math.ceil(Math.log10(e));return n<=2?[0,Array.from(l).map(s=>s.toString())]:(t=n-2,n=2,[t,Array.from(l).map(s=>(s/Math.pow(10,t)).toString())])}}function at(l,e){if(Array.isArray(l)&&(l=Ie(l)),!Me(l))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(l.length<1)throw Error(e+": vector with coordinates is empty.");return l}function rf(l,e,t,n,s){if(l===void 0||e===void 0)return;const r=s.transform(at(l,"val2p"),t.coords),o=s.transform(at(e,"val2p"),n.coords);if(r.length!=o.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let i="";for(let f=0;f<r.length;f++)i+=r[f]+","+o[f]+" ";return i}function El(l,e,t,n=!0){if(l!==void 0){if(Array.isArray(l)&&(l=Ie(l)),!Me(l))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return l.filter(a=>a>=e[0]&a<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const s=(e[1]-e[0])/50,r=Al(e[1]-e[0]-1*s,n),o=Al(r/(t-1),n),i=Math.ceil((e[0]+s)/o)*o,f=Math.floor((e[1]-s)/o)*o;if(t=Math.round((f-i+1)/o)+1,l=he.seq(i,f,o),Math.abs(o)<1){const a=Math.pow(10,1+Math.round(-Math.log10(o)));l=l.apply(c=>Math.round((c+Number.EPSILON)*a)/a)}return l.filter(a=>a>=e[0]&a<=e[1])}function Al(l,e){const t=Math.floor(Math.log10(l)),n=l/Math.pow(10,t);let s;return e?n<1.5?s=1:n<3?s=2:n<7?s=5:s=10:n<=1?s=1:n<=2?s=2:n<=5?s=5:s=10,s*Math.pow(10,t)}function of(l){return Math.round(l*10)/10}function ff(l,e){return e<300.2||l<300.2?"small":e<600.2||l<600.2?"medium":e<850.2||l<850.2?"large":"xlarge"}const Lm="",af=l=>({}),Nl=l=>({}),uf=l=>({}),Ml=l=>({}),cf=l=>({}),Ll=l=>({});function zl(l){let e,t,n;return{c(){e=_e("text"),_(e,"x",0),_(e,"y",t=(l[4]+l[8])/2),_(e,"dx",0),_(e,"dy",0),_(e,"dominant-baseline","top"),_(e,"transform",n=`rotate(-90, 10, ${l[4]/2})`),We(e,"font-size","1.1em")},m(s,r){y(s,e,r),e.innerHTML=l[2]},p(s,r){r[0]&4&&(e.innerHTML=s[2]),r[0]&272&&t!==(t=(s[4]+s[8])/2)&&_(e,"y",t),r[0]&16&&n!==(n=`rotate(-90, 10, ${s[4]/2})`)&&_(e,"transform",n)},d(s){s&&k(e)}}}function Sl(l){let e,t,n;return{c(){e=_e("text"),_(e,"x",t=l[7]+l[3]/2),_(e,"y",n=l[4]+l[8]),_(e,"dx",0),_(e,"dy",5),_(e,"dominant-baseline","middle"),We(e,"font-size","1.1em")},m(s,r){y(s,e,r),e.innerHTML=l[1]},p(s,r){r[0]&2&&(e.innerHTML=s[1]),r[0]&136&&t!==(t=s[7]+s[3]/2)&&_(e,"x",t),r[0]&272&&n!==(n=s[4]+s[8])&&_(e,"y",n)},d(s){s&&k(e)}}}function Tl(l){let e,t;return{c(){e=_e("text"),_(e,"x",t=l[7]+l[3]/2),_(e,"y",0),_(e,"dx",0),_(e,"dy",10),_(e,"dominant-baseline","hanging"),We(e,"font-size","1.2em")},m(n,s){y(n,e,s),e.innerHTML=l[0]},p(n,s){s[0]&1&&(e.innerHTML=n[0]),s[0]&136&&t!==(t=n[7]+n[3]/2)&&_(e,"x",t)},d(n){n&&k(e)}}}function Rl(l){let e;return{c(){e=F("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,_(e,"class","message_error svelte-iey6d1")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function mf(l){let e,t,n,s,r,o,i,f,a,c,u,m,g,h,v,w,b,E,T,z=l[2]&&l[2]!==""&&zl(l),A=l[1]&&l[1]!==""&&Sl(l),S=l[0]&&l[0]!==""&&Tl(l);const N=l[31].xaxis,L=Nt(N,l,l[30],Ll),q=l[31].yaxis,M=Nt(q,l,l[30],Ml),j=l[31].default,P=Nt(j,l,l[30],null),D=l[31].box,Q=Nt(D,l,l[30],Nl);let te=!l[5]&&Rl();return{c(){e=F("div"),t=_e("svg"),n=_e("g"),z&&z.c(),s=ee(),A&&A.c(),r=ee(),S&&S.c(),o=_e("svg"),i=_e("defs"),f=_e("clipPath"),a=_e("rect"),L&&L.c(),M&&M.c(),h=_e("g"),P&&P.c(),Q&&Q.c(),w=V(),te&&te.c(),_(n,"style",l[9]),We(a,"pointer-events","none"),_(a,"x",c=l[12][0]),_(a,"y",u=l[11][1]),_(a,"width",m=l[12][1]-l[12][0]),_(a,"height",g=l[11][0]-l[11][1]),_(f,"id",l[13]),_(h,"class","axes-content svelte-iey6d1"),_(h,"clip-path","url(#"+l[13]+")"),_(o,"x",l[7]),_(o,"y",l[8]),_(o,"width",l[3]),_(o,"height",l[4]),_(o,"preserveAspectRatio","none"),_(o,"class","axes"),_(t,"class","plot svelte-iey6d1"),_(t,"xmlns","http://www.w3.org/2000/svg"),_(t,"style",v=`font-family: Arial, Helvetica, sans-serif;font-size:${l[10]}px`),_(e,"class","plot-container svelte-iey6d1"),Be(e,"plot_error",!l[5])},m(Y,B){y(Y,e,B),C(e,t),C(t,n),z&&z.m(n,null),C(n,s),A&&A.m(n,null),C(n,r),S&&S.m(n,null),C(t,o),C(o,i),C(i,f),C(f,a),L&&L.m(o,null),M&&M.m(o,null),C(o,h),P&&P.m(h,null),Q&&Q.m(o,null),l[32](t),C(e,w),te&&te.m(e,null),l[33](e),b=!0,E||(T=[Le(o,"click",l[14]),Le(o,"keydown",l[14])],E=!0)},p(Y,B){Y[2]&&Y[2]!==""?z?z.p(Y,B):(z=zl(Y),z.c(),z.m(n,s)):z&&(z.d(1),z=null),Y[1]&&Y[1]!==""?A?A.p(Y,B):(A=Sl(Y),A.c(),A.m(n,r)):A&&(A.d(1),A=null),Y[0]&&Y[0]!==""?S?S.p(Y,B):(S=Tl(Y),S.c(),S.m(n,null)):S&&(S.d(1),S=null),(!b||B[0]&512)&&_(n,"style",Y[9]),(!b||B[0]&4096&&c!==(c=Y[12][0]))&&_(a,"x",c),(!b||B[0]&2048&&u!==(u=Y[11][1]))&&_(a,"y",u),(!b||B[0]&4096&&m!==(m=Y[12][1]-Y[12][0]))&&_(a,"width",m),(!b||B[0]&2048&&g!==(g=Y[11][0]-Y[11][1]))&&_(a,"height",g),L&&L.p&&(!b||B[0]&1073741824)&&Lt(L,N,Y,Y[30],b?Mt(N,Y[30],B,cf):zt(Y[30]),Ll),M&&M.p&&(!b||B[0]&1073741824)&&Lt(M,q,Y,Y[30],b?Mt(q,Y[30],B,uf):zt(Y[30]),Ml),P&&P.p&&(!b||B[0]&1073741824)&&Lt(P,j,Y,Y[30],b?Mt(j,Y[30],B,null):zt(Y[30]),null),Q&&Q.p&&(!b||B[0]&1073741824)&&Lt(Q,D,Y,Y[30],b?Mt(D,Y[30],B,af):zt(Y[30]),Nl),(!b||B[0]&128)&&_(o,"x",Y[7]),(!b||B[0]&256)&&_(o,"y",Y[8]),(!b||B[0]&8)&&_(o,"width",Y[3]),(!b||B[0]&16)&&_(o,"height",Y[4]),(!b||B[0]&1024&&v!==(v=`font-family: Arial, Helvetica, sans-serif;font-size:${Y[10]}px`))&&_(t,"style",v),Y[5]?te&&(te.d(1),te=null):te||(te=Rl(),te.c(),te.m(e,null)),(!b||B[0]&32)&&Be(e,"plot_error",!Y[5])},i(Y){b||(p(L,Y),p(M,Y),p(P,Y),p(Q,Y),b=!0)},o(Y){d(L,Y),d(M,Y),d(P,Y),d(Q,Y),b=!1},d(Y){Y&&k(e),z&&z.d(),A&&A.d(),S&&S.d(),L&&L.d(Y),M&&M.d(Y),P&&P.d(Y),Q&&Q.d(Y),l[32](null),te&&te.d(),l[33](null),E=!1,ot(T)}}}function _f(l,e,t){let n,s,r,o,i,f,a,c,u,m,g,{$$slots:h={},$$scope:v}=e,{limX:w}=e,{limY:b}=e,{title:E=""}=e,{xLabel:T=""}=e,{yLabel:z=""}=e,{margins:A=[1,.75,.5,.5]}=e;const S=Ht(),N={small:30,medium:40,large:50,xlarge:60},L={small:5,medium:8,large:12,xlarge:15},q={small:4,medium:6,large:8,xlarge:10},M={small:10,medium:12,large:14,xlarge:16},j={small:11,medium:13,large:16,xlarge:19},P={small:10,medium:13,large:15,xlarge:17},D={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},Q=["●","◼","▲","▼","⬥","＋","*","×"],te="plottingArea"+Math.round(Math.random()*1e4);let Y,B=100,ie=100,fe=0,ge=0,de=0;function we(U,pe){const Te=Array.prototype.indexOf.call(pe.parentNode.children,pe);S(U,{seriesTitle:pe.parentNode.getAttribute("title"),elementID:Te})}function Ee(U){if(U.target.tagName==="text"&&U.target.parentNode.classList.contains("series_points")){we("markerclick",U.target);return}if(U.target.tagName==="rect"&&U.target.parentNode.classList.contains("series_bar")){we("barclick",U.target);return}S("axesclick")}const Re=function(U,pe){if(!(!u||U===void 0||U===null)&&(Array.isArray(U)&&(U=Ie(U)),!(!Me(U)||U.length<1)))return U.apply(Te=>of((Te-pe[1])*pe[0]+pe[2])).v},Fe=function(U,pe){if(!(!u||U===void 0||U===null)&&(Array.isArray(U)&&(U=Ie(U)),!(!Me(U)||U.length<1)))return U.apply(Te=>(Te-pe[2])/pe[0]+pe[1]).v},$e=qt("medium");oe(l,$e,U=>t(25,f=U));const ze=qt({coords:[1,0,0],objects:[1,0,0]});oe(l,ze,U=>t(28,m=U));const je=qt({coords:[1,0,0],objects:[1,0,0]});oe(l,je,U=>t(26,a=U));const He=qt(!1);oe(l,He,U=>t(5,u=U));const Ve=qt(w);oe(l,Ve,U=>t(29,g=U));const Ae=qt(b);oe(l,Ae,U=>t(27,c=U)),yo("axes",{transform:Re,invTransform:Fe,scale:$e,isOk:He,xLim:Ve,yLim:Ae,tX:ze,tY:je,xLabel:T,yLabel:z,LINE_STYLES:D,LABELS_MARGIN:P,TICK_NUM:L,TICK_SIZE:q,MARKER_SYMBOLS:Q,LEGEND_FONT_SIZE:M});const nt=new ResizeObserver(U=>{for(let pe of U){const Te=Y.getBoundingClientRect(),en=ff(Te.width,Te.height);$e.update(io=>en);const Dt=j[en]*1.5;t(7,fe=T&&T!==""?Dt:0),ge=z&&z!==""?Dt:0,t(8,de=E&&E!==""?Dt:0),t(3,B=Te.width>fe?Te.width-fe:0),t(4,ie=Te.height>ge+de?Te.height-ge-de:0)}});vo(()=>{nt.observe(Y)}),ko(()=>{nt.unobserve(Y)});function Je(U){Z[U?"unshift":"push"](()=>{Y=U,t(6,Y)})}function lt(U){Z[U?"unshift":"push"](()=>{Y=U,t(6,Y)})}return l.$$set=U=>{"limX"in U&&t(21,w=U.limX),"limY"in U&&t(22,b=U.limY),"title"in U&&t(0,E=U.title),"xLabel"in U&&t(1,T=U.xLabel),"yLabel"in U&&t(2,z=U.yLabel),"margins"in U&&t(23,A=U.margins),"$$scope"in U&&t(30,v=U.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&41943040&&t(24,n=A.map(U=>U*N[f])),l.$$.dirty[0]&2097152&&Ve.update(U=>w),l.$$.dirty[0]&4194304&&Ae.update(U=>b),l.$$.dirty[0]&687865880&&He.update(U=>Array.isArray(c)&&Array.isArray(g)&&g.length===2&&c.length===2&&!c.some(pe=>pe===void 0)&&!g.some(pe=>pe===void 0)&&!c.some(pe=>isNaN(pe))&&!g.some(pe=>isNaN(pe))&&g[1]!==g[0]&&c[1]!==c[0]&&B>n[1]+n[3]&&ie>n[0]+n[2]),l.$$.dirty[0]&553648168&&u&&ze.update(U=>({coords:[(B-n[1]-n[3])/(g[1]-g[0]),g[0],n[1]],objects:[(B-n[1]-n[3])/(g[1]-g[0]),0,0]})),l.$$.dirty[0]&150994992&&u&&je.update(U=>({coords:[-(ie-n[0]-n[2])/(c[1]-c[0]),c[1],n[2]],objects:[(ie-n[0]-n[2])/(c[1]-c[0]),0,0]})),l.$$.dirty[0]&805306400&&t(12,s=u?Re(g,m.coords):[0,1]),l.$$.dirty[0]&201326624&&t(11,r=u?Re(c,a.coords):[1,0]),l.$$.dirty[0]&33554432&&t(10,o=j[f])},t(9,i="font-weight:bold;text-anchor:middle;"),[E,T,z,B,ie,u,Y,fe,de,i,o,r,s,te,Ee,$e,ze,je,He,Ve,Ae,w,b,A,n,f,a,c,m,g,v,h,Je,lt]}class yt extends ce{constructor(e){super(),ue(this,e,_f,mf,se,{limX:21,limY:22,title:0,xLabel:1,yLabel:2,margins:23},null,[-1,-1])}}const Pe={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function Ol(l,e,t){const n=l.slice();return n[17]=e[t],n[19]=t,n}function Il(l){let e,t=ke(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Pl(Ol(l,t,s));return{c(){e=_e("g");for(let s=0;s<n.length;s+=1)n[s].c();_(e,"class",l[0])},m(s,r){y(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&62){t=ke(s[1]);let o;for(o=0;o<t.length;o+=1){const i=Ol(s,t,o);n[o]?n[o].p(i,r):(n[o]=Pl(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}r&1&&_(e,"class",s[0])},d(s){s&&k(e),Ge(n,s)}}}function Pl(l){let e,t,n,s,r;return{c(){e=_e("line"),_(e,"vector-effect","non-scaling-stroke"),_(e,"x1",t=l[1][l[19]]),_(e,"x2",n=l[2][l[19]]),_(e,"y1",s=l[3][l[19]]),_(e,"y2",r=l[4][l[19]]),_(e,"style",l[5])},m(o,i){y(o,e,i)},p(o,i){i&2&&t!==(t=o[1][o[19]])&&_(e,"x1",t),i&4&&n!==(n=o[2][o[19]])&&_(e,"x2",n),i&8&&s!==(s=o[3][o[19]])&&_(e,"y1",s),i&16&&r!==(r=o[4][o[19]])&&_(e,"y2",r),i&32&&_(e,"style",o[5])},d(o){o&&k(e)}}}function pf(l){let e,t=l[1]!==void 0&&l[3]!==void 0&&l[2]!==void 0&&l[4]!==void 0&&Il(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[1]!==void 0&&n[3]!==void 0&&n[2]!==void 0&&n[4]!==void 0?t?t.p(n,s):(t=Il(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){n&&k(e),t&&t.d(n)}}}function gf(l,e,t){let n,s,r,o,{lineCoords:i=[]}=e,{lineColor:f=Pe.DARKGRAY}=e,{lineType:a=1}=e,{lineWidth:c=1}=e,{className:u=""}=e;const m=Xe("axes"),g=m.scale;oe(l,g,z=>t(13,s=z));const h=m.tX;oe(l,h,z=>t(15,o=z));const v=m.tY;oe(l,v,z=>t(14,r=z));let w,b,E,T;return l.$$set=z=>{"lineCoords"in z&&t(9,i=z.lineCoords),"lineColor"in z&&t(10,f=z.lineColor),"lineType"in z&&t(11,a=z.lineType),"lineWidth"in z&&t(12,c=z.lineWidth),"className"in z&&t(0,u=z.className)},l.$$.update=()=>{l.$$.dirty&49664&&i.length==2&&(t(1,w=m.transform(i[0][0],o.coords)),t(3,E=m.transform(i[0][1],r.coords)),t(2,b=m.transform(i[1][0],o.coords)),t(4,T=m.transform(i[1][1],r.coords))),l.$$.dirty&15360&&t(5,n=`stroke:${f};stroke-width: ${c}px;stroke-dasharray:${m.LINE_STYLES[s][a-1]}`)},[u,w,b,E,T,n,g,h,v,i,f,a,c,s,r,o]}class Cn extends ce{constructor(e){super(),ue(this,e,gf,pf,se,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}const zm="";function ql(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function Fl(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function jl(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function Vl(l){let e;function t(r,o){return r[2]===2&&r[1]===4?bf:r[2]===2&&r[1]===1?df:hf}let n=t(l),s=n(l);return{c(){e=_e("g"),s.c(),_(e,"class","tick_labels"),_(e,"style",l[9])},m(r,o){y(r,e,o),s.m(e,null),l[21](e)},p(r,o){n===(n=t(r))&&s?s.p(r,o):(s.d(1),s=n(r),s&&(s.c(),s.m(e,null))),o&512&&_(e,"style",r[9])},d(r){r&&k(e),s.d(),l[21](null)}}}function hf(l){let e,t=ke(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Yl(ql(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ee()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);y(s,e,r)},p(s,r){if(r&497){t=ke(s[4]);let o;for(o=0;o<t.length;o+=1){const i=ql(s,t,o);n[o]?n[o].p(i,r):(n[o]=Yl(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),Ge(n,s)}}}function df(l){let e,t=ke(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Dl(Fl(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ee()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);y(s,e,r)},p(s,r){if(r&177){t=ke(s[4]);let o;for(o=0;o<t.length;o+=1){const i=Fl(s,t,o);n[o]?n[o].p(i,r):(n[o]=Dl(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),Ge(n,s)}}}function bf(l){let e,t=ke(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=$l(jl(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ee()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);y(s,e,r)},p(s,r){if(r&113){t=ke(s[4]);let o;for(o=0;o<t.length;o+=1){const i=jl(s,t,o);n[o]?n[o].p(i,r):(n[o]=$l(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),Ge(n,s)}}}function Yl(l){let e,t=l[0][l[25]]+"",n,s;return{c(){e=_e("text"),_(e,"data-id",l[25]),_(e,"x",n=l[4][l[25]]),_(e,"y",s=l[5][l[25]]),_(e,"dx",l[6]),_(e,"dy",l[7]),_(e,"text-anchor",l[8]),_(e,"class","svelte-131ks7u")},m(r,o){y(r,e,o),e.innerHTML=t},p(r,o){o&1&&t!==(t=r[0][r[25]]+"")&&(e.innerHTML=t),o&16&&n!==(n=r[4][r[25]])&&_(e,"x",n),o&32&&s!==(s=r[5][r[25]])&&_(e,"y",s),o&64&&_(e,"dx",r[6]),o&128&&_(e,"dy",r[7]),o&256&&_(e,"text-anchor",r[8])},d(r){r&&k(e)}}}function Dl(l){let e,t=l[0][l[25]]+"",n,s,r,o;return{c(){e=_e("text"),_(e,"data-id",l[25]),_(e,"x",n=l[4][l[25]]),_(e,"y",s=l[5][l[25]]),_(e,"dx",r=-l[7]/2),_(e,"dy",0),_(e,"transform",o=`rotate(-90, ${l[4][l[25]]}, ${l[5][l[25]]})`),_(e,"text-anchor","end"),_(e,"class","svelte-131ks7u")},m(i,f){y(i,e,f),e.innerHTML=t},p(i,f){f&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),f&16&&n!==(n=i[4][i[25]])&&_(e,"x",n),f&32&&s!==(s=i[5][i[25]])&&_(e,"y",s),f&128&&r!==(r=-i[7]/2)&&_(e,"dx",r),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&_(e,"transform",o)},d(i){i&&k(e)}}}function $l(l){let e,t=l[0][l[25]]+"",n,s,r,o;return{c(){e=_e("text"),_(e,"data-id",l[25]),_(e,"x",n=l[4][l[25]]),_(e,"y",s=l[5][l[25]]),_(e,"dx",0),_(e,"dy",r=l[6]*1.25),_(e,"transform",o=`rotate(-90, ${l[4][l[25]]}, ${l[5][l[25]]})`),_(e,"text-anchor","middle"),_(e,"class","svelte-131ks7u")},m(i,f){y(i,e,f),e.innerHTML=t},p(i,f){f&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),f&16&&n!==(n=i[4][i[25]])&&_(e,"x",n),f&32&&s!==(s=i[5][i[25]])&&_(e,"y",s),f&64&&r!==(r=i[6]*1.25)&&_(e,"dy",r),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&_(e,"transform",o)},d(i){i&&k(e)}}}function wf(l){let e,t=l[4]!==void 0&&l[5]!==void 0&&Vl(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[4]!==void 0&&n[5]!==void 0?t?t.p(n,s):(t=Vl(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){n&&k(e),t&&t.d(n)}}}function vf(l,e,t){let n,s,r,o,i,f,{tickCoords:a}=e,{textColor:c}=e,{tickLabels:u}=e,{pos:m=1}=e,{las:g=1}=e;const h=Xe("axes"),v=h.scale;oe(l,v,M=>t(17,r=M));const w=h.tX;oe(l,w,M=>t(19,i=M));const b=h.tY;oe(l,b,M=>t(18,o=M));const E=h.isOk;oe(l,E,M=>t(20,f=M));let T,z,A,S=0,N=0,L;function q(M){Z[M?"unshift":"push"](()=>{T=M,t(3,T)})}return l.$$set=M=>{"tickCoords"in M&&t(14,a=M.tickCoords),"textColor"in M&&t(15,c=M.textColor),"tickLabels"in M&&t(0,u=M.tickLabels),"pos"in M&&t(1,m=M.pos),"las"in M&&t(2,g=M.las)},l.$$.update=()=>{l.$$.dirty&1851392&&f&&(t(4,z=h.transform(a[1][0],i.coords)),t(5,A=h.transform(a[1][1],o.coords))),l.$$.dirty&131072&&t(16,n=h.LABELS_MARGIN[r]),l.$$.dirty&65538&&(t(8,L=["middle","middle","start","middle","end"][m]),t(6,S=[0,0,n,0,-n][m]),t(7,N=[0,n,0,-n,0][m])),l.$$.dirty&32768&&t(9,s=`dominant-baseline:middle;fill:${c};font-size:1em; text-anchor:middle;`)},[u,m,g,T,z,A,S,N,L,s,v,w,b,E,a,c,n,r,o,i,f,q]}class Bl extends ce{constructor(e){super(),ue(this,e,vf,wf,se,{tickCoords:14,textColor:15,tickLabels:0,pos:1,las:2})}}function Wl(l){let e,t;return e=new Cn({props:{lineCoords:l[5],lineColor:l[11],lineType:3}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&32&&(r.lineCoords=n[5]),s&2048&&(r.lineColor=n[11]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Hl(l){let e,t;return e=new Bl({props:{las:l[2],pos:l[3],tickCoords:l[7],tickLabels:l[0],textColor:l[12]}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&4&&(r.las=n[2]),s&8&&(r.pos=n[3]),s&128&&(r.tickCoords=n[7]),s&1&&(r.tickLabels=n[0]),s&4096&&(r.textColor=n[12]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Gl(l){let e,t;return e=new Bl({props:{pos:l[3],tickCoords:l[8],tickLabels:[Ul(l[9])],textColor:l[12]}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.pos=n[3]),s&256&&(r.tickCoords=n[8]),s&512&&(r.tickLabels=[Ul(n[9])]),s&4096&&(r.textColor=n[12]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function kf(l){let e,t,n,s,r,o,i,f=l[1]&&Wl(l);n=new Cn({props:{lineCoords:l[6],lineColor:l[10],lineType:1}}),s=new Cn({props:{lineCoords:l[7],lineColor:l[10],lineType:1}});let a=l[7].length===2&&l[0].length===l[7][1][0].length&&Hl(l),c=l[9]!==0&&Gl(l);return{c(){e=_e("g"),f&&f.c(),t=ee(),I(n.$$.fragment),I(s.$$.fragment),a&&a.c(),r=ee(),c&&c.c(),_(e,"class",o="mdaplot__axis "+l[4])},m(u,m){y(u,e,m),f&&f.m(e,null),C(e,t),R(n,e,null),R(s,e,null),a&&a.m(e,null),C(e,r),c&&c.m(e,null),i=!0},p(u,[m]){u[1]?f?(f.p(u,m),m&2&&p(f,1)):(f=Wl(u),f.c(),p(f,1),f.m(e,t)):f&&(K(),d(f,1,1,()=>{f=null}),X());const g={};m&64&&(g.lineCoords=u[6]),m&1024&&(g.lineColor=u[10]),n.$set(g);const h={};m&128&&(h.lineCoords=u[7]),m&1024&&(h.lineColor=u[10]),s.$set(h),u[7].length===2&&u[0].length===u[7][1][0].length?a?(a.p(u,m),m&129&&p(a,1)):(a=Hl(u),a.c(),p(a,1),a.m(e,r)):a&&(K(),d(a,1,1,()=>{a=null}),X()),u[9]!==0?c?(c.p(u,m),m&512&&p(c,1)):(c=Gl(u),c.c(),p(c,1),c.m(e,null)):c&&(K(),d(c,1,1,()=>{c=null}),X()),(!i||m&16&&o!==(o="mdaplot__axis "+u[4]))&&_(e,"class",o)},i(u){i||(p(f),p(n.$$.fragment,u),p(s.$$.fragment,u),p(a),p(c),i=!0)},o(u){d(f),d(n.$$.fragment,u),d(s.$$.fragment,u),d(a),d(c),i=!1},d(u){u&&k(e),f&&f.d(),O(n),O(s),a&&a.d(),c&&c.d()}}}function Ul(l){return l===0?"":l<0?`&times;10<tspan dy="-0.5em">${l.toString()}</tspan>`:`&times;10<tspan dy="-0.5em">${l.toString()}</tspan>`}function yf(l,e,t){let{tickLabels:n=[]}=e,{showGrid:s=!1}=e,{las:r=1}=e,{pos:o=1}=e,{className:i=""}=e,{grid:f=[]}=e,{axisLine:a=[]}=e,{tickCoords:c=[]}=e,{tfCoords:u=[]}=e,{tickFactor:m=0}=e,{lineColor:g=Pe.DARKGRAY}=e,{gridColor:h=Pe.MIDDLEGRAY}=e,{textColor:v=Pe.DARKGRAY}=e;return l.$$set=w=>{"tickLabels"in w&&t(0,n=w.tickLabels),"showGrid"in w&&t(1,s=w.showGrid),"las"in w&&t(2,r=w.las),"pos"in w&&t(3,o=w.pos),"className"in w&&t(4,i=w.className),"grid"in w&&t(5,f=w.grid),"axisLine"in w&&t(6,a=w.axisLine),"tickCoords"in w&&t(7,c=w.tickCoords),"tfCoords"in w&&t(8,u=w.tfCoords),"tickFactor"in w&&t(9,m=w.tickFactor),"lineColor"in w&&t(10,g=w.lineColor),"gridColor"in w&&t(11,h=w.gridColor),"textColor"in w&&t(12,v=w.textColor)},[n,s,r,o,i,f,a,c,u,m,g,h,v]}class Kl extends ce{constructor(e){super(),ue(this,e,yf,kf,se,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function Xl(l){let e,t;return e=new Kl({props:{className:"mdaplot__xaxis",pos:1,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],tfCoords:l[10],tickFactor:l[11],las:l[2]}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.lineColor=n[3]),s&16&&(r.gridColor=n[4]),s&32&&(r.textColor=n[5]),s&2&&(r.showGrid=n[1]),s&128&&(r.grid=n[7]),s&256&&(r.axisLine=n[8]),s&512&&(r.tickCoords=n[9]),s&1&&(r.tickLabels=n[0]),s&1024&&(r.tfCoords=n[10]),s&2048&&(r.tickFactor=n[11]),s&4&&(r.las=n[2]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Cf(l){let e,t,n=l[6]&&l[8].length>0&&Xl(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[6]&&s[8].length>0?n?(n.p(s,r),r&320&&p(n,1)):(n=Xl(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),d(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Ef(l,e,t){let n,s,r,o,i,{slot:f="xaxis"}=e,{ticks:a=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:u=!1}=e,{las:m=1}=e,{lineColor:g=Pe.DARKGRAY}=e,{gridColor:h=Pe.MIDDLEGRAY}=e,{textColor:v=Pe.DARKGRAY}=e;if(f!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const w=Xe("axes"),b=w.xLim;oe(l,b,j=>t(19,n=j));const E=w.yLim;oe(l,E,j=>t(20,s=j));const T=w.scale;oe(l,T,j=>t(22,o=j));const z=w.isOk;oe(l,z,j=>t(6,i=j));const A=w.tY;oe(l,A,j=>t(21,r=j));let S=[],N=[],L=[],q=[],M=0;return l.$$set=j=>{"slot"in j&&t(17,f=j.slot),"ticks"in j&&t(18,a=j.ticks),"tickLabels"in j&&t(0,c=j.tickLabels),"showGrid"in j&&t(1,u=j.showGrid),"las"in j&&t(2,m=j.las),"lineColor"in j&&t(3,g=j.lineColor),"gridColor"in j&&t(4,h=j.gridColor),"textColor"in j&&t(5,v=j.textColor)},l.$$.update=()=>{if(l.$$.dirty&8126529&&i){const j=El(a,n,w.TICK_NUM[o],!0),P=j.length,D=w.invTransform([w.TICK_SIZE[o]],r.objects)[0],Q=he.fill(s[0],P),te=Q.add(D),Y=he.fill(s[1],P);if((a===void 0||c===void 0)&&t(11,[M,c]=Cl(j.v),M,(t(0,c),t(6,i),t(18,a),t(19,n),t(22,o),t(21,r),t(20,s))),c.length!==j.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';t(7,S=[[j,Q],[j,Y]]),t(8,N=[[Ie([n[0]]),Ie([s[0]])],[Ie([n[1]]),Ie([s[0]])]]),t(9,L=[[j,te],[j,Q]]),t(10,q=[[null,null],[[n[1]],[Q.v[P-1]-1.5*D]]])}},[c,u,m,g,h,v,i,S,N,L,q,M,b,E,T,z,A,f,a,n,s,r,o]}class Ct extends ce{constructor(e){super(),ue(this,e,Ef,Cf,se,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function Zl(l){let e,t;return e=new Kl({props:{className:"mdaplot__yaxis",pos:4,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],tfCoords:l[10],tickFactor:l[11],las:l[2]}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.lineColor=n[3]),s&16&&(r.gridColor=n[4]),s&32&&(r.textColor=n[5]),s&2&&(r.showGrid=n[1]),s&128&&(r.grid=n[7]),s&256&&(r.axisLine=n[8]),s&512&&(r.tickCoords=n[9]),s&1&&(r.tickLabels=n[0]),s&1024&&(r.tfCoords=n[10]),s&2048&&(r.tickFactor=n[11]),s&4&&(r.las=n[2]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Af(l){let e,t,n=l[6]&&l[8].length>0&&Zl(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[6]&&s[8].length>0?n?(n.p(s,r),r&320&&p(n,1)):(n=Zl(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),d(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Nf(l,e,t){let n,s,r,o,i,{slot:f="yaxis"}=e,{ticks:a=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:u=!1}=e,{las:m=1}=e,{lineColor:g=Pe.DARKGRAY}=e,{gridColor:h=Pe.MIDDLEGRAY}=e,{textColor:v=Pe.DARKGRAY}=e;if(f!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const w=Xe("axes"),b=w.xLim;oe(l,b,j=>t(20,s=j));const E=w.yLim;oe(l,E,j=>t(19,n=j));const T=w.scale;oe(l,T,j=>t(22,o=j));const z=w.isOk;oe(l,z,j=>t(6,i=j));const A=w.tX;oe(l,A,j=>t(21,r=j));let S=[],N=[],L=[],q=[],M=0;return l.$$set=j=>{"slot"in j&&t(17,f=j.slot),"ticks"in j&&t(18,a=j.ticks),"tickLabels"in j&&t(0,c=j.tickLabels),"showGrid"in j&&t(1,u=j.showGrid),"las"in j&&t(2,m=j.las),"lineColor"in j&&t(3,g=j.lineColor),"gridColor"in j&&t(4,h=j.gridColor),"textColor"in j&&t(5,v=j.textColor)},l.$$.update=()=>{if(l.$$.dirty&8126529&&i){const j=El(a,n,w.TICK_NUM[o],!0),P=j.length,D=w.invTransform([w.TICK_SIZE[o]],r.objects)[0],Q=he.fill(s[0],P),te=Q.add(D),Y=he.fill(s[1],P);if((a===void 0||c===void 0)&&t(11,[M,c]=Cl(j.v),M,(t(0,c),t(6,i),t(18,a),t(19,n),t(22,o),t(21,r),t(20,s))),c.length!==j.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';t(7,S=[[Q,j],[Y,j]]),t(8,N=[[Ie([s[0]]),Ie([n[0]])],[Ie([s[0]]),Ie([n[1]])]]),t(9,L=[[Q,j],[te,j]]),t(10,q=[[[],[]],[[Q.v[P-1]],[n[1]]]])}},[c,u,m,g,h,v,i,S,N,L,q,M,b,E,T,z,A,f,a,n,s,r,o]}class Et extends ce{constructor(e){super(),ue(this,e,Nf,Af,se,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function Ql(l){let e,t,n,s,r,o;return{c(){e=_e("g"),t=_e("rect"),_(t,"x",n=l[2][0]),_(t,"y",s=l[1][1]),_(t,"width",r=l[2][1]-l[2][0]),_(t,"height",o=l[1][0]-l[1][1]),_(t,"style",l[3]),We(e,"pointer-events","none"),_(e,"class","mdaplot__axes-box")},m(i,f){y(i,e,f),C(e,t)},p(i,f){f&4&&n!==(n=i[2][0])&&_(t,"x",n),f&2&&s!==(s=i[1][1])&&_(t,"y",s),f&4&&r!==(r=i[2][1]-i[2][0])&&_(t,"width",r),f&2&&o!==(o=i[1][0]-i[1][1])&&_(t,"height",o)},d(i){i&&k(e)}}}function Mf(l){let e,t=l[0]&&Ql(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[0]?t?t.p(n,s):(t=Ql(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){n&&k(e),t&&t.d(n)}}}function Lf(l,e,t){let n,s,r,o,i,f,a,{slot:c}=e;if(c!=="box")throw`Component Box must have 'slot="box"' attribute.`;const u=`fill:transparent;stroke:${Pe.DARKGRAY};stroke-width:1px;`,m=Xe("axes"),g=m.xLim;oe(l,g,E=>t(13,a=E));const h=m.yLim;oe(l,h,E=>t(11,o=E));const v=m.isOk;oe(l,v,E=>t(0,i=E));const w=m.tX;oe(l,w,E=>t(12,f=E));const b=m.tY;return oe(l,b,E=>t(10,r=E)),l.$$set=E=>{"slot"in E&&t(9,c=E.slot)},l.$$.update=()=>{l.$$.dirty&12289&&t(2,n=i?m.transform(a,f.coords):void 0),l.$$.dirty&3073&&t(1,s=i?m.transform(o,r.coords):void 0)},[i,s,n,u,g,h,v,w,b,c,r,o,f,a]}class At extends ce{constructor(e){super(),ue(this,e,Lf,Mf,se,{slot:9})}}function Jl(l,e,t){const n=l.slice();return n[21]=e[t],n[23]=t,n}function xl(l){let e,t,n=ke(l[0]),s=[];for(let r=0;r<n.length;r+=1)s[r]=es(Jl(l,n,r));return{c(){e=_e("g");for(let r=0;r<s.length;r+=1)s[r].c();_(e,"class",t="series "+l[1]),_(e,"title",l[2]),_(e,"style",l[8])},m(r,o){y(r,e,o);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(r,o){if(o&217){n=ke(r[0]);let i;for(i=0;i<n.length;i+=1){const f=Jl(r,n,i);s[i]?s[i].p(f,o):(s[i]=es(f),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}o&2&&t!==(t="series "+r[1])&&_(e,"class",t),o&4&&_(e,"title",r[2]),o&256&&_(e,"style",r[8])},d(r){r&&k(e),Ge(s,r)}}}function es(l){let e,t,n,s,r;return{c(){e=_e("rect"),_(e,"x",t=l[3][l[23]]),_(e,"y",n=l[4][l[23]]),_(e,"width",s=l[6][l[23]]),_(e,"height",r=l[7][l[23]])},m(o,i){y(o,e,i)},p(o,i){i&8&&t!==(t=o[3][o[23]])&&_(e,"x",t),i&16&&n!==(n=o[4][o[23]])&&_(e,"y",n),i&64&&s!==(s=o[6][o[23]])&&_(e,"width",s),i&128&&r!==(r=o[7][o[23]])&&_(e,"height",r)},d(o){o&&k(e)}}}function zf(l){let e,t=l[5]&&xl(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[5]?t?t.p(n,s):(t=xl(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){n&&k(e),t&&t.d(n)}}}function Sf(l,e,t){let n,s,r,o,{left:i}=e,{top:f}=e,{width:a}=e,{height:c}=e,{faceColor:u=Pe.PRIMARY}=e,{borderColor:m=u}=e,{lineWidth:g=1}=e,{className:h="series_rect"}=e,{title:v=""}=e;const w=Xe("axes"),b=w.tX;oe(l,b,L=>t(19,r=L));const E=w.tY;oe(l,E,L=>t(18,s=L));const T=w.isOk;oe(l,T,L=>t(5,o=L));let z,A,S,N;return l.$$set=L=>{"left"in L&&t(0,i=L.left),"top"in L&&t(14,f=L.top),"width"in L&&t(12,a=L.width),"height"in L&&t(13,c=L.height),"faceColor"in L&&t(15,u=L.faceColor),"borderColor"in L&&t(16,m=L.borderColor),"lineWidth"in L&&t(17,g=L.lineWidth),"className"in L&&t(1,h=L.className),"title"in L&&t(2,v=L.title)},l.$$.update=()=>{if(l.$$.dirty&815161&&o){if(t(3,z=w.transform(at(i,"Rectangles"),r.coords)),t(4,A=w.transform(at(f,"Rectangles"),s.coords)),z.length!==A.length)throw Error('Rectangles: parameters "left" and "top" must be vectors of the same length.');typeof a!="object"&&t(12,a=he.fill(a,i.length)),typeof c!="object"&&t(13,c=he.fill(c,i.length)),t(6,S=w.transform(a,r.objects)),t(7,N=w.transform(c,s.objects))}l.$$.dirty&229376&&t(8,n=`fill:${u};stroke:${m};stroke-width:${g}px;`)},[i,h,v,z,A,o,S,N,n,b,E,T,a,c,f,u,m,g,s,r]}class Tf extends ce{constructor(e){super(),ue(this,e,Sf,zf,se,{left:0,top:14,width:12,height:13,faceColor:15,borderColor:16,lineWidth:17,className:1,title:2})}}function ts(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function ns(l){let e,t,n=ke(l[2]),s=[];for(let r=0;r<n.length;r+=1)s[r]=ls(ts(l,n,r));return{c(){e=_e("g");for(let r=0;r<s.length;r+=1)s[r].c();_(e,"class",t="series "+l[0]),_(e,"title",l[1]),_(e,"style",l[7])},m(r,o){y(r,e,o);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(r,o){if(o&60){n=ke(r[2]);let i;for(i=0;i<n.length;i+=1){const f=ts(r,n,i);s[i]?s[i].p(f,o):(s[i]=ls(f),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}o&1&&t!==(t="series "+r[0])&&_(e,"class",t),o&2&&_(e,"title",r[1]),o&128&&_(e,"style",r[7])},d(r){r&&k(e),Ge(s,r)}}}function ls(l){let e,t,n,s,r;return{c(){e=_e("line"),_(e,"x1",t=l[2][l[25]]),_(e,"x2",n=l[3][l[25]]),_(e,"y1",s=l[4][l[25]]),_(e,"y2",r=l[5][l[25]])},m(o,i){y(o,e,i)},p(o,i){i&4&&t!==(t=o[2][o[25]])&&_(e,"x1",t),i&8&&n!==(n=o[3][o[25]])&&_(e,"x2",n),i&16&&s!==(s=o[4][o[25]])&&_(e,"y1",s),i&32&&r!==(r=o[5][o[25]])&&_(e,"y2",r)},d(o){o&&k(e)}}}function Rf(l){let e,t=l[6]&&ns(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[6]?t?t.p(n,s):(t=ns(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){n&&k(e),t&&t.d(n)}}}function Of(l,e,t){let n,s,r,o,i,{xStart:f}=e,{xEnd:a}=e,{yStart:c}=e,{yEnd:u}=e,{lineColor:m=Pe.PRIMARY}=e,{lineType:g=1}=e,{lineWidth:h=1}=e,{className:v="series_seg"}=e,{title:w=""}=e;const b=Xe("axes"),E=b.scale;oe(l,E,M=>t(19,s=M));const T=b.isOk;oe(l,T,M=>t(6,i=M));const z=b.tX;oe(l,z,M=>t(21,o=M));const A=b.tY;oe(l,A,M=>t(20,r=M));let S,N,L,q;return l.$$set=M=>{"xStart"in M&&t(12,f=M.xStart),"xEnd"in M&&t(13,a=M.xEnd),"yStart"in M&&t(14,c=M.yStart),"yEnd"in M&&t(15,u=M.yEnd),"lineColor"in M&&t(16,m=M.lineColor),"lineType"in M&&t(17,g=M.lineType),"lineWidth"in M&&t(18,h=M.lineWidth),"className"in M&&t(0,v=M.className),"title"in M&&t(1,w=M.title)},l.$$.update=()=>{if(l.$$.dirty&3207292&&i){t(2,S=b.transform(at(f,"Segments"),o.coords)),t(4,L=b.transform(at(c,"Segments"),r.coords)),t(3,N=b.transform(at(a,"Segments"),o.coords)),t(5,q=b.transform(at(u,"Segments"),r.coords));const M=S.length;if(N.length!==M||L.length!==M||q.length!==M)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}l.$$.dirty&983040&&t(7,n=`stroke:${m};stroke-width: ${h}px;stroke-dasharray:${b.LINE_STYLES[s][g-1]}`)},[v,w,S,N,L,q,i,n,E,T,z,A,f,a,c,u,m,g,h,s,r,o]}class dt extends ce{constructor(e){super(),ue(this,e,Of,Rf,se,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}const Sm="",Tm="";function ss(l,e,t){const n=l.slice();return n[19]=e[t],n[21]=t,n}function rs(l){let e,t=ke(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=os(ss(l,t,s));return{c(){e=_e("g");for(let s=0;s<n.length;s+=1)n[s].c();_(e,"class","series series_points"),_(e,"title",l[0]),_(e,"style",l[5])},m(s,r){y(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&22){t=ke(s[1]);let o;for(o=0;o<t.length;o+=1){const i=ss(s,t,o);n[o]?n[o].p(i,r):(n[o]=os(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}r&1&&_(e,"title",s[0]),r&32&&_(e,"style",s[5])},d(s){s&&k(e),Ge(n,s)}}}function os(l){let e,t,n,s;return{c(){e=_e("text"),t=G(l[4]),_(e,"x",n=l[1][l[21]]),_(e,"y",s=l[2][l[21]]),_(e,"class","svelte-12moot9")},m(r,o){y(r,e,o),C(e,t)},p(r,o){o&16&&ae(t,r[4]),o&2&&n!==(n=r[1][r[21]])&&_(e,"x",n),o&4&&s!==(s=r[2][r[21]])&&_(e,"y",s)},d(r){r&&k(e)}}}function If(l){let e,t=l[3]&&l[1]!==void 0&&l[2]!==void 0&&rs(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[3]&&n[1]!==void 0&&n[2]!==void 0?t?t.p(n,s):(t=rs(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){n&&k(e),t&&t.d(n)}}}function Pf(l,e,t){let n,s,r,o,{xValues:i}=e,{yValues:f}=e,{marker:a=1}=e,{faceColor:c="transparent"}=e,{borderColor:u=Pe.PRIMARY}=e,{borderWidth:m=1}=e,{markerSize:g=1}=e,{title:h=""}=e;const v=Xe("axes"),w=v.tX;oe(l,w,S=>t(17,r=S));const b=v.tY;oe(l,b,S=>t(16,s=S));const E=v.isOk;oe(l,E,S=>t(3,o=S));let T,z,A;return l.$$set=S=>{"xValues"in S&&t(9,i=S.xValues),"yValues"in S&&t(10,f=S.yValues),"marker"in S&&t(11,a=S.marker),"faceColor"in S&&t(12,c=S.faceColor),"borderColor"in S&&t(13,u=S.borderColor),"borderWidth"in S&&t(14,m=S.borderWidth),"markerSize"in S&&t(15,g=S.markerSize),"title"in S&&t(0,h=S.title)},l.$$.update=()=>{if(l.$$.dirty&200206&&o){if(typeof a!="number"||a<1||a>v.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${v.MARKER_SYMBOLS.length}.`);if(t(4,A=v.MARKER_SYMBOLS[a-1]),t(1,T=v.transform(at(i,"Points"),r.coords)),t(2,z=v.transform(at(f,"Points"),s.coords)),T.length!==z.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}l.$$.dirty&61440&&t(5,n=`dominant-baseline:middle;fill:${c};stroke-width:${m}px;stroke:${u};
      font-size:${g}em; text-anchor:middle;cursor:default;user-select:none;`)},[h,T,z,o,A,n,w,b,E,i,f,a,c,u,m,g,s,r]}class ut extends ce{constructor(e){super(),ue(this,e,Pf,If,se,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function is(l){let e,t;return{c(){e=_e("g"),t=_e("polyline"),_(t,"class","line"),_(t,"points",l[3]),_(e,"class","series series_line"),_(e,"style",l[2]),_(e,"title",l[0])},m(n,s){y(n,e,s),C(e,t)},p(n,s){s&8&&_(t,"points",n[3]),s&4&&_(e,"style",n[2]),s&1&&_(e,"title",n[0])},d(n){n&&k(e)}}}function qf(l){let e,t=l[1]&&l[3]!==void 0&&is(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[1]&&n[3]!==void 0?t?t.p(n,s):(t=is(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){n&&k(e),t&&t.d(n)}}}function Ff(l,e,t){let n,s,r,o,i,f,{xValues:a}=e,{yValues:c}=e,{lineWidth:u=1}=e,{lineColor:m=Pe.PRIMARY}=e,{lineType:g=1}=e,{title:h=""}=e;const v=Xe("axes"),w=v.scale;oe(l,w,z=>t(13,r=z));const b=v.isOk;oe(l,b,z=>t(1,f=z));const E=v.tX;oe(l,E,z=>t(15,i=z));const T=v.tY;return oe(l,T,z=>t(14,o=z)),l.$$set=z=>{"xValues"in z&&t(8,a=z.xValues),"yValues"in z&&t(9,c=z.yValues),"lineWidth"in z&&t(10,u=z.lineWidth),"lineColor"in z&&t(11,m=z.lineColor),"lineType"in z&&t(12,g=z.lineType),"title"in z&&t(0,h=z.title)},l.$$.update=()=>{l.$$.dirty&49922&&t(3,n=f?rf(a,c,i,o,v):void 0),l.$$.dirty&15360&&t(2,s=`fill:transparent;stroke:${m};stroke-width: ${u}px; stroke-dasharray:${v.LINE_STYLES[r][g-1]}`)},[h,f,s,n,w,b,E,T,a,c,u,m,g,r,o,i]}class Qe extends ce{constructor(e){super(),ue(this,e,Ff,qf,se,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function fs(l,e,t){const n=l.slice();return n[25]=e[t],n[27]=t,n}function as(l){let e,t,n,s,r,o=ke(l[0]),i=[];for(let f=0;f<o.length;f+=1)i[f]=ms(fs(l,o,f));return{c(){e=_e("svg"),t=_e("rect");for(let f=0;f<i.length;f+=1)i[f].c();_(t,"height","100%"),_(t,"width","100%"),We(t,"fill","white"),We(t,"stroke",Pe.MIDDLEGRAY),_(e,"x",n=l[9]+"px"),_(e,"y",s=l[10]+"px"),_(e,"height",r=l[4]+"px"),_(e,"width",l[5])},m(f,a){y(f,e,a),C(e,t);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null)},p(f,a){if(a&2287){o=ke(f[0]);let c;for(c=0;c<o.length;c+=1){const u=fs(f,o,c);i[c]?i[c].p(u,a):(i[c]=ms(u),i[c].c(),i[c].m(e,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=o.length}a&512&&n!==(n=f[9]+"px")&&_(e,"x",n),a&1024&&s!==(s=f[10]+"px")&&_(e,"y",s),a&16&&r!==(r=f[4]+"px")&&_(e,"height",r),a&32&&_(e,"width",f[5])},d(f){f&&k(e),Ge(i,f)}}}function us(l){let e,t,n,s,r;return{c(){e=_e("line"),_(e,"x1",l[3]),_(e,"x2",t=l[3]+l[2]),_(e,"y1",n=(l[1]+l[3]*2)/2),_(e,"y2",s=(l[1]+l[3]*2)/2),_(e,"style",r=`
      stroke:${l[25].lineColor?l[25].lineColor:Pe.PRIMARY};
      stroke-width: ${l[25].lineWidth?l[25].lineWidth:1}px;
      stroke-dasharray:${l[11].LINE_STYLES[l[7]][l[25].lineType-1]}
   `)},m(o,i){y(o,e,i)},p(o,i){i&8&&_(e,"x1",o[3]),i&12&&t!==(t=o[3]+o[2])&&_(e,"x2",t),i&10&&n!==(n=(o[1]+o[3]*2)/2)&&_(e,"y1",n),i&10&&s!==(s=(o[1]+o[3]*2)/2)&&_(e,"y2",s),i&129&&r!==(r=`
      stroke:${o[25].lineColor?o[25].lineColor:Pe.PRIMARY};
      stroke-width: ${o[25].lineWidth?o[25].lineWidth:1}px;
      stroke-dasharray:${o[11].LINE_STYLES[o[7]][o[25].lineType-1]}
   `)&&_(e,"style",r)},d(o){o&&k(e)}}}function cs(l){let e,t=l[11].MARKER_SYMBOLS[l[25].marker-1]+"",n,s,r,o;return{c(){e=_e("text"),n=G(t),_(e,"x",s=(l[2]+2*l[3])/2+"px"),_(e,"y",r=(l[1]+2*l[3])/2+"px"),_(e,"dominant-baseline","middle"),_(e,"style",o=`
         fill:${l[25].faceColor?l[25].faceColor:"transparent"};
         stroke-width:${l[25].borderWidth?l[25].borderWidth:1}px;
         stroke:${l[25].borderColor?l[25].borderColor:Pe.PRIMARY};
         font-size:${l[6]}px;
         text-anchor:middle;`)},m(i,f){y(i,e,f),C(e,n)},p(i,f){f&1&&t!==(t=i[11].MARKER_SYMBOLS[i[25].marker-1]+"")&&ae(n,t),f&12&&s!==(s=(i[2]+2*i[3])/2+"px")&&_(e,"x",s),f&10&&r!==(r=(i[1]+2*i[3])/2+"px")&&_(e,"y",r),f&65&&o!==(o=`
         fill:${i[25].faceColor?i[25].faceColor:"transparent"};
         stroke-width:${i[25].borderWidth?i[25].borderWidth:1}px;
         stroke:${i[25].borderColor?i[25].borderColor:Pe.PRIMARY};
         font-size:${i[6]}px;
         text-anchor:middle;`)&&_(e,"style",o)},d(i){i&&k(e)}}}function ms(l){let e,t,n,s="&nbsp;"+l[25].label,r,o,i,f,a,c,u=l[25].lineType&&l[25].lineType>0&&l[25].lineType<=4&&us(l),m=l[25].marker&&l[25].marker>0&&l[25].marker<l[11].MARKER_SYMBOLS.length&&cs(l);return{c(){e=_e("svg"),u&&u.c(),t=ee(),m&&m.c(),n=_e("text"),_(n,"x",r=l[2]+l[3]*3+"px"),_(n,"y",o=l[3]+"px"),_(n,"dominant-baseline","hanging"),_(n,"style",i=`text-anchor:start;fill:${Pe.LEGEND};font-size:${l[6]}px;`),_(e,"x","0px"),_(e,"y",f=l[27]*(l[1]+2*l[3])+"px"),_(e,"width",a=l[5]+"px"),_(e,"height",c=l[1]+2*l[3]+"px")},m(g,h){y(g,e,h),u&&u.m(e,null),C(e,t),m&&m.m(e,null),C(e,n),n.innerHTML=s},p(g,h){g[25].lineType&&g[25].lineType>0&&g[25].lineType<=4?u?u.p(g,h):(u=us(g),u.c(),u.m(e,t)):u&&(u.d(1),u=null),g[25].marker&&g[25].marker>0&&g[25].marker<g[11].MARKER_SYMBOLS.length?m?m.p(g,h):(m=cs(g),m.c(),m.m(e,n)):m&&(m.d(1),m=null),h&1&&s!==(s="&nbsp;"+g[25].label)&&(n.innerHTML=s),h&12&&r!==(r=g[2]+g[3]*3+"px")&&_(n,"x",r),h&8&&o!==(o=g[3]+"px")&&_(n,"y",o),h&64&&i!==(i=`text-anchor:start;fill:${Pe.LEGEND};font-size:${g[6]}px;`)&&_(n,"style",i),h&10&&f!==(f=g[27]*(g[1]+2*g[3])+"px")&&_(e,"y",f),h&32&&a!==(a=g[5]+"px")&&_(e,"width",a),h&10&&c!==(c=g[1]+2*g[3]+"px")&&_(e,"height",c)},d(g){g&&k(e),u&&u.d(),m&&m.d()}}}function jf(l){let e,t=l[8]&&as(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[8]?t?t.p(n,s):(t=as(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){n&&k(e),t&&t.d(n)}}}function Vf(l,e){const n=document.createElement("canvas").getContext("2d");return n.font=e,n.measureText(l).width}function Yf(l,e,t){const n=e,s=n/4,r=n*1.5,o=n;let i=0;for(let f=0;f<l.length;f++){const a=Vf("  "+l[f].label+"  ",e+"px Arial");i=a>i?a:i}return[n,r,s,o,i]}function Df(l,e,t){let n,s,r,o,i,f,{items:a}=e,{position:c="topleft"}=e;const u=Xe("axes"),m=u.scale;oe(l,m,P=>t(7,n=P));const g=u.xLim;oe(l,g,P=>t(23,i=P));const h=u.yLim;oe(l,h,P=>t(21,r=P));const v=u.tX;oe(l,v,P=>t(22,o=P));const w=u.tY;oe(l,w,P=>t(20,s=P));const b=u.isOk;oe(l,b,P=>t(8,f=P));let E,T,z,A,S,N,L,q,M,j;return l.$$set=P=>{"items"in P&&t(0,a=P.items),"position"in P&&t(18,c=P.position)},l.$$.update=()=>{if(l.$$.dirty&16515583&&f){t(6,j=u.LEGEND_FONT_SIZE[n]),t(1,[z,A,S,N,L]=Yf(a,j),z,(t(2,A),t(8,f),t(7,n),t(0,a),t(6,j),t(18,c),t(1,z),t(3,S),t(19,L),t(23,i),t(22,o),t(5,M),t(21,r),t(20,s),t(4,q)),(t(3,S),t(8,f),t(7,n),t(0,a),t(6,j),t(18,c),t(1,z),t(2,A),t(19,L),t(23,i),t(22,o),t(5,M),t(21,r),t(20,s),t(4,q)),(t(19,L),t(8,f),t(7,n),t(0,a),t(6,j),t(18,c),t(1,z),t(3,S),t(2,A),t(23,i),t(22,o),t(5,M),t(21,r),t(20,s),t(4,q))),t(4,q=(z+2*S)*a.length),t(5,M=A+2*S+L);const P=u.transform(i,o.coords);t(9,E=c.includes("left")?P[0]+u.TICK_SIZE[n]:c.includes("right")?P[1]-M-u.TICK_SIZE[n]:jt(P)-M/2);const D=u.transform(r,s.coords);t(10,T=c.includes("top")?D[1]+u.TICK_SIZE[n]:c.includes("bottom")?D[0]-q-u.TICK_SIZE[n]:jt(D)-q/2)}},[a,z,A,S,q,M,j,n,f,E,T,u,m,g,h,v,w,b,c,L,s,r,o,i]}class $f extends ce{constructor(e){super(),ue(this,e,Df,jf,se,{items:0,position:18})}}function _s(l,e,t){const n=l.slice();return n[35]=e[t],n[37]=t,n}function ps(l,e,t){const n=l.slice();return n[35]=e[t],n[37]=t,n}function gs(l){let e,t,n,s,r=ke(l[5]),o=[];for(let a=0;a<r.length;a+=1)o[a]=hs(ps(l,r,a));let i=l[0]==="show"&&l[4]&&l[4].length>0&&ds(l),f=l[1]>=0&&ws(l);return{c(){e=_e("g");for(let a=0;a<o.length;a+=1)o[a].c();t=V(),i&&i.c(),n=V(),f&&f.c(),s=ee(),_(e,"class","series series_points"),_(e,"title","distance_points"),_(e,"style",l[12])},m(a,c){y(a,e,c);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);y(a,t,c),i&&i.m(a,c),y(a,n,c),f&&f.m(a,c),y(a,s,c)},p(a,c){if(c[0]&488){r=ke(a[5]);let u;for(u=0;u<r.length;u+=1){const m=ps(a,r,u);o[u]?o[u].p(m,c):(o[u]=hs(m),o[u].c(),o[u].m(e,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=r.length}a[0]==="show"&&a[4]&&a[4].length>0?i?i.p(a,c):(i=ds(a),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null),a[1]>=0?f?f.p(a,c):(f=ws(a),f.c(),f.m(s.parentNode,s)):f&&(f.d(1),f=null)},d(a){a&&(k(e),k(t),k(n),k(s)),Ge(o,a),i&&i.d(a),f&&f.d(a)}}}function hs(l){let e,t,n,s,r;return{c(){e=_e("text"),t=G(l[7]),_(e,"x",n=l[5][l[37]]),_(e,"y",s=l[6][l[37]]),_(e,"stroke",r=l[8][l[3][l[37]]])},m(o,i){y(o,e,i),C(e,t)},p(o,i){i[0]&128&&ae(t,o[7]),i[0]&32&&n!==(n=o[5][o[37]])&&_(e,"x",n),i[0]&64&&s!==(s=o[6][o[37]])&&_(e,"y",s),i[0]&264&&r!==(r=o[8][o[3][o[37]]])&&_(e,"stroke",r)},d(o){o&&k(e)}}}function ds(l){let e,t=ke(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=bs(_s(l,t,s));return{c(){e=_e("g");for(let s=0;s<n.length;s+=1)n[s].c();_(e,"class","series series_labels"),_(e,"title","distance_labels"),_(e,"style",l[13])},m(s,r){y(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r[0]&112){t=ke(s[5]);let o;for(o=0;o<t.length;o+=1){const i=_s(s,t,o);n[o]?n[o].p(i,r):(n[o]=bs(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),Ge(n,s)}}}function bs(l){let e,t=l[4][l[37]]+"",n,s,r;return{c(){e=_e("text"),n=G(t),_(e,"x",s=l[5][l[37]]),_(e,"y",r=l[6][l[37]]),_(e,"dy",-12)},m(o,i){y(o,e,i),C(e,n)},p(o,i){i[0]&16&&t!==(t=o[4][o[37]]+"")&&ae(n,t),i[0]&32&&s!==(s=o[5][o[37]])&&_(e,"x",s),i[0]&64&&r!==(r=o[6][o[37]])&&_(e,"y",r)},d(o){o&&k(e)}}}function ws(l){let e,t,n,s,r,o,i,f,a,c=l[0]==="show"&&l[4]&&l[4].length>0&&vs(l);return{c(){e=_e("rect"),t=V(),n=_e("g"),s=_e("text"),r=G(l[7]),f=V(),c&&c.c(),a=ee(),_(e,"x",0),_(e,"y",0),_(e,"width","100%"),_(e,"height","100%"),_(e,"fill","#ffffffa0"),_(s,"x",o=l[5][l[1]]),_(s,"y",i=l[6][l[1]]),_(s,"stroke","crimson"),_(n,"title","distance_points"),_(n,"style",l[14])},m(u,m){y(u,e,m),y(u,t,m),y(u,n,m),C(n,s),C(s,r),y(u,f,m),c&&c.m(u,m),y(u,a,m)},p(u,m){m[0]&128&&ae(r,u[7]),m[0]&34&&o!==(o=u[5][u[1]])&&_(s,"x",o),m[0]&66&&i!==(i=u[6][u[1]])&&_(s,"y",i),u[0]==="show"&&u[4]&&u[4].length>0?c?c.p(u,m):(c=vs(u),c.c(),c.m(a.parentNode,a)):c&&(c.d(1),c=null)},d(u){u&&(k(e),k(t),k(n),k(f),k(a)),c&&c.d(u)}}}function vs(l){let e,t,n=l[4][l[1]]+"",s,r,o;return{c(){e=_e("g"),t=_e("text"),s=G(n),_(t,"x",r=l[5][l[1]]),_(t,"y",o=l[6][l[1]]),_(t,"dy",-12),_(e,"class","series series_labels"),_(e,"title","distance_labels"),_(e,"style",l[13])},m(i,f){y(i,e,f),C(e,t),C(t,s)},p(i,f){f[0]&18&&n!==(n=i[4][i[1]]+"")&&ae(s,n),f[0]&34&&r!==(r=i[5][i[1]])&&_(t,"x",r),f[0]&66&&o!==(o=i[6][i[1]])&&_(t,"y",o)},d(i){i&&k(e)}}}function Bf(l){let e,t=l[2]&&l[5]&&l[6]&&gs(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,s){n[2]&&n[5]&&n[6]?t?t.p(n,s):(t=gs(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){n&&k(e),t&&t.d(n)}}}const ks="#a0a0a0";function Wf(l,e,t){let n,s,r,o,i,{res:f}=e,{labels:a}=e,{classes:c=[]}=e,{targetClass:u}=e,{colors:m}=e,{transType:g="no"}=e,{distType:h="h/q"}=e,{showLabels:v="hide"}=e,{xMax:w=0}=e,{yMax:b=0}=e,{selected:E}=e;const T=Xe("axes"),z=T.tX;oe(l,z,fe=>t(29,o=fe));const A=T.tY;oe(l,A,fe=>t(28,r=fe));const S=T.isOk;oe(l,S,fe=>t(2,i=fe));let N,L,q,M,j,P,D,Q,te;const Y="dominant-baseline:middle;font-size:1em;fill:none;text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;",B=`dominant-baseline:middle;font-size:0.85em;fill:${ks};text-anchor:middle;cursor:default;stroke:${ks};stroke-width:0.1px;user-select:none;`,ie="dominant-baseline:middle;font-size:1.2em;fill:none;text-anchor:middle;cursor:default;stroke-width:3px;user-select:none;";return l.$$set=fe=>{"res"in fe&&t(17,f=fe.res),"labels"in fe&&t(18,a=fe.labels),"classes"in fe&&t(19,c=fe.classes),"targetClass"in fe&&t(20,u=fe.targetClass),"colors"in fe&&t(21,m=fe.colors),"transType"in fe&&t(22,g=fe.transType),"distType"in fe&&t(23,h=fe.distType),"showLabels"in fe&&t(0,v=fe.showLabels),"xMax"in fe&&t(15,w=fe.xMax),"yMax"in fe&&t(16,b=fe.yMax),"selected"in fe&&t(1,E=fe.selected)},l.$$.update=()=>{if(l.$$.dirty[0]&2097152&&t(8,n={regular:m[0],extreme:m[1],outlier:m[2]}),l.$$.dirty[0]&249430016)if(f){const fe=f.h.length;if(t(24,N=he.zeros(fe)),t(25,L=he.zeros(fe)),t(26,q=he.zeros(fe)),t(27,M=he.zeros(fe)),D=new Int32Array(fe),g==="log")for(let ge=0;ge<fe;ge++)t(24,N.v[ge]=ge,N),t(25,L.v[ge]=Math.log(1+f.h[ge]/f.h0),L),t(26,q.v[ge]=Math.log(1+f.q[ge]/f.q0),q),t(27,M.v[ge]=Math.log(1+f.f[ge]),M);else for(let ge=0;ge<fe;ge++)t(24,N.v[ge]=ge,N),t(25,L.v[ge]=f.h[ge]/f.h0,L),t(26,q.v[ge]=f.q[ge]/f.q0,q),t(27,M.v[ge]=f.f[ge],M);if(c&&c.length===fe)for(let ge=0;ge<fe;ge++)D[ge]=c[ge]===u?1:2;t(3,j=f.c),t(4,P=a),t(15,w=h==="h/q"?Oe(L):M.length),t(16,b=Oe(h==="h/q"?q:M))}else t(25,L=null),t(26,q=null),t(27,M=null),t(3,j=null),t(4,P=null),D=null;l.$$.dirty[0]&1065353220&&i&&L&&q&&M&&(t(5,Q=h==="h/q"?T.transform(L,o.coords):T.transform(N,o.coords)),t(6,te=h==="h/q"?T.transform(q,r.coords):T.transform(M,r.coords)))},t(7,s="●"),[v,E,i,j,P,Q,te,s,n,z,A,S,Y,B,ie,w,b,f,a,c,u,m,g,h,N,L,q,M,r,o]}let Hf=class extends ce{constructor(e){super(),ue(this,e,Wf,Bf,se,{res:17,labels:18,classes:19,targetClass:20,colors:21,transType:22,distType:23,showLabels:0,xMax:15,yMax:16,selected:1},null,[-1,-1])}};function ys(l,e,t){const n=l.slice();return n[22]=e[t],n[24]=t,n}function Cs(l){let e,t=ke(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Es(ys(l,t,s));return{c(){e=_e("g");for(let s=0;s<n.length;s+=1)n[s].c();_(e,"class","series colormap_legend"),We(e,"stroke","0"),We(e,"stroke-width","0px")},m(s,r){y(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&123){t=ke(s[1]);let o;for(o=0;o<t.length;o+=1){const i=ys(s,t,o);n[o]?n[o].p(i,r):(n[o]=Es(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),Ge(n,s)}}}function Es(l){let e,t,n,s,r=l[0][l[24]]+"",o,i;return{c(){e=_e("rect"),s=_e("text"),_(e,"x",t=l[3][l[24]]),_(e,"y",l[4]),_(e,"width",l[5]),_(e,"height",l[6]),_(e,"fill",n=l[22]),_(s,"x",o=l[3][l[24]]+l[5]/2),_(s,"y",l[4]),_(s,"dx",0),_(s,"dy",i=l[6]*1.5),_(s,"dominant-baseline","hanging"),_(s,"fill",Uf),_(s,"font-size",Kf+"em"),_(s,"text-anchor","middle")},m(f,a){y(f,e,a),y(f,s,a),s.innerHTML=r},p(f,a){a&8&&t!==(t=f[3][f[24]])&&_(e,"x",t),a&16&&_(e,"y",f[4]),a&32&&_(e,"width",f[5]),a&64&&_(e,"height",f[6]),a&2&&n!==(n=f[22])&&_(e,"fill",n),a&1&&r!==(r=f[0][f[24]]+"")&&(s.innerHTML=r),a&40&&o!==(o=f[3][f[24]]+f[5]/2)&&_(s,"x",o),a&16&&_(s,"y",f[4]),a&64&&i!==(i=f[6]*1.5)&&_(s,"dy",i)},d(f){f&&(k(e),k(s))}}}function Gf(l){let e,t=l[2]&&l[3].length>0&&Cs(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[2]&&n[3].length>0?t?t.p(n,s):(t=Cs(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){n&&k(e),t&&t.d(n)}}}const Uf="#909090",Kf=.85,As=.8,Xf=.02,Zf=.25;function Qf(l,e,t){let n,s,r,o,i,f,a,{categories:c}=e,{colmap:u}=e,{labels:m}=e;const g={small:5,medium:8,large:10,xlarge:12},h=Xe("axes"),v=h.tX;oe(l,v,q=>t(16,r=q));const w=h.tY;oe(l,w,q=>t(17,o=q));const b=h.xLim;oe(l,b,q=>t(19,f=q));const E=h.yLim;oe(l,E,q=>t(18,i=q));const T=h.scale;oe(l,T,q=>t(15,s=q));const z=h.isOk;oe(l,z,q=>t(2,a=q));let A,S,N,L;return l.$$set=q=>{"categories"in q&&t(13,c=q.categories),"colmap"in q&&t(1,u=q.colmap),"labels"in q&&t(0,m=q.labels)},l.$$.update=()=>{if(l.$$.dirty&2&&t(14,n=u.length),l.$$.dirty&8192&&t(0,m=c?Object.keys(c).map(q=>q+": "+c[q]):null),l.$$.dirty&1032196&&a){const q=f[1]-f[0],M=i[1]-i[0],j=q*As,P=M*Xf,D=j/n,Q=f[0]+q*(1-As)*.5,te=i[1]-P*Zf;t(4,S=h.transform(te,o.coords)),t(3,A=h.transform(he.seq(0,n).apply(Y=>Q+Y*D),r.coords)),t(5,N=h.transform([D],r.objects)),t(6,L=g[s]),t(4,S=g[s])}},[m,u,a,A,S,N,L,v,w,b,E,T,z,c,n,s,r,o,i,f]}let Jf=class extends ce{constructor(e){super(),ue(this,e,Qf,Gf,se,{categories:13,colmap:1,labels:0})}};function Ns(l){let e,t;return e=new Qe({props:{xValues:l[1].x,yValues:l[1].y,lineColor:zs,lineType:2}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&2&&(r.xValues=n[1].x),s&2&&(r.yValues=n[1].y),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Ms(l){let e,t;return e=new Qe({props:{xValues:l[0].x,yValues:l[0].y,lineColor:zs,lineType:3}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.xValues=n[0].x),s&1&&(r.yValues=n[0].y),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function xf(l){let e,t,n,s=l[1]&&Ns(l),r=l[0]&&Ms(l);return{c(){s&&s.c(),e=V(),r&&r.c(),t=ee()},m(o,i){s&&s.m(o,i),y(o,e,i),r&&r.m(o,i),y(o,t,i),n=!0},p(o,[i]){o[1]?s?(s.p(o,i),i&2&&p(s,1)):(s=Ns(o),s.c(),p(s,1),s.m(e.parentNode,e)):s&&(K(),d(s,1,1,()=>{s=null}),X()),o[0]?r?(r.p(o,i),i&1&&p(r,1)):(r=Ms(o),r.c(),p(r,1),r.m(t.parentNode,t)):r&&(K(),d(r,1,1,()=>{r=null}),X())},i(o){n||(p(s),p(r),n=!0)},o(o){d(s),d(r),n=!1},d(o){o&&(k(e),k(t)),s&&s.d(o),r&&r.d(o)}}}const Ls=100,zs="#909090";function ea(l,e,t){let{simca:n}=e,{transType:s="no"}=e,{distType:r="h/q"}=e,{xMax:o=0}=e,{yMax:i=0}=e;function f(u,m,g,h,v){if(v==="f")return{x:Ie([0,1e3]),y:Ie(h==="log"?[Math.log(1+u),Math.log(1+u)]:[u,u])};const w=u/g,b=-m/g,E=-w/b,T=he.seq(0,E*1,E/Ls),z=T.apply(A=>A*b+w);return{x:h==="log"?T.apply(A=>Math.log(1+A)):T,y:h==="log"?z.apply(A=>Math.log(1+A)):z}}let a=null,c=null;return l.$$set=u=>{"simca"in u&&t(4,n=u.simca),"transType"in u&&t(5,s=u.transType),"distType"in u&&t(6,r=u.distType),"xMax"in u&&t(2,o=u.xMax),"yMax"in u&&t(3,i=u.yMax)},l.$$.update=()=>{if(l.$$.dirty&113)if(n){const u=n.ncomp-1;t(1,a=f(n.eCrit[u],n.Nh[u],n.Nq[u],s,r)),t(0,c=f(n.oCrit[u],n.Nh[u],n.Nq[u],s,r)),t(2,o=r==="h/q"?c.x.v[Ls-1]:1),t(3,i=c.y.v[0])}else t(1,a=null),t(0,c=null),t(2,o=1),t(3,i=1)},[c,a,o,i,n,s,r]}let ta=class extends ce{constructor(e){super(),ue(this,e,ea,xf,se,{simca:4,transType:5,distType:6,xMax:2,yMax:3})}};const Rm="";function Ss(l){let e,t,n,s,r;t=new yt({props:{margins:l[17],xLabel:l[14],yLabel:l[13],limX:l[12],limY:l[11],title:l[15],$$slots:{box:[ra],yaxis:[sa],xaxis:[la],default:[na]},$$scope:{ctx:l}}}),t.$on("markerclick",l[19]),t.$on("axesclick",l[20]);function o(a,c){return a[0]<0?ia:oa}let i=o(l),f=i(l);return{c(){e=F("div"),I(t.$$.fragment),n=V(),f.c(),s=ee(),_(e,"class","plot-container svelte-1aze4qe")},m(a,c){y(a,e,c),R(t,e,null),y(a,n,c),f.m(a,c),y(a,s,c),r=!0},p(a,c){const u={};c&16384&&(u.xLabel=a[14]),c&8192&&(u.yLabel=a[13]),c&4096&&(u.limX=a[12]),c&2048&&(u.limY=a[11]),c&32768&&(u.title=a[15]),c&536938493&&(u.$$scope={dirty:c,ctx:a}),t.$set(u),i!==(i=o(a))&&(f.d(1),f=i(a),f&&(f.c(),f.m(s.parentNode,s)))},i(a){r||(p(t.$$.fragment,a),r=!0)},o(a){d(t.$$.fragment,a),r=!1},d(a){a&&(k(e),k(n),k(s)),O(t),f.d(a)}}}function na(l){let e,t,n,s,r,o,i,f,a,c;function u(b){l[25](b)}function m(b){l[26](b)}let g={colors:l[18],res:l[16].v[l[6]-1],labels:l[16].labels,classes:l[16].classes,targetClass:l[2].className,distType:l[3],transType:l[4],showLabels:l[5],selected:l[0]};l[7]!==void 0&&(g.xMax=l[7]),l[8]!==void 0&&(g.yMax=l[8]),e=new Hf({props:g}),Z.push(()=>ne(e,"xMax",u)),Z.push(()=>ne(e,"yMax",m));function h(b){l[27](b)}function v(b){l[28](b)}let w={simca:l[2],transType:l[4],distType:l[3]};return l[9]!==void 0&&(w.xMax=l[9]),l[10]!==void 0&&(w.yMax=l[10]),r=new ta({props:w}),Z.push(()=>ne(r,"xMax",h)),Z.push(()=>ne(r,"yMax",v)),a=new Jf({props:{categories:l[16].v[l[6]-1].cnum,colmap:l[18]}}),{c(){I(e.$$.fragment),s=V(),I(r.$$.fragment),f=V(),I(a.$$.fragment)},m(b,E){R(e,b,E),y(b,s,E),R(r,b,E),y(b,f,E),R(a,b,E),c=!0},p(b,E){const T={};E&65600&&(T.res=b[16].v[b[6]-1]),E&65536&&(T.labels=b[16].labels),E&65536&&(T.classes=b[16].classes),E&4&&(T.targetClass=b[2].className),E&8&&(T.distType=b[3]),E&16&&(T.transType=b[4]),E&32&&(T.showLabels=b[5]),E&1&&(T.selected=b[0]),!t&&E&128&&(t=!0,T.xMax=b[7],le(()=>t=!1)),!n&&E&256&&(n=!0,T.yMax=b[8],le(()=>n=!1)),e.$set(T);const z={};E&4&&(z.simca=b[2]),E&16&&(z.transType=b[4]),E&8&&(z.distType=b[3]),!o&&E&512&&(o=!0,z.xMax=b[9],le(()=>o=!1)),!i&&E&1024&&(i=!0,z.yMax=b[10],le(()=>i=!1)),r.$set(z);const A={};E&65600&&(A.categories=b[16].v[b[6]-1].cnum),a.$set(A)},i(b){c||(p(e.$$.fragment,b),p(r.$$.fragment,b),p(a.$$.fragment,b),c=!0)},o(b){d(e.$$.fragment,b),d(r.$$.fragment,b),d(a.$$.fragment,b),c=!1},d(b){b&&(k(s),k(f)),O(e,b),O(r,b),O(a,b)}}}function la(l){let e,t;return e=new Ct({props:{showGrid:Ts,slot:"xaxis"}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:H,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function sa(l){let e,t;return e=new Et({props:{showGrid:Ts,slot:"yaxis"}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:H,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function ra(l){let e,t;return e=new At({props:{slot:"box"}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:H,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function oa(l){let e;return{c(){e=F("div"),e.textContent="Click anywhere to remove selection...",_(e,"class","msg-select svelte-1aze4qe")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function ia(l){let e;return{c(){e=F("div"),e.textContent="Click on a point to select...",_(e,"class","msg-select svelte-1aze4qe")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function fa(l){let e,t,n=l[16]&&l[1]&&Ss(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[16]&&s[1]?n?(n.p(s,r),r&65538&&p(n,1)):(n=Ss(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),d(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}const Ts=!0;function En(l,e){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance"}[l]+", "+(e==="log"?"log(1 + "+l+"/"+l+"0)":l+"/"+l+"0")}function aa(l,e,t){let n,s,r,o,i,f,a,c,{params:u}=e,{simcares:m}=e,{simca:g}=e,{selected:h}=e;const v=[.85,1,.25,.25],w=["#2679B2","#F2B825","#D22C2F"];let b="h/q",E="no",T="no",z=m?Object.keys(m)[0]:"",A=1,S=1,N=1,L=1,q=1;function M(Y){const B=parseInt(Y.detail.elementID),ie=Y.detail.seriesTitle;B>=0&&ie==="distance_points"&&t(0,h=B)}function j(Y){t(0,h=-1)}function P(Y){S=Y,t(7,S)}function D(Y){N=Y,t(8,N)}function Q(Y){L=Y,t(9,L)}function te(Y){q=Y,t(10,q)}return l.$$set=Y=>{"params"in Y&&t(1,u=Y.params),"simcares"in Y&&t(21,m=Y.simcares),"simca"in Y&&t(2,g=Y.simca),"selected"in Y&&t(0,h=Y.selected)},l.$$.update=()=>{l.$$.dirty&4194306&&u&&u.resID!==z&&t(22,z=u.resID),l.$$.dirty&10&&u&&u.distType!==b&&t(3,b=u.distType),l.$$.dirty&18&&u&&u.transType!==E&&t(4,E=u.transType),l.$$.dirty&34&&u&&u.showLabels!==T&&t(5,T=u.showLabels),l.$$.dirty&68&&g&&g.ncomp!==A&&t(6,A=g.ncomp),l.$$.dirty&6291456&&t(16,n=m&&z?m[z]:null),l.$$.dirty&64&&t(15,s="Acceptance plot (A = "+A+")"),l.$$.dirty&24&&t(14,r=b==="f"?"Objects":En("h",E)),l.$$.dirty&24&&t(13,o=En(b==="h/q"?"q":"f",E)),l.$$.dirty&640&&t(24,i=Oe([S,L])),l.$$.dirty&1280&&t(23,f=Oe([N,q])),l.$$.dirty&16777216&&t(12,a=[-.02*i,1.05*i]),l.$$.dirty&8388608&&t(11,c=[-.02*f,1.2*f])},[h,u,g,b,E,T,A,S,N,L,q,c,a,o,r,s,n,v,w,M,j,m,z,f,i,P,D,Q,te]}let Rs=class extends ce{constructor(e){super(),ue(this,e,aa,fa,se,{params:1,simcares:21,simca:2,selected:0})}};function Os(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o,i,f,a,c;e=new J({props:{label:"",$$slots:{default:[ua]},$$scope:{ctx:l}}});let u=n&&Is(l);return r=new J({props:{label:"Distances:",$$slots:{default:[ma]},$$scope:{ctx:l}}}),i=new J({props:{label:"Transform:",$$slots:{default:[_a]},$$scope:{ctx:l}}}),a=new J({props:{label:"Labels:",$$slots:{default:[pa]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),t=V(),u&&u.c(),s=V(),I(r.$$.fragment),o=V(),I(i.$$.fragment),f=V(),I(a.$$.fragment)},m(m,g){R(e,m,g),y(m,t,g),u&&u.m(m,g),y(m,s,g),R(r,m,g),y(m,o,g),R(i,m,g),y(m,f,g),R(a,m,g),c=!0},p(m,g){const h={};g&1024&&(h.$$scope={dirty:g,ctx:m}),e.$set(h),g&1&&(n=Object.keys(m[0]).length>1),n?u?(u.p(m,g),g&1&&p(u,1)):(u=Is(m),u.c(),p(u,1),u.m(s.parentNode,s)):u&&(K(),d(u,1,1,()=>{u=null}),X());const v={};g&1026&&(v.$$scope={dirty:g,ctx:m}),r.$set(v);const w={};g&1028&&(w.$$scope={dirty:g,ctx:m}),i.$set(w);const b={};g&1032&&(b.$$scope={dirty:g,ctx:m}),a.$set(b)},i(m){c||(p(e.$$.fragment,m),p(u),p(r.$$.fragment,m),p(i.$$.fragment,m),p(a.$$.fragment,m),c=!0)},o(m){d(e.$$.fragment,m),d(u),d(r.$$.fragment,m),d(i.$$.fragment,m),d(a.$$.fragment,m),c=!1},d(m){m&&(k(t),k(s),k(o),k(f)),O(e,m),u&&u.d(m),O(r,m),O(i,m),O(a,m)}}}function ua(l){let e;return{c(){e=F("p"),e.textContent="Acceptance plot",_(e,"class","title")},m(t,n){y(t,e,n)},p:H,d(t){t&&k(e)}}}function Is(l){let e,t;return e=new J({props:{label:"Results:",$$slots:{default:[ca]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1041&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function ca(l){let e,t,n;function s(o){l[6](o)}let r={id:"resType",options:Object.keys(l[0])};return l[4]!==void 0&&(r.value=l[4]),e=new ve({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&16&&(t=!0,f.value=o[4],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function ma(l){let e,t,n;function s(o){l[7](o)}let r={id:"distances",options:["h/q","f"]};return l[1]!==void 0&&(r.value=l[1]),e=new ve({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function _a(l){let e,t,n;function s(o){l[8](o)}let r={id:"limType",options:["no","log"]};return l[2]!==void 0&&(r.value=l[2]),e=new ve({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function pa(l){let e,t,n;function s(o){l[9](o)}let r={id:"showLabels",options:["hide","show"]};return l[3]!==void 0&&(r.value=l[3]),e=new ve({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function ga(l){let e,t,n=l[0]&&Os(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&p(n,1)):(n=Os(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),d(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function ha(l,e,t){let{params:n}=e,{simcares:s}=e,r="h/q",o="no",i="hide",f=s?Object.keys(s)[0]:"";function a(g){f=g,t(4,f)}function c(g){r=g,t(1,r)}function u(g){o=g,t(2,o)}function m(g){i=g,t(3,i)}return l.$$set=g=>{"params"in g&&t(5,n=g.params),"simcares"in g&&t(0,s=g.simcares)},l.$$.update=()=>{l.$$.dirty&30&&t(5,n={distType:r,transType:o,showLabels:i,resID:f})},[s,r,o,i,f,n,a,c,u,m]}let Ps=class extends ce{constructor(e){super(),ue(this,e,ha,ga,se,{params:5,simcares:0})}};function qs(l){let e,t;return e=new yt({props:{margins:l[9],title:l[8],xLabel:l[1],yLabel:l[2],limX:[-1,l[3]+2],limY:[-1,l[3]+2],$$slots:{box:[va],yaxis:[wa],xaxis:[ba],default:[da]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&256&&(r.title=n[8]),s&2&&(r.xLabel=n[1]),s&4&&(r.yLabel=n[2]),s&8&&(r.limX=[-1,n[3]+2]),s&8&&(r.limY=[-1,n[3]+2]),s&524529&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function da(l){let e,t,n,s,r,o,i,f,a,c;return e=new Qe({props:{xValues:l[4],yValues:l[4],lineColor:"#e0e0e0"}}),n=new Qe({props:{xValues:l[4],yValues:l[5],lineColor:"#e0e0e0"}}),r=new Qe({props:{xValues:l[4],yValues:l[6],lineColor:"#e0e0e0"}}),i=new dt({props:{xStart:l[4],xEnd:l[4],yStart:l[5],yEnd:l[6],lineColor:"#e0e0e0"}}),a=new ut({props:{xValues:l[4],yValues:l[7],borderWidth:2}}),{c(){I(e.$$.fragment),t=V(),I(n.$$.fragment),s=V(),I(r.$$.fragment),o=V(),I(i.$$.fragment),f=V(),I(a.$$.fragment)},m(u,m){R(e,u,m),y(u,t,m),R(n,u,m),y(u,s,m),R(r,u,m),y(u,o,m),R(i,u,m),y(u,f,m),R(a,u,m),c=!0},p(u,m){const g={};m&16&&(g.xValues=u[4]),m&16&&(g.yValues=u[4]),e.$set(g);const h={};m&16&&(h.xValues=u[4]),m&32&&(h.yValues=u[5]),n.$set(h);const v={};m&16&&(v.xValues=u[4]),m&64&&(v.yValues=u[6]),r.$set(v);const w={};m&16&&(w.xStart=u[4]),m&16&&(w.xEnd=u[4]),m&32&&(w.yStart=u[5]),m&64&&(w.yEnd=u[6]),i.$set(w);const b={};m&16&&(b.xValues=u[4]),m&128&&(b.yValues=u[7]),a.$set(b)},i(u){c||(p(e.$$.fragment,u),p(n.$$.fragment,u),p(r.$$.fragment,u),p(i.$$.fragment,u),p(a.$$.fragment,u),c=!0)},o(u){d(e.$$.fragment,u),d(n.$$.fragment,u),d(r.$$.fragment,u),d(i.$$.fragment,u),d(a.$$.fragment,u),c=!1},d(u){u&&(k(t),k(s),k(o),k(f)),O(e,u),O(n,u),O(r,u),O(i,u),O(a,u)}}}function ba(l){let e,t;return e=new Ct({props:{showGrid:l[0],slot:"xaxis"}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function wa(l){let e,t;return e=new Et({props:{showGrid:l[0],slot:"yaxis"}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function va(l){let e,t;return e=new At({props:{slot:"box"}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:H,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function ka(l){let e,t,n=l[4]&&l[7]&&qs(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[4]&&s[7]?n?(n.p(s,r),r&144&&p(n,1)):(n=qs(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),d(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function ya(l,e,t){let n,s,r,o,i,f,{params:a}=e,{simcares:c}=e,{simca:u}=e;const m=[.85,1,.25,.25];let{showGrid:g=!0}=e,{xLabel:h="Number of wrongly accepted (expected)"}=e,{yLabel:v="Number of wrongly accepted (observed)"}=e,w=c?Object.keys(c)[0]:"";function b(S){const N=S.anum.aliens,L=S.f.length;let q=he.zeros(N);for(let M=0;M<L;M++)S.a[M]==="alien"&&(q=q.add(A.apply(j=>S.f[M]<j)));return q}let E,T,z,A;return l.$$set=S=>{"params"in S&&t(10,a=S.params),"simcares"in S&&t(11,c=S.simcares),"simca"in S&&t(12,u=S.simca),"showGrid"in S&&t(0,g=S.showGrid),"xLabel"in S&&t(1,h=S.xLabel),"yLabel"in S&&t(2,v=S.yLabel)},l.$$.update=()=>{if(l.$$.dirty&9216&&a&&a.resID!==w&&t(13,w=a.resID),l.$$.dirty&4096&&t(15,n=u?u.ncomp:null),l.$$.dirty&32768&&t(8,s=n?"Aliens plot (A = "+n+")":""),l.$$.dirty&10240&&t(16,r=c&&w?c[w]:null),l.$$.dirty&98304&&t(14,o=r?r.v[n-1]:null),l.$$.dirty&16384&&t(3,i=o?o.anum.aliens:null),l.$$.dirty&16392)if(i){A=he.zeros(i),t(4,E=he.zeros(i)),t(5,T=he.zeros(i)),t(6,z=he.zeros(i));for(let S=1;S<=i;S++){const N=S/i,L=Xt(N);A.v[S-1]=o.m*Math.pow(o.Sz*L+o.Mz,1/o.hz);const q=2*Math.sqrt(S*(1-N));t(5,T.v[S-1]=S-q,T),t(6,z.v[S-1]=S+q,z),t(4,E.v[S-1]=S,E)}}else t(4,E=null),t(5,T=null),t(6,z=null),A=null;l.$$.dirty&16384&&t(7,f=o?b(o):null)},[g,h,v,i,E,T,z,f,s,m,a,c,u,w,o,n,r]}class Ca extends ce{constructor(e){super(),ue(this,e,ya,ka,se,{params:10,simcares:11,simca:12,showGrid:0,xLabel:1,yLabel:2})}}function Fs(l){let e,t,n=Object.keys(l[0]).length>1,s,r;e=new J({props:{label:"",$$slots:{default:[Ea]},$$scope:{ctx:l}}});let o=n&&js(l);return{c(){I(e.$$.fragment),t=V(),o&&o.c(),s=ee()},m(i,f){R(e,i,f),y(i,t,f),o&&o.m(i,f),y(i,s,f),r=!0},p(i,f){const a={};f&16&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),f&1&&(n=Object.keys(i[0]).length>1),n?o?(o.p(i,f),f&1&&p(o,1)):(o=js(i),o.c(),p(o,1),o.m(s.parentNode,s)):o&&(K(),d(o,1,1,()=>{o=null}),X())},i(i){r||(p(e.$$.fragment,i),p(o),r=!0)},o(i){d(e.$$.fragment,i),d(o),r=!1},d(i){i&&(k(t),k(s)),O(e,i),o&&o.d(i)}}}function Ea(l){let e;return{c(){e=F("p"),e.textContent="Aliens plot",_(e,"class","title")},m(t,n){y(t,e,n)},p:H,d(t){t&&k(e)}}}function js(l){let e,t;return e=new J({props:{label:"Results:",$$slots:{default:[Aa]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&19&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Aa(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new ve({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&2&&(t=!0,f.value=o[1],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Na(l){let e,t,n=l[0]&&Fs(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&p(n,1)):(n=Fs(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),d(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Ma(l,e,t){let{params:n}=e,{simcares:s}=e,r=s?Object.keys(s)[0]:"";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={resID:r})},[s,r,n,o]}class La extends ce{constructor(e){super(),ue(this,e,Ma,Na,se,{params:2,simcares:0})}}function Vs(l){let e,t;return e=new yt({props:{margins:l[9],title:l[8],xLabel:l[1],yLabel:l[2],limX:[-1,l[3]+2],limY:[-1,l[3]+2],$$slots:{box:[Ra],yaxis:[Ta],xaxis:[Sa],default:[za]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&256&&(r.title=n[8]),s&2&&(r.xLabel=n[1]),s&4&&(r.yLabel=n[2]),s&8&&(r.limX=[-1,n[3]+2]),s&8&&(r.limY=[-1,n[3]+2]),s&262385&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function za(l){let e,t,n,s,r,o,i,f,a,c;return e=new Qe({props:{xValues:l[4],yValues:l[4],lineColor:"#e0e0e0"}}),n=new Qe({props:{xValues:l[4],yValues:l[5],lineColor:"#e0e0e0"}}),r=new Qe({props:{xValues:l[4],yValues:l[6],lineColor:"#e0e0e0"}}),i=new dt({props:{xStart:l[4],xEnd:l[4],yStart:l[5],yEnd:l[6],lineColor:"#e0e0e0"}}),a=new ut({props:{xValues:l[4],yValues:l[7],borderWidth:2}}),{c(){I(e.$$.fragment),t=V(),I(n.$$.fragment),s=V(),I(r.$$.fragment),o=V(),I(i.$$.fragment),f=V(),I(a.$$.fragment)},m(u,m){R(e,u,m),y(u,t,m),R(n,u,m),y(u,s,m),R(r,u,m),y(u,o,m),R(i,u,m),y(u,f,m),R(a,u,m),c=!0},p(u,m){const g={};m&16&&(g.xValues=u[4]),m&16&&(g.yValues=u[4]),e.$set(g);const h={};m&16&&(h.xValues=u[4]),m&32&&(h.yValues=u[5]),n.$set(h);const v={};m&16&&(v.xValues=u[4]),m&64&&(v.yValues=u[6]),r.$set(v);const w={};m&16&&(w.xStart=u[4]),m&16&&(w.xEnd=u[4]),m&32&&(w.yStart=u[5]),m&64&&(w.yEnd=u[6]),i.$set(w);const b={};m&16&&(b.xValues=u[4]),m&128&&(b.yValues=u[7]),a.$set(b)},i(u){c||(p(e.$$.fragment,u),p(n.$$.fragment,u),p(r.$$.fragment,u),p(i.$$.fragment,u),p(a.$$.fragment,u),c=!0)},o(u){d(e.$$.fragment,u),d(n.$$.fragment,u),d(r.$$.fragment,u),d(i.$$.fragment,u),d(a.$$.fragment,u),c=!1},d(u){u&&(k(t),k(s),k(o),k(f)),O(e,u),O(n,u),O(r,u),O(i,u),O(a,u)}}}function Sa(l){let e,t;return e=new Ct({props:{showGrid:l[0],slot:"xaxis"}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Ta(l){let e,t;return e=new Et({props:{showGrid:l[0],slot:"yaxis"}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Ra(l){let e,t;return e=new At({props:{slot:"box"}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:H,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Oa(l){let e,t,n=l[4]&&l[7]&&Vs(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[4]&&s[7]?n?(n.p(s,r),r&144&&p(n,1)):(n=Vs(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),d(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Ia(l,e,t){let n,s,r,o,i,{params:f}=e,{simcares:a}=e,{simca:c}=e;const u=[.85,1,.25,.25];let{showGrid:m=!0}=e,{xLabel:g="Number of extremes (expected)"}=e,{yLabel:h="Number of extremes (observed)"}=e,v=a?Object.keys(a)[0]:"";function w(A){const S=A.f.length;let N=he.zeros(S);for(let L=0;L<S;L++){const q=_n(A.f[L],A.Nf);N=N.add(z.apply(M=>1-q<M))}return N}let b,E,T,z;return l.$$set=A=>{"params"in A&&t(10,f=A.params),"simcares"in A&&t(11,a=A.simcares),"simca"in A&&t(12,c=A.simca),"showGrid"in A&&t(0,m=A.showGrid),"xLabel"in A&&t(1,g=A.xLabel),"yLabel"in A&&t(2,h=A.yLabel)},l.$$.update=()=>{if(l.$$.dirty&9216&&f&&f.resID!==v&&t(13,v=f.resID),l.$$.dirty&4096&&t(14,n=c?c.ncomp:null),l.$$.dirty&16384&&t(8,s=n?"Extremes plot (A = "+n+")":""),l.$$.dirty&10240&&t(15,r=a&&v?a[v]:null),l.$$.dirty&49152&&t(3,o=r?r.v[n].f.length:null),l.$$.dirty&8)if(o){z=he.zeros(o),t(4,b=he.zeros(o)),t(5,E=he.zeros(o)),t(6,T=he.zeros(o));for(let A=1;A<=o;A++){const S=A/o,N=2*Math.sqrt(A*(1-S));t(5,E.v[A-1]=A-N,E),t(6,T.v[A-1]=A+N,T),z.v[A-1]=S,t(4,b.v[A-1]=A,b)}}else t(4,b=null),t(5,E=null),t(6,T=null),z=null;l.$$.dirty&49152&&t(7,i=r?w(r.v[n-1]):null)},[m,g,h,o,b,E,T,i,s,u,f,a,c,v,n,r]}class Ys extends ce{constructor(e){super(),ue(this,e,Ia,Oa,se,{params:10,simcares:11,simca:12,showGrid:0,xLabel:1,yLabel:2})}}function Ds(l){let e,t,n=Object.keys(l[0]).length>1,s,r;e=new J({props:{label:"",$$slots:{default:[Pa]},$$scope:{ctx:l}}});let o=n&&$s(l);return{c(){I(e.$$.fragment),t=V(),o&&o.c(),s=ee()},m(i,f){R(e,i,f),y(i,t,f),o&&o.m(i,f),y(i,s,f),r=!0},p(i,f){const a={};f&16&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),f&1&&(n=Object.keys(i[0]).length>1),n?o?(o.p(i,f),f&1&&p(o,1)):(o=$s(i),o.c(),p(o,1),o.m(s.parentNode,s)):o&&(K(),d(o,1,1,()=>{o=null}),X())},i(i){r||(p(e.$$.fragment,i),p(o),r=!0)},o(i){d(e.$$.fragment,i),d(o),r=!1},d(i){i&&(k(t),k(s)),O(e,i),o&&o.d(i)}}}function Pa(l){let e;return{c(){e=F("p"),e.textContent="Extremes plot",_(e,"class","title")},m(t,n){y(t,e,n)},p:H,d(t){t&&k(e)}}}function $s(l){let e,t;return e=new J({props:{label:"Results:",$$slots:{default:[qa]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&19&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function qa(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new ve({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&2&&(t=!0,f.value=o[1],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Fa(l){let e,t,n=l[0]&&Ds(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&p(n,1)):(n=Ds(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),d(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function ja(l,e,t){let{params:n}=e,{simcares:s}=e,r=s?Object.keys(s)[0]:"";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={resID:r})},[s,r,n,o]}class Bs extends ce{constructor(e){super(),ue(this,e,ja,Fa,se,{params:2,simcares:0})}}function Ws(l){let e,t;return e=new yt({props:{margins:l[9],title:Ga,xLabel:Wa,yLabel:Ha,limX:[0,l[3]+1],limY:[-1,l[7][l[1]]],$$slots:{box:[$a],yaxis:[Da],xaxis:[Ya],default:[Va]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.limX=[0,n[3]+1]),s&130&&(r.limY=[-1,n[7][n[1]]]),s&8694&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Hs(l){let e,t,n,s,r,o;return e=new Qe({props:{xValues:l[6],yValues:l[5],lineWidth:1.5,lineColor:l[10][0]}}),n=new ut({props:{xValues:l[6],yValues:l[5],borderWidth:1.5,faceColor:"#fff",borderColor:l[10][0]}}),r=new ut({props:{xValues:[l[6].v[l[8]-1]],yValues:[l[5].v[l[8]-1]],borderWidth:4,faceColor:l[10][0],borderColor:l[10][0]}}),{c(){I(e.$$.fragment),t=V(),I(n.$$.fragment),s=V(),I(r.$$.fragment)},m(i,f){R(e,i,f),y(i,t,f),R(n,i,f),y(i,s,f),R(r,i,f),o=!0},p(i,f){const a={};f&64&&(a.xValues=i[6]),f&32&&(a.yValues=i[5]),e.$set(a);const c={};f&64&&(c.xValues=i[6]),f&32&&(c.yValues=i[5]),n.$set(c);const u={};f&320&&(u.xValues=[i[6].v[i[8]-1]]),f&288&&(u.yValues=[i[5].v[i[8]-1]]),r.$set(u)},i(i){o||(p(e.$$.fragment,i),p(n.$$.fragment,i),p(r.$$.fragment,i),o=!0)},o(i){d(e.$$.fragment,i),d(n.$$.fragment,i),d(r.$$.fragment,i),o=!1},d(i){i&&(k(t),k(s)),O(e,i),O(n,i),O(r,i)}}}function Gs(l){let e,t,n,s,r,o;return e=new Qe({props:{xValues:l[6],yValues:l[4],lineWidth:1.5,lineColor:l[10][1]}}),n=new ut({props:{xValues:l[6],yValues:l[4],borderWidth:1.5,faceColor:"#fff",borderColor:l[10][1]}}),r=new ut({props:{xValues:[l[6].v[l[8]-1]],yValues:[l[4].v[l[8]-1]],borderWidth:4,faceColor:l[10][1],borderColor:l[10][1]}}),{c(){I(e.$$.fragment),t=V(),I(n.$$.fragment),s=V(),I(r.$$.fragment)},m(i,f){R(e,i,f),y(i,t,f),R(n,i,f),y(i,s,f),R(r,i,f),o=!0},p(i,f){const a={};f&64&&(a.xValues=i[6]),f&16&&(a.yValues=i[4]),e.$set(a);const c={};f&64&&(c.xValues=i[6]),f&16&&(c.yValues=i[4]),n.$set(c);const u={};f&320&&(u.xValues=[i[6].v[i[8]-1]]),f&272&&(u.yValues=[i[4].v[i[8]-1]]),r.$set(u)},i(i){o||(p(e.$$.fragment,i),p(n.$$.fragment,i),p(r.$$.fragment,i),o=!0)},o(i){d(e.$$.fragment,i),d(n.$$.fragment,i),d(r.$$.fragment,i),o=!1},d(i){i&&(k(t),k(s)),O(e,i),O(n,i),O(r,i)}}}function Va(l){let e,t,n,s,r,o;e=new dt({props:{xStart:[l[8]],xEnd:[l[8]],yStart:[-1],yEnd:[l[7][l[1]]],lineColor:"#00000040"}});let i=(l[1]==="Nh"||l[1]==="both")&&Hs(l),f=(l[1]==="Nq"||l[1]==="both")&&Gs(l);return r=new $f({props:{items:l[2]}}),{c(){I(e.$$.fragment),t=V(),i&&i.c(),n=V(),f&&f.c(),s=V(),I(r.$$.fragment)},m(a,c){R(e,a,c),y(a,t,c),i&&i.m(a,c),y(a,n,c),f&&f.m(a,c),y(a,s,c),R(r,a,c),o=!0},p(a,c){const u={};c&256&&(u.xStart=[a[8]]),c&256&&(u.xEnd=[a[8]]),c&130&&(u.yEnd=[a[7][a[1]]]),e.$set(u),a[1]==="Nh"||a[1]==="both"?i?(i.p(a,c),c&2&&p(i,1)):(i=Hs(a),i.c(),p(i,1),i.m(n.parentNode,n)):i&&(K(),d(i,1,1,()=>{i=null}),X()),a[1]==="Nq"||a[1]==="both"?f?(f.p(a,c),c&2&&p(f,1)):(f=Gs(a),f.c(),p(f,1),f.m(s.parentNode,s)):f&&(K(),d(f,1,1,()=>{f=null}),X());const m={};c&4&&(m.items=a[2]),r.$set(m)},i(a){o||(p(e.$$.fragment,a),p(i),p(f),p(r.$$.fragment,a),o=!0)},o(a){d(e.$$.fragment,a),d(i),d(f),d(r.$$.fragment,a),o=!1},d(a){a&&(k(t),k(n),k(s)),O(e,a),i&&i.d(a),f&&f.d(a),O(r,a)}}}function Ya(l){let e,t;return e=new Ct({props:{showGrid:Us,slot:"xaxis"}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:H,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Da(l){let e,t;return e=new Et({props:{showGrid:Us,slot:"yaxis"}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:H,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function $a(l){let e,t;return e=new At({props:{slot:"box"}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:H,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Ba(l){let e,t,n=(l[0],l[6],l[5],l[4]&&Ws(l));return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0],s[6],s[5],s[4]?n?(n.p(s,r),r&113&&p(n,1)):(n=Ws(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),d(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}const Us=!0,Wa="Number of PCs",Ha="Degrees of freedom, Nu",Ga="DoF plot";function Ua(l,e,t){let n,s,r,o,i,f,{params:a}=e,{simcares:c}=e,{simca:u}=e;const m=[.85,1,.25,.25],g=["#2679B2","#D22C2F"];let h="both",v=[];return l.$$set=w=>{"params"in w&&t(0,a=w.params),"simcares"in w&&t(11,c=w.simcares),"simca"in w&&t(12,u=w.simca)},l.$$.update=()=>{l.$$.dirty&3&&a&&a.item&&a.item!==h&&t(1,h=a.item),l.$$.dirty&6&&(h?(t(2,v=[]),(h==="Nh"||h==="both")&&v.push({label:"Nh",borderColor:g[0],marker:1,borderWidth:2}),(h==="Nq"||h==="both")&&v.push({label:"Nq",borderColor:g[1],marker:1,borderWidth:2})):t(2,v=null)),l.$$.dirty&4096&&t(8,n=u?u.ncomp:null),l.$$.dirty&4096&&t(5,s=u?new he(u.Nh):null),l.$$.dirty&4096&&t(4,r=u?new he(u.Nq):null),l.$$.dirty&4096&&t(3,o=u.Nh.length),l.$$.dirty&48&&t(7,i={both:1.2*Oe([Oe(s),Oe(r)]),Nh:1.2*Oe(s),Nq:1.2*Oe(r)}),l.$$.dirty&4104&&t(6,f=u?he.seq(1,o):null)},[a,h,v,o,r,s,f,i,n,m,g,c,u]}class Ka extends ce{constructor(e){super(),ue(this,e,Ua,Ba,se,{params:0,simcares:11,simca:12})}}function Ks(l){let e,t,n,s;return e=new J({props:{label:"",$$slots:{default:[Xa]},$$scope:{ctx:l}}}),n=new J({props:{label:"Results:",$$slots:{default:[Za]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),t=V(),I(n.$$.fragment)},m(r,o){R(e,r,o),y(r,t,o),R(n,r,o),s=!0},p(r,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:r}),e.$set(i);const f={};o&18&&(f.$$scope={dirty:o,ctx:r}),n.$set(f)},i(r){s||(p(e.$$.fragment,r),p(n.$$.fragment,r),s=!0)},o(r){d(e.$$.fragment,r),d(n.$$.fragment,r),s=!1},d(r){r&&k(t),O(e,r),O(n,r)}}}function Xa(l){let e;return{c(){e=F("p"),e.textContent="DoF plot",_(e,"class","title")},m(t,n){y(t,e,n)},p:H,d(t){t&&k(e)}}}function Za(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:["both","Nh","Nq"]};return l[1]!==void 0&&(r.value=l[1]),e=new ve({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Qa(l){let e,t,n=l[0]&&Ks(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&p(n,1)):(n=Ks(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),d(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Ja(l,e,t){let{params:n}=e,{simcares:s}=e,r="both";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={item:r})},[s,r,n,o]}class xa extends ce{constructor(e){super(),ue(this,e,Ja,Qa,se,{params:2,simcares:0})}}function Xs(l){let e,t;return e=new yt({props:{margins:l[10],title:iu,xLabel:ru,yLabel:ou,limX:[0,l[8].length+1],limY:[l[6],l[5]],$$slots:{box:[lu],yaxis:[nu],xaxis:[tu],default:[eu]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&256&&(r.limX=[0,n[8].length+1]),s&96&&(r.limY=[n[6],n[5]]),s&33694&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function eu(l){let e,t,n,s,r,o,i,f,a,c,u,m,g,h,v,w;return e=new Tf({props:{left:[0],width:[l[8].length+1],top:[l[7]],height:[2*l[3]],faceColor:"#6DE6F460"}}),n=new dt({props:{xStart:[0],xEnd:[l[8].length+1],yStart:[l[4]],yEnd:[l[4]],lineColor:"#10BBE5",lineType:2}}),r=new dt({props:{xStart:[0],xEnd:[l[8].length+1],yStart:[l[1]],yEnd:[l[1]],lineColor:"#10BBE5",lineType:3}}),i=new dt({props:{xStart:[0],xEnd:[l[8].length+1],yStart:[l[7]],yEnd:[l[7]],lineColor:"#10BBE5",lineType:3}}),a=new Qe({props:{xValues:l[8],yValues:l[2],lineWidth:1.5,lineColor:"#2679B2"}}),u=new ut({props:{xValues:l[8],yValues:l[2],borderWidth:1.5,faceColor:"#d3f4f9",borderColor:"#2679B2"}}),g=new dt({props:{xStart:[l[9]],xEnd:[l[9]],yStart:[-1],yEnd:[1.1],lineColor:"#d0d0d0"}}),v=new ut({props:{xValues:[l[8].v[l[9]-1]],yValues:[l[2][l[9]-1]],markerSize:1.5,borderWidth:1.5,faceColor:"#2679B2",borderColor:"#d0d0d0"}}),{c(){I(e.$$.fragment),t=V(),I(n.$$.fragment),s=V(),I(r.$$.fragment),o=V(),I(i.$$.fragment),f=V(),I(a.$$.fragment),c=V(),I(u.$$.fragment),m=V(),I(g.$$.fragment),h=V(),I(v.$$.fragment)},m(b,E){R(e,b,E),y(b,t,E),R(n,b,E),y(b,s,E),R(r,b,E),y(b,o,E),R(i,b,E),y(b,f,E),R(a,b,E),y(b,c,E),R(u,b,E),y(b,m,E),R(g,b,E),y(b,h,E),R(v,b,E),w=!0},p(b,E){const T={};E&256&&(T.width=[b[8].length+1]),E&128&&(T.top=[b[7]]),E&8&&(T.height=[2*b[3]]),e.$set(T);const z={};E&256&&(z.xEnd=[b[8].length+1]),E&16&&(z.yStart=[b[4]]),E&16&&(z.yEnd=[b[4]]),n.$set(z);const A={};E&256&&(A.xEnd=[b[8].length+1]),E&2&&(A.yStart=[b[1]]),E&2&&(A.yEnd=[b[1]]),r.$set(A);const S={};E&256&&(S.xEnd=[b[8].length+1]),E&128&&(S.yStart=[b[7]]),E&128&&(S.yEnd=[b[7]]),i.$set(S);const N={};E&256&&(N.xValues=b[8]),E&4&&(N.yValues=b[2]),a.$set(N);const L={};E&256&&(L.xValues=b[8]),E&4&&(L.yValues=b[2]),u.$set(L);const q={};E&512&&(q.xStart=[b[9]]),E&512&&(q.xEnd=[b[9]]),g.$set(q);const M={};E&768&&(M.xValues=[b[8].v[b[9]-1]]),E&516&&(M.yValues=[b[2][b[9]-1]]),v.$set(M)},i(b){w||(p(e.$$.fragment,b),p(n.$$.fragment,b),p(r.$$.fragment,b),p(i.$$.fragment,b),p(a.$$.fragment,b),p(u.$$.fragment,b),p(g.$$.fragment,b),p(v.$$.fragment,b),w=!0)},o(b){d(e.$$.fragment,b),d(n.$$.fragment,b),d(r.$$.fragment,b),d(i.$$.fragment,b),d(a.$$.fragment,b),d(u.$$.fragment,b),d(g.$$.fragment,b),d(v.$$.fragment,b),w=!1},d(b){b&&(k(t),k(s),k(o),k(f),k(c),k(m),k(h)),O(e,b),O(n,b),O(r,b),O(i,b),O(a,b),O(u,b),O(g,b),O(v,b)}}}function tu(l){let e,t;return e=new Ct({props:{showGrid:Zs,slot:"xaxis"}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:H,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function nu(l){let e,t;return e=new Et({props:{showGrid:Zs,slot:"yaxis"}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:H,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function lu(l){let e,t;return e=new At({props:{slot:"box"}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:H,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function su(l){let e,t,n=(l[0],l[8],l[2]&&Xs(l));return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0],s[8],s[2]?n?(n.p(s,r),r&261&&p(n,1)):(n=Xs(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),d(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}const Zs=!0,ru="Number of PCs",ou="Sensitivity",iu="Sensitivity plot";function fu(l,e,t){let n,s,r,o,i,f,a,c,u,m,{params:g}=e,{simcares:h}=e,{simca:v}=e;const w=[.85,1,.25,.25];let b=h?Object.keys(h)[0]:"";return l.$$set=E=>{"params"in E&&t(0,g=E.params),"simcares"in E&&t(11,h=E.simcares),"simca"in E&&t(12,v=E.simca)},l.$$.update=()=>{l.$$.dirty&8193&&g&&g.resID!==b&&t(13,b=g.resID),l.$$.dirty&10240&&t(14,n=h&&b?h[b]:null),l.$$.dirty&4096&&t(9,s=v?v.ncomp:null),l.$$.dirty&16384&&t(2,r=n?n.v.map(E=>E.stat.sensitivity):null),l.$$.dirty&4&&t(8,o=r?he.seq(1,r.length):null),l.$$.dirty&4096&&t(4,i=v?1-v.alpha/100:null),l.$$.dirty&20480&&t(3,f=v&&n?2*Math.sqrt(v.alpha/100*(1-v.alpha/100)/n.nrows):null),l.$$.dirty&24&&t(7,a=f+i),l.$$.dirty&24&&t(1,c=i-f),l.$$.dirty&7&&t(6,u=g&&g.zoom==="on"?Math.min(...r,c)-.05:-.1),l.$$.dirty&1&&t(5,m=g&&g.zoom==="on"?1.02:1.1)},[g,c,r,f,i,m,u,a,o,s,w,h,v,b,n]}class Qs extends ce{constructor(e){super(),ue(this,e,fu,su,se,{params:0,simcares:11,simca:12})}}function Js(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o;e=new J({props:{label:"",$$slots:{default:[au]},$$scope:{ctx:l}}});let i=n&&xs(l);return r=new J({props:{label:"Zoom:",$$slots:{default:[cu]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),t=V(),i&&i.c(),s=V(),I(r.$$.fragment)},m(f,a){R(e,f,a),y(f,t,a),i&&i.m(f,a),y(f,s,a),R(r,f,a),o=!0},p(f,a){const c={};a&64&&(c.$$scope={dirty:a,ctx:f}),e.$set(c),a&1&&(n=Object.keys(f[0]).length>1),n?i?(i.p(f,a),a&1&&p(i,1)):(i=xs(f),i.c(),p(i,1),i.m(s.parentNode,s)):i&&(K(),d(i,1,1,()=>{i=null}),X());const u={};a&68&&(u.$$scope={dirty:a,ctx:f}),r.$set(u)},i(f){o||(p(e.$$.fragment,f),p(i),p(r.$$.fragment,f),o=!0)},o(f){d(e.$$.fragment,f),d(i),d(r.$$.fragment,f),o=!1},d(f){f&&(k(t),k(s)),O(e,f),i&&i.d(f),O(r,f)}}}function au(l){let e;return{c(){e=F("p"),e.textContent="Sensitivity plot",_(e,"class","title")},m(t,n){y(t,e,n)},p:H,d(t){t&&k(e)}}}function xs(l){let e,t;return e=new J({props:{label:"Results:",$$slots:{default:[uu]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&67&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function uu(l){let e,t,n;function s(o){l[4](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new ve({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&2&&(t=!0,f.value=o[1],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function cu(l){let e,t,n;function s(o){l[5](o)}let r={id:"zoom",options:["off","on"]};return l[2]!==void 0&&(r.value=l[2]),e=new ve({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function mu(l){let e,t,n=l[0]&&Js(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&p(n,1)):(n=Js(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),d(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function _u(l,e,t){let{params:n}=e,{simcares:s}=e,r=s?Object.keys(s)[0]:"",o="off";function i(a){r=a,t(1,r)}function f(a){o=a,t(2,o)}return l.$$set=a=>{"params"in a&&t(3,n=a.params),"simcares"in a&&t(0,s=a.simcares)},l.$$.update=()=>{l.$$.dirty&6&&t(3,n={resID:r,zoom:o})},[s,r,o,n,i,f]}class er extends ce{constructor(e){super(),ue(this,e,_u,mu,se,{params:3,simcares:0})}}function tr(l){let e,t;return e=new yt({props:{margins:l[6],title:ku,xLabel:wu,yLabel:vu,limX:[0,l[4].length+1],limY:[l[3],l[2]],$$slots:{box:[du],yaxis:[hu],xaxis:[gu],default:[pu]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&16&&(r.limX=[0,n[4].length+1]),s&12&&(r.limY=[n[3],n[2]]),s&2098&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function pu(l){let e,t,n,s,r,o,i,f;return e=new dt({props:{xStart:[l[5]],xEnd:[l[5]],yStart:[-1],yEnd:[1.1],lineColor:"#00000040"}}),n=new Qe({props:{xValues:l[4],yValues:l[1],lineWidth:1.5,lineColor:"#2679B2"}}),r=new ut({props:{xValues:l[4],yValues:l[1],borderWidth:1.5,faceColor:"#fff",borderColor:"#2679B2"}}),i=new ut({props:{xValues:[l[4].v[l[5]-1]],yValues:[l[1][l[5]-1]],borderWidth:4,faceColor:"#2679B2",borderColor:"#2679B2"}}),{c(){I(e.$$.fragment),t=V(),I(n.$$.fragment),s=V(),I(r.$$.fragment),o=V(),I(i.$$.fragment)},m(a,c){R(e,a,c),y(a,t,c),R(n,a,c),y(a,s,c),R(r,a,c),y(a,o,c),R(i,a,c),f=!0},p(a,c){const u={};c&32&&(u.xStart=[a[5]]),c&32&&(u.xEnd=[a[5]]),e.$set(u);const m={};c&16&&(m.xValues=a[4]),c&2&&(m.yValues=a[1]),n.$set(m);const g={};c&16&&(g.xValues=a[4]),c&2&&(g.yValues=a[1]),r.$set(g);const h={};c&48&&(h.xValues=[a[4].v[a[5]-1]]),c&34&&(h.yValues=[a[1][a[5]-1]]),i.$set(h)},i(a){f||(p(e.$$.fragment,a),p(n.$$.fragment,a),p(r.$$.fragment,a),p(i.$$.fragment,a),f=!0)},o(a){d(e.$$.fragment,a),d(n.$$.fragment,a),d(r.$$.fragment,a),d(i.$$.fragment,a),f=!1},d(a){a&&(k(t),k(s),k(o)),O(e,a),O(n,a),O(r,a),O(i,a)}}}function gu(l){let e,t;return e=new Ct({props:{showGrid:nr,slot:"xaxis"}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:H,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function hu(l){let e,t;return e=new Et({props:{showGrid:nr,slot:"yaxis"}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:H,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function du(l){let e,t;return e=new At({props:{slot:"box"}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:H,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function bu(l){let e,t,n=(l[0],l[4],l[1]&&tr(l));return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0],s[4],s[1]?n?(n.p(s,r),r&19&&p(n,1)):(n=tr(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),d(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}const nr=!0,wu="Number of PCs",vu="Specificity",ku="Specificity plot";function yu(l,e,t){let n,s,r,o,i,f,{params:a}=e,{simcares:c}=e,{simca:u}=e;const m=[.85,1,.25,.25];let g=c?Object.keys(c)[0]:"";return l.$$set=h=>{"params"in h&&t(0,a=h.params),"simcares"in h&&t(7,c=h.simcares),"simca"in h&&t(8,u=h.simca)},l.$$.update=()=>{l.$$.dirty&513&&a&&a.resID!==g&&t(9,g=a.resID),l.$$.dirty&640&&t(10,n=c&&g?c[g]:null),l.$$.dirty&256&&t(5,s=u?u.ncomp:null),l.$$.dirty&1024&&t(1,r=n?n.v.map(h=>h.stat.specificity):null),l.$$.dirty&2&&t(4,o=r?he.seq(1,r.length):null),l.$$.dirty&3&&t(3,i=a&&a.zoom==="on"?Math.min(...r)-.1:-.1),l.$$.dirty&1&&t(2,f=a&&a.zoom==="on"?1.05:1.1)},[a,r,f,i,o,s,m,c,u,g,n]}class Cu extends ce{constructor(e){super(),ue(this,e,yu,bu,se,{params:0,simcares:7,simca:8})}}function lr(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o;e=new J({props:{label:"",$$slots:{default:[Eu]},$$scope:{ctx:l}}});let i=n&&sr(l);return r=new J({props:{label:"Zoom:",$$slots:{default:[Nu]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),t=V(),i&&i.c(),s=V(),I(r.$$.fragment)},m(f,a){R(e,f,a),y(f,t,a),i&&i.m(f,a),y(f,s,a),R(r,f,a),o=!0},p(f,a){const c={};a&64&&(c.$$scope={dirty:a,ctx:f}),e.$set(c),a&1&&(n=Object.keys(f[0]).length>1),n?i?(i.p(f,a),a&1&&p(i,1)):(i=sr(f),i.c(),p(i,1),i.m(s.parentNode,s)):i&&(K(),d(i,1,1,()=>{i=null}),X());const u={};a&68&&(u.$$scope={dirty:a,ctx:f}),r.$set(u)},i(f){o||(p(e.$$.fragment,f),p(i),p(r.$$.fragment,f),o=!0)},o(f){d(e.$$.fragment,f),d(i),d(r.$$.fragment,f),o=!1},d(f){f&&(k(t),k(s)),O(e,f),i&&i.d(f),O(r,f)}}}function Eu(l){let e;return{c(){e=F("p"),e.textContent="Specificity plot",_(e,"class","title")},m(t,n){y(t,e,n)},p:H,d(t){t&&k(e)}}}function sr(l){let e,t;return e=new J({props:{label:"Results:",$$slots:{default:[Au]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&67&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Au(l){let e,t,n;function s(o){l[4](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new ve({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&2&&(t=!0,f.value=o[1],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Nu(l){let e,t,n;function s(o){l[5](o)}let r={id:"zoom",options:["off","on"]};return l[2]!==void 0&&(r.value=l[2]),e=new ve({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Mu(l){let e,t,n=l[0]&&lr(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&p(n,1)):(n=lr(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),d(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Lu(l,e,t){let{params:n}=e,{simcares:s}=e,r=s?Object.keys(s)[0]:"",o="off";function i(a){r=a,t(1,r)}function f(a){o=a,t(2,o)}return l.$$set=a=>{"params"in a&&t(3,n=a.params),"simcares"in a&&t(0,s=a.simcares)},l.$$.update=()=>{l.$$.dirty&6&&t(3,n={resID:r,zoom:o})},[s,r,o,n,i,f]}class zu extends ce{constructor(e){super(),ue(this,e,Lu,Mu,se,{params:3,simcares:0})}}function Su(l){let e,t;return e=new yn({props:{simcares:l[0],simca:l[1],options:l[2]}}),e.$on("setoutlier",l[3]),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,[s]){const r={};s&1&&(r.simcares=n[0]),s&2&&(r.simca=n[1]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Tu(l,e,t){let{simcares:n}=e,{simca:s}=e;const r=[{label:"Acceptance",plotComponent:Rs,controlsComponent:Ps},{label:"DoF",plotComponent:Ka,controlsComponent:xa},{label:"Extremes",plotComponent:Ys,controlsComponent:Bs},{label:"Sensitivity",plotComponent:Qs,controlsComponent:er}];function o(i){Gt.call(this,l,i)}return l.$$set=i=>{"simcares"in i&&t(0,n=i.simcares),"simca"in i&&t(1,s=i.simca)},[n,s,r,o]}let Ru=class extends ce{constructor(e){super(),ue(this,e,Tu,Su,se,{simcares:0,simca:1})}};const Om="";function rr(l){let e,t,n,s,r,o,i,f=l[0].Nh[l[1]-1]+"",a,c,u,m=l[0].Nq[l[1]-1]+"",g,h,v,w=l[0].Nf[l[1]-1]+"",b,E,T,z,A,S,N=l[0].h0[l[1]-1].toFixed(2)+"",L,q,M,j=l[0].q0[l[1]-1].toFixed(l[0].q0[l[1]-1]>99?0:2)+"",P,D,Q,te,Y,B,ie,fe,ge,de,we,Ee,Re=l[0].eCrit[l[1]-1].toFixed(1)+"",Fe,$e,ze,je,He,Ve,Ae,Ye,nt,Je,lt=l[0].oCrit[l[1]-1].toFixed(1)+"",U;return{c(){e=F("table"),t=F("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">h</th> <th class="svelte-kg0b31">q</th> <th class="svelte-kg0b31">f</th>',n=V(),s=F("tr"),r=F("td"),r.textContent="DoF (Nu)",o=V(),i=F("td"),a=G(f),c=V(),u=F("td"),g=G(m),h=V(),v=F("td"),b=G(w),E=V(),T=F("tr"),z=F("td"),z.textContent="Mean (u0)",A=V(),S=F("td"),L=G(N),q=V(),M=F("td"),P=G(j),D=V(),Q=F("td"),te=V(),Y=F("tr"),B=F("td"),B.textContent="Crit (extreme)",ie=V(),fe=F("td"),ge=V(),de=F("td"),we=V(),Ee=F("td"),Fe=G(Re),$e=V(),ze=F("tr"),je=F("td"),je.textContent="Crit (outliers)",He=V(),Ve=F("td"),Ae=V(),Ye=F("td"),nt=V(),Je=F("td"),U=G(lt),_(t,"class","svelte-kg0b31"),_(r,"class","label svelte-kg0b31"),_(i,"class","svelte-kg0b31"),_(u,"class","svelte-kg0b31"),_(v,"class","svelte-kg0b31"),_(s,"class","svelte-kg0b31"),_(z,"class","label svelte-kg0b31"),_(S,"class","svelte-kg0b31"),_(M,"class","svelte-kg0b31"),_(Q,"class","svelte-kg0b31"),_(T,"class","svelte-kg0b31"),_(B,"class","label svelte-kg0b31"),_(fe,"class","svelte-kg0b31"),_(de,"class","svelte-kg0b31"),_(Ee,"class","svelte-kg0b31"),_(Y,"class","svelte-kg0b31"),_(je,"class","label svelte-kg0b31"),_(Ve,"class","svelte-kg0b31"),_(Ye,"class","svelte-kg0b31"),_(Je,"class","svelte-kg0b31"),_(ze,"class","svelte-kg0b31"),_(e,"class","svelte-kg0b31")},m(pe,Te){y(pe,e,Te),C(e,t),C(e,n),C(e,s),C(s,r),C(s,o),C(s,i),C(i,a),C(s,c),C(s,u),C(u,g),C(s,h),C(s,v),C(v,b),C(e,E),C(e,T),C(T,z),C(T,A),C(T,S),C(S,L),C(T,q),C(T,M),C(M,P),C(T,D),C(T,Q),C(e,te),C(e,Y),C(Y,B),C(Y,ie),C(Y,fe),C(Y,ge),C(Y,de),C(Y,we),C(Y,Ee),C(Ee,Fe),C(e,$e),C(e,ze),C(ze,je),C(ze,He),C(ze,Ve),C(ze,Ae),C(ze,Ye),C(ze,nt),C(ze,Je),C(Je,U)},p(pe,Te){Te&3&&f!==(f=pe[0].Nh[pe[1]-1]+"")&&ae(a,f),Te&3&&m!==(m=pe[0].Nq[pe[1]-1]+"")&&ae(g,m),Te&3&&w!==(w=pe[0].Nf[pe[1]-1]+"")&&ae(b,w),Te&3&&N!==(N=pe[0].h0[pe[1]-1].toFixed(2)+"")&&ae(L,N),Te&3&&j!==(j=pe[0].q0[pe[1]-1].toFixed(pe[0].q0[pe[1]-1]>99?0:2)+"")&&ae(P,j),Te&3&&Re!==(Re=pe[0].eCrit[pe[1]-1].toFixed(1)+"")&&ae(Fe,Re),Te&3&&lt!==(lt=pe[0].oCrit[pe[1]-1].toFixed(1)+"")&&ae(U,lt)},d(pe){pe&&k(e)}}}function Ou(l){let e,t=l[0]&&rr(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[0]?t?t.p(n,s):(t=rr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){n&&k(e),t&&t.d(n)}}}function Iu(l,e,t){let n,{simca:s}=e;return l.$$set=r=>{"simca"in r&&t(0,s=r.simca)},l.$$.update=()=>{l.$$.dirty&1&&t(1,n=s.ncomp)},[s,n]}class An extends ce{constructor(e){super(),ue(this,e,Iu,Ou,se,{simca:0})}}function Pu(l){let e,t,n=l[0].className+"",s;return{c(){e=F("p"),t=G("Target class: "),s=G(n),_(e,"class","title")},m(r,o){y(r,e,o),C(e,t),C(e,s)},p(r,o){o&1&&n!==(n=r[0].className+"")&&ae(s,n)},d(r){r&&k(e)}}}function qu(l){let e,t,n;function s(o){l[8](o)}let r={id:"ncomp",min:1,max:l[1].ncomp,step:1,decNum:0};return l[3]!==void 0&&(r.value=l[3]),e=new nl({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&2&&(f.max=o[1].ncomp),!t&&i&8&&(t=!0,f.value=o[3],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Fu(l){let e,t,n;function s(o){l[9](o)}let r={id:"alpha",options:l[6]};return l[4]!==void 0&&(r.value=l[4]),e=new ve({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function ju(l){let e,t,n;function s(o){l[10](o)}let r={id:"gamma",options:l[7]};return l[5]!==void 0&&(r.value=l[5]),e=new ve({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&32&&(t=!0,f.value=o[5],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Vu(l){let e,t,n;function s(o){l[11](o)}let r={id:"limType",options:["classic","robust"]};return l[2]!==void 0&&(r.value=l[2]),e=new ve({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Yu(l){let e,t,n,s,r,o,i,f,a,c;return e=new J({props:{label:"",$$slots:{default:[Pu]},$$scope:{ctx:l}}}),n=new J({props:{label:"# of PCs",$$slots:{default:[qu]},$$scope:{ctx:l}}}),r=new J({props:{label:"Alpha, %:",$$slots:{default:[Fu]},$$scope:{ctx:l}}}),i=new J({props:{label:"Gamma, %:",$$slots:{default:[ju]},$$scope:{ctx:l}}}),a=new J({props:{label:"Limits:",$$slots:{default:[Vu]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),t=V(),I(n.$$.fragment),s=V(),I(r.$$.fragment),o=V(),I(i.$$.fragment),f=V(),I(a.$$.fragment)},m(u,m){R(e,u,m),y(u,t,m),R(n,u,m),y(u,s,m),R(r,u,m),y(u,o,m),R(i,u,m),y(u,f,m),R(a,u,m),c=!0},p(u,[m]){const g={};m&1048577&&(g.$$scope={dirty:m,ctx:u}),e.$set(g);const h={};m&1048586&&(h.$$scope={dirty:m,ctx:u}),n.$set(h);const v={};m&1048592&&(v.$$scope={dirty:m,ctx:u}),r.$set(v);const w={};m&1048608&&(w.$$scope={dirty:m,ctx:u}),i.$set(w);const b={};m&1048580&&(b.$$scope={dirty:m,ctx:u}),a.$set(b)},i(u){c||(p(e.$$.fragment,u),p(n.$$.fragment,u),p(r.$$.fragment,u),p(i.$$.fragment,u),p(a.$$.fragment,u),c=!0)},o(u){d(e.$$.fragment,u),d(n.$$.fragment,u),d(r.$$.fragment,u),d(i.$$.fragment,u),d(a.$$.fragment,u),c=!1},d(u){u&&(k(t),k(s),k(o),k(f)),O(e,u),O(n,u),O(r,u),O(i,u),O(a,u)}}}function Du(l,e,t){let{model:n}=e,{simca:s}=e,r=s?s.limType:"classic",o=s?s.ncomp:1,i=s?s.alpha:5,f=s?s.gamma:1;const a=[10,5,1,.1],c=[5,1,.1,.01];function u(N){s.ncomp!==N&&t(0,s.ncomp=N,s)}function m(N){N!==s.alpha&&(t(0,s.alpha=N,s),t(0,s.eCrit=s.Nf.map(L=>wt(1-N/100,L)),s))}function g(N){N!==s.gamma&&(t(0,s.gamma=N,s),t(0,s.oCrit=s.Nf.map(L=>wt(Math.pow(1-N/100,1/n.nrows),L)),s))}function h(N){!s||!n||N===s.limType||(t(0,s.limType=N,s),t(0,s.Nh=n.lim[N].Nh,s),t(0,s.h0=n.lim[N].h0,s),t(0,s.Nq=n.lim[N].Nq,s),t(0,s.q0=n.lim[N].q0,s),t(0,s.Nf=s.Nh.map((L,q)=>L+s.Nq[q]),s),t(0,s.eCrit=s.Nf.map(L=>wt(1-s.alpha/100,L)),s),t(0,s.oCrit=s.Nf.map(L=>wt(Math.pow(1-s.gamma/100,1/n.nrows),L)),s))}function v(N){o!==N&&t(3,o=N)}function w(N){i!==N&&t(4,i=N)}function b(N){f!==N&&t(5,f=N)}function E(N){r!==N&&t(2,r=N)}function T(N){o=N,t(3,o)}function z(N){i=N,t(4,i)}function A(N){f=N,t(5,f)}function S(N){r=N,t(2,r)}return l.$$set=N=>{"model"in N&&t(1,n=N.model),"simca"in N&&t(0,s=N.simca)},l.$$.update=()=>{l.$$.dirty&8&&u(o),l.$$.dirty&16&&m(i),l.$$.dirty&32&&g(f),l.$$.dirty&4&&h(r),l.$$.dirty&1&&v(s.ncomp),l.$$.dirty&1&&w(s.alpha),l.$$.dirty&1&&b(s.gamma),l.$$.dirty&1&&E(s.limType)},[s,n,r,o,i,f,a,c,T,z,A,S]}class Nn extends ce{constructor(e){super(),ue(this,e,Du,Yu,se,{model:1,simca:0})}}const Im="";function or(l){let e,t;return e=new J({props:{$$slots:{default:[$u]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&35&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function $u(l){let e,t,n,s=l[0].map(l[3]).join(" ")+"",r,o,i;return o=new kt({}),o.$on("click",l[2]),{c(){e=F("p"),t=G("Removed: "),n=new Pn(!1),r=V(),I(o.$$.fragment),n.a=null,_(e,"class","outliers svelte-4rlpf1")},m(f,a){y(f,e,a),C(e,t),n.m(s,e),y(f,r,a),R(o,f,a),i=!0},p(f,a){(!i||a&3)&&s!==(s=f[0].map(f[3]).join(" ")+"")&&n.p(s)},i(f){i||(p(o.$$.fragment,f),i=!0)},o(f){d(o.$$.fragment,f),i=!1},d(f){f&&(k(e),k(r)),O(o,f)}}}function Bu(l){let e,t,n=l[0].length>0&&or(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0].length>0?n?(n.p(s,r),r&1&&p(n,1)):(n=or(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),d(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Wu(l,e,t){const n=Ht();let{outliers:s}=e,{dataset:r}=e;function o(f){n("resetoutliers",{})}const i=f=>"<span>"+r.labels[f]+"</span>";return l.$$set=f=>{"outliers"in f&&t(0,s=f.outliers),"dataset"in f&&t(1,r=f.dataset)},[s,r,o,i]}class ir extends ce{constructor(e){super(),ue(this,e,Wu,Bu,se,{outliers:0,dataset:1})}}const Pm="";function fr(l){let e,t,n,s;function r(i){l[16](i)}let o={dataset:l[3]};return l[8]!==void 0&&(o.outliers=l[8]),t=new ir({props:o}),Z.push(()=>ne(t,"outliers",r)),t.$on("resetoutliers",l[11]),{c(){e=F("div"),I(t.$$.fragment),_(e,"class","outliers-pane svelte-1kl15v")},m(i,f){y(i,e,f),R(t,e,null),s=!0},p(i,f){const a={};f&8&&(a.dataset=i[3]),!n&&f&256&&(n=!0,a.outliers=i[8],le(()=>n=!1)),t.$set(a)},i(i){s||(p(t.$$.fragment,i),s=!0)},o(i){d(t.$$.fragment,i),s=!1},d(i){i&&k(e),O(t)}}}function ar(l){let e,t,n,s,r,o;function i(u){l[17](u)}function f(u){l[18](u)}function a(u){l[19](u)}let c={WASM:l[0],calset:l[3],outliers:l[8],className:l[7]};return l[2]!==void 0&&(c.simca=l[2]),l[1]!==void 0&&(c.model=l[1]),l[5]!==void 0&&(c.calres=l[5]),t=new $i({props:c}),Z.push(()=>ne(t,"simca",i)),Z.push(()=>ne(t,"model",f)),Z.push(()=>ne(t,"calres",a)),{c(){e=F("div"),I(t.$$.fragment),_(e,"class","model-calculator svelte-1kl15v")},m(u,m){y(u,e,m),R(t,e,null),o=!0},p(u,m){const g={};m&1&&(g.WASM=u[0]),m&8&&(g.calset=u[3]),m&256&&(g.outliers=u[8]),m&128&&(g.className=u[7]),!n&&m&4&&(n=!0,g.simca=u[2],le(()=>n=!1)),!s&&m&2&&(s=!0,g.model=u[1],le(()=>s=!1)),!r&&m&32&&(r=!0,g.calres=u[5],le(()=>r=!1)),t.$set(g)},i(u){o||(p(t.$$.fragment,u),o=!0)},o(u){d(t.$$.fragment,u),o=!1},d(u){u&&k(e),O(t)}}}function ur(l){let e,t,n,s,r;function o(a){l[20](a)}function i(a){l[21](a)}let f={WASM:l[0],calset:l[3],outliers:l[8],model:l[1]};return l[4]!==void 0&&(f.pvset=l[4]),l[6]!==void 0&&(f.pvres=l[6]),t=new Mi({props:f}),Z.push(()=>ne(t,"pvset",o)),Z.push(()=>ne(t,"pvres",i)),{c(){e=F("div"),I(t.$$.fragment),_(e,"class","pcv-calculator svelte-1kl15v")},m(a,c){y(a,e,c),R(t,e,null),r=!0},p(a,c){const u={};c&1&&(u.WASM=a[0]),c&8&&(u.calset=a[3]),c&256&&(u.outliers=a[8]),c&2&&(u.model=a[1]),!n&&c&16&&(n=!0,u.pvset=a[4],le(()=>n=!1)),!s&&c&64&&(s=!0,u.pvres=a[6],le(()=>s=!1)),t.$set(u)},i(a){r||(p(t.$$.fragment,a),r=!0)},o(a){d(t.$$.fragment,a),r=!1},d(a){a&&k(e),O(t)}}}function cr(l){let e,t,n,s,r,o;function i(a){l[22](a)}let f={model:l[1]};return l[2]!==void 0&&(f.simca=l[2]),t=new Nn({props:f}),Z.push(()=>ne(t,"simca",i)),r=new J({props:{label:"Download",$$slots:{default:[Uu]},$$scope:{ctx:l}}}),{c(){e=F("div"),I(t.$$.fragment),s=V(),I(r.$$.fragment),_(e,"class","simca-settings svelte-1kl15v")},m(a,c){y(a,e,c),R(t,e,null),C(e,s),R(r,e,null),o=!0},p(a,c){const u={};c&2&&(u.model=a[1]),!n&&c&4&&(n=!0,u.simca=a[2],le(()=>n=!1)),t.$set(u);const m={};c&67109646&&(m.$$scope={dirty:c,ctx:a}),r.$set(m)},i(a){o||(p(t.$$.fragment,a),p(r.$$.fragment,a),o=!0)},o(a){d(t.$$.fragment,a),d(r.$$.fragment,a),o=!1},d(a){a&&k(e),O(t),O(r)}}}function Hu(l){let e;return{c(){e=G("Results")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function Gu(l){let e;return{c(){e=G("Model")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function Uu(l){let e,t,n,s,r;return t=new Ue({props:{$$slots:{default:[Hu]},$$scope:{ctx:l}}}),t.$on("click",l[23]),s=new Ue({props:{$$slots:{default:[Gu]},$$scope:{ctx:l}}}),s.$on("click",l[24]),{c(){e=F("div"),I(t.$$.fragment),n=V(),I(s.$$.fragment),_(e,"class","buttons svelte-1kl15v")},m(o,i){y(o,e,i),R(t,e,null),C(e,n),R(s,e,null),r=!0},p(o,i){const f={};i&67108864&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const a={};i&67108864&&(a.$$scope={dirty:i,ctx:o}),s.$set(a)},i(o){r||(p(t.$$.fragment,o),p(s.$$.fragment,o),r=!0)},o(o){d(t.$$.fragment,o),d(s.$$.fragment,o),r=!1},d(o){o&&k(e),O(t),O(s)}}}function mr(l){let e,t,n;return t=new An({props:{simca:l[2]}}),{c(){e=F("div"),I(t.$$.fragment),_(e,"class","model-stats svelte-1kl15v")},m(s,r){y(s,e,r),R(t,e,null),n=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),t.$set(o)},i(s){n||(p(t.$$.fragment,s),n=!0)},o(s){d(t.$$.fragment,s),n=!1},d(s){s&&k(e),O(t)}}}function _r(l){let e,t,n;return t=new Hi({props:{simca:l[2],res:l[9]}}),{c(){e=F("div"),I(t.$$.fragment),_(e,"class","result-stats svelte-1kl15v")},m(s,r){y(s,e,r),R(t,e,null),n=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),r&512&&(o.res=s[9]),t.$set(o)},i(s){n||(p(t.$$.fragment,s),n=!0)},o(s){d(t.$$.fragment,s),n=!1},d(s){s&&k(e),O(t)}}}function Ku(l){let e=l[1],t,n,s=pr(l);return{c(){s.c(),t=ee()},m(r,o){s.m(r,o),y(r,t,o),n=!0},p(r,o){o&2&&se(e,e=r[1])?(K(),d(s,1,1,H),X(),s=pr(r),s.c(),p(s,1),s.m(t.parentNode,t)):s.p(r,o)},i(r){n||(p(s),n=!0)},o(r){d(s),n=!1},d(r){r&&k(t),s.d(r)}}}function Xu(l){let e;function t(r,o){return r[3]?Zu:Qu}let n=t(l),s=n(l);return{c(){e=F("div"),s.c(),_(e,"class","help-text svelte-1kl15v")},m(r,o){y(r,e,o),s.m(e,null)},p(r,o){n===(n=t(r))&&s?s.p(r,o):(s.d(1),s=n(r),s&&(s.c(),s.m(e,null)))},i:H,o:H,d(r){r&&k(e),s.d()}}}function pr(l){let e,t;return e=new Ru({props:{simcares:l[9],simca:l[2]}}),e.$on("setoutlier",l[10]),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&512&&(r.simcares=n[9]),s&4&&(r.simca=n[2]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Zu(l){let e,t,n=!l[1]&&gr(),s=l[1]&&!l[4]&&hr();return{c(){n&&n.c(),e=V(),s&&s.c(),t=ee()},m(r,o){n&&n.m(r,o),y(r,e,o),s&&s.m(r,o),y(r,t,o)},p(r,o){r[1]?n&&(n.d(1),n=null):n||(n=gr(),n.c(),n.m(e.parentNode,e)),r[1]&&!r[4]?s||(s=hr(),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(r){r&&(k(e),k(t)),n&&n.d(r),s&&s.d(r)}}}function Qu(l){let e,t,n,s,r,o,i,f,a,c,u,m,g;return{c(){e=F("p"),e.innerHTML="In this tab you can train a DD-SIMCA model and optimize its parameters using Procrustes cross-validation. After creating the model you can save it to a file and use it in other tabs. For example, validate and tune it using test set with target class members (tab <strong>Predict: Target</strong>) or apply it to a dataset with non-target class members (tab <strong>Predict: New</strong>).",t=V(),n=F("p"),n.innerHTML="<strong>Step 1.</strong>",s=V(),r=F("p"),r.textContent=`Load your training set from a CSV file. The file should contain data as numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables.`,o=V(),i=F("p"),i.textContent="First column must contain class names for each row. All rows in the training set should belong to the target class, so it is expected that the class names are the same (you will get error message if not).",f=V(),a=F("p"),a.innerHTML="First row can contain variable names (<strong>header</strong>) and first column can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. In this case it is assumed that column with the class names is located next to the column with row labels. Here is an example:",c=V(),u=F("div"),u.innerHTML='<table class="svelte-1kl15v"><tr><td class="svelte-1kl15v">Name</td> <td class="svelte-1kl15v">Class</td> <td class="svelte-1kl15v">x1</td> <td class="svelte-1kl15v">x2</td> <td class="svelte-1kl15v">x3</td></tr> <tr><td class="svelte-1kl15v">O1</td> <td class="svelte-1kl15v">A</td> <td class="svelte-1kl15v">3.8</td> <td class="svelte-1kl15v">1.3</td> <td class="svelte-1kl15v">13.6</td></tr> <tr><td class="svelte-1kl15v">O2</td> <td class="svelte-1kl15v">A</td> <td class="svelte-1kl15v">11.1</td> <td class="svelte-1kl15v">12.3</td> <td class="svelte-1kl15v">3.3</td></tr> <tr><td class="svelte-1kl15v">O3</td> <td class="svelte-1kl15v">A</td> <td class="svelte-1kl15v">1.2</td> <td class="svelte-1kl15v">2.3</td> <td class="svelte-1kl15v">4.2</td></tr></table>',m=V(),g=F("p"),_(e,"class","svelte-1kl15v"),_(n,"class","svelte-1kl15v"),_(r,"class","svelte-1kl15v"),_(i,"class","svelte-1kl15v"),_(a,"class","svelte-1kl15v"),_(u,"class","svelte-1kl15v"),_(g,"class","svelte-1kl15v")},m(h,v){y(h,e,v),y(h,t,v),y(h,n,v),y(h,s,v),y(h,r,v),y(h,o,v),y(h,i,v),y(h,f,v),y(h,a,v),y(h,c,v),y(h,u,v),y(h,m,v),y(h,g,v)},p:H,d(h){h&&(k(e),k(t),k(n),k(s),k(r),k(o),k(i),k(f),k(a),k(c),k(u),k(m),k(g))}}}function gr(l){let e,t,n;return{c(){e=F("p"),e.innerHTML="<strong>Step 2</strong>",t=V(),n=F("p"),n.textContent=`Next step is to create a global PCA model for the calibration set, which will be the basis for the SIMCA model. Use more components/latent variables (PCs) than you expect to be optimal. You will have possibility to set
               optimal number later.`,_(e,"class","svelte-1kl15v"),_(n,"class","svelte-1kl15v")},m(s,r){y(s,e,r),y(s,t,r),y(s,n,r)},d(s){s&&(k(e),k(t),k(n))}}}function hr(l){let e,t,n,s,r;return{c(){e=F("p"),e.innerHTML="<strong>Step 3</strong>",t=V(),n=F("p"),n.textContent="Now set necessary parameters for Procrustes cross-validation and click button to compute the PV-set, which will help you to optimize SIMCA model parameters. The parameters are the same as for conventional cross-validation: type of splits and number of segments. It is recommended to use fewer number of segments (e.g. 3, 4 or 5).",s=V(),r=F("p"),r.textContent="After this step SIMCA model will be created automatically and you will be able to tune its parameters.",_(e,"class","svelte-1kl15v"),_(n,"class","svelte-1kl15v"),_(r,"class","svelte-1kl15v")},m(o,i){y(o,e,i),y(o,t,i),y(o,n,i),y(o,s,i),y(o,r,i)},d(o){o&&(k(e),k(t),k(n),k(s),k(r))}}}function Ju(l){let e,t,n,s,r,o,i,f,a,c,u,m,g,h,v,w;function b(P){l[15](P)}let E={};l[3]!==void 0&&(E.dataset=l[3]),s=new _i({props:E}),Z.push(()=>ne(s,"dataset",b));let T=l[8].length>0&&fr(l),z=l[3]&&ar(l),A=l[3]&&l[1]&&ur(l),S=l[1]&&l[6]&&l[5]&&cr(l),N=l[2]&&l[4]&&l[1]&&mr(l),L=l[9]&&_r(l);const q=[Xu,Ku],M=[];function j(P,D){return!P[4]||!P[6]||!P[2]?0:1}return h=j(l),v=M[h]=q[h](l),{c(){e=F("div"),t=F("div"),n=F("div"),I(s.$$.fragment),o=V(),T&&T.c(),i=V(),z&&z.c(),f=V(),A&&A.c(),a=V(),S&&S.c(),c=V(),N&&N.c(),u=V(),L&&L.c(),m=V(),g=F("div"),v.c(),_(n,"class","data-loader svelte-1kl15v"),_(t,"class","app-controls svelte-1kl15v"),_(g,"class","app-content svelte-1kl15v"),_(e,"class","app-container svelte-1kl15v")},m(P,D){y(P,e,D),C(e,t),C(t,n),R(s,n,null),C(t,o),T&&T.m(t,null),C(t,i),z&&z.m(t,null),C(t,f),A&&A.m(t,null),C(t,a),S&&S.m(t,null),C(t,c),N&&N.m(t,null),C(t,u),L&&L.m(t,null),C(e,m),C(e,g),M[h].m(g,null),w=!0},p(P,[D]){const Q={};!r&&D&8&&(r=!0,Q.dataset=P[3],le(()=>r=!1)),s.$set(Q),P[8].length>0?T?(T.p(P,D),D&256&&p(T,1)):(T=fr(P),T.c(),p(T,1),T.m(t,i)):T&&(K(),d(T,1,1,()=>{T=null}),X()),P[3]?z?(z.p(P,D),D&8&&p(z,1)):(z=ar(P),z.c(),p(z,1),z.m(t,f)):z&&(K(),d(z,1,1,()=>{z=null}),X()),P[3]&&P[1]?A?(A.p(P,D),D&10&&p(A,1)):(A=ur(P),A.c(),p(A,1),A.m(t,a)):A&&(K(),d(A,1,1,()=>{A=null}),X()),P[1]&&P[6]&&P[5]?S?(S.p(P,D),D&98&&p(S,1)):(S=cr(P),S.c(),p(S,1),S.m(t,c)):S&&(K(),d(S,1,1,()=>{S=null}),X()),P[2]&&P[4]&&P[1]?N?(N.p(P,D),D&22&&p(N,1)):(N=mr(P),N.c(),p(N,1),N.m(t,u)):N&&(K(),d(N,1,1,()=>{N=null}),X()),P[9]?L?(L.p(P,D),D&512&&p(L,1)):(L=_r(P),L.c(),p(L,1),L.m(t,null)):L&&(K(),d(L,1,1,()=>{L=null}),X());let te=h;h=j(P),h===te?M[h].p(P,D):(K(),d(M[te],1,1,()=>{M[te]=null}),X(),v=M[h],v?v.p(P,D):(v=M[h]=q[h](P),v.c()),p(v,1),v.m(g,null))},i(P){w||(p(s.$$.fragment,P),p(T),p(z),p(A),p(S),p(N),p(L),p(v),w=!0)},o(P){d(s.$$.fragment,P),d(T),d(z),d(A),d(S),d(N),d(L),d(v),w=!1},d(P){P&&k(e),O(s),T&&T.d(),z&&z.d(),A&&A.d(),S&&S.d(),N&&N.d(),L&&L.d(),M[h].d()}}}function xu(l,e,t){let{WASM:n}=e,s,r,o,i,f,a=[],c=[],u,m,g,h,v;function w(P){const D=c[parseInt(P.detail.id)];if(D>=0&&!a.includes(D)&&c.includes(D)){const Q=c.findIndex(te=>te===D);if(Q<0)return;m&&t(14,m=m.filter((te,Y)=>Y!==Q)),u&&t(13,u=u.filter((te,Y)=>Y!==Q)),t(12,c=c.filter(te=>te!==D)),t(8,a=[...a,D]),t(1,s=null)}}function b(){t(8,a=[]),t(12,c=Array(o.values.nrows).fill().map((P,D)=>D)),t(13,u=o.classes),t(14,m=o.labels),t(1,s=null)}function E(P){o=P,t(3,o)}function T(P){a=P,t(8,a),t(3,o),t(12,c)}function z(P){r=P,t(2,r)}function A(P){s=P,t(1,s),t(3,o),t(12,c)}function S(P){g=P,t(5,g),t(1,s),t(3,o),t(12,c)}function N(P){i=P,t(4,i),t(1,s),t(3,o),t(12,c)}function L(P){h=P,t(6,h),t(4,i),t(1,s),t(3,o),t(12,c)}function q(P){r=P,t(2,r)}const M=()=>wn(v.cal,o,"train",a),j=()=>vn(s,r);return l.$$set=P=>{"WASM"in P&&t(0,n=P.WASM)},l.$$.update=()=>{l.$$.dirty&4104&&(o===null?(t(1,s=null),t(7,f=null),t(13,u=null),t(14,m=null),t(12,c=[]),t(8,a=[])):o&&c.length===0&&(t(12,c=Array(o.values.nrows).fill().map((P,D)=>D)),t(13,u=o.classes),t(14,m=o.labels),t(7,f=o.classNames[0]))),l.$$.dirty&2&&s===null&&(t(4,i=null),t(5,g=null)),l.$$.dirty&16&&(i||t(6,h=null)),l.$$.dirty&96,l.$$.dirty&24676&&(r&&g&&h?t(9,v={cal:dn(g,r,u,m),pv:dn(h,r,u,m)}):t(9,v=null))},[n,s,r,o,i,g,h,f,a,v,w,b,c,u,m,E,T,z,A,S,N,L,q,M,j]}let ec=class extends ce{constructor(e){super(),ue(this,e,xu,Ju,se,{WASM:0})}};function tc(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:ic,then:rc,catch:lc,value:24,error:25,blocks:[,,,]};return pt(t=l[7],s),{c(){e=ee(),s.block.c()},m(r,o){y(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o&128&&t!==(t=l[7])&&pt(t,s)||Kt(s,l,o)},i(r){n||(p(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];d(i)}n=!1},d(r){r&&k(e),s.block.d(r),s.token=null,s=null}}}function nc(l){let e=l[2]===void 0,t,n,s,r=br(l),o=l[2]&&wr(l);return{c(){r.c(),t=V(),o&&o.c(),n=ee()},m(i,f){r.m(i,f),y(i,t,f),o&&o.m(i,f),y(i,n,f),s=!0},p(i,f){f&4&&se(e,e=i[2]===void 0)?(K(),d(r,1,1,H),X(),r=br(i),r.c(),p(r,1),r.m(t.parentNode,t)):r.p(i,f),i[2]?o?(o.p(i,f),f&4&&p(o,1)):(o=wr(i),o.c(),p(o,1),o.m(n.parentNode,n)):o&&(K(),d(o,1,1,()=>{o=null}),X())},i(i){s||(p(r),p(o),s=!0)},o(i){d(r),d(o),s=!1},d(i){i&&(k(t),k(n)),r.d(i),o&&o.d(i)}}}function lc(l){let e,t;return e=new J({props:{status:"error",$$slots:{default:[sc]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&67108992&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function sc(l){let e,t=l[25]+"",n;return{c(){e=F("p"),n=G(t)},m(s,r){y(s,e,r),C(e,n)},p(s,r){r&128&&t!==(t=s[25]+"")&&ae(n,t)},d(s){s&&k(e)}}}function rc(l){let e,t,n=l[1]!==null&&dr(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,r){s[1]!==null?n?(n.p(s,r),r&2&&p(n,1)):(n=dr(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),d(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function dr(l){let e,t;return e=new J({props:{$$slots:{default:[oc]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&67108865&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function oc(l){let e,t,n=l[0].values.nrows+"",s,r,o=l[0].values.ncols+"",i,f,a,c;return a=new kt({}),a.$on("click",l[12]),{c(){e=F("p"),t=G("Dataset is loaded: "),s=G(n),r=G(" × "),i=G(o),f=V(),I(a.$$.fragment)},m(u,m){y(u,e,m),C(e,t),C(e,s),C(e,r),C(e,i),y(u,f,m),R(a,u,m),c=!0},p(u,m){(!c||m&1)&&n!==(n=u[0].values.nrows+"")&&ae(s,n),(!c||m&1)&&o!==(o=u[0].values.ncols+"")&&ae(i,o)},i(u){c||(p(a.$$.fragment,u),c=!0)},o(u){d(a.$$.fragment,u),c=!1},d(u){u&&(k(e),k(f)),O(a,u)}}}function ic(l){let e,t;return e=new J({props:{$$slots:{default:[fc]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&67108864&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function fc(l){let e,t,n,s;return e=new Jt({}),{c(){I(e.$$.fragment),t=V(),n=F("p"),n.textContent="Loading data and apply model..."},m(r,o){R(e,r,o),y(r,t,o),y(r,n,o),s=!0},p:H,i(r){s||(p(e.$$.fragment,r),s=!0)},o(r){d(e.$$.fragment,r),s=!1},d(r){r&&(k(t),k(n)),O(e,r)}}}function ac(l){let e,t,n;function s(o){l[17](o)}let r={id:"dataFile",message:"Select CSV file with dataset"};return l[2]!==void 0&&(r.file=l[2]),e=new xt({props:r}),Z.push(()=>ne(e,"file",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.file=o[2],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function br(l){let e,t;return e=new J({props:{$$slots:{default:[ac]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&67108868&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function wr(l){let e,t,n,s,r,o,i,f,a,c;return e=new J({props:{label:"Delimiter:",$$slots:{default:[uc]},$$scope:{ctx:l}}}),n=new J({props:{label:"Header:",$$slots:{default:[cc]},$$scope:{ctx:l}}}),r=new J({props:{label:"Row labels:",$$slots:{default:[mc]},$$scope:{ctx:l}}}),i=new J({props:{label:"Class labels:",$$slots:{default:[_c]},$$scope:{ctx:l}}}),a=new J({props:{label:" ",$$slots:{default:[gc]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),t=V(),I(n.$$.fragment),s=V(),I(r.$$.fragment),o=V(),I(i.$$.fragment),f=V(),I(a.$$.fragment)},m(u,m){R(e,u,m),y(u,t,m),R(n,u,m),y(u,s,m),R(r,u,m),y(u,o,m),R(i,u,m),y(u,f,m),R(a,u,m),c=!0},p(u,m){const g={};m&67108872&&(g.$$scope={dirty:m,ctx:u}),e.$set(g);const h={};m&67108880&&(h.$$scope={dirty:m,ctx:u}),n.$set(h);const v={};m&67108896&&(v.$$scope={dirty:m,ctx:u}),r.$set(v);const w={};m&67108928&&(w.$$scope={dirty:m,ctx:u}),i.$set(w);const b={};m&67108864&&(b.$$scope={dirty:m,ctx:u}),a.$set(b)},i(u){c||(p(e.$$.fragment,u),p(n.$$.fragment,u),p(r.$$.fragment,u),p(i.$$.fragment,u),p(a.$$.fragment,u),c=!0)},o(u){d(e.$$.fragment,u),d(n.$$.fragment,u),d(r.$$.fragment,u),d(i.$$.fragment,u),d(a.$$.fragment,u),c=!1},d(u){u&&(k(t),k(s),k(o),k(f)),O(e,u),O(n,u),O(r,u),O(i,u),O(a,u)}}}function uc(l){let e,t,n;function s(o){l[18](o)}let r={id:"sep",options:l[10]};return l[3]!==void 0&&(r.value=l[3]),e=new ve({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function cc(l){let e,t,n;function s(o){l[19](o)}let r={id:"hasHeader",options:["yes","no"]};return l[4]!==void 0&&(r.value=l[4]),e=new ve({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function mc(l){let e,t,n;function s(o){l[20](o)}let r={id:"hasLabels",options:["yes","no"]};return l[5]!==void 0&&(r.value=l[5]),e=new ve({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&32&&(t=!0,f.value=o[5],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function _c(l){let e,t,n;function s(o){l[21](o)}let r={id:"hasLabels",options:["yes","no"]};return l[6]!==void 0&&(r.value=l[6]),e=new ve({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&64&&(t=!0,f.value=o[6],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function pc(l){let e;return{c(){e=G("Load")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function gc(l){let e,t;return e=new Ue({props:{$$slots:{default:[pc]},$$scope:{ctx:l}}}),e.$on("click",l[11]),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&67108864&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function vr(l){let e,t;return e=new J({props:{status:"error",$$slots:{default:[hc]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&67109376&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function hc(l){let e,t;return{c(){e=F("p"),t=G(l[9])},m(n,s){y(n,e,s),C(e,t)},p(n,s){s&512&&ae(t,n[9])},d(n){n&&k(e)}}}function dc(l){let e,t,n,s,r;const o=[nc,tc],i=[];function f(c,u){return c[0]?c[7]?1:-1:0}~(e=f(l))&&(t=i[e]=o[e](l));let a=(l[8]==="error"||l[9])&&vr(l);return{c(){t&&t.c(),n=V(),a&&a.c(),s=ee()},m(c,u){~e&&i[e].m(c,u),y(c,n,u),a&&a.m(c,u),y(c,s,u),r=!0},p(c,[u]){let m=e;e=f(c),e===m?~e&&i[e].p(c,u):(t&&(K(),d(i[m],1,1,()=>{i[m]=null}),X()),~e?(t=i[e],t?t.p(c,u):(t=i[e]=o[e](c),t.c()),p(t,1),t.m(n.parentNode,n)):t=null),c[8]==="error"||c[9]?a?(a.p(c,u),u&768&&p(a,1)):(a=vr(c),a.c(),p(a,1),a.m(s.parentNode,s)):a&&(K(),d(a,1,1,()=>{a=null}),X())},i(c){r||(p(t),p(a),r=!0)},o(c){d(t),d(a),r=!1},d(c){c&&(k(n),k(s)),~e&&i[e].d(c),a&&a.d(c)}}}function bc(l,e,t){let{WASM:n}=e,{dataset:s}=e,{model:r}=e,{pcares:o}=e,{outliers:i}=e,{outliersOld:f=[]}=e,a,c=",",u="yes",m="no",g="no",h,v="neutral",w="";const b=[",",";"];function E(j,P){t(7,h=n().then(D=>{const Q=Qt(D,r,j,P);t(1,o=Q)}).catch(D=>{t(1,o=null),t(8,v="error"),t(9,w=D)}))}function T(j){try{const P=bn(j,c,u==="yes",m==="yes",g==="yes");if(P.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(P.values.ncols!==r.ncols)throw new Error("Dataset has different number of columns than the training set.");t(0,s=P),E(P.values,[]),t(9,w=""),t(8,v="success")}catch(P){t(0,s=null),t(8,v="error"),t(9,w=P)}}function z(j){const P=new FileReader;P.onload=()=>T(P.result),P.readAsBinaryString(a)}function A(){t(2,a=null)}function S(j){a=j,t(2,a)}function N(j){c=j,t(3,c)}function L(j){u=j,t(4,u)}function q(j){m=j,t(5,m)}function M(j){g=j,t(6,g)}return l.$$set=j=>{"WASM"in j&&t(14,n=j.WASM),"dataset"in j&&t(0,s=j.dataset),"model"in j&&t(15,r=j.model),"pcares"in j&&t(1,o=j.pcares),"outliers"in j&&t(16,i=j.outliers),"outliersOld"in j&&t(13,f=j.outliersOld)},l.$$.update=()=>{if(l.$$.dirty&4&&(a===null?t(0,s=null):(t(8,v="neutral"),t(9,w=""))),l.$$.dirty&8&&c&&(t(8,v="neutral"),t(9,w="")),l.$$.dirty&73729&&s&&i!==f)try{E(s.values,i),t(9,w=""),t(8,v="success"),t(13,f=i)}catch(j){t(0,s=null),t(8,v="error"),t(9,w=j)}},[s,o,a,c,u,m,g,h,v,w,b,z,A,f,n,r,i,S,N,L,q,M]}let wc=class extends ce{constructor(e){super(),ue(this,e,bc,dc,se,{WASM:14,dataset:0,model:15,pcares:1,outliers:16,outliersOld:13})}};const qm="";function kr(l){let e,t,n,s,r,o,i,f=l[0].nrows+"",a,c,u,m,g,h,v=l[1].cnum.extreme+"",w,b,E,T,z,A,S=l[1].cnum.outliers+"",N,L,q,M,j,P,D=l[1].stat.sensitivity.toFixed(2)+"",Q;return{c(){e=F("table"),t=F("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Target</th>',n=V(),s=F("tr"),r=F("td"),r.textContent="Objects",o=V(),i=F("td"),a=G(f),c=V(),u=F("tr"),m=F("td"),m.textContent="Extremes",g=V(),h=F("td"),w=G(v),b=V(),E=F("tr"),T=F("td"),T.textContent="Outliers",z=V(),A=F("td"),N=G(S),L=V(),q=F("tr"),M=F("td"),M.textContent="Sensitivity",j=V(),P=F("td"),Q=G(D),_(t,"class","svelte-kg0b31"),_(r,"class","label svelte-kg0b31"),_(i,"class","svelte-kg0b31"),_(s,"class","svelte-kg0b31"),_(m,"class","label svelte-kg0b31"),_(h,"class","svelte-kg0b31"),_(u,"class","svelte-kg0b31"),_(T,"class","label svelte-kg0b31"),_(A,"class","svelte-kg0b31"),_(E,"class","svelte-kg0b31"),_(M,"class","label svelte-kg0b31"),_(P,"class","svelte-kg0b31"),_(q,"class","svelte-kg0b31"),_(e,"class","svelte-kg0b31")},m(te,Y){y(te,e,Y),C(e,t),C(e,n),C(e,s),C(s,r),C(s,o),C(s,i),C(i,a),C(e,c),C(e,u),C(u,m),C(u,g),C(u,h),C(h,w),C(e,b),C(e,E),C(E,T),C(E,z),C(E,A),C(A,N),C(e,L),C(e,q),C(q,M),C(q,j),C(q,P),C(P,Q)},p(te,Y){Y&1&&f!==(f=te[0].nrows+"")&&ae(a,f),Y&2&&v!==(v=te[1].cnum.extreme+"")&&ae(w,v),Y&2&&S!==(S=te[1].cnum.outliers+"")&&ae(N,S),Y&2&&D!==(D=te[1].stat.sensitivity.toFixed(2)+"")&&ae(Q,D)},d(te){te&&k(e)}}}function vc(l){let e,t=l[1]&&kr(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[1]?t?t.p(n,s):(t=kr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){n&&k(e),t&&t.d(n)}}}function kc(l,e,t){let n,s,{res:r}=e,{simca:o}=e;return l.$$set=i=>{"res"in i&&t(0,r=i.res),"simca"in i&&t(2,o=i.simca)},l.$$.update=()=>{l.$$.dirty&4&&t(3,n=o?o.ncomp:null),l.$$.dirty&9&&t(1,s=n?r.v[n-1]:null)},[r,s,o,n]}let yc=class extends ce{constructor(e){super(),ue(this,e,kc,vc,se,{res:0,simca:2})}};function Cc(l){let e,t;return e=new yn({props:{simcares:l[0],simca:l[1],options:l[2]}}),e.$on("setoutlier",l[3]),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.simcares=n[0]),s&2&&(r.simca=n[1]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Ec(l){let e,t,n=l[2]&&Cc(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[2]&&n.p(s,r)},i(s){t||(p(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Ac(l,e,t){let{simcares:n}=e,{simca:s}=e,r=[{label:"Acceptance",plotComponent:Rs,controlsComponent:Ps},{label:"Sensitivity",plotComponent:Qs,controlsComponent:er},{label:"Extremes",plotComponent:Ys,controlsComponent:Bs}];function o(i){Gt.call(this,l,i)}return l.$$set=i=>{"simcares"in i&&t(0,n=i.simcares),"simca"in i&&t(1,s=i.simca)},[n,s,r,o]}let Nc=class extends ce{constructor(e){super(),ue(this,e,Ac,Ec,se,{simcares:0,simca:1})}};const Fm="";function Mc(l){let e,t;return e=new J({props:{$$slots:{default:[zc]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1058&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Lc(l){let e=l[2]===void 0,t,n,s,r=yr(l),o=l[2]&&Cr(l);return{c(){r.c(),t=V(),o&&o.c(),n=ee()},m(i,f){r.m(i,f),y(i,t,f),o&&o.m(i,f),y(i,n,f),s=!0},p(i,f){f&4&&se(e,e=i[2]===void 0)?(K(),d(r,1,1,H),X(),r=yr(i),r.c(),p(r,1),r.m(t.parentNode,t)):r.p(i,f),i[2]?o?(o.p(i,f),f&4&&p(o,1)):(o=Cr(i),o.c(),p(o,1),o.m(n.parentNode,n)):o&&(K(),d(o,1,1,()=>{o=null}),X())},i(i){s||(p(r),p(o),s=!0)},o(i){d(r),d(o),s=!1},d(i){i&&(k(t),k(n)),r.d(i),o&&o.d(i)}}}function zc(l){let e,t,n,s,r,o,i,f,a,c,u=l[1].className+"",m,g,h,v,w;return v=new kt({}),v.$on("click",l[7]),{c(){e=F("p"),t=F("span"),t.textContent="Model:",n=V(),s=F("span"),r=G(l[5]),o=F("br"),i=V(),f=F("span"),f.textContent="Target class:",a=V(),c=F("span"),m=G(u),h=V(),I(v.$$.fragment),_(s,"title",l[5]),_(s,"class","modelName svelte-19exump"),_(c,"title",g=l[1].className),_(c,"class","className svelte-19exump"),_(e,"class","modelInfo svelte-19exump")},m(b,E){y(b,e,E),C(e,t),C(e,n),C(e,s),C(s,r),C(e,o),C(e,i),C(e,f),C(e,a),C(e,c),C(c,m),y(b,h,E),R(v,b,E),w=!0},p(b,E){(!w||E&32)&&ae(r,b[5]),(!w||E&32)&&_(s,"title",b[5]),(!w||E&2)&&u!==(u=b[1].className+"")&&ae(m,u),(!w||E&2&&g!==(g=b[1].className))&&_(c,"title",g)},i(b){w||(p(v.$$.fragment,b),w=!0)},o(b){d(v.$$.fragment,b),w=!1},d(b){b&&(k(e),k(h)),O(v,b)}}}function Sc(l){let e,t,n;function s(o){l[8](o)}let r={id:"modelFile",acceptType:".json",message:"Select file with model"};return l[2]!==void 0&&(r.file=l[2]),e=new xt({props:r}),Z.push(()=>ne(e,"file",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.file=o[2],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function yr(l){let e,t;return e=new J({props:{$$slots:{default:[Sc]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1028&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Cr(l){let e,t;return e=new J({props:{label:" ",$$slots:{default:[Rc]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1024&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Tc(l){let e;return{c(){e=G("Load")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function Rc(l){let e,t;return e=new Ue({props:{$$slots:{default:[Tc]},$$scope:{ctx:l}}}),e.$on("click",l[6]),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1024&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Er(l){let e,t;return e=new J({props:{status:"error",$$slots:{default:[Oc]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1040&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Oc(l){let e,t;return{c(){e=F("p"),t=G(l[4])},m(n,s){y(n,e,s),C(e,t)},p(n,s){s&16&&ae(t,n[4])},d(n){n&&k(e)}}}function Ic(l){let e,t,n,s,r;const o=[Lc,Mc],i=[];function f(c,u){return c[0]?1:0}e=f(l),t=i[e]=o[e](l);let a=(l[3]==="error"||l[4])&&Er(l);return{c(){t.c(),n=V(),a&&a.c(),s=ee()},m(c,u){i[e].m(c,u),y(c,n,u),a&&a.m(c,u),y(c,s,u),r=!0},p(c,[u]){let m=e;e=f(c),e===m?i[e].p(c,u):(K(),d(i[m],1,1,()=>{i[m]=null}),X(),t=i[e],t?t.p(c,u):(t=i[e]=o[e](c),t.c()),p(t,1),t.m(n.parentNode,n)),c[3]==="error"||c[4]?a?(a.p(c,u),u&24&&p(a,1)):(a=Er(c),a.c(),p(a,1),a.m(s.parentNode,s)):a&&(K(),d(a,1,1,()=>{a=null}),X())},i(c){r||(p(t),p(a),r=!0)},o(c){d(t),d(a),r=!1},d(c){c&&(k(n),k(s)),i[e].d(c),a&&a.d(c)}}}function Pc(l,e,t){let n,{model:s}=e,{simca:r}=e,o,i="neutral",f="";function a(g){try{const h=JSON.parse(g);h.pca.v=new Float64Array(h.pca.v),h.pca.lim.classic.Nh=new Float64Array(h.pca.lim.classic.Nh),h.pca.lim.classic.Nq=new Float64Array(h.pca.lim.classic.Nq),h.pca.lim.classic.h0=new Float64Array(h.pca.lim.classic.h0),h.pca.lim.classic.q0=new Float64Array(h.pca.lim.classic.q0),h.pca.lim.robust.Nh=new Float64Array(h.pca.lim.robust.Nh),h.pca.lim.robust.Nq=new Float64Array(h.pca.lim.robust.Nq),h.pca.lim.robust.h0=new Float64Array(h.pca.lim.robust.h0),h.pca.lim.robust.q0=new Float64Array(h.pca.lim.robust.q0),h.simca.h0=new Float64Array(h.simca.h0),h.simca.Nh=new Float64Array(h.simca.Nh),h.simca.q0=new Float64Array(h.simca.q0),h.simca.Nq=new Float64Array(h.simca.Nq),h.simca.Nf=new Float64Array(h.simca.Nf),h.simca.eCrit=new Float64Array(h.simca.eCrit),h.simca.oCrit=new Float64Array(h.simca.oCrit),t(0,s=h.pca),t(1,r=h.simca),t(3,i="success"),t(4,f="")}catch(h){t(0,s=null),t(1,r=null),t(3,i="error"),t(4,f=h)}}function c(g){const h=new FileReader;h.onload=()=>a(h.result),h.readAsBinaryString(o)}function u(){t(2,o=null)}function m(g){o=g,t(2,o)}return l.$$set=g=>{"model"in g&&t(0,s=g.model),"simca"in g&&t(1,r=g.simca)},l.$$.update=()=>{l.$$.dirty&4&&(o===null?(t(0,s=null),t(1,r=null)):(t(3,i="neutral"),t(4,f=""))),l.$$.dirty&4&&t(5,n=o?o.name.replace(/\.[^/.]+$/,""):"")},[s,r,o,i,f,n,c,u,m]}class Ar extends ce{constructor(e){super(),ue(this,e,Pc,Ic,se,{model:0,simca:1})}}const jm="";function Nr(l){let e,t,n,s,r;function o(a){l[14](a)}function i(a){l[15](a)}let f={WASM:l[0],model:l[1],outliers:l[6]};return l[3]!==void 0&&(f.dataset=l[3]),l[4]!==void 0&&(f.pcares=l[4]),t=new wc({props:f}),Z.push(()=>ne(t,"dataset",o)),Z.push(()=>ne(t,"pcares",i)),{c(){e=F("div"),I(t.$$.fragment),_(e,"class","data-loader svelte-1lragme")},m(a,c){y(a,e,c),R(t,e,null),r=!0},p(a,c){const u={};c&1&&(u.WASM=a[0]),c&2&&(u.model=a[1]),c&64&&(u.outliers=a[6]),!n&&c&8&&(n=!0,u.dataset=a[3],le(()=>n=!1)),!s&&c&16&&(s=!0,u.pcares=a[4],le(()=>s=!1)),t.$set(u)},i(a){r||(p(t.$$.fragment,a),r=!0)},o(a){d(t.$$.fragment,a),r=!1},d(a){a&&k(e),O(t)}}}function Mr(l){let e,t,n,s;function r(i){l[16](i)}let o={dataset:l[3]};return l[6]!==void 0&&(o.outliers=l[6]),t=new ir({props:o}),Z.push(()=>ne(t,"outliers",r)),t.$on("resetoutliers",l[8]),{c(){e=F("div"),I(t.$$.fragment),_(e,"class","outliers-pane svelte-1lragme")},m(i,f){y(i,e,f),R(t,e,null),s=!0},p(i,f){const a={};f&8&&(a.dataset=i[3]),!n&&f&64&&(n=!0,a.outliers=i[6],le(()=>n=!1)),t.$set(a)},i(i){s||(p(t.$$.fragment,i),s=!0)},o(i){d(t.$$.fragment,i),s=!1},d(i){i&&k(e),O(t)}}}function Lr(l){let e,t,n,s,r,o;function i(a){l[17](a)}let f={model:l[1]};return l[2]!==void 0&&(f.simca=l[2]),t=new Nn({props:f}),Z.push(()=>ne(t,"simca",i)),r=new J({props:{label:"Download",$$slots:{default:[jc]},$$scope:{ctx:l}}}),{c(){e=F("div"),I(t.$$.fragment),s=V(),I(r.$$.fragment),_(e,"class","simca-settings svelte-1lragme")},m(a,c){y(a,e,c),R(t,e,null),C(e,s),R(r,e,null),o=!0},p(a,c){const u={};c&2&&(u.model=a[1]),!n&&c&4&&(n=!0,u.simca=a[2],le(()=>n=!1)),t.$set(u);const m={};c&1048686&&(m.$$scope={dirty:c,ctx:a}),r.$set(m)},i(a){o||(p(t.$$.fragment,a),p(r.$$.fragment,a),o=!0)},o(a){d(t.$$.fragment,a),d(r.$$.fragment,a),o=!1},d(a){a&&k(e),O(t),O(r)}}}function qc(l){let e;return{c(){e=G("Results")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function Fc(l){let e;return{c(){e=G("Model")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function jc(l){let e,t,n,s,r;return t=new Ue({props:{$$slots:{default:[qc]},$$scope:{ctx:l}}}),t.$on("click",l[18]),s=new Ue({props:{$$slots:{default:[Fc]},$$scope:{ctx:l}}}),s.$on("click",l[19]),{c(){e=F("div"),I(t.$$.fragment),n=V(),I(s.$$.fragment),_(e,"class","buttons svelte-1lragme")},m(o,i){y(o,e,i),R(t,e,null),C(e,n),R(s,e,null),r=!0},p(o,i){const f={};i&1048576&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const a={};i&1048576&&(a.$$scope={dirty:i,ctx:o}),s.$set(a)},i(o){r||(p(t.$$.fragment,o),p(s.$$.fragment,o),r=!0)},o(o){d(t.$$.fragment,o),d(s.$$.fragment,o),r=!1},d(o){o&&k(e),O(t),O(s)}}}function zr(l){let e,t,n;return t=new An({props:{simca:l[2]}}),{c(){e=F("div"),I(t.$$.fragment),_(e,"class","model-stats svelte-1lragme")},m(s,r){y(s,e,r),R(t,e,null),n=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),t.$set(o)},i(s){n||(p(t.$$.fragment,s),n=!0)},o(s){d(t.$$.fragment,s),n=!1},d(s){s&&k(e),O(t)}}}function Sr(l){let e,t,n;return t=new yc({props:{simca:l[2],res:l[5].target}}),{c(){e=F("div"),I(t.$$.fragment),_(e,"class","result-stats svelte-1lragme")},m(s,r){y(s,e,r),R(t,e,null),n=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),r&32&&(o.res=s[5].target),t.$set(o)},i(s){n||(p(t.$$.fragment,s),n=!0)},o(s){d(t.$$.fragment,s),n=!1},d(s){s&&k(e),O(t)}}}function Vc(l){let e=l[3],t,n,s=Tr(l);return{c(){s.c(),t=ee()},m(r,o){s.m(r,o),y(r,t,o),n=!0},p(r,o){o&8&&se(e,e=r[3])?(K(),d(s,1,1,H),X(),s=Tr(r),s.c(),p(s,1),s.m(t.parentNode,t)):s.p(r,o)},i(r){n||(p(s),n=!0)},o(r){d(s),n=!1},d(r){r&&k(t),s.d(r)}}}function Yc(l){let e,t,n;function s(i,f){if(!i[1])return $c;if(!i[3])return Dc}let r=s(l),o=r&&r(l);return{c(){e=F("div"),t=F("p"),t.textContent=`In this tab you can apply previously trained DD-SIMCA model to a dataset consisting of target class members (at least
            the app will assume this, you can of course provide any dataset). You can use it for testing performance
            of the model, or tune its parameters, if necessary.`,n=V(),o&&o.c(),_(t,"class","svelte-1lragme"),_(e,"class","help-text svelte-1lragme")},m(i,f){y(i,e,f),C(e,t),C(e,n),o&&o.m(e,null)},p(i,f){r!==(r=s(i))&&(o&&o.d(1),o=r&&r(i),o&&(o.c(),o.m(e,null)))},i:H,o:H,d(i){i&&k(e),o&&o.d()}}}function Tr(l){let e,t;return e=new Nc({props:{simcares:l[5],simca:l[2]}}),e.$on("setoutlier",l[7]),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&32&&(r.simcares=n[5]),s&4&&(r.simca=n[2]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Dc(l){let e,t,n;return{c(){e=F("p"),e.innerHTML="<strong>Step 2</strong>",t=V(),n=F("p"),n.textContent=`Load data set from CSV file. The requirements to the file are the same as for the
               training set. The data may contain class labels for each row (you need to select this option in settings after selecting CSV file) but it is not necessary, as in any case the labels will be ignored and model will assume that all samples are from the target class.`,_(e,"class","svelte-1lragme"),_(n,"class","svelte-1lragme")},m(s,r){y(s,e,r),y(s,t,r),y(s,n,r)},d(s){s&&(k(e),k(t),k(n))}}}function $c(l){let e,t,n;return{c(){e=F("p"),e.innerHTML="<strong>Step 1</strong>",t=V(),n=F("p"),n.textContent="Load previously trained DD-SIMCA model from file.",_(e,"class","svelte-1lragme"),_(n,"class","svelte-1lragme")},m(s,r){y(s,e,r),y(s,t,r),y(s,n,r)},d(s){s&&(k(e),k(t),k(n))}}}function Bc(l){let e,t,n,s,r,o,i,f,a,c,u,m,g,h,v,w;function b(P){l[12](P)}function E(P){l[13](P)}let T={};l[1]!==void 0&&(T.model=l[1]),l[2]!==void 0&&(T.simca=l[2]),s=new Ar({props:T}),Z.push(()=>ne(s,"model",b)),Z.push(()=>ne(s,"simca",E));let z=l[1]&&Nr(l),A=l[6].length>0&&Mr(l),S=l[1]&&l[2]&&l[3]&&Lr(l),N=l[2]&&l[3]&&zr(l),L=l[5]&&Sr(l);const q=[Yc,Vc],M=[];function j(P,D){return P[4]?1:0}return h=j(l),v=M[h]=q[h](l),{c(){e=F("div"),t=F("div"),n=F("div"),I(s.$$.fragment),i=V(),z&&z.c(),f=V(),A&&A.c(),a=V(),S&&S.c(),c=V(),N&&N.c(),u=V(),L&&L.c(),m=V(),g=F("div"),v.c(),_(n,"class","data-loader svelte-1lragme"),_(t,"class","app-controls svelte-1lragme"),_(g,"class","app-content svelte-1lragme"),_(e,"class","app-container svelte-1lragme")},m(P,D){y(P,e,D),C(e,t),C(t,n),R(s,n,null),C(t,i),z&&z.m(t,null),C(t,f),A&&A.m(t,null),C(t,a),S&&S.m(t,null),C(t,c),N&&N.m(t,null),C(t,u),L&&L.m(t,null),C(e,m),C(e,g),M[h].m(g,null),w=!0},p(P,[D]){const Q={};!r&&D&2&&(r=!0,Q.model=P[1],le(()=>r=!1)),!o&&D&4&&(o=!0,Q.simca=P[2],le(()=>o=!1)),s.$set(Q),P[1]?z?(z.p(P,D),D&2&&p(z,1)):(z=Nr(P),z.c(),p(z,1),z.m(t,f)):z&&(K(),d(z,1,1,()=>{z=null}),X()),P[6].length>0?A?(A.p(P,D),D&64&&p(A,1)):(A=Mr(P),A.c(),p(A,1),A.m(t,a)):A&&(K(),d(A,1,1,()=>{A=null}),X()),P[1]&&P[2]&&P[3]?S?(S.p(P,D),D&14&&p(S,1)):(S=Lr(P),S.c(),p(S,1),S.m(t,c)):S&&(K(),d(S,1,1,()=>{S=null}),X()),P[2]&&P[3]?N?(N.p(P,D),D&12&&p(N,1)):(N=zr(P),N.c(),p(N,1),N.m(t,u)):N&&(K(),d(N,1,1,()=>{N=null}),X()),P[5]?L?(L.p(P,D),D&32&&p(L,1)):(L=Sr(P),L.c(),p(L,1),L.m(t,null)):L&&(K(),d(L,1,1,()=>{L=null}),X());let te=h;h=j(P),h===te?M[h].p(P,D):(K(),d(M[te],1,1,()=>{M[te]=null}),X(),v=M[h],v?v.p(P,D):(v=M[h]=q[h](P),v.c()),p(v,1),v.m(g,null))},i(P){w||(p(s.$$.fragment,P),p(z),p(A),p(S),p(N),p(L),p(v),w=!0)},o(P){d(s.$$.fragment,P),d(z),d(A),d(S),d(N),d(L),d(v),w=!1},d(P){P&&k(e),O(s),z&&z.d(),A&&A.d(),S&&S.d(),N&&N.d(),L&&L.d(),M[h].d()}}}function Wc(l,e,t){let{WASM:n}=e,s,r,o,i,f,a=[],c=[],u,m;function g(N){const L=c[parseInt(N.detail.id)];if(L>=0&&!a.includes(L)&&c.includes(L)){const q=c.findIndex(M=>M===L);if(q<0)return;m&&t(11,m=m.filter((M,j)=>j!==q)),u&&t(10,u=u.filter((M,j)=>j!==q)),t(9,c=c.filter(M=>M!==L)),t(5,f=null),t(4,i=null),t(6,a=[...a,L])}}function h(){t(11,m=o.labels),t(10,u=o.classes),t(9,c=Array(o.values.nrows).fill().map((N,L)=>L)),t(6,a=[])}function v(N){s=N,t(1,s)}function w(N){r=N,t(2,r)}function b(N){o=N,t(3,o),t(1,s)}function E(N){i=N,t(4,i),t(3,o),t(9,c),t(1,s)}function T(N){a=N,t(6,a),t(3,o),t(9,c),t(1,s)}function z(N){r=N,t(2,r)}const A=()=>wn(f.target,o,"target",a),S=()=>vn(s,r);return l.$$set=N=>{"WASM"in N&&t(0,n=N.WASM)},l.$$.update=()=>{l.$$.dirty&2&&s===null&&t(3,o=null),l.$$.dirty&520&&(o===null?(t(4,i=null),t(5,f=null),t(10,u=null),t(11,m=null),t(9,c=[]),t(6,a=[])):o&&c.length===0&&(t(9,c=Array(o.values.nrows).fill().map((N,L)=>L)),t(11,m=o.labels),t(10,u=o.classes))),l.$$.dirty&3100&&(r&&o&&i?t(5,f={target:dn(i,r,u,m)}):t(5,f=null))},[n,s,r,o,i,f,a,g,h,c,u,m,v,w,b,E,T,z,A,S]}let Hc=class extends ce{constructor(e){super(),ue(this,e,Wc,Bc,se,{WASM:0})}};function Gc(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:Jc,then:Zc,catch:Kc,value:22,error:23,blocks:[,,,]};return pt(t=l[7],s),{c(){e=ee(),s.block.c()},m(r,o){y(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o&128&&t!==(t=l[7])&&pt(t,s)||Kt(s,l,o)},i(r){n||(p(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];d(i)}n=!1},d(r){r&&k(e),s.block.d(r),s.token=null,s=null}}}function Uc(l){let e=l[2]===void 0,t,n,s,r=Or(l),o=l[2]&&Ir(l);return{c(){r.c(),t=V(),o&&o.c(),n=ee()},m(i,f){r.m(i,f),y(i,t,f),o&&o.m(i,f),y(i,n,f),s=!0},p(i,f){f&4&&se(e,e=i[2]===void 0)?(K(),d(r,1,1,H),X(),r=Or(i),r.c(),p(r,1),r.m(t.parentNode,t)):r.p(i,f),i[2]?o?(o.p(i,f),f&4&&p(o,1)):(o=Ir(i),o.c(),p(o,1),o.m(n.parentNode,n)):o&&(K(),d(o,1,1,()=>{o=null}),X())},i(i){s||(p(r),p(o),s=!0)},o(i){d(r),d(o),s=!1},d(i){i&&(k(t),k(n)),r.d(i),o&&o.d(i)}}}function Kc(l){let e,t;return e=new J({props:{status:"error",$$slots:{default:[Xc]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&16777344&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Xc(l){let e,t=l[23]+"",n;return{c(){e=F("p"),n=G(t)},m(s,r){y(s,e,r),C(e,n)},p(s,r){r&128&&t!==(t=s[23]+"")&&ae(n,t)},d(s){s&&k(e)}}}function Zc(l){let e,t,n=l[1]!==null&&Rr(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,r){s[1]!==null?n?(n.p(s,r),r&2&&p(n,1)):(n=Rr(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),d(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Rr(l){let e,t;return e=new J({props:{$$slots:{default:[Qc]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&16777217&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Qc(l){let e,t,n=l[0].values.nrows+"",s,r,o=l[0].values.ncols+"",i,f,a,c;return a=new kt({}),a.$on("click",l[12]),{c(){e=F("p"),t=G("Test set is loaded: "),s=G(n),r=G(" × "),i=G(o),f=V(),I(a.$$.fragment)},m(u,m){y(u,e,m),C(e,t),C(e,s),C(e,r),C(e,i),y(u,f,m),R(a,u,m),c=!0},p(u,m){(!c||m&1)&&n!==(n=u[0].values.nrows+"")&&ae(s,n),(!c||m&1)&&o!==(o=u[0].values.ncols+"")&&ae(i,o)},i(u){c||(p(a.$$.fragment,u),c=!0)},o(u){d(a.$$.fragment,u),c=!1},d(u){u&&(k(e),k(f)),O(a,u)}}}function Jc(l){let e,t;return e=new J({props:{$$slots:{default:[xc]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&16777216&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function xc(l){let e,t,n,s;return e=new Jt({}),{c(){I(e.$$.fragment),t=V(),n=F("p"),n.textContent="Loading data and apply model..."},m(r,o){R(e,r,o),y(r,t,o),y(r,n,o),s=!0},p:H,i(r){s||(p(e.$$.fragment,r),s=!0)},o(r){d(e.$$.fragment,r),s=!1},d(r){r&&(k(t),k(n)),O(e,r)}}}function e1(l){let e,t,n;function s(o){l[15](o)}let r={id:"dataFile",message:"Select CSV file with dataset"};return l[2]!==void 0&&(r.file=l[2]),e=new xt({props:r}),Z.push(()=>ne(e,"file",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.file=o[2],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Or(l){let e,t;return e=new J({props:{$$slots:{default:[e1]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&16777220&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Ir(l){let e,t,n,s,r,o,i,f,a,c;return e=new J({props:{label:"Delimiter:",$$slots:{default:[t1]},$$scope:{ctx:l}}}),n=new J({props:{label:"Header:",$$slots:{default:[n1]},$$scope:{ctx:l}}}),r=new J({props:{label:"Row labels:",$$slots:{default:[l1]},$$scope:{ctx:l}}}),i=new J({props:{label:"Class labels:",$$slots:{default:[s1]},$$scope:{ctx:l}}}),a=new J({props:{label:" ",$$slots:{default:[o1]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),t=V(),I(n.$$.fragment),s=V(),I(r.$$.fragment),o=V(),I(i.$$.fragment),f=V(),I(a.$$.fragment)},m(u,m){R(e,u,m),y(u,t,m),R(n,u,m),y(u,s,m),R(r,u,m),y(u,o,m),R(i,u,m),y(u,f,m),R(a,u,m),c=!0},p(u,m){const g={};m&16777224&&(g.$$scope={dirty:m,ctx:u}),e.$set(g);const h={};m&16777232&&(h.$$scope={dirty:m,ctx:u}),n.$set(h);const v={};m&16777248&&(v.$$scope={dirty:m,ctx:u}),r.$set(v);const w={};m&16777280&&(w.$$scope={dirty:m,ctx:u}),i.$set(w);const b={};m&16777216&&(b.$$scope={dirty:m,ctx:u}),a.$set(b)},i(u){c||(p(e.$$.fragment,u),p(n.$$.fragment,u),p(r.$$.fragment,u),p(i.$$.fragment,u),p(a.$$.fragment,u),c=!0)},o(u){d(e.$$.fragment,u),d(n.$$.fragment,u),d(r.$$.fragment,u),d(i.$$.fragment,u),d(a.$$.fragment,u),c=!1},d(u){u&&(k(t),k(s),k(o),k(f)),O(e,u),O(n,u),O(r,u),O(i,u),O(a,u)}}}function t1(l){let e,t,n;function s(o){l[16](o)}let r={id:"sep",options:l[10]};return l[3]!==void 0&&(r.value=l[3]),e=new ve({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function n1(l){let e,t,n;function s(o){l[17](o)}let r={id:"hasHeader",options:["yes","no"]};return l[4]!==void 0&&(r.value=l[4]),e=new ve({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function l1(l){let e,t,n;function s(o){l[18](o)}let r={id:"hasLabels",options:["yes","no"]};return l[5]!==void 0&&(r.value=l[5]),e=new ve({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&32&&(t=!0,f.value=o[5],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function s1(l){let e,t,n;function s(o){l[19](o)}let r={id:"hasLabels",options:["yes","no"]};return l[6]!==void 0&&(r.value=l[6]),e=new ve({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&64&&(t=!0,f.value=o[6],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function r1(l){let e;return{c(){e=G("Load")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function o1(l){let e,t;return e=new Ue({props:{$$slots:{default:[r1]},$$scope:{ctx:l}}}),e.$on("click",l[11]),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&16777216&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Pr(l){let e,t;return e=new J({props:{status:"error",$$slots:{default:[i1]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&16777728&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function i1(l){let e,t;return{c(){e=F("p"),t=G(l[9])},m(n,s){y(n,e,s),C(e,t)},p(n,s){s&512&&ae(t,n[9])},d(n){n&&k(e)}}}function f1(l){let e,t,n,s,r;const o=[Uc,Gc],i=[];function f(c,u){return c[0]?c[7]?1:-1:0}~(e=f(l))&&(t=i[e]=o[e](l));let a=(l[8]==="error"||l[9])&&Pr(l);return{c(){t&&t.c(),n=V(),a&&a.c(),s=ee()},m(c,u){~e&&i[e].m(c,u),y(c,n,u),a&&a.m(c,u),y(c,s,u),r=!0},p(c,[u]){let m=e;e=f(c),e===m?~e&&i[e].p(c,u):(t&&(K(),d(i[m],1,1,()=>{i[m]=null}),X()),~e?(t=i[e],t?t.p(c,u):(t=i[e]=o[e](c),t.c()),p(t,1),t.m(n.parentNode,n)):t=null),c[8]==="error"||c[9]?a?(a.p(c,u),u&768&&p(a,1)):(a=Pr(c),a.c(),p(a,1),a.m(s.parentNode,s)):a&&(K(),d(a,1,1,()=>{a=null}),X())},i(c){r||(p(t),p(a),r=!0)},o(c){d(t),d(a),r=!1},d(c){c&&(k(n),k(s)),~e&&i[e].d(c),a&&a.d(c)}}}function a1(l,e,t){let{WASM:n}=e,{dataset:s}=e,{model:r}=e,{pcares:o}=e,i,f=",",a="yes",c="no",u="no",m,g="neutral",h="";const v=[",",";"];function w(q){t(7,m=n().then(M=>{const j=Qt(M,r,q);t(1,o=j)}).catch(M=>{t(1,o=null),t(8,g="error"),t(9,h=M)}))}function b(q){try{const M=bn(q,f,a==="yes",c==="yes",u==="yes");if(M.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(M.values.ncols!==r.ncols)throw new Error("Dataset has different number of columns than the training set.");t(0,s=M),w(M.values),t(9,h=""),t(8,g="success")}catch(M){t(0,s=null),t(8,g="error"),t(9,h=M)}}function E(q){const M=new FileReader;M.onload=()=>b(M.result),M.readAsBinaryString(i)}function T(){t(2,i=null)}function z(q){i=q,t(2,i)}function A(q){f=q,t(3,f)}function S(q){a=q,t(4,a)}function N(q){c=q,t(5,c)}function L(q){u=q,t(6,u)}return l.$$set=q=>{"WASM"in q&&t(13,n=q.WASM),"dataset"in q&&t(0,s=q.dataset),"model"in q&&t(14,r=q.model),"pcares"in q&&t(1,o=q.pcares)},l.$$.update=()=>{l.$$.dirty&4&&(i===null?t(0,s=null):(t(8,g="neutral"),t(9,h=""))),l.$$.dirty&8&&f&&(t(8,g="neutral"),t(9,h=""))},[s,o,i,f,a,c,u,m,g,h,v,E,T,n,r,z,A,S,N,L]}class u1 extends ce{constructor(e){super(),ue(this,e,a1,f1,se,{WASM:13,dataset:0,model:14,pcares:1})}}function qr(l,e,t){const n=l.slice();return n[33]=e[t],n[35]=t,n}function Fr(l,e,t){const n=l.slice();return n[33]=e[t],n[35]=t,n}function jr(l){let e,t,n,s=ke(l[4]),r=[];for(let i=0;i<s.length;i+=1)r[i]=Vr(Fr(l,s,i));let o=l[0]==="show"&&l[3]&&l[3].length>0&&Yr(l);return{c(){e=_e("g");for(let i=0;i<r.length;i+=1)r[i].c();t=V(),o&&o.c(),n=ee(),_(e,"class","series series_points"),_(e,"title","distance_points"),_(e,"style",l[11])},m(i,f){y(i,e,f);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);y(i,t,f),o&&o.m(i,f),y(i,n,f)},p(i,f){if(f[0]&244){s=ke(i[4]);let a;for(a=0;a<s.length;a+=1){const c=Fr(i,s,a);r[a]?r[a].p(c,f):(r[a]=Vr(c),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=s.length}i[0]==="show"&&i[3]&&i[3].length>0?o?o.p(i,f):(o=Yr(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&(k(e),k(t),k(n)),Ge(r,i),o&&o.d(i)}}}function Vr(l){let e,t,n,s,r;return{c(){e=_e("text"),t=G(l[6]),_(e,"x",n=l[4][l[35]]),_(e,"y",s=l[5][l[35]]),_(e,"stroke",r=l[7][l[2][l[35]]])},m(o,i){y(o,e,i),C(e,t)},p(o,i){i[0]&64&&ae(t,o[6]),i[0]&16&&n!==(n=o[4][o[35]])&&_(e,"x",n),i[0]&32&&s!==(s=o[5][o[35]])&&_(e,"y",s),i[0]&132&&r!==(r=o[7][o[2][o[35]]])&&_(e,"stroke",r)},d(o){o&&k(e)}}}function Yr(l){let e,t=ke(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Dr(qr(l,t,s));return{c(){e=_e("g");for(let s=0;s<n.length;s+=1)n[s].c();_(e,"class","series series_labels"),_(e,"title","distance_labels"),_(e,"style",l[12])},m(s,r){y(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r[0]&56){t=ke(s[4]);let o;for(o=0;o<t.length;o+=1){const i=qr(s,t,o);n[o]?n[o].p(i,r):(n[o]=Dr(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),Ge(n,s)}}}function Dr(l){let e,t=l[3][l[35]]+"",n,s,r;return{c(){e=_e("text"),n=G(t),_(e,"x",s=l[4][l[35]]),_(e,"y",r=l[5][l[35]]),_(e,"dy",-12)},m(o,i){y(o,e,i),C(e,n)},p(o,i){i[0]&8&&t!==(t=o[3][o[35]]+"")&&ae(n,t),i[0]&16&&s!==(s=o[4][o[35]])&&_(e,"x",s),i[0]&32&&r!==(r=o[5][o[35]])&&_(e,"y",r)},d(o){o&&k(e)}}}function c1(l){let e,t=l[1]&&l[4]&&l[5]&&jr(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,s){n[1]&&n[4]&&n[5]?t?t.p(n,s):(t=jr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){n&&k(e),t&&t.d(n)}}}const $r="#a0a0a0";function m1(l,e,t){let n,s,r,o,i,{res:f}=e,{labels:a}=e,{classes:c=[]}=e,{targetClass:u}=e,{colors:m}=e,{transType:g="no"}=e,{distType:h="h/q"}=e,{showLabels:v="hide"}=e,{xMax:w=0}=e,{yMax:b=0}=e;const E=Xe("axes"),T=E.tX;oe(l,T,B=>t(27,o=B));const z=E.tY;oe(l,z,B=>t(26,r=B));const A=E.isOk;oe(l,A,B=>t(1,i=B));let S,N,L,q,M,j,P,D,Q;const te="dominant-baseline:middle;font-size:1em;fill:none;text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;",Y=`dominant-baseline:middle;font-size:0.85em;fill:${$r};text-anchor:middle;cursor:default;stroke:${$r};stroke-width:0.1px;user-select:none;`;return l.$$set=B=>{"res"in B&&t(15,f=B.res),"labels"in B&&t(16,a=B.labels),"classes"in B&&t(17,c=B.classes),"targetClass"in B&&t(18,u=B.targetClass),"colors"in B&&t(19,m=B.colors),"transType"in B&&t(20,g=B.transType),"distType"in B&&t(21,h=B.distType),"showLabels"in B&&t(0,v=B.showLabels),"xMax"in B&&t(13,w=B.xMax),"yMax"in B&&t(14,b=B.yMax)},l.$$.update=()=>{if(l.$$.dirty[0]&524288&&t(7,n={alien:m[0],external:m[1]}),l.$$.dirty[0]&62357504)if(f){const B=f.h.length;if(t(22,S=he.zeros(B)),t(23,N=he.zeros(B)),t(24,L=he.zeros(B)),t(25,q=he.zeros(B)),P=new Int32Array(B),g==="log")for(let ie=0;ie<B;ie++)t(22,S.v[ie]=ie,S),t(23,N.v[ie]=Math.log(1+f.h[ie]/f.h0),N),t(24,L.v[ie]=Math.log(1+f.q[ie]/f.q0),L),t(25,q.v[ie]=Math.log(1+f.f[ie]),q);else for(let ie=0;ie<B;ie++)t(22,S.v[ie]=ie,S),t(23,N.v[ie]=f.h[ie]/f.h0,N),t(24,L.v[ie]=f.q[ie]/f.q0,L),t(25,q.v[ie]=f.f[ie],q);if(c&&c.length===B)for(let ie=0;ie<B;ie++)P[ie]=c[ie]===u?0:1;t(2,M=f.a),t(3,j=a),t(13,w=h==="h/q"?Oe(N):q.length),t(14,b=Oe(h==="h/q"?L:q))}else t(23,N=null),t(24,L=null),t(25,q=null),t(2,M=null),t(3,j=null),P=null;l.$$.dirty[0]&266338306&&i&&N&&L&&q&&(t(4,D=h==="h/q"?E.transform(N,o.coords):E.transform(S,o.coords)),t(5,Q=h==="h/q"?E.transform(L,r.coords):E.transform(q,r.coords)))},t(6,s="■"),[v,i,M,j,D,Q,s,n,T,z,A,te,Y,w,b,f,a,c,u,m,g,h,S,N,L,q,r,o]}class _1 extends ce{constructor(e){super(),ue(this,e,m1,c1,se,{res:15,labels:16,classes:17,targetClass:18,colors:19,transType:20,distType:21,showLabels:0,xMax:13,yMax:14},null,[-1,-1])}}function Br(l,e,t){const n=l.slice();return n[22]=e[t],n[24]=t,n}function Wr(l){let e,t=ke(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Hr(Br(l,t,s));return{c(){e=_e("g");for(let s=0;s<n.length;s+=1)n[s].c();_(e,"class","series colormap_legend"),We(e,"stroke","0"),We(e,"stroke-width","0px")},m(s,r){y(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&123){t=ke(s[1]);let o;for(o=0;o<t.length;o+=1){const i=Br(s,t,o);n[o]?n[o].p(i,r):(n[o]=Hr(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),Ge(n,s)}}}function Hr(l){let e,t,n,s,r=l[0][l[24]]+"",o,i;return{c(){e=_e("rect"),s=_e("text"),_(e,"x",t=l[3][l[24]]),_(e,"y",l[4]),_(e,"width",l[5]),_(e,"height",l[6]),_(e,"fill",n=l[22]),_(s,"x",o=l[3][l[24]]+l[5]/2),_(s,"y",l[4]),_(s,"dx",0),_(s,"dy",i=l[6]*1.5),_(s,"dominant-baseline","hanging"),_(s,"fill",g1),_(s,"font-size",h1+"em"),_(s,"text-anchor","middle")},m(f,a){y(f,e,a),y(f,s,a),s.innerHTML=r},p(f,a){a&8&&t!==(t=f[3][f[24]])&&_(e,"x",t),a&16&&_(e,"y",f[4]),a&32&&_(e,"width",f[5]),a&64&&_(e,"height",f[6]),a&2&&n!==(n=f[22])&&_(e,"fill",n),a&1&&r!==(r=f[0][f[24]]+"")&&(s.innerHTML=r),a&40&&o!==(o=f[3][f[24]]+f[5]/2)&&_(s,"x",o),a&16&&_(s,"y",f[4]),a&64&&i!==(i=f[6]*1.5)&&_(s,"dy",i)},d(f){f&&(k(e),k(s))}}}function p1(l){let e,t=l[2]&&l[3].length>0&&Wr(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[2]&&n[3].length>0?t?t.p(n,s):(t=Wr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){n&&k(e),t&&t.d(n)}}}const g1="#909090",h1=.85,Gr=.8,d1=.02,b1=.25;function w1(l,e,t){let n,s,r,o,i,f,a,{categories:c}=e,{colmap:u}=e,{labels:m}=e;const g={small:5,medium:8,large:10,xlarge:12},h=Xe("axes"),v=h.tX;oe(l,v,q=>t(16,r=q));const w=h.tY;oe(l,w,q=>t(17,o=q));const b=h.xLim;oe(l,b,q=>t(19,f=q));const E=h.yLim;oe(l,E,q=>t(18,i=q));const T=h.scale;oe(l,T,q=>t(15,s=q));const z=h.isOk;oe(l,z,q=>t(2,a=q));let A,S,N,L;return l.$$set=q=>{"categories"in q&&t(13,c=q.categories),"colmap"in q&&t(1,u=q.colmap),"labels"in q&&t(0,m=q.labels)},l.$$.update=()=>{if(l.$$.dirty&2&&t(14,n=u.length),l.$$.dirty&8192&&t(0,m=c?Object.keys(c).map(q=>q+": "+c[q]):null),l.$$.dirty&1032196&&a){const q=f[1]-f[0],M=i[1]-i[0],j=q*Gr,P=M*d1,D=j/n,Q=f[0]+q*(1-Gr)*.5,te=i[1]-P*b1;t(4,S=h.transform(te,o.coords)),t(3,A=h.transform(he.seq(0,n).apply(Y=>Q+Y*D),r.coords)),t(5,N=h.transform([D],r.objects)),t(6,L=g[s]),t(4,S=g[s])}},[m,u,a,A,S,N,L,v,w,b,E,T,z,c,n,s,r,o,i,f]}class v1 extends ce{constructor(e){super(),ue(this,e,w1,p1,se,{categories:13,colmap:1,labels:0})}}function Ur(l){let e,t;return e=new Qe({props:{xValues:l[0].x,yValues:l[0].y,lineColor:y1,lineType:2}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.xValues=n[0].x),s&1&&(r.yValues=n[0].y),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function k1(l){let e,t,n=l[0]&&Ur(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&p(n,1)):(n=Ur(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),d(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}const Kr=100,y1="#909090";function C1(l,e,t){let{simca:n}=e,{transType:s="no"}=e,{distType:r="h/q"}=e,{xMax:o=0}=e,{yMax:i=0}=e;function f(c,u,m,g,h){if(h==="f")return{x:Ie([0,1e3]),y:Ie(g==="log"?[Math.log(1+c),Math.log(1+c)]:[c,c])};const v=c/m,w=-u/m,b=-v/w,E=he.seq(0,b*.999,b/Kr),T=E.apply(z=>z*w+v);return{x:g==="log"?E.apply(z=>Math.log(1+z)):E,y:g==="log"?T.apply(z=>Math.log(1+z)):T}}let a=null;return l.$$set=c=>{"simca"in c&&t(3,n=c.simca),"transType"in c&&t(4,s=c.transType),"distType"in c&&t(5,r=c.distType),"xMax"in c&&t(1,o=c.xMax),"yMax"in c&&t(2,i=c.yMax)},l.$$.update=()=>{if(l.$$.dirty&57)if(n){const c=n.ncomp-1;t(0,a=f(n.eCrit[c],n.Nh[c],n.Nq[c],s,r)),t(1,o=r==="h/q"?a.x.v[Kr-1]:1),t(2,i=a.y.v[0])}else t(0,a=null),t(1,o=1),t(2,i=1)},[a,o,i,n,s,r]}class E1 extends ce{constructor(e){super(),ue(this,e,C1,k1,se,{simca:3,transType:4,distType:5,xMax:1,yMax:2})}}function Xr(l){let e,t;return e=new yt({props:{margins:l[16],xLabel:l[13],yLabel:l[12],limX:l[11],limY:l[10],title:l[14],$$slots:{box:[L1],yaxis:[M1],xaxis:[N1],default:[A1]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&8192&&(r.xLabel=n[13]),s&4096&&(r.yLabel=n[12]),s&2048&&(r.limX=n[11]),s&1024&&(r.limY=n[10]),s&16384&&(r.title=n[14]),s&33588222&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function A1(l){let e,t,n,s,r,o,i,f,a,c;function u(b){l[21](b)}function m(b){l[22](b)}let g={colors:l[17],res:l[15].v[l[5]-1],labels:l[15].labels,classes:l[15].classes,targetClass:l[1].className,distType:l[2],transType:l[3],showLabels:l[4]};l[6]!==void 0&&(g.xMax=l[6]),l[7]!==void 0&&(g.yMax=l[7]),e=new _1({props:g}),Z.push(()=>ne(e,"xMax",u)),Z.push(()=>ne(e,"yMax",m));function h(b){l[23](b)}function v(b){l[24](b)}let w={simca:l[1],transType:l[3],distType:l[2]};return l[8]!==void 0&&(w.xMax=l[8]),l[9]!==void 0&&(w.yMax=l[9]),r=new E1({props:w}),Z.push(()=>ne(r,"xMax",h)),Z.push(()=>ne(r,"yMax",v)),a=new v1({props:{categories:l[15].v[l[5]-1].anum,colmap:l[17]}}),{c(){I(e.$$.fragment),s=V(),I(r.$$.fragment),f=V(),I(a.$$.fragment)},m(b,E){R(e,b,E),y(b,s,E),R(r,b,E),y(b,f,E),R(a,b,E),c=!0},p(b,E){const T={};E&32800&&(T.res=b[15].v[b[5]-1]),E&32768&&(T.labels=b[15].labels),E&32768&&(T.classes=b[15].classes),E&2&&(T.targetClass=b[1].className),E&4&&(T.distType=b[2]),E&8&&(T.transType=b[3]),E&16&&(T.showLabels=b[4]),!t&&E&64&&(t=!0,T.xMax=b[6],le(()=>t=!1)),!n&&E&128&&(n=!0,T.yMax=b[7],le(()=>n=!1)),e.$set(T);const z={};E&2&&(z.simca=b[1]),E&8&&(z.transType=b[3]),E&4&&(z.distType=b[2]),!o&&E&256&&(o=!0,z.xMax=b[8],le(()=>o=!1)),!i&&E&512&&(i=!0,z.yMax=b[9],le(()=>i=!1)),r.$set(z);const A={};E&32800&&(A.categories=b[15].v[b[5]-1].anum),a.$set(A)},i(b){c||(p(e.$$.fragment,b),p(r.$$.fragment,b),p(a.$$.fragment,b),c=!0)},o(b){d(e.$$.fragment,b),d(r.$$.fragment,b),d(a.$$.fragment,b),c=!1},d(b){b&&(k(s),k(f)),O(e,b),O(r,b),O(a,b)}}}function N1(l){let e,t;return e=new Ct({props:{showGrid:Zr,slot:"xaxis"}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:H,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function M1(l){let e,t;return e=new Et({props:{showGrid:Zr,slot:"yaxis"}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:H,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function L1(l){let e,t;return e=new At({props:{slot:"box"}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:H,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function z1(l){let e,t,n=l[15]&&l[0]&&Xr(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[15]&&s[0]?n?(n.p(s,r),r&32769&&p(n,1)):(n=Xr(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),d(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}const Zr=!0;function Mn(l,e){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance"}[l]+", "+(e==="log"?"log(1 + "+l+"/"+l+"0)":l+"/"+l+"0")}function S1(l,e,t){let n,s,r,o,i,f,a,c,{params:u}=e,{simcares:m}=e,{simca:g}=e;const h=[.85,1,.25,.25],v=["#2679B2","#D22C2F"];let w="h/q",b="no",E="no",T=1,z=1,A=1,S=1,N=1;function L(P){z=P,t(6,z)}function q(P){A=P,t(7,A)}function M(P){S=P,t(8,S)}function j(P){N=P,t(9,N)}return l.$$set=P=>{"params"in P&&t(0,u=P.params),"simcares"in P&&t(18,m=P.simcares),"simca"in P&&t(1,g=P.simca)},l.$$.update=()=>{l.$$.dirty&5&&u&&u.distType!==w&&t(2,w=u.distType),l.$$.dirty&9&&u&&u.transType!==b&&t(3,b=u.transType),l.$$.dirty&17&&u&&u.showLabels!==E&&t(4,E=u.showLabels),l.$$.dirty&34&&g&&g.ncomp!==T&&t(5,T=g.ncomp),l.$$.dirty&262144&&t(15,n=m?m[Object.keys(m)[0]]:null),l.$$.dirty&32&&t(14,s="Acceptance plot (A = "+T+")"),l.$$.dirty&12&&t(13,r=w==="f"?"Objects":Mn("h",b)),l.$$.dirty&12&&t(12,o=Mn(w==="h/q"?"q":"f",b)),l.$$.dirty&320&&t(20,i=Oe([z,S])),l.$$.dirty&640&&t(19,f=Oe([A,N])),l.$$.dirty&1048576&&t(11,a=[-.02*i,1.05*i]),l.$$.dirty&524288&&t(10,c=[-.02*f,1.2*f])},[u,g,w,b,E,T,z,A,S,N,c,a,o,r,s,n,h,v,m,f,i,L,q,M,j]}class T1 extends ce{constructor(e){super(),ue(this,e,S1,z1,se,{params:0,simcares:18,simca:1})}}function Qr(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o,i,f,a,c;e=new J({props:{label:"",$$slots:{default:[R1]},$$scope:{ctx:l}}});let u=n&&Jr(l);return r=new J({props:{label:"Distances:",$$slots:{default:[I1]},$$scope:{ctx:l}}}),i=new J({props:{label:"Transform:",$$slots:{default:[P1]},$$scope:{ctx:l}}}),a=new J({props:{label:"Labels:",$$slots:{default:[q1]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),t=V(),u&&u.c(),s=V(),I(r.$$.fragment),o=V(),I(i.$$.fragment),f=V(),I(a.$$.fragment)},m(m,g){R(e,m,g),y(m,t,g),u&&u.m(m,g),y(m,s,g),R(r,m,g),y(m,o,g),R(i,m,g),y(m,f,g),R(a,m,g),c=!0},p(m,g){const h={};g&1024&&(h.$$scope={dirty:g,ctx:m}),e.$set(h),g&1&&(n=Object.keys(m[0]).length>1),n?u?(u.p(m,g),g&1&&p(u,1)):(u=Jr(m),u.c(),p(u,1),u.m(s.parentNode,s)):u&&(K(),d(u,1,1,()=>{u=null}),X());const v={};g&1026&&(v.$$scope={dirty:g,ctx:m}),r.$set(v);const w={};g&1028&&(w.$$scope={dirty:g,ctx:m}),i.$set(w);const b={};g&1032&&(b.$$scope={dirty:g,ctx:m}),a.$set(b)},i(m){c||(p(e.$$.fragment,m),p(u),p(r.$$.fragment,m),p(i.$$.fragment,m),p(a.$$.fragment,m),c=!0)},o(m){d(e.$$.fragment,m),d(u),d(r.$$.fragment,m),d(i.$$.fragment,m),d(a.$$.fragment,m),c=!1},d(m){m&&(k(t),k(s),k(o),k(f)),O(e,m),u&&u.d(m),O(r,m),O(i,m),O(a,m)}}}function R1(l){let e;return{c(){e=F("p"),e.textContent="Acceptance plot",_(e,"class","title")},m(t,n){y(t,e,n)},p:H,d(t){t&&k(e)}}}function Jr(l){let e,t;return e=new J({props:{label:"Results:",$$slots:{default:[O1]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1041&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function O1(l){let e,t,n;function s(o){l[6](o)}let r={id:"resType",options:Object.keys(l[0])};return l[4]!==void 0&&(r.value=l[4]),e=new ve({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&16&&(t=!0,f.value=o[4],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function I1(l){let e,t,n;function s(o){l[7](o)}let r={id:"distances",options:["h/q","f"]};return l[1]!==void 0&&(r.value=l[1]),e=new ve({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function P1(l){let e,t,n;function s(o){l[8](o)}let r={id:"limType",options:["no","log"]};return l[2]!==void 0&&(r.value=l[2]),e=new ve({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function q1(l){let e,t,n;function s(o){l[9](o)}let r={id:"showLabels",options:["hide","show"]};return l[3]!==void 0&&(r.value=l[3]),e=new ve({props:r}),Z.push(()=>ne(e,"value",s)),{c(){I(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],le(()=>t=!1)),e.$set(f)},i(o){n||(p(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function F1(l){let e,t,n=l[0]&&Qr(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&p(n,1)):(n=Qr(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),d(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function j1(l,e,t){let{params:n}=e,{simcares:s}=e,r="h/q",o="no",i="hide",f=s?Object.keys(s)[0]:"";function a(g){f=g,t(4,f)}function c(g){r=g,t(1,r)}function u(g){o=g,t(2,o)}function m(g){i=g,t(3,i)}return l.$$set=g=>{"params"in g&&t(5,n=g.params),"simcares"in g&&t(0,s=g.simcares)},l.$$.update=()=>{l.$$.dirty&30&&t(5,n={distType:r,transType:o,showLabels:i,resID:f})},[s,r,o,i,f,n,a,c,u,m]}class V1 extends ce{constructor(e){super(),ue(this,e,j1,F1,se,{params:5,simcares:0})}}function Y1(l){let e,t;return e=new yn({props:{simcares:l[0],simca:l[1],options:l[2]}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.simcares=n[0]),s&2&&(r.simca=n[1]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function D1(l){let e,t,n=l[2]&&Y1(l);return{c(){n&&n.c(),e=ee()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[2]&&n.p(s,r)},i(s){t||(p(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function $1(l,e,t){let{simcares:n}=e,{simca:s}=e,r=[{label:"Acceptance",plotComponent:T1,controlsComponent:V1},{label:"Specificity",plotComponent:Cu,controlsComponent:zu},{label:"Aliens",plotComponent:Ca,controlsComponent:La}];return l.$$set=o=>{"simcares"in o&&t(0,n=o.simcares),"simca"in o&&t(1,s=o.simca)},[n,s,r]}class B1 extends ce{constructor(e){super(),ue(this,e,$1,D1,se,{simcares:0,simca:1})}}const Vm="";function xr(l){let e,t,n,s,r,o,i,f=l[0].nrows+"",a,c,u,m,g,h,v=l[1].dnum.in+"",w,b,E,T,z,A,S=l[1].dnum.out+"",N,L,q,M,j,P,D=l[1].anum.aliens+"",Q,te,Y,B,ie,fe,ge=l[1].anum.external+"",de,we,Ee,Re,Fe,$e,ze=l[1].stat.specificity.toFixed(2)+"",je,He,Ve,Ae,Ye,nt,Je=l[1].beta.toFixed(3)+"",lt;return{c(){e=F("table"),t=F("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Target</th>',n=V(),s=F("tr"),r=F("td"),r.textContent="Objects",o=V(),i=F("td"),a=G(f),c=V(),u=F("tr"),m=F("td"),m.textContent="In",g=V(),h=F("td"),w=G(v),b=V(),E=F("tr"),T=F("td"),T.textContent="Out",z=V(),A=F("td"),N=G(S),L=V(),q=F("tr"),M=F("td"),M.textContent="Aliens",j=V(),P=F("td"),Q=G(D),te=V(),Y=F("tr"),B=F("td"),B.textContent="External",ie=V(),fe=F("td"),de=G(ge),we=V(),Ee=F("tr"),Re=F("td"),Re.textContent="Specificity",Fe=V(),$e=F("td"),je=G(ze),He=V(),Ve=F("tr"),Ae=F("td"),Ae.textContent="Beta",Ye=V(),nt=F("td"),lt=G(Je),_(t,"class","svelte-kg0b31"),_(r,"class","label svelte-kg0b31"),_(i,"class","svelte-kg0b31"),_(s,"class","svelte-kg0b31"),_(m,"class","label svelte-kg0b31"),_(h,"class","svelte-kg0b31"),_(u,"class","svelte-kg0b31"),_(T,"class","label svelte-kg0b31"),_(A,"class","svelte-kg0b31"),_(E,"class","svelte-kg0b31"),_(M,"class","label svelte-kg0b31"),_(P,"class","svelte-kg0b31"),_(q,"class","svelte-kg0b31"),_(B,"class","label svelte-kg0b31"),_(fe,"class","svelte-kg0b31"),_(Y,"class","svelte-kg0b31"),_(Re,"class","label svelte-kg0b31"),_($e,"class","svelte-kg0b31"),_(Ee,"class","svelte-kg0b31"),_(Ae,"class","label svelte-kg0b31"),_(nt,"class","svelte-kg0b31"),_(Ve,"class","svelte-kg0b31"),_(e,"class","svelte-kg0b31")},m(U,pe){y(U,e,pe),C(e,t),C(e,n),C(e,s),C(s,r),C(s,o),C(s,i),C(i,a),C(e,c),C(e,u),C(u,m),C(u,g),C(u,h),C(h,w),C(e,b),C(e,E),C(E,T),C(E,z),C(E,A),C(A,N),C(e,L),C(e,q),C(q,M),C(q,j),C(q,P),C(P,Q),C(e,te),C(e,Y),C(Y,B),C(Y,ie),C(Y,fe),C(fe,de),C(e,we),C(e,Ee),C(Ee,Re),C(Ee,Fe),C(Ee,$e),C($e,je),C(e,He),C(e,Ve),C(Ve,Ae),C(Ve,Ye),C(Ve,nt),C(nt,lt)},p(U,pe){pe&1&&f!==(f=U[0].nrows+"")&&ae(a,f),pe&2&&v!==(v=U[1].dnum.in+"")&&ae(w,v),pe&2&&S!==(S=U[1].dnum.out+"")&&ae(N,S),pe&2&&D!==(D=U[1].anum.aliens+"")&&ae(Q,D),pe&2&&ge!==(ge=U[1].anum.external+"")&&ae(de,ge),pe&2&&ze!==(ze=U[1].stat.specificity.toFixed(2)+"")&&ae(je,ze),pe&2&&Je!==(Je=U[1].beta.toFixed(3)+"")&&ae(lt,Je)},d(U){U&&k(e)}}}function W1(l){let e,t=l[1]&&xr(l);return{c(){t&&t.c(),e=ee()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[1]?t?t.p(n,s):(t=xr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){n&&k(e),t&&t.d(n)}}}function H1(l,e,t){let n,s,{res:r}=e,{simca:o}=e;return l.$$set=i=>{"res"in i&&t(0,r=i.res),"simca"in i&&t(2,o=i.simca)},l.$$.update=()=>{l.$$.dirty&4&&t(3,n=o?o.ncomp:null),l.$$.dirty&9&&t(1,s=n?r.v[n-1]:null)},[r,s,o,n]}class G1 extends ce{constructor(e){super(),ue(this,e,H1,W1,se,{res:0,simca:2})}}const Ym="";function eo(l){let e,t,n,s,r;function o(a){l[8](a)}function i(a){l[9](a)}let f={WASM:l[0],model:l[1]};return l[3]!==void 0&&(f.dataset=l[3]),l[4]!==void 0&&(f.pcares=l[4]),t=new u1({props:f}),Z.push(()=>ne(t,"dataset",o)),Z.push(()=>ne(t,"pcares",i)),{c(){e=F("div"),I(t.$$.fragment),_(e,"class","data-loader svelte-1lragme")},m(a,c){y(a,e,c),R(t,e,null),r=!0},p(a,c){const u={};c&1&&(u.WASM=a[0]),c&2&&(u.model=a[1]),!n&&c&8&&(n=!0,u.dataset=a[3],le(()=>n=!1)),!s&&c&16&&(s=!0,u.pcares=a[4],le(()=>s=!1)),t.$set(u)},i(a){r||(p(t.$$.fragment,a),r=!0)},o(a){d(t.$$.fragment,a),r=!1},d(a){a&&k(e),O(t)}}}function to(l){let e,t,n,s,r,o;function i(a){l[10](a)}let f={model:l[1]};return l[2]!==void 0&&(f.simca=l[2]),t=new Nn({props:f}),Z.push(()=>ne(t,"simca",i)),r=new J({props:{label:"Download",$$slots:{default:[X1]},$$scope:{ctx:l}}}),{c(){e=F("div"),I(t.$$.fragment),s=V(),I(r.$$.fragment),_(e,"class","simca-settings svelte-1lragme")},m(a,c){y(a,e,c),R(t,e,null),C(e,s),R(r,e,null),o=!0},p(a,c){const u={};c&2&&(u.model=a[1]),!n&&c&4&&(n=!0,u.simca=a[2],le(()=>n=!1)),t.$set(u);const m={};c&8238&&(m.$$scope={dirty:c,ctx:a}),r.$set(m)},i(a){o||(p(t.$$.fragment,a),p(r.$$.fragment,a),o=!0)},o(a){d(t.$$.fragment,a),d(r.$$.fragment,a),o=!1},d(a){a&&k(e),O(t),O(r)}}}function U1(l){let e;return{c(){e=G("Results")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function K1(l){let e;return{c(){e=G("Model")},m(t,n){y(t,e,n)},d(t){t&&k(e)}}}function X1(l){let e,t,n,s,r;return t=new Ue({props:{$$slots:{default:[U1]},$$scope:{ctx:l}}}),t.$on("click",l[11]),s=new Ue({props:{$$slots:{default:[K1]},$$scope:{ctx:l}}}),s.$on("click",l[12]),{c(){e=F("div"),I(t.$$.fragment),n=V(),I(s.$$.fragment),_(e,"class","buttons svelte-1lragme")},m(o,i){y(o,e,i),R(t,e,null),C(e,n),R(s,e,null),r=!0},p(o,i){const f={};i&8192&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const a={};i&8192&&(a.$$scope={dirty:i,ctx:o}),s.$set(a)},i(o){r||(p(t.$$.fragment,o),p(s.$$.fragment,o),r=!0)},o(o){d(t.$$.fragment,o),d(s.$$.fragment,o),r=!1},d(o){o&&k(e),O(t),O(s)}}}function no(l){let e,t,n;return t=new An({props:{simca:l[2]}}),{c(){e=F("div"),I(t.$$.fragment),_(e,"class","model-stats svelte-1lragme")},m(s,r){y(s,e,r),R(t,e,null),n=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),t.$set(o)},i(s){n||(p(t.$$.fragment,s),n=!0)},o(s){d(t.$$.fragment,s),n=!1},d(s){s&&k(e),O(t)}}}function lo(l){let e,t,n;return t=new G1({props:{simca:l[2],res:l[5].alt}}),{c(){e=F("div"),I(t.$$.fragment),_(e,"class","result-stats svelte-1lragme")},m(s,r){y(s,e,r),R(t,e,null),n=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),r&32&&(o.res=s[5].alt),t.$set(o)},i(s){n||(p(t.$$.fragment,s),n=!0)},o(s){d(t.$$.fragment,s),n=!1},d(s){s&&k(e),O(t)}}}function Z1(l){let e=l[3],t,n,s=so(l);return{c(){s.c(),t=ee()},m(r,o){s.m(r,o),y(r,t,o),n=!0},p(r,o){o&8&&se(e,e=r[3])?(K(),d(s,1,1,H),X(),s=so(r),s.c(),p(s,1),s.m(t.parentNode,t)):s.p(r,o)},i(r){n||(p(s),n=!0)},o(r){d(s),n=!1},d(r){r&&k(t),s.d(r)}}}function Q1(l){let e,t,n;function s(i,f){if(!i[1])return x1;if(!i[3])return J1}let r=s(l),o=r&&r(l);return{c(){e=F("div"),t=F("p"),t.textContent="In this tab you can apply previously trained DD-SIMCA model to a dataset consisting of non-target (alternative) class members (at least the app will assume this, you can of course provide any dataset). You can use it for testing performance of the model on the alternative classes, or tune its parameters, if necessary.",n=V(),o&&o.c(),_(t,"class","svelte-1lragme"),_(e,"class","help-text svelte-1lragme")},m(i,f){y(i,e,f),C(e,t),C(e,n),o&&o.m(e,null)},p(i,f){r!==(r=s(i))&&(o&&o.d(1),o=r&&r(i),o&&(o.c(),o.m(e,null)))},i:H,o:H,d(i){i&&k(e),o&&o.d()}}}function so(l){let e,t;return e=new B1({props:{simcares:l[5],simca:l[2]}}),{c(){I(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&32&&(r.simcares=n[5]),s&4&&(r.simca=n[2]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function J1(l){let e,t,n;return{c(){e=F("p"),e.innerHTML="<strong>Step 2</strong>",t=V(),n=F("p"),n.textContent=`Load data set from CSV file. The requirements to the file are the same as for the
               training set. The data may contain class labels for each row (you need to select this option in settings after selecting CSV file) but it is not necessary, as in any case the labels will be ignored and model will assume that all samples are from non-target classes.`,_(e,"class","svelte-1lragme"),_(n,"class","svelte-1lragme")},m(s,r){y(s,e,r),y(s,t,r),y(s,n,r)},d(s){s&&(k(e),k(t),k(n))}}}function x1(l){let e,t,n;return{c(){e=F("p"),e.innerHTML="<strong>Step 1</strong>",t=V(),n=F("p"),n.textContent="Load previously trained DD-SIMCA model from file.",_(e,"class","svelte-1lragme"),_(n,"class","svelte-1lragme")},m(s,r){y(s,e,r),y(s,t,r),y(s,n,r)},d(s){s&&(k(e),k(t),k(n))}}}function em(l){let e,t,n,s,r,o,i,f,a,c,u,m,g,h,v;function w(M){l[6](M)}function b(M){l[7](M)}let E={};l[1]!==void 0&&(E.model=l[1]),l[2]!==void 0&&(E.simca=l[2]),s=new Ar({props:E}),Z.push(()=>ne(s,"model",w)),Z.push(()=>ne(s,"simca",b));let T=l[1]&&eo(l),z=l[1]&&l[2]&&l[3]&&to(l),A=l[2]&&l[3]&&no(l),S=l[5]&&lo(l);const N=[Q1,Z1],L=[];function q(M,j){return M[4]?1:0}return g=q(l),h=L[g]=N[g](l),{c(){e=F("div"),t=F("div"),n=F("div"),I(s.$$.fragment),i=V(),T&&T.c(),f=V(),z&&z.c(),a=V(),A&&A.c(),c=V(),S&&S.c(),u=V(),m=F("div"),h.c(),_(n,"class","data-loader svelte-1lragme"),_(t,"class","app-controls svelte-1lragme"),_(m,"class","app-content svelte-1lragme"),_(e,"class","app-container svelte-1lragme")},m(M,j){y(M,e,j),C(e,t),C(t,n),R(s,n,null),C(t,i),T&&T.m(t,null),C(t,f),z&&z.m(t,null),C(t,a),A&&A.m(t,null),C(t,c),S&&S.m(t,null),C(e,u),C(e,m),L[g].m(m,null),v=!0},p(M,[j]){const P={};!r&&j&2&&(r=!0,P.model=M[1],le(()=>r=!1)),!o&&j&4&&(o=!0,P.simca=M[2],le(()=>o=!1)),s.$set(P),M[1]?T?(T.p(M,j),j&2&&p(T,1)):(T=eo(M),T.c(),p(T,1),T.m(t,f)):T&&(K(),d(T,1,1,()=>{T=null}),X()),M[1]&&M[2]&&M[3]?z?(z.p(M,j),j&14&&p(z,1)):(z=to(M),z.c(),p(z,1),z.m(t,a)):z&&(K(),d(z,1,1,()=>{z=null}),X()),M[2]&&M[3]?A?(A.p(M,j),j&12&&p(A,1)):(A=no(M),A.c(),p(A,1),A.m(t,c)):A&&(K(),d(A,1,1,()=>{A=null}),X()),M[5]?S?(S.p(M,j),j&32&&p(S,1)):(S=lo(M),S.c(),p(S,1),S.m(t,null)):S&&(K(),d(S,1,1,()=>{S=null}),X());let D=g;g=q(M),g===D?L[g].p(M,j):(K(),d(L[D],1,1,()=>{L[D]=null}),X(),h=L[g],h?h.p(M,j):(h=L[g]=N[g](M),h.c()),p(h,1),h.m(m,null))},i(M){v||(p(s.$$.fragment,M),p(T),p(z),p(A),p(S),p(h),v=!0)},o(M){d(s.$$.fragment,M),d(T),d(z),d(A),d(S),d(h),v=!1},d(M){M&&k(e),O(s),T&&T.d(),z&&z.d(),A&&A.d(),S&&S.d(),L[g].d()}}}function tm(l,e,t){let{WASM:n}=e,s,r,o,i,f;function a(w){s=w,t(1,s)}function c(w){r=w,t(2,r)}function u(w){o=w,t(3,o),t(1,s)}function m(w){i=w,t(4,i),t(3,o),t(1,s)}function g(w){r=w,t(2,r)}const h=()=>wn(f.alt,o,"alt",[]),v=()=>vn(s,r);return l.$$set=w=>{"WASM"in w&&t(0,n=w.WASM)},l.$$.update=()=>{l.$$.dirty&2&&s===null&&t(3,o=null),l.$$.dirty&8&&o===null&&(t(4,i=null),t(5,f=null)),l.$$.dirty&28&&(r&&o&&i?t(5,f={alt:Do(i,o,r,r.className)}):t(5,f=null))},[n,s,r,o,i,f,a,c,u,m,g,h,v]}class nm extends ce{constructor(e){super(),ue(this,e,tm,em,se,{WASM:0})}}const lm="modulepreload",sm=function(l){return"/"+l},ro={},rm=function(e,t,n){return e()};var Ln=(()=>{var l=tt&&tt.src||new URL("ddsimca.js",document.baseURI).href;return async function(e={}){var t=e,n,s;t.ready=new Promise(($,W)=>{n=$,s=W});var r=Object.assign({},t),o=typeof window=="object",i=typeof importScripts=="function",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",a="";function c($){return t.locateFile?t.locateFile($,a):a+$}var u,m,g;if(f){const{createRequire:$}=await rm(()=>Promise.resolve().then(()=>am),void 0);var h=$(tt&&tt.src||new URL("ddsimca.js",document.baseURI).href),v=h("fs"),w=h("path");i?a=w.dirname(a)+"/":a=h("url").fileURLToPath(new URL("./",self.location)),u=(W,re)=>(W=Re(W)?new URL(W):w.normalize(W),v.readFileSync(W,re?void 0:"utf8")),g=W=>{var re=u(W,!0);return re.buffer||(re=new Uint8Array(re)),re},m=(W,re,me,Se=!0)=>{W=Re(W)?new URL(W):w.normalize(W),v.readFile(W,Se?void 0:"utf8",(Ce,ye)=>{Ce?me(Ce):re(Se?ye.buffer:ye)})},!t.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),t.inspect=()=>"[Emscripten Module object]"}else(o||i)&&(i?a=self.location.href:typeof document<"u"&&document.currentScript&&(a=document.currentScript.src),l&&(a=l),a.indexOf("blob:")!==0?a=a.substr(0,a.replace(/[?#].*/,"").lastIndexOf("/")+1):a="",u=$=>{var W=new XMLHttpRequest;return W.open("GET",$,!1),W.send(null),W.responseText},i&&(g=$=>{var W=new XMLHttpRequest;return W.open("GET",$,!1),W.responseType="arraybuffer",W.send(null),new Uint8Array(W.response)}),m=($,W,re)=>{var me=new XMLHttpRequest;me.open("GET",$,!0),me.responseType="arraybuffer",me.onload=()=>{if(me.status==200||me.status==0&&me.response){W(me.response);return}re()},me.onerror=re,me.send(null)});t.print||console.log.bind(console);var b=t.printErr||console.error.bind(console);Object.assign(t,r),r=null,t.arguments&&t.arguments,t.thisProgram&&t.thisProgram,t.quit&&t.quit;var E;t.wasmBinary&&(E=t.wasmBinary),t.noExitRuntime,typeof WebAssembly!="object"&&de("no native wasm support detected");var T,z=!1,A,S;function N(){var $=T.buffer;t.HEAP8=A=new Int8Array($),t.HEAP16=new Int16Array($),t.HEAPU8=S=new Uint8Array($),t.HEAPU16=new Uint16Array($),t.HEAP32=new Int32Array($),t.HEAPU32=new Uint32Array($),t.HEAPF32=new Float32Array($),t.HEAPF64=new Float64Array($)}var L=[],q=[],M=[];function j(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)Q(t.preRun.shift());Ae(L)}function P(){Ae(q)}function D(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)Y(t.postRun.shift());Ae(M)}function Q($){L.unshift($)}function te($){q.unshift($)}function Y($){M.unshift($)}var B=0,ie=null;function fe($){B++,t.monitorRunDependencies&&t.monitorRunDependencies(B)}function ge($){if(B--,t.monitorRunDependencies&&t.monitorRunDependencies(B),B==0&&ie){var W=ie;ie=null,W()}}function de($){t.onAbort&&t.onAbort($),$="Aborted("+$+")",b($),z=!0,$+=". Build with -sASSERTIONS for more info.";var W=new WebAssembly.RuntimeError($);throw s(W),W}var we="data:application/octet-stream;base64,";function Ee($){return $.startsWith(we)}function Re($){return $.startsWith("file://")}var Fe;t.locateFile?(Fe="/ddsimca_alpha/ddsimca.wasm",Ee(Fe)||(Fe=c(Fe))):Fe=new URL("/ddsimca_alpha/ddsimca.wasm",self.location).href;function $e($){if($==Fe&&E)return new Uint8Array(E);if(g)return g($);throw"both async and sync fetching of the wasm failed"}function ze($){if(!E&&(o||i)){if(typeof fetch=="function"&&!Re($))return fetch($,{credentials:"same-origin"}).then(W=>{if(!W.ok)throw"failed to load wasm binary file at '"+$+"'";return W.arrayBuffer()}).catch(()=>$e($));if(m)return new Promise((W,re)=>{m($,me=>W(new Uint8Array(me)),re)})}return Promise.resolve().then(()=>$e($))}function je($,W,re){return ze($).then(me=>WebAssembly.instantiate(me,W)).then(me=>me).then(re,me=>{b(`failed to asynchronously prepare wasm: ${me}`),de(me)})}function He($,W,re,me){return!$&&typeof WebAssembly.instantiateStreaming=="function"&&!Ee(W)&&!Re(W)&&!f&&typeof fetch=="function"?fetch(W,{credentials:"same-origin"}).then(Se=>{var Ce=WebAssembly.instantiateStreaming(Se,re);return Ce.then(me,function(ye){return b(`wasm streaming compile failed: ${ye}`),b("falling back to ArrayBuffer instantiation"),je(W,re,me)})}):je(W,re,me)}function Ve(){var $={a:pm};function W(me,Se){var Ce=me.exports;return st=Ce,T=st.d,N(),st.k,te(st.e),ge(),Ce}fe();function re(me){W(me.instance)}if(t.instantiateWasm)try{return t.instantiateWasm($,W)}catch(me){b(`Module.instantiateWasm callback failed with error: ${me}`),s(me)}return He(E,Fe,$,re).catch(s),{}}var Ae=$=>{for(;$.length>0;)$.shift()(t)},Ye=()=>Date.now(),nt=($,W,re)=>S.copyWithin($,W,W+re),Je=()=>2147483648,lt=$=>{var W=T.buffer,re=($-W.byteLength+65535)/65536;try{return T.grow(re),N(),1}catch{}},U=$=>{var W=S.length;$>>>=0;var re=Je();if($>re)return!1;for(var me=(Ke,xe)=>Ke+(xe-Ke%xe)%xe,Se=1;Se<=4;Se*=2){var Ce=W*(1+.2/Se);Ce=Math.min(Ce,$+100663296);var ye=Math.min(re,me(Math.max($,Ce),65536)),Ne=lt(ye);if(Ne)return!0}return!1},pe=$=>{var W=t["_"+$];return W},Te=($,W)=>{A.set($,W)},en=$=>{for(var W=0,re=0;re<$.length;++re){var me=$.charCodeAt(re);me<=127?W++:me<=2047?W+=2:me>=55296&&me<=57343?(W+=4,++re):W+=3}return W},Dt=($,W,re,me)=>{if(!(me>0))return 0;for(var Se=re,Ce=re+me-1,ye=0;ye<$.length;++ye){var Ne=$.charCodeAt(ye);if(Ne>=55296&&Ne<=57343){var Ke=$.charCodeAt(++ye);Ne=65536+((Ne&1023)<<10)|Ke&1023}if(Ne<=127){if(re>=Ce)break;W[re++]=Ne}else if(Ne<=2047){if(re+1>=Ce)break;W[re++]=192|Ne>>6,W[re++]=128|Ne&63}else if(Ne<=65535){if(re+2>=Ce)break;W[re++]=224|Ne>>12,W[re++]=128|Ne>>6&63,W[re++]=128|Ne&63}else{if(re+3>=Ce)break;W[re++]=240|Ne>>18,W[re++]=128|Ne>>12&63,W[re++]=128|Ne>>6&63,W[re++]=128|Ne&63}}return W[re]=0,re-Se},io=($,W,re)=>Dt($,S,W,re),um=$=>{var W=en($)+1,re=zn(W);return io($,re,W),re},fo=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,cm=($,W,re)=>{for(var me=W+re,Se=W;$[Se]&&!(Se>=me);)++Se;if(Se-W>16&&$.buffer&&fo)return fo.decode($.subarray(W,Se));for(var Ce="";W<Se;){var ye=$[W++];if(!(ye&128)){Ce+=String.fromCharCode(ye);continue}var Ne=$[W++]&63;if((ye&224)==192){Ce+=String.fromCharCode((ye&31)<<6|Ne);continue}var Ke=$[W++]&63;if((ye&240)==224?ye=(ye&15)<<12|Ne<<6|Ke:ye=(ye&7)<<18|Ne<<12|Ke<<6|$[W++]&63,ye<65536)Ce+=String.fromCharCode(ye);else{var xe=ye-65536;Ce+=String.fromCharCode(55296|xe>>10,56320|xe&1023)}}return Ce},mm=($,W)=>$?cm(S,$,W):"",_m=($,W,re,me,Se)=>{var Ce={string:et=>{var Bt=0;return et!=null&&et!==0&&(Bt=um(et)),Bt},array:et=>{var Bt=zn(et.length);return Te(et,Bt),Bt}};function ye(et){return W==="string"?mm(et):W==="boolean"?!!et:et}var Ne=pe($),Ke=[],xe=0;if(me)for(var mt=0;mt<me.length;mt++){var nn=Ce[re[mt]];nn?(xe===0&&(xe=ao()),Ke[mt]=nn(me[mt])):Ke[mt]=me[mt]}var $t=Ne.apply(null,Ke);function gm(et){return xe!==0&&uo(xe),ye(et)}return $t=gm($t),$t},pm={b:Ye,c:nt,a:U},st=Ve();t._pcafit_wasm=($,W,re,me,Se,Ce,ye,Ne,Ke)=>(t._pcafit_wasm=st.f)($,W,re,me,Se,Ce,ye,Ne,Ke),t._malloc=$=>(t._malloc=st.g)($),t._free=$=>(t._free=st.h)($),t._pcapredict_wasm=($,W,re,me,Se,Ce,ye)=>(t._pcapredict_wasm=st.i)($,W,re,me,Se,Ce,ye),t._pcvpca_wasm=($,W,re,me,Se,Ce,ye,Ne,Ke,xe,mt,nn,$t)=>(t._pcvpca_wasm=st.j)($,W,re,me,Se,Ce,ye,Ne,Ke,xe,mt,nn,$t);var ao=()=>(ao=st.l)(),uo=$=>(uo=st.m)($),zn=$=>(zn=st.n)($);t.ccall=_m;var tn;ie=function $(){tn||co(),tn||(ie=$)};function co(){if(B>0||(j(),B>0))return;function $(){tn||(tn=!0,t.calledRun=!0,!z&&(P(),n(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),D()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),$()},1)):$()}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return co(),e.ready}})();const Dm="";function oo(l){let e,t,n,s,r,o,i,f,a,c,u,m,g,h,v,w,b,E,T,z,A,S,N,L,q;return{c(){e=F("div"),t=F("div"),n=F("button"),n.textContent="✕",s=V(),r=F("h2"),r.textContent="Data Driven SIMCA",o=V(),i=F("p"),i.innerHTML="Authors: <em>Sergey Kucheryavskiy, Oxana Rodionova, Alexey Pomerantsev</em>",f=V(),a=F("p"),a.textContent=`Interactive web-application for creating and using DD-SIMCA one class classifier
            directly in your browser. The app does not send any information to the server,
            all calculations are done locally on your device.`,c=V(),u=F("p"),u.innerHTML=`All related theory can be found in:
            <a href="https://doi.org/10.1002/cem.2506" class="svelte-zx03ih">10.1002/cem.2506</a>,
            <a href="https://doi.org/10.1002/cem.2610" class="svelte-zx03ih">10.1002/cem.2610</a>,
            <a href="https://doi.org/10.1002/cem.3250" class="svelte-zx03ih">10.1002/cem.3250</a>.`,m=V(),g=F("h3"),g.textContent="v. 0.7.x",h=V(),v=F("ul"),v.innerHTML='<li class="svelte-zx03ih"><span class="svelte-zx03ih">27/01/24</span> added option <em>Zoom</em> for sensitivity and specificity plots</li> <li class="svelte-zx03ih"><span class="svelte-zx03ih">23/01/24</span> fixed a bug in <em>Aliens plot</em></li>',w=V(),b=F("h3"),b.textContent="v. 0.7.0",E=V(),T=F("p"),T.textContent="released 23/01/2024",z=V(),A=F("ul"),A.innerHTML='<li class="svelte-zx03ih">made info icon better visible</li> <li class="svelte-zx03ih">removed <em>h0</em> and <em>q0</em> from the results file</li> <li class="svelte-zx03ih">added <em>F crit (extr)</em> and <em>F crit (outliers)</em> to the results file</li> <li class="svelte-zx03ih">added a possibility to mark and remove objects for the target class data</li> <li class="svelte-zx03ih">added model file name to the model info block (in addition to the target class name)</li> <li class="svelte-zx03ih">changed names of the main app tabs</li>',S=V(),N=F("p"),_(n,"class","info-close-button svelte-zx03ih"),_(r,"class","svelte-zx03ih"),_(i,"class","svelte-zx03ih"),_(a,"class","svelte-zx03ih"),_(u,"class","svelte-zx03ih"),_(g,"class","svelte-zx03ih"),_(v,"class","svelte-zx03ih"),_(b,"class","svelte-zx03ih"),_(T,"class","release-info svelte-zx03ih"),_(A,"class","svelte-zx03ih"),_(N,"class","svelte-zx03ih"),_(t,"class","info-container svelte-zx03ih"),_(e,"class","info-backdrop svelte-zx03ih")},m(M,j){y(M,e,j),C(e,t),C(t,n),C(t,s),C(t,r),C(t,o),C(t,i),C(t,f),C(t,a),C(t,c),C(t,u),C(t,m),C(t,g),C(t,h),C(t,v),C(t,w),C(t,b),C(t,E),C(t,T),C(t,z),C(t,A),C(t,S),C(t,N),L||(q=Le(n,"click",l[6]),L=!0)},p:H,d(M){M&&k(e),L=!1,q()}}}function om(l){let e,t,n,s,r,o,i,f,a,c,u,m,g,h,v,w,b,E,T,z,A,S,N,L,q,M,j,P,D,Q,te,Y,B,ie,fe,ge;b=new ec({props:{WASM:Ln}}),z=new Hc({props:{WASM:Ln}}),N=new nm({props:{WASM:Ln}});let de=l[4]&&oo(l);return{c(){e=F("div"),t=F("header"),n=F("div"),n.innerHTML='<img class="logo svelte-zx03ih" alt="DD-SIMCA" src="logo.svg"/> <h1 class="svelte-zx03ih">Data Driven SIMCA</h1> <p class="svelte-zx03ih">One class classifier</p>',s=V(),r=F("ul"),o=F("li"),i=F("button"),i.textContent="Train",f=V(),a=F("li"),c=F("button"),c.innerHTML='Predict: <span class="svelte-zx03ih">Target</span>',u=V(),m=F("li"),g=F("button"),g.innerHTML='Predict: <span class="svelte-zx03ih">New</span>',h=V(),v=F("main"),w=F("div"),I(b.$$.fragment),E=V(),T=F("div"),I(z.$$.fragment),A=V(),S=F("div"),I(N.$$.fragment),L=V(),q=F("footer"),M=F("p"),j=G("Current release: "),P=F("span"),P.textContent="0.7.2",D=V(),Q=F("button"),Q.textContent="info",te=G(`
      Theory and citation reference: `),Y=F("a"),Y.textContent="xxx.xxx/xxx",B=V(),de&&de.c(),_(n,"class","header-group svelte-zx03ih"),_(i,"class","svelte-zx03ih"),_(o,"class","nav-item svelte-zx03ih"),Be(o,"selected",l[0]==="train"),_(c,"class","svelte-zx03ih"),_(a,"class","nav-item svelte-zx03ih"),Be(a,"selected",l[0]==="target"),_(g,"class","svelte-zx03ih"),_(m,"class","nav-item svelte-zx03ih"),Be(m,"selected",l[0]==="alt"),_(r,"class","nav svelte-zx03ih"),_(t,"class","page-header svelte-zx03ih"),_(w,"class","train-app-container svelte-zx03ih"),Be(w,"hidden",l[0]!=="train"),_(T,"class","test-app-container svelte-zx03ih"),Be(T,"hidden",l[0]!=="target"),_(S,"class","alt-app-container svelte-zx03ih"),Be(S,"hidden",l[0]!=="alt"),_(v,"class","svelte-zx03ih"),_(P,"class","svelte-zx03ih"),_(Q,"class","button-info svelte-zx03ih"),_(Y,"class","paper-link svelte-zx03ih"),_(Y,"href","https://test.com"),_(M,"class","svelte-zx03ih"),_(q,"class","svelte-zx03ih"),_(e,"class","page svelte-zx03ih")},m(we,Ee){y(we,e,Ee),C(e,t),C(t,n),C(t,s),C(t,r),C(r,o),C(o,i),C(r,f),C(r,a),C(a,c),C(r,u),C(r,m),C(m,g),C(e,h),C(e,v),C(v,w),R(b,w,null),l[10](w),C(v,E),C(v,T),R(z,T,null),l[11](T),C(v,A),C(v,S),R(N,S,null),l[12](S),C(e,L),C(e,q),C(q,M),C(M,j),C(M,P),C(M,D),C(M,Q),C(M,te),C(M,Y),C(e,B),de&&de.m(e,null),ie=!0,fe||(ge=[Le(i,"click",l[7]),Le(i,"keydown",l[7]),Le(c,"click",l[8]),Le(c,"keydown",l[8]),Le(g,"click",l[9]),Le(g,"keydown",l[9]),Le(Q,"click",l[5]),Le(Q,"keydown",l[5])],fe=!0)},p(we,[Ee]){(!ie||Ee&1)&&Be(o,"selected",we[0]==="train"),(!ie||Ee&1)&&Be(a,"selected",we[0]==="target"),(!ie||Ee&1)&&Be(m,"selected",we[0]==="alt"),(!ie||Ee&1)&&Be(w,"hidden",we[0]!=="train"),(!ie||Ee&1)&&Be(T,"hidden",we[0]!=="target"),(!ie||Ee&1)&&Be(S,"hidden",we[0]!=="alt"),we[4]?de?de.p(we,Ee):(de=oo(we),de.c(),de.m(e,null)):de&&(de.d(1),de=null)},i(we){ie||(p(b.$$.fragment,we),p(z.$$.fragment,we),p(N.$$.fragment,we),ie=!0)},o(we){d(b.$$.fragment,we),d(z.$$.fragment,we),d(N.$$.fragment,we),ie=!1},d(we){we&&k(e),O(b),l[10](null),O(z),l[11](null),O(N),l[12](null),de&&de.d(),fe=!1,ot(ge)}}}function im(l,e,t){let n="train",s,r,o,i=!1;function f(){t(4,i=!0)}function a(){t(4,i=!1)}function c(){t(0,n="train")}function u(){t(0,n="target")}function m(){t(0,n="alt")}function g(w){Z[w?"unshift":"push"](()=>{s=w,t(1,s)})}function h(w){Z[w?"unshift":"push"](()=>{r=w,t(2,r)})}function v(w){Z[w?"unshift":"push"](()=>{o=w,t(3,o)})}return[n,s,r,o,i,f,a,c,u,m,g,h,v]}class fm extends ce{constructor(e){super(),ue(this,e,im,om,se,{})}}new fm({target:document.body});const am=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=ddsimca.js.map
