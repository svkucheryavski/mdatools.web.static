var pm=Object.defineProperty;var gm=(_t,tt,$)=>tt in _t?pm(_t,tt,{enumerable:!0,configurable:!0,writable:!0,value:$}):_t[tt]=$;var rt=(_t,tt,$)=>(gm(_t,typeof tt!="symbol"?tt+"":tt,$),$);(function(){"use strict";var _t=document.createElement("style");_t.textContent=`button.svelte-12b8cv0{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-12b8cv0:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}button.svelte-2vapqe{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-2vapqe:hover{background-color:#dc143c}.control-element.svelte-1ybd854{font-size:.85em;background:#fff;padding:.35em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-1ybd854:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-1ybd854:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-1ybd854{display:none}.control-element.error.svelte-1ybd854{background:crimson;color:#fefefe}.label.svelte-1ybd854{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-1ybd854>.wrapper{flex:1 1}.control-element.svelte-1ybd854>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-1ybd854>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:.3em 0;margin:0}.range-slider-container.svelte-pjrnyj{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-pjrnyj{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;background:#6EB8FF;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-pjrnyj{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.spinner.svelte-1jycdl0{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-1jycdl0:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-1jycdl0-spinner 1.2s linear infinite}@keyframes svelte-1jycdl0-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.file-selector>.option{width:36px;height:24px;background-size:32px 20px;background-repeat:no-repeat;background-position:50%;font-size:0;border-radius:2px;margin-right:2px}.file-selector>.option:not(.selected):hover{border-color:#6eb8ff20}.file-selector .option_bp{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23606060" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23606060" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23606060" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_bp.selected:hover,.file-selector .option_bp.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23fefefe" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23fefefe" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23fefefe" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_bp:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%236EB8FF" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%236EB8FF" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%236EB8FF" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_hm{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23606060" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23606060" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23606060" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_hm.selected:hover,.file-selector .option_hm.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23fefefe" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_hm:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%236EB8FF" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_l{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_l.selected:hover,.file-selector .option_l.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_l:hover{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p.selected:hover,.file-selector .option_p.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p:hover{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h.selected:hover,.file-selector .option_h.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h:hover{background-image:url(data:image/svg+xml;utf8,)}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}.button-outlier.svelte-dhzh2h button{color:#fff;border-color:#dc143c;background:crimson}.button-outlier.svelte-dhzh2h button:hover{background:#DC143C20;border-color:#dc143c80;color:#dc143c}.buttons.svelte-dhzh2h{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}.plot-container.svelte-dhzh2h{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-dhzh2h{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-dhzh2h{padding:0 .25em 0 .5em}.plot-selector.svelte-dhzh2h{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-dhzh2h:hover{background:#e0e0e0;color:#403020}div.plot-container.off-screen{position:absolute;top:0;left:50%;width:650px;height:600px;background:white;z-index:999}@media (min-width:1100px){.plot-container.svelte-dhzh2h{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-dhzh2h{grid-template-columns:1fr minmax(300px,30%)}}.plot-container.svelte-iey6d1{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0}.plot_error.svelte-iey6d1{display:flex;justify-content:center;align-items:center}.message_error.svelte-iey6d1{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-iey6d1{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-iey6d1{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}text.svelte-131ks7u,text.svelte-131ks7u>tspan{cursor:default;-webkit-user-select:none;user-select:none;dominant-baseline:middle}text.svelte-12moot9,text.svelte-12moot9>tspan{dominant-baseline:middle;text-anchor:middle;cursor:default;-webkit-user-select:none;user-select:none}.plot-container.svelte-1aze4qe{width:100%;height:calc(100% - 15px)}.msg-select.svelte-1aze4qe{height:15px;font-size:12px;color:#aaa;text-align:center}.outliers.svelte-4rlpf1{line-height:2em;text-align:center;flex:0 0 80%}.outliers.svelte-4rlpf1>span{color:#dc143c;background:#DC143C20;padding:.25em .5em;margin:0 .1em;border-radius:.2em}.app-container.svelte-1kl15v.svelte-1kl15v{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1kl15v.svelte-1kl15v{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1kl15v.svelte-1kl15v{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-1kl15v>div.svelte-1kl15v{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1kl15v.svelte-1kl15v{margin-top:.25rem}.help-text.svelte-1kl15v>p.svelte-1kl15v,.help-text.svelte-1kl15v>div.svelte-1kl15v{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1kl15v table.svelte-1kl15v{border-collapse:collapse}.help-text.svelte-1kl15v table td.svelte-1kl15v{padding:.25em .5em;background:#e0f0fa;text-align:right;border:1px solid white}.help-text.svelte-1kl15v table tr:first-child td.svelte-1kl15v{font-weight:700;background:#f8f4e0}.help-text.svelte-1kl15v table td.svelte-1kl15v:first-child{font-weight:700;background:#f8f4e0;padding-right:1em}.help-text.svelte-1kl15v table td.svelte-1kl15v:nth-child(2){background:#e0e8f0;padding-right:1em}.help-text.svelte-1kl15v>p.svelte-1kl15v:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1kl15v>p.svelte-1kl15v:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1kl15v.svelte-1kl15v{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1kl15v.svelte-1kl15v{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1kl15v.svelte-1kl15v{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}@media (min-width:1300px){.app-container.svelte-1kl15v.svelte-1kl15v{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1kl15v.svelte-1kl15v{grid-template-columns:min(320px,30%) 1fr}}.modelInfo.svelte-19exump{line-height:1.5em}.modelInfo.svelte-19exump>span{vertical-align:top}.modelName.svelte-19exump,.className.svelte-19exump{display:inline-block;padding:0;margin:0;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch}table.svelte-kg0b31{width:100%;border-collapse:collapse}tr.svelte-kg0b31{width:100%}th.svelte-kg0b31{border-bottom:1px solid #a0a0a0}th.svelte-kg0b31,td.svelte-kg0b31{text-align:right;padding:.2em .5em .2em .1em;color:#404040;margin:0}.label.svelte-kg0b31{text-align:left;padding:.1em .5em}.app-container.svelte-1lragme.svelte-1lragme{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1lragme.svelte-1lragme{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1lragme.svelte-1lragme{box-sizing:border-box;padding:.25em}.app-controls.svelte-1lragme>div.svelte-1lragme{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1lragme.svelte-1lragme{margin-top:.25rem}.help-text.svelte-1lragme>p.svelte-1lragme{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1lragme>p.svelte-1lragme:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1lragme>p.svelte-1lragme:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1lragme.svelte-1lragme{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1lragme.svelte-1lragme{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1lragme.svelte-1lragme{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}@media (min-width:1300px){.app-container.svelte-1lragme.svelte-1lragme{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1lragme.svelte-1lragme{grid-template-columns:min(320px,30%) 1fr}}.page.svelte-it9x6i.svelte-it9x6i.svelte-it9x6i{width:100%;height:100%;margin:0 auto;padding:0;min-width:1020px;min-height:590px;max-width:1600px;display:flex;flex-direction:column}.page.svelte-it9x6i>header.svelte-it9x6i.svelte-it9x6i{display:flex;justify-content:flex-start;flex-direction:row;background:#f8f6f4}.header-group.svelte-it9x6i.svelte-it9x6i.svelte-it9x6i{width:min-content;margin:0 0 0 .25rem;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-it9x6i.svelte-it9x6i.svelte-it9x6i{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-it9x6i>h1.svelte-it9x6i.svelte-it9x6i{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-it9x6i>p.svelte-it9x6i.svelte-it9x6i{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}.page.svelte-it9x6i>main.svelte-it9x6i.svelte-it9x6i{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0}.page.svelte-it9x6i>main.svelte-it9x6i>div.svelte-it9x6i{height:100%}.page.svelte-it9x6i>footer.svelte-it9x6i.svelte-it9x6i{font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}.page.svelte-it9x6i>footer p.svelte-it9x6i.svelte-it9x6i{max-width:800px;text-align:center;margin:0 auto;padding:.15em}.page.svelte-it9x6i>footer span.svelte-it9x6i.svelte-it9x6i,.page.svelte-it9x6i>footer a.svelte-it9x6i.svelte-it9x6i{color:#f8ebc5}.hidden.svelte-it9x6i.svelte-it9x6i.svelte-it9x6i{display:none}.nav.svelte-it9x6i.svelte-it9x6i.svelte-it9x6i,.nav.svelte-it9x6i .svelte-it9x6i.svelte-it9x6i{-webkit-user-select:none;user-select:none;-moz-user-select:none}.nav.svelte-it9x6i.svelte-it9x6i.svelte-it9x6i{display:flex;flex-direction:row;justify-content:flex-end;list-style:none;margin:0 100px 0 auto;padding:0;align-self:flex-end}.nav-item.svelte-it9x6i.svelte-it9x6i.svelte-it9x6i{list-style:none;margin:0 2px;border-bottom:5px solid transparent}.nav-item.svelte-it9x6i>button.svelte-it9x6i.svelte-it9x6i{cursor:pointer;padding:.5em 1em;border:none;box-shadow:none;background:transparent;font-size:inherit}.nav-item.svelte-it9x6i>button.svelte-it9x6i>span.svelte-it9x6i{color:#888}.nav-item.selected.svelte-it9x6i.svelte-it9x6i.svelte-it9x6i{border-bottom:5px solid #80888f}.nav-item.selected.svelte-it9x6i>button.svelte-it9x6i.svelte-it9x6i{font-weight:700;cursor:default}.nav-item.selected.svelte-it9x6i.svelte-it9x6i.svelte-it9x6i:hover{border-bottom:5px solid #80888f}@media (min-width: 1600px){.page.svelte-it9x6i>header.svelte-it9x6i.svelte-it9x6i{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.page.svelte-it9x6i>footer.svelte-it9x6i.svelte-it9x6i{border-top-right-radius:.25rem;border-top-left-radius:.25rem}}.button-info.svelte-it9x6i.svelte-it9x6i.svelte-it9x6i{cursor:pointer;border:none;box-shadow:none;background:transparent;font-weight:700;color:#4e5052;border-radius:.2em;padding:.25em .5em;text-align:center;line-height:1em;margin-left:.25em;margin-right:.5em;background-color:#f8ebc5}.info-backdrop.svelte-it9x6i.svelte-it9x6i.svelte-it9x6i{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000a0;z-index:100;display:flex;justify-content:center;align-items:flex-start}.info-container.svelte-it9x6i.svelte-it9x6i.svelte-it9x6i{position:relative;top:10%;width:100%;max-width:800px;max-height:600px;background-color:#f8f6f4;border-radius:.25rem;padding:1rem;z-index:101}.info-container.svelte-it9x6i>p.svelte-it9x6i.svelte-it9x6i{font-size:1.15em;line-height:1.35em;padding:0 1em .5em;margin:0}.info-container.svelte-it9x6i>.release-info.svelte-it9x6i.svelte-it9x6i{font-size:1em;color:gray;line-height:1.25em;padding:0 1.2em .5em;margin:0}.info-container.svelte-it9x6i>h2.svelte-it9x6i.svelte-it9x6i{font-size:1.5em;line-height:1.25em;padding:.5em 1rem;margin:0}.info-container.svelte-it9x6i>h3.svelte-it9x6i.svelte-it9x6i{font-size:1.15em;line-height:1.25em;padding:1rem 1em .25em;margin:0}.info-container.svelte-it9x6i>ul.svelte-it9x6i.svelte-it9x6i{margin:0}.info-container.svelte-it9x6i>ul.svelte-it9x6i>li.svelte-it9x6i{font-size:1.15em;line-height:1.25em;padding:0 .5em .25em 0;margin:0}.info-container.svelte-it9x6i a.svelte-it9x6i.svelte-it9x6i{color:#ae8032}.info-container.svelte-it9x6i a.svelte-it9x6i.svelte-it9x6i:hover{color:#eb9707}.info-close-button.svelte-it9x6i.svelte-it9x6i.svelte-it9x6i{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px}.info-close-button.svelte-it9x6i.svelte-it9x6i.svelte-it9x6i:hover{background-color:#4e5052}.info-container.svelte-it9x6i.svelte-it9x6i.svelte-it9x6i:last-child{padding-bottom:2rem}
`,document.head.appendChild(_t);var tt=typeof document<"u"?document.currentScript:null;function $(){}function mi(l,e){for(const t in e)l[t]=e[t];return l}function _i(l){return!!l&&(typeof l=="object"||typeof l=="function")&&typeof l.then=="function"}function Tn(l){return l()}function Rn(){return Object.create(null)}function it(l){l.forEach(Tn)}function On(l){return typeof l=="function"}function le(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}function pi(l){return Object.keys(l).length===0}function gi(l,...e){if(l==null){for(const n of e)n(void 0);return $}const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function re(l,e,t){l.$$.on_destroy.push(gi(e,t))}function Nt(l,e,t,n){if(l){const s=In(l,e,t,n);return l[0](s)}}function In(l,e,t,n){return l[1]&&n?mi(t.ctx.slice(),l[1](n(e))):t.ctx}function Mt(l,e,t,n){if(l[2]&&n){const s=l[2](n(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],i=Math.max(e.dirty.length,s.length);for(let o=0;o<i;o+=1)r[o]=e.dirty[o]|s[o];return r}return e.dirty|s}return e.dirty}function Lt(l,e,t,n,s,r){if(s){const i=In(e,t,n,r);l.p(i,s)}}function St(l){if(l.ctx.length>32){const e=[],t=l.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function C(l,e){l.appendChild(e)}function y(l,e,t){l.insertBefore(e,t||null)}function v(l){l.parentNode&&l.parentNode.removeChild(l)}function Ge(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function V(l){return document.createElement(l)}function _e(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function G(l){return document.createTextNode(l)}function z(){return G(" ")}function J(){return G("")}function Le(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function di(l){return function(e){return e.preventDefault(),l.call(this,e)}}function _(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function hi(l){return Array.from(l.childNodes)}function ae(l,e){e=""+e,l.data!==e&&(l.data=e)}function Pn(l,e){l.value=e??""}function He(l,e,t,n){t==null?l.style.removeProperty(e):l.style.setProperty(e,t,n?"important":"")}function We(l,e,t){l.classList.toggle(e,!!t)}function bi(l,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(l,{detail:e,bubbles:t,cancelable:n})}class qn{constructor(e=!1){rt(this,"is_svg",!1);rt(this,"e");rt(this,"n");rt(this,"t");rt(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=_e(t.nodeName):this.e=V(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)y(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(v)}}function $t(l,e){return new l(e)}let jt;function ct(l){jt=l}function Tt(){if(!jt)throw new Error("Function called outside component initialization");return jt}function wi(l){Tt().$$.on_mount.push(l)}function ki(l){Tt().$$.on_destroy.push(l)}function Gt(){const l=Tt();return(e,t,{cancelable:n=!1}={})=>{const s=l.$$.callbacks[e];if(s){const r=bi(e,t,{cancelable:n});return s.slice().forEach(i=>{i.call(l,r)}),!r.defaultPrevented}return!0}}function vi(l,e){return Tt().$$.context.set(l,e),e}function Xe(l){return Tt().$$.context.get(l)}function Ut(l,e){const t=l.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const Rt=[],Z=[];let Ot=[];const sn=[],yi=Promise.resolve();let rn=!1;function Ci(){rn||(rn=!0,yi.then(an))}function on(l){Ot.push(l)}function ie(l){sn.push(l)}const fn=new Set;let It=0;function an(){if(It!==0)return;const l=jt;do{try{for(;It<Rt.length;){const e=Rt[It];It++,ct(e),Ei(e.$$)}}catch(e){throw Rt.length=0,It=0,e}for(ct(null),Rt.length=0,It=0;Z.length;)Z.pop()();for(let e=0;e<Ot.length;e+=1){const t=Ot[e];fn.has(t)||(fn.add(t),t())}Ot.length=0}while(Rt.length);for(;sn.length;)sn.pop()();rn=!1,fn.clear(),ct(l)}function Ei(l){if(l.fragment!==null){l.update(),it(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(on)}}function Ai(l){const e=[],t=[];Ot.forEach(n=>l.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Ot=e}const Kt=new Set;let bt;function K(){bt={r:0,c:[],p:bt}}function X(){bt.r||it(bt.c),bt=bt.p}function p(l,e){l&&l.i&&(Kt.delete(l),l.i(e))}function h(l,e,t,n){if(l&&l.o){if(Kt.has(l))return;Kt.add(l),bt.c.push(()=>{Kt.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}function pt(l,e){const t=e.token={};function n(s,r,i,o){if(e.token!==t)return;e.resolved=o;let f=e.ctx;i!==void 0&&(f=f.slice(),f[i]=o);const a=s&&(e.current=s)(f);let c=!1;e.block&&(e.blocks?e.blocks.forEach((u,m)=>{m!==r&&u&&(K(),h(u,1,1,()=>{e.blocks[m]===u&&(e.blocks[m]=null)}),X())}):e.block.d(1),a.c(),p(a,1),a.m(e.mount(),e.anchor),c=!0),e.block=a,e.blocks&&(e.blocks[r]=a),c&&an()}if(_i(l)){const s=Tt();if(l.then(r=>{ct(s),n(e.then,1,e.value,r),ct(null)},r=>{if(ct(s),n(e.catch,2,e.error,r),ct(null),!e.hasCatch)throw r}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,l),!0;e.resolved=l}}function Xt(l,e,t){const n=e.slice(),{resolved:s}=l;l.current===l.then&&(n[l.value]=s),l.current===l.catch&&(n[l.error]=s),l.block.p(n,t)}function ke(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function Ni(l,e){l.d(1),e.delete(l.key)}function Mi(l,e,t,n,s,r,i,o,f,a,c,u){let m=l.length,g=r.length,d=m;const k={};for(;d--;)k[l[d].key]=d;const w=[],b=new Map,A=new Map,R=[];for(d=g;d--;){const N=u(s,r,d),S=t(N);let F=i.get(S);F?n&&R.push(()=>F.p(N,e)):(F=a(S,N),F.c()),b.set(S,w[d]=F),S in k&&A.set(S,Math.abs(d-k[S]))}const L=new Set,E=new Set;function T(N){p(N,1),N.m(o,c),i.set(N.key,N),c=N.first,g--}for(;m&&g;){const N=w[g-1],S=l[m-1],F=N.key,M=S.key;N===S?(c=N.first,m--,g--):b.has(M)?!i.has(F)||L.has(F)?T(N):E.has(M)?m--:A.get(F)>A.get(M)?(E.add(F),T(N)):(L.add(M),m--):(f(S,i),m--)}for(;m--;){const N=l[m];b.has(N.key)||f(N,i)}for(;g;)T(w[g-1]);return it(R),w}function ne(l,e,t){const n=l.$$.props[e];n!==void 0&&(l.$$.bound[n]=t,t(l.$$.ctx[n]))}function P(l){l&&l.c()}function O(l,e,t){const{fragment:n,after_update:s}=l.$$;n&&n.m(e,t),on(()=>{const r=l.$$.on_mount.map(Tn).filter(On);l.$$.on_destroy?l.$$.on_destroy.push(...r):it(r),l.$$.on_mount=[]}),s.forEach(on)}function I(l,e){const t=l.$$;t.fragment!==null&&(Ai(t.after_update),it(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Li(l,e){l.$$.dirty[0]===-1&&(Rt.push(l),Ci(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function ue(l,e,t,n,s,r,i=null,o=[-1]){const f=jt;ct(l);const a=l.$$={fragment:null,ctx:[],props:r,update:$,not_equal:s,bound:Rn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:Rn(),dirty:o,skip_bound:!1,root:e.target||f.$$.root};i&&i(a.root);let c=!1;if(a.ctx=t?t(l,e.props||{},(u,m,...g)=>{const d=g.length?g[0]:m;return a.ctx&&s(a.ctx[u],a.ctx[u]=d)&&(!a.skip_bound&&a.bound[u]&&a.bound[u](d),c&&Li(l,u)),m}):[],a.update(),c=!0,it(a.before_update),a.fragment=n?n(a.ctx):!1,e.target){if(e.hydrate){const u=hi(e.target);a.fragment&&a.fragment.l(u),u.forEach(v)}else a.fragment&&a.fragment.c();e.intro&&p(l.$$.fragment),O(l,e.target,e.anchor),an()}ct(f)}class ce{constructor(){rt(this,"$$");rt(this,"$$set")}$destroy(){I(this,1),this.$destroy=$}$on(e,t){if(!On(t))return $;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!pi(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Si="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Si);function Fn(l){if(Me(l))return Fn(l.v);const e=new de.valuesConstructor(l.length-1);for(let t=0;t<l.length-1;t++)e[t]=l[t+1]-l[t];return new de(e)}function jn(l,e){if(e===void 0&&(e=!1),Me(l))return jn(l.v);const t=Vt(l);let n=0;for(let s=0;s<l.length;s++){const r=l[s]-t;n=n+r*r}return n/(e?l.length:l.length-1)}function Vt(l){return Me(l)?Vt(l.v):Vn(l)/l.length}function Vn(l){if(Me(l))return Vn(l.v);let e=0;for(let t=0;t<l.length;t++)e=e+l[t];return e}function zn(l){if(Me(l))return zn(l.v);let e=1;for(let t=0;t<l.length;t++)e=e*l[t];return e}function Pt(l){return Me(l)||ot(l)?l.v[un(l.v)-1]:l[un(l)-1]}function un(l){if(Me(l)||ot(l))return un(l.v);let e=1,t=l[0];for(let n=2;n<=l.length;n++)l[n-1]<t&&(e=n,t=l[n-1]);return e}function Ie(l){return Me(l)||ot(l)?l.v[cn(l.v)-1]:l[cn(l)-1]}function cn(l){if(Me(l)||ot(l))return cn(l.v);let e=1,t=l[0];for(let n=2;n<=l.length;n++)l[n-1]>t&&(e=n,t=l[n-1]);return e}function Yn(l,e){if(Me(l))return Yn(l.v,e);const t=l.reduce((n,s)=>Math.abs(s-e)<Math.abs(n-e)?s:n);return l.indexOf(t)+1}const mn=30,Ti=1e-7;function Dn(l,e=0,t=1){let n=de.zeros(l);for(let s=0;s<l;s++)n.v[s]=e+Math.random()*(t-e);return n}function Bn(l,e=0,t=1){let n=de.zeros(l);for(let s=0;s<l;s++){const r=Math.sqrt(-2*Math.log(Math.random())),i=2*Math.PI*Math.random();n.v[s]=r*Math.sin(i)*t+e}return n}function _n(l,e=0,t=1){if(Me(l))return l.apply(s=>_n(s,e,t));const n=1/(Math.sqrt(2)*t);return .5*(1+Oi((l-e)*n))}function Qt(l,e=0,t=1){if(Me(l))return l.apply(D=>Qt(D,e,t));if(e!==0||t!==1)return Qt(l)*t+e;if(l<0||l>1)throw Error('Parameter "p" must be between 0 and 1.');if(l<1e-10)return-1/0;if(l>.9999999999)return 1/0;const n=.425,s=5,r=.180625,i=1.6,o=3.3871327179,f=5.0434271938*10,a=1.5929113202*100,c=5.910937472*10,u=1.7895169469*10,m=7.8757757664*10,g=6.71875636*10,d=1.4234372777,k=2.75681539,w=1.3067284816,b=1.7023821103*.1,A=7.370016425*.1,R=1.2021132975*.1,L=6.657905115,E=3.081226386,T=4.2868294337*.1,N=1.7337203997*.01,S=2.4197894225*.1,F=1.2258202635*.01,M=l-.5;let j;if(Math.abs(M)<=n)return j=r-M*M,M*(((c*j+a)*j+f)*j+o)/(((g*j+m)*j+u)*j+1);j=M<0?l:1-l,j=Math.sqrt(-Math.log(j));let q;return j<=s?(j=j-i,q=(((b*j+w)*j+k)*j+d)/((R*j+A)*j+1)):(j=j-s,q=((N*j+T)*j+E+L)/((F*j+S)*j+1)),M<0?-q:q}function zt(l,e){if(Array.isArray(l))return zt(Pe(l),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),n=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(n);function r(f){if(f===0)return 0;if(e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30)return 1;const a=f/e,c=Math.pow(a,1/6)-.5*Math.pow(a,1/3)+1/3*Math.pow(a,1/2);return _n(c,t,s)}function i(f){return f===0?0:e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30?1:Ri(f/2,e/2)/Yt(e/2)}const o=e>mn?r:i;return Me(l)?l.apply(o):o(l)}function wt(l,e){if(Array.isArray(l))return wt(Pe(l),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),n=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(n);function r(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;const a=Qt(f,t,s),c=Math.pow(Math.sqrt(36*a*a-30*a+13)/4+(3*a-3/2)/2+1/8,1/3);return Math.pow(c-3/(4*c)+.5,6)*e}function i(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;let a=0,c=mn*10,u=c/30;for(let m=0;m<30;m++){const g=de.seq(a,c,u),d=zt(g,e),k=Yn(d,f)-1;if(Math.abs(d.v[k]-f)<Ti)return g.v[k];if(a=k==0?g.v[0]:g.v[k-1],c=k==g.v.length-1?g.v[k]:g.v[k+1],a==c)return a;u=(c-a)/30}return(c+a)/2}const o=e>mn?r:i;return Me(l)?l.apply(o):o(l)}function Yt(l){if(Me(l))return l.apply(Yt);if(l<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(l<.5)return Math.PI/(Math.sin(Math.PI*l)+Yt(1-l));l=l-1;let t=.9999999999998099;for(let s=0;s<e.length;s++)t=t+e[s]/(l+s+1);const n=l+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(n,l+.5)*Math.exp(-n)*t}function Ri(l,e){let s=0;for(let r=0;r<1e4;r++){const i=Math.pow(l,r)/Yt(e+r+1);if(isNaN(i)||i<1e-18)break;s+=i}return Math.pow(l,e)*Yt(e)*Math.exp(-l)*s}function Oi(l){const e=l>=0?1:-1;l=Math.abs(l);const t=.254829592,n=-.284496736,s=1.421413741,r=-1.453152027,i=1.061405429,f=1/(1+.3275911*l),a=1-((((i*f+r)*f+s)*f+n)*f+t)*f*Math.exp(-l*l);return e*a}function Wn(l){const e=l.nrows,t=l.ncols;if(e<t){const i=Wn(l.subset([],Qe.seq(1,e)));return{Q:i.Q,R:Pi(i.Q,l)}}let n=gt.eye(e),s=l.t();for(let i=1;i<=t;i++)for(let o=e;o>=i+1;o--){const f=s.v.subarray((o-2)*t,o*t),a=n.v.subarray((o-2)*e,o*e),c=f.slice(),u=a.slice(),[m,g,d]=Ii(c[i-1],c[i-1+t]);for(let k=0;k<t;k++)f[k]=c[k]*m+c[k+t]*g,f[k+t]=c[k]*-g+c[k+t]*m,a[k]=u[k]*m+u[k+e]*g,a[k+e]=u[k]*-g+u[k+e]*m;for(let k=t;k<e;k++)a[k]=u[k]*m+u[k+e]*g,a[k+e]=u[k]*-g+u[k+e]*m}const r=Qe.seq(1,t);return{Q:e===t?n:n.subset([],r),R:e===t?s.t():s.subset([],r).t()}}function Ii(l,e){if(l==0)return[0,1,e];if(Math.abs(l)>Math.abs(e)){const r=e/l,i=Math.sqrt(1+r*r),o=1/i;return[o,r*o,l*i]}const t=l/e,n=Math.sqrt(1+t*t),s=1/n;return[t*s,s,e*n]}function Hn(l){return typeof l=="number"}function Pi(l,e){if(e===void 0&&(e=l),!kt(l)||!kt(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const t=l.nrows,n=l.ncols,s=e.nrows,r=e.ncols,i=n,o=r,f=t,a=new Float64Array(i*o);for(let c=0;c<o;c++){const u=e.v.subarray(c*s,(c+1)*s),m=a.subarray(c*i,(c+1)*i);for(let g=0;g<i;g++){const d=l.v.subarray(g*t,(g+1)*t);let k=0;for(let w=0;w<f;w++)k+=d[w]*u[w];m[g]=k}}return new gt(a,i,o)}function $n(l,e,t){if(t===void 0){if(e!==l.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new de(l.v)}if(l.v.length!==e*t)throw Error("reshape: provided dimension does not match number of values in the object.");return new gt(l.v,e,t)}function kt(l){return l&&l.constructor===gt}const be=class be{constructor(e,t,n){if(!ArrayBuffer.isView(e)||e.constructor!==be.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(t===0||n===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==t*n)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=t,this.ncols=n}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return be.diagm(this.diag().apply(f=>Math.abs(f)>Number.EPSILON?1/f:x));const n=be.eye(e),s=be.eye(e),r=this.t(),i=r.v[(e-1)*e+(e-1)],o=e-1;for(let f=0;f<e;f++)s.v[o*e+f]=n.v[o*e+f]/i;for(let f=e-2;f>=0;f--){let a=n.getcolumn(f+1);const c=r.getcolref(f+1);for(let u=f+1;u<e;u++){const m=s.getcolumn(u+1);a=a.subtract(m.mult(c[u]))}s.v.set(a.divide(c[f]).v,f*e)}return s.t()}if(this.islowertriangular()){const n=this.diag();if(zn(n)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const s=be.eye(e),r=be.eye(e),i=this.t(),o=0,f=i.v[0];for(let a=0;a<e;a++)r.v[o*e+a]=s.v[o*e+a]/f;for(let a=1;a<e;a++){let c=s.getcolumn(a+1);const u=i.getcolref(a+1);for(let m=0;m<a;m++){const g=r.getcolumn(m+1);c=c.subtract(g.mult(u[m]))}r.v.set(c.divide(u[a]).v,a*e)}return r.t()}const t=Wn(this);if(!t.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return t.R.inv().dot(t.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let t=0;t<e;t++)if(Math.abs(this.v[e*this.nrows+t])>be.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let t=e+1;t<this.nrows;t++)if(Math.abs(this.v[e*this.nrows+t])>be.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),t=new Float64Array(e);for(let n=0;n<e;n++)t[n]=this.getcolref(n+1)[n];return new de(t)}t(){const e=this.nrows,t=this.ncols,n=new be.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let s=0;s<this.ncols;s++){const r=this.v.subarray(s*this.nrows,(s+1)*this.nrows);for(let i=0;i<this.nrows;i++)n[i*t+s]=r[i]}return new be(n,t,e)}for(let s=0;s<this.nrows;s++){const r=n.subarray(s*t,(s+1)*t);for(let i=0;i<this.ncols;i++)r[i]=this.v[i*this.nrows+s]}return new be(n,t,e)}dot(e){if(Me(e))return new be(dn(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(kt(e))return new be(dn(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,t,n){if(kt(e))return new be(pn(this.v,e.v,t),this.nrows,this.ncols);if(Hn(e))return new be(gn(this.v,e,t),this.nrows,this.ncols);if(!Me(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(n===void 0&&(n=e.length===this.ncols?2:1),n===2&&e.length===this.ncols){const s=new be.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)s.set(gn(this.getcolref(r+1),e.v[r],t),r*this.nrows);return new be(s,this.nrows,this.ncols)}if(n===1&&e.length===this.nrows){const s=new be.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)s.set(pn(this.getcolref(r+1),e.v,t),r*this.nrows);return new be(s,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e,t){if(t===void 0&&(t=2),t==2){const n=this.ncols,s=new be.valuesConstructor(n);for(let r=0;r<n;r++)s[r]=e(this.getcolref(r+1));return new de(s)}if(t==1)return this.t().apply(e,2);if(t==0){const n=this.v.length,s=new be.valuesConstructor(n);for(let r=0;r<n;r++)s[r]=e(this.v[r]);return new be(s,this.nrows,this.ncols)}}replace(e,t,n){typeof t=="number"&&(t=[t]),t.length===0&&(t=Qe.seq(1,this.nrows)),ot(t)||(t=ft(t)),typeof n=="number"&&(n=[n]),n.length===0&&(n=Qe.seq(1,this.ncols)),ot(n)||(n=ft(n));const s=t.length,r=n.length;if(Pt(t)<1||Ie(t)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(Pt(n)<1||Ie(n)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==s||e.ncols!==r)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let i=0;i<n.length;i++){const o=e.getcolref(i+1),f=(n.v[i]-1)*this.nrows;for(let a=0;a<t.length;a++){const c=t.v[a];this.v[f+c-1]=o[a]}}return this}copy(){return new be(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const t=new de.valuesConstructor(this.ncols);for(let n=0;n<this.ncols;n++)t[n]=this.getcolref(n+1)[e-1];return new de(t)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new de(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,t){if(typeof e=="number"&&(e=ft([e])),typeof t=="number"&&(t=ft([t])),Array.isArray(e)&&(e=e.length===0?null:ft(e)),Array.isArray(t)&&(t=t.length===0?null:ft(t)),e!==null&&!ot(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(t!==null&&!ot(t))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(Pt(e)<1||Ie(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(t!==null&&(Pt(t)<1||Ie(t)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const o=t.length,f=this.nrows,a=new be.valuesConstructor(f*o);for(let c=0;c<t.length;c++)a.set(this.v.slice((t.v[c]-1)*this.nrows,t.v[c]*this.nrows),c*this.nrows);return new be(a,f,o)}if(t==null)return this.t().subset(t,e).t();const n=e.length,s=t.length,r=new be.valuesConstructor(n*s);let i=new be.valuesConstructor(n);for(let o=0;o<s;o++){const f=this.v.subarray((t.v[o]-1)*this.nrows,t.v[o]*this.nrows);for(let a=0;a<n;a++)i[a]=f[e.v[a]-1];r.set(i,o*n)}return new be(r,n,s)}toString(e){function t(i,o){return" ".repeat(o-i.length)+i}e===void 0&&(e=2),this.ncols;const n=Math.round(Math.abs(Math.log10(Ie(this.v))))+e+3;let s="";const r=this.t();for(let i=1;i<=r.ncols;i++)s+=Array.from(r.getcolref(i)).map(o=>t(o.toFixed(e),n)).join(" ")+`
`;return s}toCSV(e,t,n,s){e===void 0&&(e=","),t===void 0&&(t=e===";"?",":".");const r=s!=null&&s.length>0,i=n!=null&&n.length>0;if(r&&s.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(i&&n.length!==this.ncols+(r?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const o=this.t();let f=i?n.join(e)+`
`:"";for(let a=1;a<=o.ncols;a++)f=f+(r?s[a-1]+e:"")+o.getcolref(a).join(e)+`
`;return f=f.replace(/\./g,t),f}static randn(e,t,n,s){return $n(Bn(e*t,n,s),e,t)}static rand(e,t,n,s){return $n(Dn(e*t,n,s),e,t)}static eye(e,t){t===void 0&&(t=e);const n=new Float64Array(e*t);for(let s=0;s<Math.min(e,t);s++)n[s*e+s]=1;return new be(n,e,t)}static diagm(e){if(!Me(e))throw Error('diagm: the argument "x" must be a Vector.');const t=e.length,n=new Float64Array(t*t);for(let s=0;s<t;s++)n[s*t+s]=e.v[s];return new be(n,t,t)}static zeros(e,t){return t===void 0&&(t=e),new be(new Float64Array(e*t),e,t)}static ones(e,t){return be.fill(1,e,t)}static fill(e,t,n){n===void 0&&(n=t);const s=new Float64Array(t*n);for(let r=0;r<s.length;r++)s[r]=e;return new be(s,t,n)}static outer(e,t,n){if(Array.isArray(e)&&(e=Pe(e)),Array.isArray(t)&&(t=Pe(t)),!Me(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!Me(t))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const s=be.zeros(e.length,t.length);for(let r=0;r<t.length;r++){const i=t.v[r],o=s.getcolref(r+1);for(let f=0;f<e.length;f++)o[f]=n(e.v[f],i)}return s}static parseCSV(e,t,n,s){function r(w){return w.some(b=>Number.isNaN(Number.parseFloat(b.trim())))}t===void 0&&(t=",");const i=t===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let o=e.split(/\n/),f=[],a=0;const c=o[0].split(t);(n||n===void 0&&r(c))&&(f=c,a=1),o=o.filter(w=>w.trim().length>1);let u=[],m=0;s&&(m=1);const g=o.length-a,d=c.length-m;if(g<1)throw Error("Data file should contain at least 1 row with values.");if(d<1)throw Error("Data file should contain at least 1 column with values.");const k=be.zeros(d,g);for(let w=a;w<g+a;w++){const b=o[w].split(t);let A;if(s?(u[w-a]=b[0],A=b.slice(1).map(R=>Number.parseFloat(R.trim().replace(i,".")))):A=b.map(R=>Number.parseFloat(R.trim().replace(i,"."))),A.some(R=>Number.isNaN(R)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(A.length!=d)throw Error("Wrong number of values in row #"+w);k.v.set(new Float64Array(A),(w-a)*d)}return{values:k.t(),header:f,labels:u,sep:t,dec:i}}};rt(be,"valuesConstructor",Float64Array),rt(be,"TOLERANCE",Math.pow(10,-9));let gt=be;function Me(l){return l&&l.constructor===de}function Pe(l){return new de(new Float64Array(l))}const Fe=class Fe{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new Qe.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=s+1,n=n+1);return new Qe(t.subarray(0,n))}filter(e){const t=new Fe.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=this.v[s],n=n+1);return new Fe(t.subarray(0,n))}shuffle(){return new Fe(Xn(this.v))}sort(e){return new Fe(Qn(this.v,e))}sortind(e){return new Qe(Zn(this.v,e))}rep(e){return Un(this,e)}repeach(e){return Kn(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=Qe.seq(1,this.length)),ot(t)||(t=ft(t));const n=t.length;if(Pt(t)<1||Ie(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==n)throw Error('Vector.replace: length of "x" does not match the indices.');for(let s=0;s<t.length;s++){const r=t.v[s];this.v[r-1]=e.v[s]}return this}subset(e){if(typeof e=="number"&&(e=ft([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?Qe.bool2ind(e):ft(e)),!ot(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=Fe.zeros(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");n.v[s]=this.v[e.v[s]-1]}return n}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new Fe(this.v.slice(e-1,t))}copy(){return new Fe(this.v.slice())}dot(e){return e===void 0&&(e=this),dn(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(Me(e))return new Fe(pn(this.v,e.v,t));if(Hn(e))return new Fe(gn(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e){const t=this.v.length,n=Fe.zeros(t);for(let s=0;s<t;s++)n.v[s]=e(this.v[s]);return n}static c(...e){if(e.length===1)return e[0];const t=e.reduce((r,i)=>r+(typeof i=="number"?1:i.length),0),n=new Fe.valuesConstructor(t);let s=0;for(const r of e)typeof r=="number"?(n[s]=r,s+=1):(n.set(Me(r)?r.v:new Fe.valuesConstructor(r),s),s+=typeof r=="number"?1:r.length);return new Fe(n)}static seq(e,t,n){return Gn(e,t,n,Fe)}static randn(e,t,n){return Bn(e,t,n)}static rand(e,t,n){return Dn(e,t,n)}static zeros(e){return new Fe(new Fe.valuesConstructor(e))}static ones(e){return Fe.fill(1,e)}static fill(e,t){const n=new Fe.valuesConstructor(t);for(let s=0;s<n.length;s++)n[s]=e;return new Fe(n)}};rt(Fe,"valuesConstructor",Float64Array);let de=Fe;function ot(l){return l.constructor===Qe}function ft(l){return new Qe(new Int32Array(l))}const De=class De{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new De.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=s+1,n=n+1);return new De(t.subarray(0,n))}filter(e){const t=new De.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=this.v[s],n=n+1);return new De(t.subarray(0,n))}shuffle(){return new De(Xn(this.v))}sort(e){return new De(Qn(this.v,e))}sortind(e){return new De(Zn(this.v,e))}rep(e){return Un(this,e)}repeach(e){return Kn(this,e)}subset(e){if(typeof e=="number"&&(e=ft([e])),Array.isArray(e)&&(e=ft(e)),!ot(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=new De.valuesConstructor(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");n[s]=this.v[e.v[s]-1]}return new De(n)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new De(this.v.slice(e-1,t))}static seq(e,t,n){return Gn(e,t,n,De)}static ones(e){return De.fill(1,e)}static fill(e,t){const n=new De.valuesConstructor(t);for(let s=0;s<n.length;s++)n[s]=e;return new De(n)}static bool2ind(e){let t=0;const n=new De.valuesConstructor(e.length);for(let s=0;s<e.length;s++)e[s]&&(n[t]=s+1,t=t+1);return new De(n.subarray(0,t))}};rt(De,"valuesConstructor",Int32Array);let Qe=De;function Gn(l,e,t,n){t===void 0&&(t=l<=e?1:-1);const s=Math.floor((e-l)/t)+1;if(s<1)throw Error("seq: wrong combination of parameters.");const r=new n.valuesConstructor(s);for(let i=0;i<s;i++)r[i]=l+i*t;return new n(r)}function Un(l,e){const t=l.length*e,n=new l.constructor.valuesConstructor(t);for(let s=1;s<=e;s++)for(let r=0;r<l.length;r++)n[(s-1)*l.length+r]=l.v[r];return new l.constructor(n)}function Kn(l,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=l.length*e,n=new l.constructor.valuesConstructor(t);for(let s=0;s<l.length;s++)for(let r=0;r<e;r++)n[s*e+r]=l.v[s];return new l.constructor(n)}function pn(l,e,t){if(l.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(l.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const n=new l.constructor(l.length);for(let s=0;s<l.length;s++)n[s]=t(l[s],e[s]);return n}function gn(l,e,t){const n=new l.constructor(l.length);for(let s=0;s<l.length;s++)n[s]=t(l[s],e);return n}function dn(l,e,t,n,s,r){if(n!==s)throw Error("_dot: matrix dimensions do not much.");const i=t,o=r,f=n,a=new l.constructor(i*o);for(let c=0;c<o;c++){const u=e.subarray(c*s,(c+1)*s),m=a.subarray(c*i,(c+1)*i);for(let g=0;g<f;g++){const d=u[g],k=l.subarray(g*t,(g+1)*t);for(let w=0;w<i;w++)m[w]+=k[w]*d}}return a}function Xn(l){let e=l.slice(),t=e.length,n,s;for(;t;)s=Math.floor(Math.random()*t--),n=e[t],e[t]=e[s],e[s]=n;return e}function Qn(l,e=!1){return e?l.slice().sort((t,n)=>n-t):l.slice().sort((t,n)=>t-n)}function Zn(l,e=!1){const t=Qe.seq(1,l.length).v;return e?t.sort((n,s)=>l[s-1]-l[n-1]):t.sort((n,s)=>l[n-1]-l[s-1])}function qi(l,e){return 5*l*e+e}function Fi(l,e){return 2+2*l+l*e+9*e}function dt(l,e,t){if(!l||!l.class||!l.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const n=l.ncols,s=l.ncomp;let r,i;switch(e){case"mX":r=2,i=n;break;case"sX":r=2+n,i=n;break;case"loadings":case"xloadings":r=2+2*n+(t-1)*n,i=n;break;case"eigenvals":case"xeigenvals":r=2+2*n+n*s,i=s;break;case"cq0":r=2+2*n+n*s+s,i=s;break;case"cNq":r=2+2*n+n*s+2*s,i=s;break;case"rq0":r=2+2*n+n*s+3*s,i=s;break;case"rNq":r=2+2*n+n*s+4*s,i=s;break;case"ch0":r=2+2*n+n*s+5*s,i=s;break;case"cNh":r=2+2*n+n*s+6*s,i=s;break;case"rh0":r=2+2*n+n*s+7*s,i=s;break;case"rNh":r=2+2*n+n*s+8*s,i=s;break;default:throw Error("pcamodel_get: wrong outcome name.")}return l.v.subarray(r,r+i)}function Zt(l,e,t){if(!l||!l.class||!l.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const n=l.nrows,s=l.ncomp;let r,i;switch(e){case"scores":case"xscores":r=(t-1)*n,i=n;break;case"hdist":r=n*s+(t-1)*n,i=n;break;case"qdist":r=2*n*s+(t-1)*n,i=n;break;case"xcumexpvar":case"cumexpvar":r=3*n*s,i=s;break;case"fdistc":r=3*n*s+s+(t-1)*n,i=n;break;case"fdistr":r=4*n*s+s+(t-1)*n,i=n;break;default:throw new Error("pcares_get: wrong outcome name.")}return l.v.subarray(r,r+i)}function ji(l,e,t,n,s,r){r||(r=[]);const i=r&&Array.isArray(r)?r.length:0;if(t===void 0&&(t=Math.min(e.nrows-i-1,e.ncols)),n===void 0&&(n=!0),s===void 0&&(s=!1),!kt(e))throw new Error("pca_fit: X must be a matrix.");if(e.nrows-i<3||e.ncols<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(t<1||t>Math.min(e.nrows-i-1,e.ncols))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const o=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,o/e.v.BYTES_PER_ELEMENT);let f=null;if(i>0){const d=new Int16Array(r);f=l._malloc(d.length*d.BYTES_PER_ELEMENT),l.HEAP16.set(d,f/d.BYTES_PER_ELEMENT)}const a=Fi(e.ncols,t),c=Float64Array,u=l._malloc(a*c.BYTES_PER_ELEMENT);if(l.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number","number","number"],[o,e.nrows,e.ncols,t,n,s,u,f,i])!==1)throw new Error("pca_fit: PCA failed.");const g=l.HEAPF64.slice(u/c.BYTES_PER_ELEMENT,u/c.BYTES_PER_ELEMENT+a);return l._free(o),l._free(u),{class:["pcamodel"],v:g,ncomp:t,nrows:e.nrows-i,ncols:e.ncols,center:n,scale:s}}function Jt(l,e,t,n){n||(n=[]);const s=n&&Array.isArray(n)?n.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA results.');if(!kt(t))throw new Error("pca_predict: X must be a matrix.");if(t.nrows<1)throw new Error("pca_fit: X must have at least 1 row.");if(t.ncols!==e.ncols)throw new Error("pca_fit: X must have the same number of columns as the training set.");const r=l._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);l.HEAPF64.set(t.v,r/t.v.BYTES_PER_ELEMENT);let i=null;if(s>0){const g=new Int16Array(n);i=l._malloc(g.length*g.BYTES_PER_ELEMENT),l.HEAP16.set(g,i/g.BYTES_PER_ELEMENT)}const o=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,o/e.v.BYTES_PER_ELEMENT);const f=qi(t.nrows,e.ncomp),a=Float64Array,c=l._malloc(f*a.BYTES_PER_ELEMENT);if(l.ccall("pcapredict_wasm",["number"],["number","number","number","number","number","number","number"],[r,t.nrows,t.ncols,o,c,i,s])!==1)throw new Error("pca_predict: PCA prediction failed.");const m=l.HEAPF64.slice(c/a.BYTES_PER_ELEMENT,c/a.BYTES_PER_ELEMENT+f);return l._free(r),l._free(o),l._free(c),{class:["pcares"],v:m,ncomp:e.ncomp,nrows:t.nrows-s,ncols:t.ncols,center:e.center,scale:e.scale}}function Vi(l,e,t,n,s,r,i,o){o||(o=[]);const f=o&&Array.isArray(o)?o.length:0;if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pcapcv: parameter "m" must be JSON with PCA results.');if(!kt(t))throw new Error("pcapcv: X must be a matrix.");if(t.nrows-f<3)throw new Error("pcapcv: X must have at least 3 rows.");if(t.ncols!==e.ncols)throw new Error("pcapcv: X must have the same number of columns as the training set.");if(!Number.isInteger(r)||![0,1,2].includes(r))throw new Error('pcapcv: parameter "cv_type" must be one of 0 ("loo"), 1 ("ven"), 2 ("rand).');if(!Number.isInteger(i)||![0,1].includes(i))throw new Error('pcapcv: parameter "cv_scope" must be 0 ("global") or 1 ("local").');if(r>0&&(!Number.isInteger(s)||s<2))throw new Error('pcapcv: parameter "cv_nseg" must be a number ≥ 2.');if(r>0&&s>t.nrows-f)throw new Error('pcapcv: the value of "cv_nseg" is too large for the given X.');if(!Number.isInteger(n)||n<1)throw new Error('pcapcv: the value of "ncomp" must be a number >= 1.');const a=Math.min(r===0?t.nrows-f-2:t.nrows-f-Math.ceil((t.nrows-f)/s)-1,t.ncols,e.ncomp);if(n>a)throw new Error('pcapcv: the value of "ncomp" is too large.');const c=l._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);l.HEAPF64.set(t.v,c/t.v.BYTES_PER_ELEMENT);let u=null;if(f>0){const A=new Int16Array(o);u=l._malloc(A.length*A.BYTES_PER_ELEMENT),l.HEAP16.set(A,u/A.BYTES_PER_ELEMENT)}const m=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,m/e.v.BYTES_PER_ELEMENT);const g=t.v.length-f*t.ncols,d=t.v.constructor,k=l._malloc(g*d.BYTES_PER_ELEMENT);if(l.ccall("pcvpca_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number","number","number"],[c,t.nrows,t.ncols,n,e.center,e.scale,r,s,i,m,k,u,f])!==1)throw new Error("pcapcv: PCVPCA failed.");const b=l.HEAPF64.slice(k/d.BYTES_PER_ELEMENT,k/d.BYTES_PER_ELEMENT+g);return l._free(c),l._free(m),l._free(k),new gt(b,t.nrows-f,t.ncols)}function zi(l,e,t){if(!e||!t||e.length!==l.length)return null;let n=0,s=0,r=0,i=0;for(let o=0;o<l.length;o++)l[o]==="regular"&&e[o]===t&&(n=n+1),l[o]==="regular"&&e[o]!==t&&(s=s+1),l[o]!=="regular"&&e[o]===t&&(i=i+1),l[o]!=="regular"&&e[o]!==t&&(r=r+1);return{TP:n,FP:s,TN:r,FN:i,accuracy:(n+r)/(n+r+s+i),specificity:r/(r+s),sensitivity:n/(n+i)}}function Yi(l,e,t){const n=l.nrows,s=l.ncomp,r=t.limType==="classic"?"fdistc":"fdistr",i=Array.from({length:n},()=>"alternative"),o=new Array(s);for(let f=0;f<s;f++){let a=n;const c=Zt(l,r,f+1),u=t.eCrit[f],m=t.Nf[f],g=new de(c);let d=g.sort(),k=g.sortind();const w=Array.from({length:n},()=>"alien");let b=-1,A=0,R=0,L=0,E=0;for(;b<0;)A>0&&(w[k.v[a-1]-1]="external",a=a-1,k=k.slice(1,a),d=d.slice(1,a)),R=Vt(d),L=jn(d,!0),E=L/(R*R),b=4-2*m*E,A=A+1;const T=(2+Math.sqrt(b))/E,N=T-m,S=R/T,F=u/S,M=1-2*(m+N)*(m+3*N)/(3*(m+2*N)**2),j=(M-1)*(1-3*M),q=(m+2*N)/(m+N)**2,D=1+M*q*(M-1-.5*(2-M)*j*q),Q=M*Math.sqrt(2*q)*(1+.5*j*q),te=_n((Math.pow(F/(m+N),M)-D)/Q);o[f]=Jn(t,l,r,f,i),o[f].beta=te,o[f].s=N,o[f].k=m,o[f].Mz=D,o[f].Sz=Q,o[f].m=R,o[f].f0=S,o[f].hz=M,o[f].anum={aliens:a,external:n-a},o[f].a=w}return{class:["simcares"],v:o,className:t.className,alpha:t.alpha,limType:t.limType,ncomp:t.ncomp,nrows:n,classes:e.classes,labels:e.labels}}function Jn(l,e,t,n,s){const r=Zt(e,t,n+1),i=Zt(e,"hdist",n+1),o=Zt(e,"qdist",n+1),f=r.length,a=l.h0[n],c=l.Nh[n],u=l.q0[n],m=l.Nq[n],g=l.Nf[n],d=l.oCrit[n],k=l.eCrit[n],w=new Array(f),b=new Array(f),A={regular:0,extreme:0,outliers:0},R={in:0,out:0};for(let E=0;E<f;E++){const T=r[E];T<k?(w[E]="regular",b[E]="in",A.regular+=1,R.in+=1):T>d?(w[E]="outlier",b[E]="out",A.outliers+=1,R.out+=1):(w[E]="extreme",b[E]="out",A.extreme+=1,R.out+=1)}const L=s&&s.length===f?zi(w,s,l.className):null;return{h:i,h0:a,Nh:c,q:o,q0:u,Nq:m,f:r,Nf:g,eCrit:k,oCrit:d,c:w,d:b,cnum:A,dnum:R,stat:L}}function hn(l,e,t,n){const s=l.nrows,r=l.ncomp,i=e.limType==="classic"?"fdistc":"fdistr",o=Array.from({length:s},()=>e.className),f=new Array(r);for(let a=0;a<r;a++)f[a]=Jn(e,l,i,a,o);return{class:["simcares"],v:f,className:e.className,alpha:e.alpha,limType:e.limType,ncomp:e.ncomp,nrows:s,classes:t,labels:n}}const dm="";function Di(l){let e,t,n,s,r;const i=l[1].default,o=Nt(i,l,l[0],null);return{c(){e=V("span"),t=V("button"),o&&o.c(),_(t,"tabindex","0"),_(t,"class","button-rect svelte-12b8cv0"),_(e,"class","wrapper")},m(f,a){y(f,e,a),C(e,t),o&&o.m(t,null),n=!0,s||(r=Le(t,"click",l[2]),s=!0)},p(f,[a]){o&&o.p&&(!n||a&1)&&Lt(o,i,f,f[0],n?Mt(i,f[0],a,null):St(f[0]),null)},i(f){n||(p(o,f),n=!0)},o(f){h(o,f),n=!1},d(f){f&&v(e),o&&o.d(f),s=!1,r()}}}function Bi(l,e,t){let{$$slots:n={},$$scope:s}=e;function r(i){Ut.call(this,l,i)}return l.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,n,r]}class Ue extends ce{constructor(e){super(),ue(this,e,Bi,Di,le,{})}}const hm="";function Wi(l){let e,t,n;return{c(){e=V("button"),_(e,"tabindex","0"),_(e,"alt",l[0]),_(e,"title",l[0]),_(e,"class","svelte-2vapqe")},m(s,r){y(s,e,r),t||(n=Le(e,"click",l[1]),t=!0)},p(s,[r]){r&1&&_(e,"alt",s[0]),r&1&&_(e,"title",s[0])},i:$,o:$,d(s){s&&v(e),t=!1,n()}}}function Hi(l,e,t){let{title:n="Reset"}=e;function s(r){Ut.call(this,l,r)}return l.$$set=r=>{"title"in r&&t(0,n=r.title)},[n,s]}class vt extends ce{constructor(e){super(),ue(this,e,Hi,Wi,le,{title:0})}}const bm="";function xn(l){let e,t;return{c(){e=V("span"),t=G(l[0]),_(e,"class","label svelte-1ybd854")},m(n,s){y(n,e,s),C(e,t)},p(n,s){s&1&&ae(t,n[0])},d(n){n&&v(e)}}}function $i(l){let e,t,n,s,r=l[0]&&xn(l);const i=l[3].default,o=Nt(i,l,l[2],null);return{c(){e=V("div"),r&&r.c(),t=z(),o&&o.c(),_(e,"class",n="control-element "+l[1]+" svelte-1ybd854")},m(f,a){y(f,e,a),r&&r.m(e,null),C(e,t),o&&o.m(e,null),s=!0},p(f,[a]){f[0]?r?r.p(f,a):(r=xn(f),r.c(),r.m(e,t)):r&&(r.d(1),r=null),o&&o.p&&(!s||a&4)&&Lt(o,i,f,f[2],s?Mt(i,f[2],a,null):St(f[2]),null),(!s||a&2&&n!==(n="control-element "+f[1]+" svelte-1ybd854"))&&_(e,"class",n)},i(f){s||(p(o,f),s=!0)},o(f){h(o,f),s=!1},d(f){f&&v(e),r&&r.d(),o&&o.d(f)}}}function Gi(l,e,t){let{$$slots:n={},$$scope:s}=e,{label:r=null}=e,{status:i=""}=e;return l.$$set=o=>{"label"in o&&t(0,r=o.label),"status"in o&&t(1,i=o.status),"$$scope"in o&&t(2,s=o.$$scope)},[r,i,s,n]}class ee extends ce{constructor(e){super(),ue(this,e,Gi,$i,le,{label:0,status:1})}}const wm="";function el(l){let e,t=l[0].toFixed(l[4])+"",n;return{c(){e=V("span"),n=G(t),He(e,"padding-right","0.25em"),He(e,"color","#fefefe"),_(e,"class","range-value svelte-pjrnyj")},m(s,r){y(s,e,r),C(e,n)},p(s,r){r&17&&t!==(t=s[0].toFixed(s[4])+"")&&ae(n,t)},d(s){s&&v(e)}}}function tl(l){let e,t=l[0].toFixed(l[4])+"",n;return{c(){e=V("span"),n=G(t),He(e,"padding-left","0.25em"),He(e,"color","#606060"),_(e,"class","range-value svelte-pjrnyj")},m(s,r){y(s,e,r),C(e,n)},p(s,r){r&17&&t!==(t=s[0].toFixed(s[4])+"")&&ae(n,t)},d(s){s&&v(e)}}}function Ui(l){let e,t,n,s,r,i=l[7]>25&&el(l),o=l[7]<=25&&tl(l);return{c(){e=V("div"),t=V("div"),i&&i.c(),n=z(),o&&o.c(),_(t,"class","range-slider svelte-pjrnyj"),He(t,"width",l[7]+"%"),_(e,"id",l[1]),_(e,"role","slider"),_(e,"tabindex","0"),_(e,"aria-valuenow",l[0]),_(e,"aria-valuemin",l[2]),_(e,"aria-valuemax",l[3]),_(e,"class","range-slider-container svelte-pjrnyj")},m(f,a){y(f,e,a),C(e,t),i&&i.m(t,null),l[15](t),C(e,n),o&&o.m(e,null),l[16](e),s||(r=[Le(e,"mousewheel",di(l[11])),Le(e,"mousemove",l[12]),Le(e,"keydown",l[13]),Le(e,"mousedown",l[8]),Le(e,"mouseleave",l[9]),Le(e,"mouseup",l[10])],s=!0)},p(f,[a]){f[7]>25?i?i.p(f,a):(i=el(f),i.c(),i.m(t,null)):i&&(i.d(1),i=null),a&128&&He(t,"width",f[7]+"%"),f[7]<=25?o?o.p(f,a):(o=tl(f),o.c(),o.m(e,null)):o&&(o.d(1),o=null),a&2&&_(e,"id",f[1]),a&1&&_(e,"aria-valuenow",f[0]),a&4&&_(e,"aria-valuemin",f[2]),a&8&&_(e,"aria-valuemax",f[3])},i:$,o:$,d(f){f&&v(e),i&&i.d(),l[15](null),o&&o.d(),l[16](null),s=!1,it(r)}}}function Ki(l,e,t){let n,{id:s}=e,{value:r}=e,{min:i}=e,{max:o}=e,{decNum:f=1}=e,{step:a=+((o-i)/100).toFixed(4)}=e;if(r<i||r>o)throw new Error("The value is outside of the provided range.");const c=Gt();let u,m,g=!1;const d=S=>{const F=i+S*(o-i);return+(Math.round(F/a)*a).toFixed(4)},k=S=>{const F=u.getBoundingClientRect(),M=m.getBoundingClientRect(),j=F.x,q=M.x+M.width;return(S.clientX-j)/(q-j)},w=S=>{const F=k(S);F<0||F>1||(g=F*100>n-5&&F*100<n+5)},b=S=>{g=!1},A=S=>{g=!1;const F=k(S);F<0||F>1||t(0,r=d(F))},R=S=>{let F=r+a*S.deltaY*.5;F<i&&(F=i),F>o&&(F=o),t(0,r=+(Math.round(F/a)*a).toFixed(4))},L=S=>{if(!g)return;const F=k(S);F<0||F>1||t(0,r=d(F))},E=S=>{if(S.key==="ArrowLeft"){t(0,r=r-a<i?i:r-a);return}if(S.key==="ArrowRight"){t(0,r=r+a>o?o:r+a);return}};function T(S){Z[S?"unshift":"push"](()=>{u=S,t(5,u)})}function N(S){Z[S?"unshift":"push"](()=>{m=S,t(6,m)})}return l.$$set=S=>{"id"in S&&t(1,s=S.id),"value"in S&&t(0,r=S.value),"min"in S&&t(2,i=S.min),"max"in S&&t(3,o=S.max),"decNum"in S&&t(4,f=S.decNum),"step"in S&&t(14,a=S.step)},l.$$.update=()=>{l.$$.dirty&13&&t(7,n=(r-i)/(o-i)*100),l.$$.dirty&1&&c("change",r)},[r,s,i,o,f,u,m,n,w,b,A,R,L,E,a,T,N]}class nl extends ce{constructor(e){super(),ue(this,e,Ki,Ui,le,{id:1,value:0,min:2,max:3,decNum:4,step:14})}}const km="";function ll(l,e,t){const n=l.slice();return n[7]=e[t],n}function sl(l,e){let t,n,s=e[7]+"",r,i,o,f;function a(){return e[5](e[7])}return{key:l,first:null,c(){t=V("button"),n=new qn(!1),r=z(),n.a=r,_(t,"class",i="option option_"+e[7]+" svelte-18e38uq"),We(t,"selected",e[7]==e[0]),this.first=t},m(c,u){y(c,t,u),n.m(s,t),C(t,r),o||(f=Le(t,"click",a),o=!0)},p(c,u){e=c,u&4&&s!==(s=e[7]+"")&&n.p(s),u&4&&i!==(i="option option_"+e[7]+" svelte-18e38uq")&&_(t,"class",i),u&5&&We(t,"selected",e[7]==e[0])},d(c){c&&v(t),o=!1,f()}}}function Xi(l){let e,t=[],n=new Map,s,r,i,o,f,a=ke(l[2]);const c=u=>u[7];for(let u=0;u<a.length;u+=1){let m=ll(l,a,u),g=c(m);n.set(g,t[u]=sl(g,m))}return{c(){e=V("div");for(let u=0;u<t.length;u+=1)t[u].c();r=z(),i=V("input"),_(e,"role","radiogroup"),_(e,"tabindex","0"),_(e,"class",s="selector "+l[3]+" svelte-18e38uq"),_(i,"name",l[1]),_(i,"class","svelte-18e38uq")},m(u,m){y(u,e,m);for(let g=0;g<t.length;g+=1)t[g]&&t[g].m(e,null);y(u,r,m),y(u,i,m),Pn(i,l[0]),o||(f=[Le(e,"keydown",l[4]),Le(i,"input",l[6])],o=!0)},p(u,[m]){m&5&&(a=ke(u[2]),t=Mi(t,m,c,1,u,a,n,e,Ni,sl,null,ll)),m&8&&s!==(s="selector "+u[3]+" svelte-18e38uq")&&_(e,"class",s),m&2&&_(i,"name",u[1]),m&1&&i.value!==u[0]&&Pn(i,u[0])},i:$,o:$,d(u){u&&(v(e),v(r),v(i));for(let m=0;m<t.length;m+=1)t[m].d();o=!1,it(f)}}}function Qi(l,e,t){let{id:n}=e,{options:s}=e,{value:r=s[0]}=e,{className:i=""}=e;const o=c=>{if(console.log(c.key),c.key==="ArrowLeft"){const u=s.findIndex(m=>m===r);u>0&&t(0,r=s[u-1]);return}if(c.key==="ArrowRight"){const u=s.findIndex(m=>m===r);u<s.length&&t(0,r=s[u+1]);return}},f=c=>t(0,r=c);function a(){r=this.value,t(0,r)}return l.$$set=c=>{"id"in c&&t(1,n=c.id),"options"in c&&t(2,s=c.options),"value"in c&&t(0,r=c.value),"className"in c&&t(3,i=c.className)},[r,n,s,i,o,f,a]}class ye extends ce{constructor(e){super(),ue(this,e,Qi,Xi,le,{id:1,options:2,value:0,className:3})}}const vm="";function Zi(l){let e;return{c(){e=V("div"),_(e,"class","spinner svelte-1jycdl0")},m(t,n){y(t,e,n)},p:$,i:$,o:$,d(t){t&&v(e)}}}class xt extends ce{constructor(e){super(),ue(this,e,null,Zi,le,{})}}const ym="",Cm="";function Ji(l){let e,t=(l[0]?l[0].name:l[2])+"",n,s,r,i,o;return{c(){e=V("label"),n=G(t),s=z(),r=V("input"),_(r,"name",l[1]),_(r,"type","file"),_(r,"accept",l[3]),_(r,"class","svelte-7uwoge"),_(e,"class","svelte-7uwoge"),We(e,"selected",l[0]!==null)},m(f,a){y(f,e,a),C(e,n),C(e,s),C(e,r),l[6](r),i||(o=Le(r,"change",l[5]),i=!0)},p(f,[a]){a&5&&t!==(t=(f[0]?f[0].name:f[2])+"")&&ae(n,t),a&2&&_(r,"name",f[1]),a&8&&_(r,"accept",f[3]),a&1&&We(e,"selected",f[0]!==null)},i:$,o:$,d(f){f&&v(e),l[6](null),i=!1,o()}}}function xi(l,e,t){let{id:n}=e,{file:s}=e,{message:r="Select CSV file with dataset"}=e,{acceptType:i=".csv"}=e,o;function f(c){o.files.length>0&&t(0,s=o.files[0])}function a(c){Z[c?"unshift":"push"](()=>{o=c,t(4,o)})}return l.$$set=c=>{"id"in c&&t(1,n=c.id),"file"in c&&t(0,s=c.file),"message"in c&&t(2,r=c.message),"acceptType"in c&&t(3,i=c.acceptType)},[s,n,r,i,o,f,a]}class en extends ce{constructor(e){super(),ue(this,e,xi,Ji,le,{id:1,file:0,message:2,acceptType:3})}}function bn(l,e,t,n,s){function r(A){return A.some(R=>Number.isNaN(Number.parseFloat(R.trim())))}e===void 0&&(e=",");const i=e===";"?",":".";l=l.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),l=l.replace(/\r/gm,"");let o=l.split(/\n/),f=[],a=0;const c=o[0].split(e);(t||t===void 0&&r(c))&&(f=c,a=1),o=o.filter(A=>A.trim().length>1);let u=[],m=0;n&&(m=1);let g=[],d=[];s&&(m=m+1);const k=o.length-a,w=c.length-m;if(k<1)throw Error("Data file should contain at least 1 row with values.");if(w<1)throw Error("Data file should contain at least 1 column with values.");const b=gt.zeros(w,k);for(let A=a;A<k+a;A++){let R=o[A].split(e);if(n&&(u.push(R[0]),R=R.slice(1)),s){const E=R[0];d.push(E),(g.length===0||g.indexOf(E)<0)&&g.push(E),R=R.slice(1)}const L=R.map(E=>Number.parseFloat(E.trim().replace(i,".")));if(L.some(E=>Number.isNaN(E)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(L.length!=w)throw Error("Wrong number of values in row #"+A);b.v.set(new Float64Array(L),(A-a)*w)}return{values:b.t(),header:f,labels:u,classes:d,classNames:g,sep:e,dec:i}}function wn(l,e,t,n){(!n||!Array.isArray(n))&&(n=[]);const s=l.ncomp,r=e.values.nrows,i=n.length,o=r-i,f=l.v[s-1],a=l.classes&&l.classes.length===o,c=a?["","","","",""]:["","","",""];let u="";if(u+=["Target class:",l.className,...c].join(e.sep)+`
`,u+=["Reference classes:",a?"provided":"not provided",...c].join(e.sep)+`
`,u+=["Number of components:",s,...c].join(e.sep)+`
`,u+=["Alpha:",(l.alpha/100).toFixed(3),...c].join(e.sep)+`
`,u+=["Limits estimator:",l.limType,...c].join(e.sep)+`
`,u+=`
`,u+=["Nh:",f.Nh,...c].join(e.sep)+`
`,u+=["Nq:",f.Nq,...c].join(e.sep)+`
`,u+=["Nf:",f.Nf,...c].join(e.sep)+`
`,u+=`
`,u+=["F crit (extremes):",f.eCrit,...c].join(e.sep)+`
`,u+=["F crit (outliers):",f.oCrit,...c].join(e.sep)+`
`,u+=`
`,f.beta){u+=["Objects treated as from non-target class","",...c].join(e.sep)+`
`,u+=["Objects:",r,...c].join(e.sep)+`
`,u+=["In:",f.dnum.in,...c].join(e.sep)+`
`,u+=["Out:",f.dnum.out,...c].join(e.sep)+`
`,u+=["Aliens:",f.anum.aliens,...c].join(e.sep)+`
`,u+=["External:",f.anum.external,...c].join(e.sep)+`
`,u+=["Specificity:",f.stat.specificity?f.stat.specificity:"-",...c].join(e.sep)+`
`,u+=["Beta:",f.beta,...c].join(e.sep)+`
`,u+=`
`,u+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;for(let w=0;w<r;w++)u+=["",e.labels[w],l.classes[w],f.a[w],f.d[w],f.h[w]/f.h0,f.q[w]/f.q0,f.f[w]].join(e.sep)+`
`}else{u+=["Objects treated as from target class","",...c].join(e.sep)+`
`,u+=["Objects:",r,...c].join(e.sep)+`
`,u+=["Removed:",i,...c].join(e.sep)+`
`,u+=["In:",f.dnum.in,...c].join(e.sep)+`
`,u+=["Out:",f.dnum.out,...c].join(e.sep)+`
`,u+=["Regular:",f.cnum.regular,...c].join(e.sep)+`
`,u+=["Extreme:",f.cnum.extreme,...c].join(e.sep)+`
`,u+=["Outliers:",f.cnum.outliers,...c].join(e.sep)+`
`,u+=["Sensitivity:",f.stat.sensitivity?f.stat.sensitivity:"-",...c].join(e.sep)+`
`,u+=`
`,u+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;let w=0;for(let b=0;b<r;b++){if(i>0&&n.includes(b)){u+=["",e.labels[b],"-","removed","-","-","-","-"].join(e.sep)+`
`;continue}u+=["",e.labels[w],l.classes[w],f.c[w],f.d[w],f.h[w]/f.h0,f.q[w]/f.q0,f.f[w]].join(e.sep)+`
`,w=w+1}}u+=`
`,e.dec!=="."&&(u=u.replace(/\./g,e.dec));let m=["DD-SIMCA results ("+t+")","https://mda.tools/ddsimca/",...c].join(e.sep)+`

`;const g=new Blob([m+u],{type:"text/csv"}),d=window.URL.createObjectURL(g),k=document.createElement("a");k.setAttribute("href",d),k.setAttribute("download",`ddsimca-results-${t}.csv`),k.click()}function kn(l,e){const t=new Blob([JSON.stringify({pca:{class:l.class,ncomp:l.ncomp,nrows:l.nrows,ncols:l.ncols,center:l.center,scale:l.scale,lim:{classic:{Nh:Array.from(l.lim.classic.Nh),Nq:Array.from(l.lim.classic.Nq),q0:Array.from(l.lim.classic.q0),h0:Array.from(l.lim.classic.h0)},robust:{Nh:Array.from(l.lim.robust.Nh),Nq:Array.from(l.lim.robust.Nq),q0:Array.from(l.lim.robust.q0),h0:Array.from(l.lim.robust.h0)}},v:Array.from(l.v)},simca:{h0:Array.from(e.h0),Nh:Array.from(e.Nh),q0:Array.from(e.q0),Nq:Array.from(e.Nq),Nf:Array.from(e.Nf),eCrit:Array.from(e.eCrit),oCrit:Array.from(e.oCrit),ncomp:e.ncomp,alpha:e.alpha,gamma:e.gamma,limType:e.limType,className:e.className}})],{type:"application/json"}),n=window.URL.createObjectURL(t),s=document.createElement("a");s.setAttribute("href",n),s.setAttribute("download","ddsimca-model.json"),s.click()}function eo(l){let e,t;return e=new ee({props:{$$slots:{default:[no]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&32769&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function to(l){let e=l[1]===void 0,t,n,s,r=rl(l),i=l[1]&&il(l);return{c(){r.c(),t=z(),i&&i.c(),n=J()},m(o,f){r.m(o,f),y(o,t,f),i&&i.m(o,f),y(o,n,f),s=!0},p(o,f){f&2&&le(e,e=o[1]===void 0)?(K(),h(r,1,1,$),X(),r=rl(o),r.c(),p(r,1),r.m(t.parentNode,t)):r.p(o,f),o[1]?i?(i.p(o,f),f&2&&p(i,1)):(i=il(o),i.c(),p(i,1),i.m(n.parentNode,n)):i&&(K(),h(i,1,1,()=>{i=null}),X())},i(o){s||(p(r),p(i),s=!0)},o(o){h(r),h(i),s=!1},d(o){o&&(v(t),v(n)),r.d(o),i&&i.d(o)}}}function no(l){let e,t,n=l[0].values.nrows+"",s,r,i=l[0].values.ncols+"",o,f,a,c;return a=new vt({}),a.$on("click",l[9]),{c(){e=V("p"),t=G("Training set is loaded: "),s=G(n),r=G(" × "),o=G(i),f=z(),P(a.$$.fragment)},m(u,m){y(u,e,m),C(e,t),C(e,s),C(e,r),C(e,o),y(u,f,m),O(a,u,m),c=!0},p(u,m){(!c||m&1)&&n!==(n=u[0].values.nrows+"")&&ae(s,n),(!c||m&1)&&i!==(i=u[0].values.ncols+"")&&ae(o,i)},i(u){c||(p(a.$$.fragment,u),c=!0)},o(u){h(a.$$.fragment,u),c=!1},d(u){u&&(v(e),v(f)),I(a,u)}}}function lo(l){let e,t,n;function s(i){l[10](i)}let r={id:"dataFile",message:"Select CSV file with training set"};return l[1]!==void 0&&(r.file=l[1]),e=new en({props:r}),Z.push(()=>ne(e,"file",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};!t&&o&2&&(t=!0,f.file=i[1],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function rl(l){let e,t;return e=new ee({props:{$$slots:{default:[lo]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&32770&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function il(l){let e,t,n,s,r,i,o,f;return e=new ee({props:{label:"Delimiter:",$$slots:{default:[so]},$$scope:{ctx:l}}}),n=new ee({props:{label:"Header:",$$slots:{default:[ro]},$$scope:{ctx:l}}}),r=new ee({props:{label:"Row labels:",$$slots:{default:[io]},$$scope:{ctx:l}}}),o=new ee({props:{label:" ",$$slots:{default:[fo]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment),t=z(),P(n.$$.fragment),s=z(),P(r.$$.fragment),i=z(),P(o.$$.fragment)},m(a,c){O(e,a,c),y(a,t,c),O(n,a,c),y(a,s,c),O(r,a,c),y(a,i,c),O(o,a,c),f=!0},p(a,c){const u={};c&32772&&(u.$$scope={dirty:c,ctx:a}),e.$set(u);const m={};c&32776&&(m.$$scope={dirty:c,ctx:a}),n.$set(m);const g={};c&32784&&(g.$$scope={dirty:c,ctx:a}),r.$set(g);const d={};c&32768&&(d.$$scope={dirty:c,ctx:a}),o.$set(d)},i(a){f||(p(e.$$.fragment,a),p(n.$$.fragment,a),p(r.$$.fragment,a),p(o.$$.fragment,a),f=!0)},o(a){h(e.$$.fragment,a),h(n.$$.fragment,a),h(r.$$.fragment,a),h(o.$$.fragment,a),f=!1},d(a){a&&(v(t),v(s),v(i)),I(e,a),I(n,a),I(r,a),I(o,a)}}}function so(l){let e,t,n;function s(i){l[11](i)}let r={id:"sep",options:l[7]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),Z.push(()=>ne(e,"value",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};!t&&o&4&&(t=!0,f.value=i[2],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function ro(l){let e,t,n;function s(i){l[12](i)}let r={id:"hasHeader",options:["yes","no"]};return l[3]!==void 0&&(r.value=l[3]),e=new ye({props:r}),Z.push(()=>ne(e,"value",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};!t&&o&8&&(t=!0,f.value=i[3],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function io(l){let e,t,n;function s(i){l[13](i)}let r={id:"hasLabels",options:["yes","no"]};return l[4]!==void 0&&(r.value=l[4]),e=new ye({props:r}),Z.push(()=>ne(e,"value",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};!t&&o&16&&(t=!0,f.value=i[4],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function oo(l){let e;return{c(){e=G("Load")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function fo(l){let e,t;return e=new Ue({props:{$$slots:{default:[oo]},$$scope:{ctx:l}}}),e.$on("click",l[8]),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&32768&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ol(l){let e,t;return e=new ee({props:{status:"error",$$slots:{default:[ao]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&32832&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ao(l){let e,t;return{c(){e=V("p"),t=G(l[6])},m(n,s){y(n,e,s),C(e,t)},p(n,s){s&64&&ae(t,n[6])},d(n){n&&v(e)}}}function uo(l){let e,t,n,s,r;const i=[to,eo],o=[];function f(c,u){return c[0]?1:0}e=f(l),t=o[e]=i[e](l);let a=(l[5]==="error"||l[6])&&ol(l);return{c(){t.c(),n=z(),a&&a.c(),s=J()},m(c,u){o[e].m(c,u),y(c,n,u),a&&a.m(c,u),y(c,s,u),r=!0},p(c,[u]){let m=e;e=f(c),e===m?o[e].p(c,u):(K(),h(o[m],1,1,()=>{o[m]=null}),X(),t=o[e],t?t.p(c,u):(t=o[e]=i[e](c),t.c()),p(t,1),t.m(n.parentNode,n)),c[5]==="error"||c[6]?a?(a.p(c,u),u&96&&p(a,1)):(a=ol(c),a.c(),p(a,1),a.m(s.parentNode,s)):a&&(K(),h(a,1,1,()=>{a=null}),X())},i(c){r||(p(t),p(a),r=!0)},o(c){h(t),h(a),r=!1},d(c){c&&(v(n),v(s)),o[e].d(c),a&&a.d(c)}}}function co(l,e,t){let{dataset:n}=e,s,r=",",i="yes",o="no",f="neutral",a="";const c=[",",";"];function u(A){try{const R=bn(A,r,i==="yes",o==="yes",!0);if(R.values.nrows<3||R.values.ncols<3)throw new Error("Calibration set must have at least 3 rows and 3 columns");if(R.classNames.length!==1)throw new Error("Calibration set must have a column filled with target class name.");o!=="yes"&&(R.labels=Array.from({length:R.values.nrows},(L,E)=>E+1)),t(0,n=R),t(6,a=""),t(5,f="success")}catch(R){t(0,n=null),t(5,f="error"),t(6,a=R)}}function m(A){const R=new FileReader;R.onload=()=>u(R.result),R.readAsBinaryString(s)}function g(){t(0,n=null),t(1,s=null)}function d(A){s=A,t(1,s)}function k(A){r=A,t(2,r)}function w(A){i=A,t(3,i)}function b(A){o=A,t(4,o)}return l.$$set=A=>{"dataset"in A&&t(0,n=A.dataset)},l.$$.update=()=>{l.$$.dirty&2&&(s===null?g():(t(5,f="neutral"),t(6,a=""))),l.$$.dirty&4&&r&&(t(5,f="neutral"),t(6,a=""))},[n,s,r,i,o,f,a,c,m,g,d,k,w,b]}let mo=class extends ce{constructor(e){super(),ue(this,e,co,uo,le,{dataset:0})}};function fl(l){let e,t,n,s,r;e=new ee({props:{label:"Split type:",$$slots:{default:[_o]},$$scope:{ctx:l}}});let i=l[5]!=="loo"&&al(l);return s=new ee({props:{label:" ",$$slots:{default:[ho]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment),t=z(),i&&i.c(),n=z(),P(s.$$.fragment)},m(o,f){O(e,o,f),y(o,t,f),i&&i.m(o,f),y(o,n,f),O(s,o,f),r=!0},p(o,f){const a={};f&1048624&&(a.$$scope={dirty:f,ctx:o}),e.$set(a),o[5]!=="loo"?i?(i.p(o,f),f&32&&p(i,1)):(i=al(o),i.c(),p(i,1),i.m(n.parentNode,n)):i&&(K(),h(i,1,1,()=>{i=null}),X());const c={};f&1048576&&(c.$$scope={dirty:f,ctx:o}),s.$set(c)},i(o){r||(p(e.$$.fragment,o),p(i),p(s.$$.fragment,o),r=!0)},o(o){h(e.$$.fragment,o),h(i),h(s.$$.fragment,o),r=!1},d(o){o&&(v(t),v(n)),I(e,o),i&&i.d(o),I(s,o)}}}function _o(l){let e,t,n;function s(i){l[15](i)}let r={id:"cvType",options:l[4]};return l[5]!==void 0&&(r.value=l[5]),e=new ye({props:r}),Z.push(()=>ne(e,"value",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};o&16&&(f.options=i[4]),!t&&o&32&&(t=!0,f.value=i[5],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function al(l){let e,t;return e=new ee({props:{label:"Segments:",$$slots:{default:[po]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&1048704&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function po(l){let e,t,n;function s(i){l[16](i)}let r={id:"nseg",options:l[8]};return l[7]!==void 0&&(r.value=l[7]),e=new ye({props:r}),Z.push(()=>ne(e,"value",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};!t&&o&128&&(t=!0,f.value=i[7],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function go(l){let e;return{c(){e=G("Compute PV-set")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function ho(l){let e,t;return e=new Ue({props:{$$slots:{default:[go]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&1048576&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ul(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:yo,then:ko,catch:bo,value:18,error:19,blocks:[,,,]};return pt(t=l[6],s),{c(){e=J(),s.block.c()},m(r,i){y(r,e,i),s.block.m(r,s.anchor=i),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,i){l=r,s.ctx=l,i&64&&t!==(t=l[6])&&pt(t,s)||Xt(s,l,i)},i(r){n||(p(s.block),n=!0)},o(r){for(let i=0;i<3;i+=1){const o=s.blocks[i];h(o)}n=!1},d(r){r&&v(e),s.block.d(r),s.token=null,s=null}}}function bo(l){let e,t;return e=new ee({props:{status:"error",$$slots:{default:[wo]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&1048640&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function wo(l){let e,t=l[19]+"",n;return{c(){e=V("p"),n=G(t)},m(s,r){y(s,e,r),C(e,n)},p(s,r){r&64&&t!==(t=s[19]+"")&&ae(n,t)},d(s){s&&v(e)}}}function ko(l){let e,t,n=l[0]!==null&&cl(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,r){s[0]!==null?n?(n.p(s,r),r&1&&p(n,1)):(n=cl(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),h(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function cl(l){let e,t;return e=new ee({props:{$$slots:{default:[vo]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&1048737&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function vo(l){let e,t,n=l[0].values.nrows+"",s,r,i=l[0].values.ncols+"",o,f,a,c,u=l[5]!=="loo"?l[7]+" seg":"",m,g,d,k;return d=new vt({}),d.$on("click",l[10]),{c(){e=V("p"),t=G("PV-set is computed: "),s=G(n),r=G(" × "),o=G(i),f=G(", "),a=G(l[5]),c=z(),m=G(u),g=z(),P(d.$$.fragment)},m(w,b){y(w,e,b),C(e,t),C(e,s),C(e,r),C(e,o),C(e,f),C(e,a),C(e,c),C(e,m),y(w,g,b),O(d,w,b),k=!0},p(w,b){(!k||b&1)&&n!==(n=w[0].values.nrows+"")&&ae(s,n),(!k||b&1)&&i!==(i=w[0].values.ncols+"")&&ae(o,i),(!k||b&32)&&ae(a,w[5]),(!k||b&160)&&u!==(u=w[5]!=="loo"?w[7]+" seg":"")&&ae(m,u)},i(w){k||(p(d.$$.fragment,w),k=!0)},o(w){h(d.$$.fragment,w),k=!1},d(w){w&&(v(e),v(g)),I(d,w)}}}function yo(l){let e,t;return e=new ee({props:{$$slots:{default:[Co]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&1048576&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Co(l){let e,t,n,s;return e=new xt({}),{c(){P(e.$$.fragment),t=z(),n=V("p"),n.textContent="Computing PV-set..."},m(r,i){O(e,r,i),y(r,t,i),y(r,n,i),s=!0},p:$,i(r){s||(p(e.$$.fragment,r),s=!0)},o(r){h(e.$$.fragment,r),s=!1},d(r){r&&(v(t),v(n)),I(e,r)}}}function ml(l){let e,t;return e=new ee({props:{status:"error",$$slots:{default:[Eo]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&1048584&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Eo(l){let e,t;return{c(){e=V("p"),t=G(l[3])},m(n,s){y(n,e,s),C(e,t)},p(n,s){s&8&&ae(t,n[3])},d(n){n&&v(e)}}}function Ao(l){let e,t,n,s,r=l[1]&&!l[0]&&l[2]!=="busy"&&fl(l),i=l[6]&&ul(l),o=l[2]==="error"&&l[3]&&ml(l);return{c(){r&&r.c(),e=z(),i&&i.c(),t=z(),o&&o.c(),n=J()},m(f,a){r&&r.m(f,a),y(f,e,a),i&&i.m(f,a),y(f,t,a),o&&o.m(f,a),y(f,n,a),s=!0},p(f,[a]){f[1]&&!f[0]&&f[2]!=="busy"?r?(r.p(f,a),a&7&&p(r,1)):(r=fl(f),r.c(),p(r,1),r.m(e.parentNode,e)):r&&(K(),h(r,1,1,()=>{r=null}),X()),f[6]?i?(i.p(f,a),a&64&&p(i,1)):(i=ul(f),i.c(),p(i,1),i.m(t.parentNode,t)):i&&(K(),h(i,1,1,()=>{i=null}),X()),f[2]==="error"&&f[3]?o?(o.p(f,a),a&12&&p(o,1)):(o=ml(f),o.c(),p(o,1),o.m(n.parentNode,n)):o&&(K(),h(o,1,1,()=>{o=null}),X())},i(f){s||(p(r),p(i),p(o),s=!0)},o(f){h(r),h(i),h(o),s=!1},d(f){f&&(v(e),v(t),v(n)),r&&r.d(f),i&&i.d(f),o&&o.d(f)}}}function No(l,e,t){let{WASM:n}=e,{calset:s}=e,{model:r}=e,{pvset:i}=e,{pvres:o}=e,{outliers:f}=e,a="neutral",c=null,u=["ven","rand","loo"],m="ven",g,d=s&&s.values.nrows>0?[3,4,5,10,20].filter(E=>E>=s.values.nrows/(s.values.nrows-r.ncomp-1)&&E<=s.values.nrows/2):[],k=d.length>0?d[0]:0;async function w(E,T,N){t(6,g=n().then(S=>{const F=N.type=="loo"?0:N.type=="rand"?2:1,M=Vi(S,T,E.values,T.ncomp,N.nseg,F,0,f);t(0,i={values:M,header:E.header,labels:E.labels,classes:E.classes,sep:E.sep,dec:E.dec}),t(11,o=Jt(S,T,i.values))}).catch(S=>{t(0,i=null),t(11,o=null),t(2,a="error"),t(3,c=S)}))}function b(E){t(2,a="neutral"),t(3,c=null),w(s,r,{type:m,nseg:k})}function A(){t(2,a="neutral"),t(3,c=null),t(6,g=null),t(0,i=null)}function R(E){m=E,t(5,m),t(8,d)}function L(E){k=E,t(7,k)}return l.$$set=E=>{"WASM"in E&&t(12,n=E.WASM),"calset"in E&&t(13,s=E.calset),"model"in E&&t(1,r=E.model),"pvset"in E&&t(0,i=E.pvset),"pvres"in E&&t(11,o=E.pvres),"outliers"in E&&t(14,f=E.outliers)},l.$$.update=()=>{l.$$.dirty&2&&r===null&&A()},d.length===0&&(t(4,u=["loo"]),t(5,m="loo")),[i,r,a,c,u,m,g,k,d,b,A,o,n,s,f,R,L]}class Mo extends ce{constructor(e){super(),ue(this,e,No,Ao,le,{WASM:12,calset:13,model:1,pvset:0,pvres:11,outliers:14})}}function _l(l){let e,t,n,s,r,i,o,f;return e=new ee({props:{label:"# of PCs",$$slots:{default:[Lo]},$$scope:{ctx:l}}}),n=new ee({props:{label:"Center",$$slots:{default:[So]},$$scope:{ctx:l}}}),r=new ee({props:{label:"Scale",$$slots:{default:[To]},$$scope:{ctx:l}}}),o=new ee({props:{label:" ",$$slots:{default:[Oo]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment),t=z(),P(n.$$.fragment),s=z(),P(r.$$.fragment),i=z(),P(o.$$.fragment)},m(a,c){O(e,a,c),y(a,t,c),O(n,a,c),y(a,s,c),O(r,a,c),y(a,i,c),O(o,a,c),f=!0},p(a,c){const u={};c&4194340&&(u.$$scope={dirty:c,ctx:a}),e.$set(u);const m={};c&4194368&&(m.$$scope={dirty:c,ctx:a}),n.$set(m);const g={};c&4194432&&(g.$$scope={dirty:c,ctx:a}),r.$set(g);const d={};c&4194304&&(d.$$scope={dirty:c,ctx:a}),o.$set(d)},i(a){f||(p(e.$$.fragment,a),p(n.$$.fragment,a),p(r.$$.fragment,a),p(o.$$.fragment,a),f=!0)},o(a){h(e.$$.fragment,a),h(n.$$.fragment,a),h(r.$$.fragment,a),h(o.$$.fragment,a),f=!1},d(a){a&&(v(t),v(s),v(i)),I(e,a),I(n,a),I(r,a),I(o,a)}}}function Lo(l){let e,t,n;function s(i){l[16](i)}let r={id:"ncomp",min:1,max:l[2],step:1,decNum:0};return l[5]!==void 0&&(r.value=l[5]),e=new nl({props:r}),Z.push(()=>ne(e,"value",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};o&4&&(f.max=i[2]),!t&&o&32&&(t=!0,f.value=i[5],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function So(l){let e,t,n;function s(i){l[17](i)}let r={id:"center",options:["yes","no"]};return l[6]!==void 0&&(r.value=l[6]),e=new ye({props:r}),Z.push(()=>ne(e,"value",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};!t&&o&64&&(t=!0,f.value=i[6],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function To(l){let e,t,n;function s(i){l[18](i)}let r={id:"scale",options:["yes","no"]};return l[7]!==void 0&&(r.value=l[7]),e=new ye({props:r}),Z.push(()=>ne(e,"value",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};!t&&o&128&&(t=!0,f.value=i[7],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function Ro(l){let e;return{c(){e=G("Create model")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function Oo(l){let e,t;return e=new Ue({props:{$$slots:{default:[Ro]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&4194304&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function pl(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:jo,then:qo,catch:Io,value:20,error:21,blocks:[,,,]};return pt(t=l[8],s),{c(){e=J(),s.block.c()},m(r,i){y(r,e,i),s.block.m(r,s.anchor=i),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,i){l=r,s.ctx=l,i&256&&t!==(t=l[8])&&pt(t,s)||Xt(s,l,i)},i(r){n||(p(s.block),n=!0)},o(r){for(let i=0;i<3;i+=1){const o=s.blocks[i];h(o)}n=!1},d(r){r&&v(e),s.block.d(r),s.token=null,s=null}}}function Io(l){let e,t;return e=new ee({props:{status:"error",$$slots:{default:[Po]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&4194560&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Po(l){let e,t=l[21]+"",n;return{c(){e=V("p"),n=G(t)},m(s,r){y(s,e,r),C(e,n)},p(s,r){r&256&&t!==(t=s[21]+"")&&ae(n,t)},d(s){s&&v(e)}}}function qo(l){let e,t,n=l[0]!==null&&gl(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,r){s[0]!==null?n?(n.p(s,r),r&1&&p(n,1)):(n=gl(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),h(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function gl(l){let e,t;return e=new ee({props:{$$slots:{default:[Fo]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&4194305&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Fo(l){let e,t,n=l[0].ncomp+"",s,r,i,o,f;return o=new vt({}),o.$on("click",l[10]),{c(){e=V("p"),t=G("Global model is computed: "),s=G(n),r=G(" PCs"),i=z(),P(o.$$.fragment)},m(a,c){y(a,e,c),C(e,t),C(e,s),C(e,r),y(a,i,c),O(o,a,c),f=!0},p(a,c){(!f||c&1)&&n!==(n=a[0].ncomp+"")&&ae(s,n)},i(a){f||(p(o.$$.fragment,a),f=!0)},o(a){h(o.$$.fragment,a),f=!1},d(a){a&&(v(e),v(i)),I(o,a)}}}function jo(l){let e,t;return e=new ee({props:{$$slots:{default:[Vo]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&4194304&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Vo(l){let e,t,n,s;return e=new xt({}),{c(){P(e.$$.fragment),t=z(),n=V("p"),n.textContent="Computing global model..."},m(r,i){O(e,r,i),y(r,t,i),y(r,n,i),s=!0},p:$,i(r){s||(p(e.$$.fragment,r),s=!0)},o(r){h(e.$$.fragment,r),s=!1},d(r){r&&(v(t),v(n)),I(e,r)}}}function dl(l){let e,t;return e=new ee({props:{status:"error",$$slots:{default:[zo]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&4194320&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function zo(l){let e,t;return{c(){e=V("p"),t=G(l[4])},m(n,s){y(n,e,s),C(e,t)},p(n,s){s&16&&ae(t,n[4])},d(n){n&&v(e)}}}function Yo(l){let e,t,n,s,r=l[1]&&!l[0]&&l[3]!=="computing"&&_l(l),i=l[8]&&pl(l),o=(l[3]==="error"||l[4])&&dl(l);return{c(){r&&r.c(),e=z(),i&&i.c(),t=z(),o&&o.c(),n=J()},m(f,a){r&&r.m(f,a),y(f,e,a),i&&i.m(f,a),y(f,t,a),o&&o.m(f,a),y(f,n,a),s=!0},p(f,[a]){f[1]&&!f[0]&&f[3]!=="computing"?r?(r.p(f,a),a&11&&p(r,1)):(r=_l(f),r.c(),p(r,1),r.m(e.parentNode,e)):r&&(K(),h(r,1,1,()=>{r=null}),X()),f[8]?i?(i.p(f,a),a&256&&p(i,1)):(i=pl(f),i.c(),p(i,1),i.m(t.parentNode,t)):i&&(K(),h(i,1,1,()=>{i=null}),X()),f[3]==="error"||f[4]?o?(o.p(f,a),a&24&&p(o,1)):(o=dl(f),o.c(),p(o,1),o.m(n.parentNode,n)):o&&(K(),h(o,1,1,()=>{o=null}),X())},i(f){s||(p(r),p(i),p(o),s=!0)},o(f){h(r),h(i),h(o),s=!1},d(f){f&&(v(e),v(t),v(n)),r&&r.d(f),i&&i.d(f),o&&o.d(f)}}}const hl=5,bl=1,Dt="classic";function Do(l,e,t){let n,{WASM:s}=e,{model:r}=e,{simca:i}=e,{calset:o}=e,{calres:f}=e,{className:a}=e,{outliers:c}=e,u="neutral",m=null,g=1,d="yes",k="no",w;async function b(N,S,F,M){t(8,w=s().then(j=>{t(3,u="computing");const q=ji(j,N,S,F,M,c);q.lim={classic:{h0:dt(q,"ch0"),Nh:dt(q,"cNh"),q0:dt(q,"cq0"),Nq:dt(q,"cNq")},robust:{h0:dt(q,"rh0"),Nh:dt(q,"rNh"),q0:dt(q,"rq0"),Nq:dt(q,"rNq")}},t(0,r=q),t(12,f=Jt(j,r,N,c));const D=r.lim[Dt].Nh,Q=r.lim[Dt].h0,te=r.lim[Dt].Nq,Y=r.lim[Dt].q0,W=D.map((ge,he)=>ge+te[he]),oe=W.map(ge=>wt(1-hl/100,ge)),fe=W.map(ge=>wt(Math.pow(1-bl/100,1/r.nrows),ge));t(11,i={ncomp:1,alpha:hl,gamma:bl,limType:Dt,h0:Q,q0:Y,Nh:D,Nq:te,Nf:W,eCrit:oe,oCrit:fe,className:a}),t(3,u="success")}).catch(j=>{t(0,r=null),t(12,f=null),t(11,i=null),t(3,u="error"),t(4,m=j)}))}function A(N){t(3,u="neutral"),t(4,m=null),b(o.values,g,d==="yes",k==="yes")}function R(){t(3,u="neutral"),t(8,w=null),t(0,r=null),t(4,m=null)}function L(N){g=N,t(5,g),t(2,n),t(1,o)}function E(N){d=N,t(6,d)}function T(N){k=N,t(7,k)}return l.$$set=N=>{"WASM"in N&&t(13,s=N.WASM),"model"in N&&t(0,r=N.model),"simca"in N&&t(11,i=N.simca),"calset"in N&&t(1,o=N.calset),"calres"in N&&t(12,f=N.calres),"className"in N&&t(14,a=N.className),"outliers"in N&&t(15,c=N.outliers)},l.$$.update=()=>{l.$$.dirty&2&&o===null&&R(),l.$$.dirty&2&&t(2,n=o?Math.min(o.values.nrows-2,o.values.ncols-1):null),l.$$.dirty&4&&t(5,g=n?Math.min(n,20):null)},[r,o,n,u,m,g,d,k,w,A,R,i,f,s,a,c,L,E,T]}class Bo extends ce{constructor(e){super(),ue(this,e,Do,Yo,le,{WASM:13,model:0,simca:11,calset:1,calres:12,className:14,outliers:15})}}const Em="";function wl(l){let e,t,n,s,r,i,o,f=l[0].cal.nrows+"",a,c,u,m=l[0].pv.nrows+"",g,d,k,w,b,A,R=l[2].cnum.extreme+"",L,E,T,N=l[1].cnum.extreme+"",S,F,M,j,q,D,Q=l[2].cnum.outliers+"",te,Y,W,oe=l[1].cnum.outliers+"",fe,ge,he,we,Ee,Oe,je=l[2].stat.sensitivity.toFixed(2)+"",Be,Se,Ve,$e=l[1].stat.sensitivity.toFixed(2)+"",ze;return{c(){e=V("table"),t=V("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Cal</th> <th class="svelte-kg0b31">PV</th>',n=z(),s=V("tr"),r=V("td"),r.textContent="Objects",i=z(),o=V("td"),a=G(f),c=z(),u=V("td"),g=G(m),d=z(),k=V("tr"),w=V("td"),w.textContent="Extremes",b=z(),A=V("td"),L=G(R),E=z(),T=V("td"),S=G(N),F=z(),M=V("tr"),j=V("td"),j.textContent="Outliers",q=z(),D=V("td"),te=G(Q),Y=z(),W=V("td"),fe=G(oe),ge=z(),he=V("tr"),we=V("td"),we.textContent="Sensitivity",Ee=z(),Oe=V("td"),Be=G(je),Se=z(),Ve=V("td"),ze=G($e),_(t,"class","svelte-kg0b31"),_(r,"class","label svelte-kg0b31"),_(o,"class","svelte-kg0b31"),_(u,"class","svelte-kg0b31"),_(s,"class","svelte-kg0b31"),_(w,"class","label svelte-kg0b31"),_(A,"class","svelte-kg0b31"),_(T,"class","svelte-kg0b31"),_(k,"class","svelte-kg0b31"),_(j,"class","label svelte-kg0b31"),_(D,"class","svelte-kg0b31"),_(W,"class","svelte-kg0b31"),_(M,"class","svelte-kg0b31"),_(we,"class","label svelte-kg0b31"),_(Oe,"class","svelte-kg0b31"),_(Ve,"class","svelte-kg0b31"),_(he,"class","svelte-kg0b31"),_(e,"class","svelte-kg0b31")},m(Ae,Ye){y(Ae,e,Ye),C(e,t),C(e,n),C(e,s),C(s,r),C(s,i),C(s,o),C(o,a),C(s,c),C(s,u),C(u,g),C(e,d),C(e,k),C(k,w),C(k,b),C(k,A),C(A,L),C(k,E),C(k,T),C(T,S),C(e,F),C(e,M),C(M,j),C(M,q),C(M,D),C(D,te),C(M,Y),C(M,W),C(W,fe),C(e,ge),C(e,he),C(he,we),C(he,Ee),C(he,Oe),C(Oe,Be),C(he,Se),C(he,Ve),C(Ve,ze)},p(Ae,Ye){Ye&1&&f!==(f=Ae[0].cal.nrows+"")&&ae(a,f),Ye&1&&m!==(m=Ae[0].pv.nrows+"")&&ae(g,m),Ye&4&&R!==(R=Ae[2].cnum.extreme+"")&&ae(L,R),Ye&2&&N!==(N=Ae[1].cnum.extreme+"")&&ae(S,N),Ye&4&&Q!==(Q=Ae[2].cnum.outliers+"")&&ae(te,Q),Ye&2&&oe!==(oe=Ae[1].cnum.outliers+"")&&ae(fe,oe),Ye&4&&je!==(je=Ae[2].stat.sensitivity.toFixed(2)+"")&&ae(Be,je),Ye&2&&$e!==($e=Ae[1].stat.sensitivity.toFixed(2)+"")&&ae(ze,$e)},d(Ae){Ae&&v(e)}}}function Wo(l){let e,t=l[2]&&l[1]&&wl(l);return{c(){t&&t.c(),e=J()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[2]&&n[1]?t?t.p(n,s):(t=wl(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&v(e),t&&t.d(n)}}}function Ho(l,e,t){let n,s,r,{res:i}=e,{simca:o}=e;return l.$$set=f=>{"res"in f&&t(0,i=f.res),"simca"in f&&t(3,o=f.simca)},l.$$.update=()=>{l.$$.dirty&8&&t(4,n=o?o.ncomp:null),l.$$.dirty&17&&t(2,s=n?i.cal.v[n-1]:null),l.$$.dirty&17&&t(1,r=n?i.pv.v[n-1]:null)},[i,r,s,o,n]}let $o=class extends ce{constructor(e){super(),ue(this,e,Ho,Wo,le,{res:0,simca:3})}};const Am="";function kl(l,e,t){const n=l.slice();return n[19]=e[t].label,n[20]=e[t].plotComponent,n[21]=e[t].controlsComponent,n[23]=t,n}function Go(l){let e,t=l[19]+"",n,s,r;function i(){return l[15](l[23])}function o(){return l[16](l[23])}return{c(){e=V("button"),n=G(t),_(e,"class","plot-selector svelte-dhzh2h")},m(f,a){y(f,e,a),C(e,n),s||(r=[Le(e,"keydown",i),Le(e,"click",o)],s=!0)},p(f,a){l=f,a&4&&t!==(t=l[19]+"")&&ae(n,t)},i:$,o:$,d(f){f&&v(e),s=!1,it(r)}}}function Uo(l){let e,t,n,s,r,i,o;function f(m){l[14](m)}var a=l[21];function c(m,g){let d={simcares:m[0]};return m[5]!==void 0&&(d.params=m[5]),{props:d}}a&&(e=$t(a,c(l)),Z.push(()=>ne(e,"params",f))),s=new ee({props:{label:"Download as",$$slots:{default:[Qo]},$$scope:{ctx:l}}});let u=l[3]>=0&&vl(l);return{c(){e&&P(e.$$.fragment),n=z(),P(s.$$.fragment),r=z(),u&&u.c(),i=J()},m(m,g){e&&O(e,m,g),y(m,n,g),O(s,m,g),y(m,r,g),u&&u.m(m,g),y(m,i,g),o=!0},p(m,g){if(g&4&&a!==(a=m[21])){if(e){K();const k=e;h(k.$$.fragment,1,0,()=>{I(k,1)}),X()}a?(e=$t(a,c(m)),Z.push(()=>ne(e,"params",f)),P(e.$$.fragment),p(e.$$.fragment,1),O(e,n.parentNode,n)):e=null}else if(a){const k={};g&1&&(k.simcares=m[0]),!t&&g&32&&(t=!0,k.params=m[5],ie(()=>t=!1)),e.$set(k)}const d={};g&16777216&&(d.$$scope={dirty:g,ctx:m}),s.$set(d),m[3]>=0?u?(u.p(m,g),g&8&&p(u,1)):(u=vl(m),u.c(),p(u,1),u.m(i.parentNode,i)):u&&(K(),h(u,1,1,()=>{u=null}),X())},i(m){o||(e&&p(e.$$.fragment,m),p(s.$$.fragment,m),p(u),o=!0)},o(m){e&&h(e.$$.fragment,m),h(s.$$.fragment,m),h(u),o=!1},d(m){m&&(v(n),v(r),v(i)),e&&I(e,m),I(s,m),u&&u.d(m)}}}function Ko(l){let e;return{c(){e=G("SVG")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function Xo(l){let e;return{c(){e=G("PNG")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function Qo(l){let e,t,n,s,r;return t=new Ue({props:{$$slots:{default:[Ko]},$$scope:{ctx:l}}}),t.$on("click",l[8]),s=new Ue({props:{$$slots:{default:[Xo]},$$scope:{ctx:l}}}),s.$on("click",l[7]),{c(){e=V("div"),P(t.$$.fragment),n=z(),P(s.$$.fragment),_(e,"class","buttons svelte-dhzh2h")},m(i,o){y(i,e,o),O(t,e,null),C(e,n),O(s,e,null),r=!0},p(i,o){const f={};o&16777216&&(f.$$scope={dirty:o,ctx:i}),t.$set(f);const a={};o&16777216&&(a.$$scope={dirty:o,ctx:i}),s.$set(a)},i(i){r||(p(t.$$.fragment,i),p(s.$$.fragment,i),r=!0)},o(i){h(t.$$.fragment,i),h(s.$$.fragment,i),r=!1},d(i){i&&v(e),I(t),I(s)}}}function vl(l){let e,t;return e=new ee({props:{label:"Selected",$$slots:{default:[Jo]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&16777216&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Zo(l){let e;return{c(){e=G("remove as outlier")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function Jo(l){let e,t,n,s;return t=new Ue({props:{$$slots:{default:[Zo]},$$scope:{ctx:l}}}),t.$on("click",l[10]),{c(){e=V("div"),P(t.$$.fragment),n=z(),_(e,"class","buttons button-outlier svelte-dhzh2h")},m(r,i){y(r,e,i),O(t,e,null),y(r,n,i),s=!0},p(r,i){const o={};i&16777216&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){s||(p(t.$$.fragment,r),s=!0)},o(r){h(t.$$.fragment,r),s=!1},d(r){r&&(v(e),v(n)),I(t)}}}function yl(l){let e,t,n,s;const r=[Uo,Go],i=[];function o(f,a){return f[4]===f[23]?0:1}return e=o(l),t=i[e]=r[e](l),{c(){t.c(),n=J()},m(f,a){i[e].m(f,a),y(f,n,a),s=!0},p(f,a){let c=e;e=o(f),e===c?i[e].p(f,a):(K(),h(i[c],1,1,()=>{i[c]=null}),X(),t=i[e],t?t.p(f,a):(t=i[e]=r[e](f),t.c()),p(t,1),t.m(n.parentNode,n))},i(f){s||(p(t),s=!0)},o(f){h(t),s=!1},d(f){f&&v(n),i[e].d(f)}}}function xo(l){let e,t,n,s,r,i,o;function f(d){l[12](d)}var a=l[2][l[4]].plotComponent;function c(d,k){let w={simcares:d[0],simca:d[1],params:d[5]};return d[3]!==void 0&&(w.selected=d[3]),{props:w}}a&&(n=$t(a,c(l)),Z.push(()=>ne(n,"selected",f)));let u=ke(l[2]),m=[];for(let d=0;d<u.length;d+=1)m[d]=yl(kl(l,u,d));const g=d=>h(m[d],1,1,()=>{m[d]=null});return{c(){e=V("div"),t=V("div"),n&&P(n.$$.fragment),r=z(),i=V("div");for(let d=0;d<m.length;d+=1)m[d].c();_(t,"class","plot-area svelte-dhzh2h"),_(i,"class","plot-controls-area svelte-dhzh2h"),_(e,"class","plot-container svelte-dhzh2h")},m(d,k){y(d,e,k),C(e,t),n&&O(n,t,null),l[13](t),C(e,r),C(e,i);for(let w=0;w<m.length;w+=1)m[w]&&m[w].m(i,null);o=!0},p(d,[k]){if(k&20&&a!==(a=d[2][d[4]].plotComponent)){if(n){K();const w=n;h(w.$$.fragment,1,0,()=>{I(w,1)}),X()}a?(n=$t(a,c(d)),Z.push(()=>ne(n,"selected",f)),P(n.$$.fragment),p(n.$$.fragment,1),O(n,t,null)):n=null}else if(a){const w={};k&1&&(w.simcares=d[0]),k&2&&(w.simca=d[1]),k&32&&(w.params=d[5]),!s&&k&8&&(s=!0,w.selected=d[3],ie(()=>s=!1)),n.$set(w)}if(k&1981){u=ke(d[2]);let w;for(w=0;w<u.length;w+=1){const b=kl(d,u,w);m[w]?(m[w].p(b,k),p(m[w],1)):(m[w]=yl(b),m[w].c(),p(m[w],1),m[w].m(i,null))}for(K(),w=u.length;w<m.length;w+=1)g(w);X()}},i(d){if(!o){n&&p(n.$$.fragment,d);for(let k=0;k<u.length;k+=1)p(m[k]);o=!0}},o(d){n&&h(n.$$.fragment,d),m=m.filter(Boolean);for(let k=0;k<m.length;k+=1)h(m[k]);o=!1},d(d){d&&v(e),n&&I(n),l[13](null),Ge(m,d)}}}const ef=600;function tf(){const l=new Int32Array(256);for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;l[e]=t}return l}function nf(l){let e=-1,t=tf();for(let n=0;n<l.length;n++)e=t[(e^l[n])&255]^e>>>8;return e^-1}function lf(l,e){const t=new Uint8Array(13);e*=39.3701,t[0]="p".charCodeAt(0),t[1]="H".charCodeAt(0),t[2]="Y".charCodeAt(0),t[3]="s".charCodeAt(0),t[4]=e>>>24,t[5]=e>>>16,t[6]=e>>>8,t[7]=e&255,t[8]=t[4],t[9]=t[5],t[10]=t[6],t[11]=t[7],t[12]=1;const n=nf(t),s=new Uint8Array(4);s[0]=n>>>24,s[1]=n>>>16,s[2]=n>>>8,s[3]=n&255;const r=new Uint8Array(4);r[0]=0,r[1]=0,r[2]=0,r[3]=9;const i=new Uint8Array(54);return i.set(l,0),i.set(r,33),i.set(t,37),i.set(s,50),i}function vn(l,e){const t=l.split(","),n=t[0],s=t[1],r=33/3*4,i=s.substring(0,r),o=s.substring(r),f=atob(i),a=new Uint8Array(f.length);for(let m=0;m<a.length;m++)a[m]=f.charCodeAt(m);const c=lf(a,e),u=btoa(String.fromCharCode(...c));return[n,",",u,o].join("")}function sf(l,e,t){let{simcares:n}=e,{simca:s}=e,{options:r}=e,i=-1;const o=Gt(),f=3.125*ef;function a(){const E=g.getElementsByTagName("svg")[0],T=E.style.fontSize;E.parentNode.classList.add("off-screen"),setTimeout(()=>{E.style.fontSize="16px";const N=E.clientWidth,S=E.clientHeight,F=f/N,M=document.createElement("canvas"),j=M.getContext("2d");M.width=N*F,M.height=S*F,E.setAttribute("width",M.width),E.setAttribute("height",M.height),j.fillStyle="white",j.scale(F,F),j.fillRect(0,0,M.width,M.height);const q=new XMLSerializer().serializeToString(E),D=new Image;D.onload=function(){j.drawImage(D,0,0,M.width,M.height);const Q=M.toDataURL("image/png"),te=vn(Q,600),Y=document.createElement("a");Y.href=te,Y.download="ddcimca-plot.png",Y.click()},D.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(q))),E.style.fontSize=T,E.parentNode.classList.remove("off-screen")},20)}function c(){const E=g.getElementsByTagName("svg")[0];E.setAttribute("xmlns","http://www.w3.org/2000/svg");const T=new Blob([E.parentNode.innerHTML],{type:"image/svg+xml"}),N=window.URL.createObjectURL(T),S=document.createElement("a");S.setAttribute("href",N),S.setAttribute("download","ddsimca-plot.svg"),S.click()}let u=0,m=null,g;function d(E){t(5,m=null),t(4,u=E)}function k(E){o("setoutlier",{id:i})}function w(E){i=E,t(3,i)}function b(E){Z[E?"unshift":"push"](()=>{g=E,t(6,g)})}function A(E){m=E,t(5,m)}const R=E=>d(E),L=E=>d(E);return l.$$set=E=>{"simcares"in E&&t(0,n=E.simcares),"simca"in E&&t(1,s=E.simca),"options"in E&&t(2,r=E.options)},[n,s,r,i,u,m,g,a,c,d,k,vn,w,b,A,R,L]}class yn extends ce{constructor(e){super(),ue(this,e,sf,xo,le,{simcares:0,simca:1,options:2,changeDPI:11})}get changeDPI(){return vn}}const qt=[];function Ft(l,e=$){let t;const n=new Set;function s(o){if(le(l,o)&&(l=o,t)){const f=!qt.length;for(const a of n)a[1](),qt.push(a,l);if(f){for(let a=0;a<qt.length;a+=2)qt[a][0](qt[a+1]);qt.length=0}}}function r(o){s(o(l))}function i(o,f=$){const a=[o,f];return n.add(a),n.size===1&&(t=e(s,r)||$),o(l),()=>{n.delete(a),n.size===0&&t&&(t(),t=null)}}return{set:s,update:r,subscribe:i}}function Cl(l){if(l===void 0)return;const e=Math.abs(Pt(Fn(l)));let t=0;if(e<1&&Math.abs(Ie(l))<1){let n=Math.ceil(-Math.log10(e));return n<=2?[0,Array.from(l).map(s=>s.toFixed(n).toString())]:(t=n-2,n=2,[-t,Array.from(l).map(s=>(s*Math.pow(10,t)).toFixed(n).toString())])}else{let n=Math.ceil(Math.log10(e));return n<=2?[0,Array.from(l).map(s=>s.toString())]:(t=n-2,n=2,[t,Array.from(l).map(s=>(s/Math.pow(10,t)).toString())])}}function at(l,e){if(Array.isArray(l)&&(l=Pe(l)),!Me(l))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(l.length<1)throw Error(e+": vector with coordinates is empty.");return l}function rf(l,e,t,n,s){if(l===void 0||e===void 0)return;const r=s.transform(at(l,"val2p"),t.coords),i=s.transform(at(e,"val2p"),n.coords);if(r.length!=i.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let o="";for(let f=0;f<r.length;f++)o+=r[f]+","+i[f]+" ";return o}function El(l,e,t,n=!0){if(l!==void 0){if(Array.isArray(l)&&(l=Pe(l)),!Me(l))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return l.filter(a=>a>=e[0]&a<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const s=(e[1]-e[0])/50,r=Al(e[1]-e[0]-1*s,n),i=Al(r/(t-1),n),o=Math.ceil((e[0]+s)/i)*i,f=Math.floor((e[1]-s)/i)*i;if(t=Math.round((f-o+1)/i)+1,l=de.seq(o,f,i),Math.abs(i)<1){const a=Math.pow(10,1+Math.round(-Math.log10(i)));l=l.apply(c=>Math.round((c+Number.EPSILON)*a)/a)}return l.filter(a=>a>=e[0]&a<=e[1])}function Al(l,e){const t=Math.floor(Math.log10(l)),n=l/Math.pow(10,t);let s;return e?n<1.5?s=1:n<3?s=2:n<7?s=5:s=10:n<=1?s=1:n<=2?s=2:n<=5?s=5:s=10,s*Math.pow(10,t)}function of(l){return Math.round(l*10)/10}function ff(l,e){return e<300.2||l<300.2?"small":e<600.2||l<600.2?"medium":e<850.2||l<850.2?"large":"xlarge"}const Nm="",af=l=>({}),Nl=l=>({}),uf=l=>({}),Ml=l=>({}),cf=l=>({}),Ll=l=>({});function Sl(l){let e,t,n;return{c(){e=_e("text"),_(e,"x",0),_(e,"y",t=(l[4]+l[8])/2),_(e,"dx",0),_(e,"dy",0),_(e,"dominant-baseline","top"),_(e,"transform",n=`rotate(-90, 10, ${l[4]/2})`),He(e,"font-size","1.1em")},m(s,r){y(s,e,r),e.innerHTML=l[2]},p(s,r){r[0]&4&&(e.innerHTML=s[2]),r[0]&272&&t!==(t=(s[4]+s[8])/2)&&_(e,"y",t),r[0]&16&&n!==(n=`rotate(-90, 10, ${s[4]/2})`)&&_(e,"transform",n)},d(s){s&&v(e)}}}function Tl(l){let e,t,n;return{c(){e=_e("text"),_(e,"x",t=l[7]+l[3]/2),_(e,"y",n=l[4]+l[8]),_(e,"dx",0),_(e,"dy",5),_(e,"dominant-baseline","middle"),He(e,"font-size","1.1em")},m(s,r){y(s,e,r),e.innerHTML=l[1]},p(s,r){r[0]&2&&(e.innerHTML=s[1]),r[0]&136&&t!==(t=s[7]+s[3]/2)&&_(e,"x",t),r[0]&272&&n!==(n=s[4]+s[8])&&_(e,"y",n)},d(s){s&&v(e)}}}function Rl(l){let e,t;return{c(){e=_e("text"),_(e,"x",t=l[7]+l[3]/2),_(e,"y",0),_(e,"dx",0),_(e,"dy",10),_(e,"dominant-baseline","hanging"),He(e,"font-size","1.2em")},m(n,s){y(n,e,s),e.innerHTML=l[0]},p(n,s){s[0]&1&&(e.innerHTML=n[0]),s[0]&136&&t!==(t=n[7]+n[3]/2)&&_(e,"x",t)},d(n){n&&v(e)}}}function Ol(l){let e;return{c(){e=V("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,_(e,"class","message_error svelte-iey6d1")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function mf(l){let e,t,n,s,r,i,o,f,a,c,u,m,g,d,k,w,b,A,R,L=l[2]&&l[2]!==""&&Sl(l),E=l[1]&&l[1]!==""&&Tl(l),T=l[0]&&l[0]!==""&&Rl(l);const N=l[31].xaxis,S=Nt(N,l,l[30],Ll),F=l[31].yaxis,M=Nt(F,l,l[30],Ml),j=l[31].default,q=Nt(j,l,l[30],null),D=l[31].box,Q=Nt(D,l,l[30],Nl);let te=!l[5]&&Ol();return{c(){e=V("div"),t=_e("svg"),n=_e("g"),L&&L.c(),s=J(),E&&E.c(),r=J(),T&&T.c(),i=_e("svg"),o=_e("defs"),f=_e("clipPath"),a=_e("rect"),S&&S.c(),M&&M.c(),d=_e("g"),q&&q.c(),Q&&Q.c(),w=z(),te&&te.c(),_(n,"style",l[9]),He(a,"pointer-events","none"),_(a,"x",c=l[12][0]),_(a,"y",u=l[11][1]),_(a,"width",m=l[12][1]-l[12][0]),_(a,"height",g=l[11][0]-l[11][1]),_(f,"id",l[13]),_(d,"class","axes-content svelte-iey6d1"),_(d,"clip-path","url(#"+l[13]+")"),_(i,"x",l[7]),_(i,"y",l[8]),_(i,"width",l[3]),_(i,"height",l[4]),_(i,"preserveAspectRatio","none"),_(i,"class","axes"),_(t,"class","plot svelte-iey6d1"),_(t,"xmlns","http://www.w3.org/2000/svg"),_(t,"style",k=`font-family: Arial, Helvetica, sans-serif;font-size:${l[10]}px`),_(e,"class","plot-container svelte-iey6d1"),We(e,"plot_error",!l[5])},m(Y,W){y(Y,e,W),C(e,t),C(t,n),L&&L.m(n,null),C(n,s),E&&E.m(n,null),C(n,r),T&&T.m(n,null),C(t,i),C(i,o),C(o,f),C(f,a),S&&S.m(i,null),M&&M.m(i,null),C(i,d),q&&q.m(d,null),Q&&Q.m(i,null),l[32](t),C(e,w),te&&te.m(e,null),l[33](e),b=!0,A||(R=[Le(i,"click",l[14]),Le(i,"keydown",l[14])],A=!0)},p(Y,W){Y[2]&&Y[2]!==""?L?L.p(Y,W):(L=Sl(Y),L.c(),L.m(n,s)):L&&(L.d(1),L=null),Y[1]&&Y[1]!==""?E?E.p(Y,W):(E=Tl(Y),E.c(),E.m(n,r)):E&&(E.d(1),E=null),Y[0]&&Y[0]!==""?T?T.p(Y,W):(T=Rl(Y),T.c(),T.m(n,null)):T&&(T.d(1),T=null),(!b||W[0]&512)&&_(n,"style",Y[9]),(!b||W[0]&4096&&c!==(c=Y[12][0]))&&_(a,"x",c),(!b||W[0]&2048&&u!==(u=Y[11][1]))&&_(a,"y",u),(!b||W[0]&4096&&m!==(m=Y[12][1]-Y[12][0]))&&_(a,"width",m),(!b||W[0]&2048&&g!==(g=Y[11][0]-Y[11][1]))&&_(a,"height",g),S&&S.p&&(!b||W[0]&1073741824)&&Lt(S,N,Y,Y[30],b?Mt(N,Y[30],W,cf):St(Y[30]),Ll),M&&M.p&&(!b||W[0]&1073741824)&&Lt(M,F,Y,Y[30],b?Mt(F,Y[30],W,uf):St(Y[30]),Ml),q&&q.p&&(!b||W[0]&1073741824)&&Lt(q,j,Y,Y[30],b?Mt(j,Y[30],W,null):St(Y[30]),null),Q&&Q.p&&(!b||W[0]&1073741824)&&Lt(Q,D,Y,Y[30],b?Mt(D,Y[30],W,af):St(Y[30]),Nl),(!b||W[0]&128)&&_(i,"x",Y[7]),(!b||W[0]&256)&&_(i,"y",Y[8]),(!b||W[0]&8)&&_(i,"width",Y[3]),(!b||W[0]&16)&&_(i,"height",Y[4]),(!b||W[0]&1024&&k!==(k=`font-family: Arial, Helvetica, sans-serif;font-size:${Y[10]}px`))&&_(t,"style",k),Y[5]?te&&(te.d(1),te=null):te||(te=Ol(),te.c(),te.m(e,null)),(!b||W[0]&32)&&We(e,"plot_error",!Y[5])},i(Y){b||(p(S,Y),p(M,Y),p(q,Y),p(Q,Y),b=!0)},o(Y){h(S,Y),h(M,Y),h(q,Y),h(Q,Y),b=!1},d(Y){Y&&v(e),L&&L.d(),E&&E.d(),T&&T.d(),S&&S.d(Y),M&&M.d(Y),q&&q.d(Y),Q&&Q.d(Y),l[32](null),te&&te.d(),l[33](null),A=!1,it(R)}}}function _f(l,e,t){let n,s,r,i,o,f,a,c,u,m,g,{$$slots:d={},$$scope:k}=e,{limX:w}=e,{limY:b}=e,{title:A=""}=e,{xLabel:R=""}=e,{yLabel:L=""}=e,{margins:E=[1,.75,.5,.5]}=e;const T=Gt(),N={small:30,medium:40,large:50,xlarge:60},S={small:5,medium:8,large:12,xlarge:15},F={small:4,medium:6,large:8,xlarge:10},M={small:10,medium:12,large:14,xlarge:16},j={small:11,medium:13,large:16,xlarge:19},q={small:10,medium:13,large:15,xlarge:17},D={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},Q=["●","◼","▲","▼","⬥","＋","*","×"],te="plottingArea"+Math.round(Math.random()*1e4);let Y,W=100,oe=100,fe=0,ge=0,he=0;function we(U,pe){const Re=Array.prototype.indexOf.call(pe.parentNode.children,pe);T(U,{seriesTitle:pe.parentNode.getAttribute("title"),elementID:Re})}function Ee(U){if(U.target.tagName==="text"&&U.target.parentNode.classList.contains("series_points")){we("markerclick",U.target);return}if(U.target.tagName==="rect"&&U.target.parentNode.classList.contains("series_bar")){we("barclick",U.target);return}T("axesclick")}const Oe=function(U,pe){if(!(!u||U===void 0||U===null)&&(Array.isArray(U)&&(U=Pe(U)),!(!Me(U)||U.length<1)))return U.apply(Re=>of((Re-pe[1])*pe[0]+pe[2])).v},je=function(U,pe){if(!(!u||U===void 0||U===null)&&(Array.isArray(U)&&(U=Pe(U)),!(!Me(U)||U.length<1)))return U.apply(Re=>(Re-pe[2])/pe[0]+pe[1]).v},Be=Ft("medium");re(l,Be,U=>t(25,f=U));const Se=Ft({coords:[1,0,0],objects:[1,0,0]});re(l,Se,U=>t(28,m=U));const Ve=Ft({coords:[1,0,0],objects:[1,0,0]});re(l,Ve,U=>t(26,a=U));const $e=Ft(!1);re(l,$e,U=>t(5,u=U));const ze=Ft(w);re(l,ze,U=>t(29,g=U));const Ae=Ft(b);re(l,Ae,U=>t(27,c=U)),vi("axes",{transform:Oe,invTransform:je,scale:Be,isOk:$e,xLim:ze,yLim:Ae,tX:Se,tY:Ve,xLabel:R,yLabel:L,LINE_STYLES:D,LABELS_MARGIN:q,TICK_NUM:S,TICK_SIZE:F,MARKER_SYMBOLS:Q,LEGEND_FONT_SIZE:M});const nt=new ResizeObserver(U=>{for(let pe of U){const Re=Y.getBoundingClientRect(),tn=ff(Re.width,Re.height);Be.update(oi=>tn);const Bt=j[tn]*1.5;t(7,fe=R&&R!==""?Bt:0),ge=L&&L!==""?Bt:0,t(8,he=A&&A!==""?Bt:0),t(3,W=Re.width>fe?Re.width-fe:0),t(4,oe=Re.height>ge+he?Re.height-ge-he:0)}});wi(()=>{nt.observe(Y)}),ki(()=>{nt.unobserve(Y)});function Je(U){Z[U?"unshift":"push"](()=>{Y=U,t(6,Y)})}function lt(U){Z[U?"unshift":"push"](()=>{Y=U,t(6,Y)})}return l.$$set=U=>{"limX"in U&&t(21,w=U.limX),"limY"in U&&t(22,b=U.limY),"title"in U&&t(0,A=U.title),"xLabel"in U&&t(1,R=U.xLabel),"yLabel"in U&&t(2,L=U.yLabel),"margins"in U&&t(23,E=U.margins),"$$scope"in U&&t(30,k=U.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&41943040&&t(24,n=E.map(U=>U*N[f])),l.$$.dirty[0]&2097152&&ze.update(U=>w),l.$$.dirty[0]&4194304&&Ae.update(U=>b),l.$$.dirty[0]&687865880&&$e.update(U=>Array.isArray(c)&&Array.isArray(g)&&g.length===2&&c.length===2&&!c.some(pe=>pe===void 0)&&!g.some(pe=>pe===void 0)&&!c.some(pe=>isNaN(pe))&&!g.some(pe=>isNaN(pe))&&g[1]!==g[0]&&c[1]!==c[0]&&W>n[1]+n[3]&&oe>n[0]+n[2]),l.$$.dirty[0]&553648168&&u&&Se.update(U=>({coords:[(W-n[1]-n[3])/(g[1]-g[0]),g[0],n[1]],objects:[(W-n[1]-n[3])/(g[1]-g[0]),0,0]})),l.$$.dirty[0]&150994992&&u&&Ve.update(U=>({coords:[-(oe-n[0]-n[2])/(c[1]-c[0]),c[1],n[2]],objects:[(oe-n[0]-n[2])/(c[1]-c[0]),0,0]})),l.$$.dirty[0]&805306400&&t(12,s=u?Oe(g,m.coords):[0,1]),l.$$.dirty[0]&201326624&&t(11,r=u?Oe(c,a.coords):[1,0]),l.$$.dirty[0]&33554432&&t(10,i=j[f])},t(9,o="font-weight:bold;text-anchor:middle;"),[A,R,L,W,oe,u,Y,fe,he,o,i,r,s,te,Ee,Be,Se,Ve,$e,ze,Ae,w,b,E,n,f,a,c,m,g,k,d,Je,lt]}class yt extends ce{constructor(e){super(),ue(this,e,_f,mf,le,{limX:21,limY:22,title:0,xLabel:1,yLabel:2,margins:23},null,[-1,-1])}}const qe={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function Il(l,e,t){const n=l.slice();return n[17]=e[t],n[19]=t,n}function Pl(l){let e,t=ke(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=ql(Il(l,t,s));return{c(){e=_e("g");for(let s=0;s<n.length;s+=1)n[s].c();_(e,"class",l[0])},m(s,r){y(s,e,r);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(s,r){if(r&62){t=ke(s[1]);let i;for(i=0;i<t.length;i+=1){const o=Il(s,t,i);n[i]?n[i].p(o,r):(n[i]=ql(o),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}r&1&&_(e,"class",s[0])},d(s){s&&v(e),Ge(n,s)}}}function ql(l){let e,t,n,s,r;return{c(){e=_e("line"),_(e,"vector-effect","non-scaling-stroke"),_(e,"x1",t=l[1][l[19]]),_(e,"x2",n=l[2][l[19]]),_(e,"y1",s=l[3][l[19]]),_(e,"y2",r=l[4][l[19]]),_(e,"style",l[5])},m(i,o){y(i,e,o)},p(i,o){o&2&&t!==(t=i[1][i[19]])&&_(e,"x1",t),o&4&&n!==(n=i[2][i[19]])&&_(e,"x2",n),o&8&&s!==(s=i[3][i[19]])&&_(e,"y1",s),o&16&&r!==(r=i[4][i[19]])&&_(e,"y2",r),o&32&&_(e,"style",i[5])},d(i){i&&v(e)}}}function pf(l){let e,t=l[1]!==void 0&&l[3]!==void 0&&l[2]!==void 0&&l[4]!==void 0&&Pl(l);return{c(){t&&t.c(),e=J()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[1]!==void 0&&n[3]!==void 0&&n[2]!==void 0&&n[4]!==void 0?t?t.p(n,s):(t=Pl(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&v(e),t&&t.d(n)}}}function gf(l,e,t){let n,s,r,i,{lineCoords:o=[]}=e,{lineColor:f=qe.DARKGRAY}=e,{lineType:a=1}=e,{lineWidth:c=1}=e,{className:u=""}=e;const m=Xe("axes"),g=m.scale;re(l,g,L=>t(13,s=L));const d=m.tX;re(l,d,L=>t(15,i=L));const k=m.tY;re(l,k,L=>t(14,r=L));let w,b,A,R;return l.$$set=L=>{"lineCoords"in L&&t(9,o=L.lineCoords),"lineColor"in L&&t(10,f=L.lineColor),"lineType"in L&&t(11,a=L.lineType),"lineWidth"in L&&t(12,c=L.lineWidth),"className"in L&&t(0,u=L.className)},l.$$.update=()=>{l.$$.dirty&49664&&o.length==2&&(t(1,w=m.transform(o[0][0],i.coords)),t(3,A=m.transform(o[0][1],r.coords)),t(2,b=m.transform(o[1][0],i.coords)),t(4,R=m.transform(o[1][1],r.coords))),l.$$.dirty&15360&&t(5,n=`stroke:${f};stroke-width: ${c}px;stroke-dasharray:${m.LINE_STYLES[s][a-1]}`)},[u,w,b,A,R,n,g,d,k,o,f,a,c,s,r,i]}class Cn extends ce{constructor(e){super(),ue(this,e,gf,pf,le,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}const Mm="";function Fl(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function jl(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function Vl(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function zl(l){let e;function t(r,i){return r[2]===2&&r[1]===4?bf:r[2]===2&&r[1]===1?hf:df}let n=t(l),s=n(l);return{c(){e=_e("g"),s.c(),_(e,"class","tick_labels"),_(e,"style",l[9])},m(r,i){y(r,e,i),s.m(e,null),l[21](e)},p(r,i){n===(n=t(r))&&s?s.p(r,i):(s.d(1),s=n(r),s&&(s.c(),s.m(e,null))),i&512&&_(e,"style",r[9])},d(r){r&&v(e),s.d(),l[21](null)}}}function df(l){let e,t=ke(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Yl(Fl(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=J()},m(s,r){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(s,r);y(s,e,r)},p(s,r){if(r&497){t=ke(s[4]);let i;for(i=0;i<t.length;i+=1){const o=Fl(s,t,i);n[i]?n[i].p(o,r):(n[i]=Yl(o),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(s){s&&v(e),Ge(n,s)}}}function hf(l){let e,t=ke(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Dl(jl(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=J()},m(s,r){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(s,r);y(s,e,r)},p(s,r){if(r&177){t=ke(s[4]);let i;for(i=0;i<t.length;i+=1){const o=jl(s,t,i);n[i]?n[i].p(o,r):(n[i]=Dl(o),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(s){s&&v(e),Ge(n,s)}}}function bf(l){let e,t=ke(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Bl(Vl(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=J()},m(s,r){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(s,r);y(s,e,r)},p(s,r){if(r&113){t=ke(s[4]);let i;for(i=0;i<t.length;i+=1){const o=Vl(s,t,i);n[i]?n[i].p(o,r):(n[i]=Bl(o),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(s){s&&v(e),Ge(n,s)}}}function Yl(l){let e,t=l[0][l[25]]+"",n,s;return{c(){e=_e("text"),_(e,"data-id",l[25]),_(e,"x",n=l[4][l[25]]),_(e,"y",s=l[5][l[25]]),_(e,"dx",l[6]),_(e,"dy",l[7]),_(e,"text-anchor",l[8]),_(e,"class","svelte-131ks7u")},m(r,i){y(r,e,i),e.innerHTML=t},p(r,i){i&1&&t!==(t=r[0][r[25]]+"")&&(e.innerHTML=t),i&16&&n!==(n=r[4][r[25]])&&_(e,"x",n),i&32&&s!==(s=r[5][r[25]])&&_(e,"y",s),i&64&&_(e,"dx",r[6]),i&128&&_(e,"dy",r[7]),i&256&&_(e,"text-anchor",r[8])},d(r){r&&v(e)}}}function Dl(l){let e,t=l[0][l[25]]+"",n,s,r,i;return{c(){e=_e("text"),_(e,"data-id",l[25]),_(e,"x",n=l[4][l[25]]),_(e,"y",s=l[5][l[25]]),_(e,"dx",r=-l[7]/2),_(e,"dy",0),_(e,"transform",i=`rotate(-90, ${l[4][l[25]]}, ${l[5][l[25]]})`),_(e,"text-anchor","end"),_(e,"class","svelte-131ks7u")},m(o,f){y(o,e,f),e.innerHTML=t},p(o,f){f&1&&t!==(t=o[0][o[25]]+"")&&(e.innerHTML=t),f&16&&n!==(n=o[4][o[25]])&&_(e,"x",n),f&32&&s!==(s=o[5][o[25]])&&_(e,"y",s),f&128&&r!==(r=-o[7]/2)&&_(e,"dx",r),f&48&&i!==(i=`rotate(-90, ${o[4][o[25]]}, ${o[5][o[25]]})`)&&_(e,"transform",i)},d(o){o&&v(e)}}}function Bl(l){let e,t=l[0][l[25]]+"",n,s,r,i;return{c(){e=_e("text"),_(e,"data-id",l[25]),_(e,"x",n=l[4][l[25]]),_(e,"y",s=l[5][l[25]]),_(e,"dx",0),_(e,"dy",r=l[6]*1.25),_(e,"transform",i=`rotate(-90, ${l[4][l[25]]}, ${l[5][l[25]]})`),_(e,"text-anchor","middle"),_(e,"class","svelte-131ks7u")},m(o,f){y(o,e,f),e.innerHTML=t},p(o,f){f&1&&t!==(t=o[0][o[25]]+"")&&(e.innerHTML=t),f&16&&n!==(n=o[4][o[25]])&&_(e,"x",n),f&32&&s!==(s=o[5][o[25]])&&_(e,"y",s),f&64&&r!==(r=o[6]*1.25)&&_(e,"dy",r),f&48&&i!==(i=`rotate(-90, ${o[4][o[25]]}, ${o[5][o[25]]})`)&&_(e,"transform",i)},d(o){o&&v(e)}}}function wf(l){let e,t=l[4]!==void 0&&l[5]!==void 0&&zl(l);return{c(){t&&t.c(),e=J()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[4]!==void 0&&n[5]!==void 0?t?t.p(n,s):(t=zl(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&v(e),t&&t.d(n)}}}function kf(l,e,t){let n,s,r,i,o,f,{tickCoords:a}=e,{textColor:c}=e,{tickLabels:u}=e,{pos:m=1}=e,{las:g=1}=e;const d=Xe("axes"),k=d.scale;re(l,k,M=>t(17,r=M));const w=d.tX;re(l,w,M=>t(19,o=M));const b=d.tY;re(l,b,M=>t(18,i=M));const A=d.isOk;re(l,A,M=>t(20,f=M));let R,L,E,T=0,N=0,S;function F(M){Z[M?"unshift":"push"](()=>{R=M,t(3,R)})}return l.$$set=M=>{"tickCoords"in M&&t(14,a=M.tickCoords),"textColor"in M&&t(15,c=M.textColor),"tickLabels"in M&&t(0,u=M.tickLabels),"pos"in M&&t(1,m=M.pos),"las"in M&&t(2,g=M.las)},l.$$.update=()=>{l.$$.dirty&1851392&&f&&(t(4,L=d.transform(a[1][0],o.coords)),t(5,E=d.transform(a[1][1],i.coords))),l.$$.dirty&131072&&t(16,n=d.LABELS_MARGIN[r]),l.$$.dirty&65538&&(t(8,S=["middle","middle","start","middle","end"][m]),t(6,T=[0,0,n,0,-n][m]),t(7,N=[0,n,0,-n,0][m])),l.$$.dirty&32768&&t(9,s=`dominant-baseline:middle;fill:${c};font-size:1em; text-anchor:middle;`)},[u,m,g,R,L,E,T,N,S,s,k,w,b,A,a,c,n,r,i,o,f,F]}class Wl extends ce{constructor(e){super(),ue(this,e,kf,wf,le,{tickCoords:14,textColor:15,tickLabels:0,pos:1,las:2})}}function Hl(l){let e,t;return e=new Cn({props:{lineCoords:l[5],lineColor:l[11],lineType:3}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&32&&(r.lineCoords=n[5]),s&2048&&(r.lineColor=n[11]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function $l(l){let e,t;return e=new Wl({props:{las:l[2],pos:l[3],tickCoords:l[7],tickLabels:l[0],textColor:l[12]}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&4&&(r.las=n[2]),s&8&&(r.pos=n[3]),s&128&&(r.tickCoords=n[7]),s&1&&(r.tickLabels=n[0]),s&4096&&(r.textColor=n[12]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Gl(l){let e,t;return e=new Wl({props:{pos:l[3],tickCoords:l[8],tickLabels:[Ul(l[9])],textColor:l[12]}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.pos=n[3]),s&256&&(r.tickCoords=n[8]),s&512&&(r.tickLabels=[Ul(n[9])]),s&4096&&(r.textColor=n[12]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function vf(l){let e,t,n,s,r,i,o,f=l[1]&&Hl(l);n=new Cn({props:{lineCoords:l[6],lineColor:l[10],lineType:1}}),s=new Cn({props:{lineCoords:l[7],lineColor:l[10],lineType:1}});let a=l[7].length===2&&l[0].length===l[7][1][0].length&&$l(l),c=l[9]!==0&&Gl(l);return{c(){e=_e("g"),f&&f.c(),t=J(),P(n.$$.fragment),P(s.$$.fragment),a&&a.c(),r=J(),c&&c.c(),_(e,"class",i="mdaplot__axis "+l[4])},m(u,m){y(u,e,m),f&&f.m(e,null),C(e,t),O(n,e,null),O(s,e,null),a&&a.m(e,null),C(e,r),c&&c.m(e,null),o=!0},p(u,[m]){u[1]?f?(f.p(u,m),m&2&&p(f,1)):(f=Hl(u),f.c(),p(f,1),f.m(e,t)):f&&(K(),h(f,1,1,()=>{f=null}),X());const g={};m&64&&(g.lineCoords=u[6]),m&1024&&(g.lineColor=u[10]),n.$set(g);const d={};m&128&&(d.lineCoords=u[7]),m&1024&&(d.lineColor=u[10]),s.$set(d),u[7].length===2&&u[0].length===u[7][1][0].length?a?(a.p(u,m),m&129&&p(a,1)):(a=$l(u),a.c(),p(a,1),a.m(e,r)):a&&(K(),h(a,1,1,()=>{a=null}),X()),u[9]!==0?c?(c.p(u,m),m&512&&p(c,1)):(c=Gl(u),c.c(),p(c,1),c.m(e,null)):c&&(K(),h(c,1,1,()=>{c=null}),X()),(!o||m&16&&i!==(i="mdaplot__axis "+u[4]))&&_(e,"class",i)},i(u){o||(p(f),p(n.$$.fragment,u),p(s.$$.fragment,u),p(a),p(c),o=!0)},o(u){h(f),h(n.$$.fragment,u),h(s.$$.fragment,u),h(a),h(c),o=!1},d(u){u&&v(e),f&&f.d(),I(n),I(s),a&&a.d(),c&&c.d()}}}function Ul(l){return l===0?"":l<0?`&times;10<tspan dy="-0.5em">${l.toString()}</tspan>`:`&times;10<tspan dy="-0.5em">${l.toString()}</tspan>`}function yf(l,e,t){let{tickLabels:n=[]}=e,{showGrid:s=!1}=e,{las:r=1}=e,{pos:i=1}=e,{className:o=""}=e,{grid:f=[]}=e,{axisLine:a=[]}=e,{tickCoords:c=[]}=e,{tfCoords:u=[]}=e,{tickFactor:m=0}=e,{lineColor:g=qe.DARKGRAY}=e,{gridColor:d=qe.MIDDLEGRAY}=e,{textColor:k=qe.DARKGRAY}=e;return l.$$set=w=>{"tickLabels"in w&&t(0,n=w.tickLabels),"showGrid"in w&&t(1,s=w.showGrid),"las"in w&&t(2,r=w.las),"pos"in w&&t(3,i=w.pos),"className"in w&&t(4,o=w.className),"grid"in w&&t(5,f=w.grid),"axisLine"in w&&t(6,a=w.axisLine),"tickCoords"in w&&t(7,c=w.tickCoords),"tfCoords"in w&&t(8,u=w.tfCoords),"tickFactor"in w&&t(9,m=w.tickFactor),"lineColor"in w&&t(10,g=w.lineColor),"gridColor"in w&&t(11,d=w.gridColor),"textColor"in w&&t(12,k=w.textColor)},[n,s,r,i,o,f,a,c,u,m,g,d,k]}class Kl extends ce{constructor(e){super(),ue(this,e,yf,vf,le,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function Xl(l){let e,t;return e=new Kl({props:{className:"mdaplot__xaxis",pos:1,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],tfCoords:l[10],tickFactor:l[11],las:l[2]}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.lineColor=n[3]),s&16&&(r.gridColor=n[4]),s&32&&(r.textColor=n[5]),s&2&&(r.showGrid=n[1]),s&128&&(r.grid=n[7]),s&256&&(r.axisLine=n[8]),s&512&&(r.tickCoords=n[9]),s&1&&(r.tickLabels=n[0]),s&1024&&(r.tfCoords=n[10]),s&2048&&(r.tickFactor=n[11]),s&4&&(r.las=n[2]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Cf(l){let e,t,n=l[6]&&l[8].length>0&&Xl(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[6]&&s[8].length>0?n?(n.p(s,r),r&320&&p(n,1)):(n=Xl(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),h(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function Ef(l,e,t){let n,s,r,i,o,{slot:f="xaxis"}=e,{ticks:a=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:u=!1}=e,{las:m=1}=e,{lineColor:g=qe.DARKGRAY}=e,{gridColor:d=qe.MIDDLEGRAY}=e,{textColor:k=qe.DARKGRAY}=e;if(f!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const w=Xe("axes"),b=w.xLim;re(l,b,j=>t(19,n=j));const A=w.yLim;re(l,A,j=>t(20,s=j));const R=w.scale;re(l,R,j=>t(22,i=j));const L=w.isOk;re(l,L,j=>t(6,o=j));const E=w.tY;re(l,E,j=>t(21,r=j));let T=[],N=[],S=[],F=[],M=0;return l.$$set=j=>{"slot"in j&&t(17,f=j.slot),"ticks"in j&&t(18,a=j.ticks),"tickLabels"in j&&t(0,c=j.tickLabels),"showGrid"in j&&t(1,u=j.showGrid),"las"in j&&t(2,m=j.las),"lineColor"in j&&t(3,g=j.lineColor),"gridColor"in j&&t(4,d=j.gridColor),"textColor"in j&&t(5,k=j.textColor)},l.$$.update=()=>{if(l.$$.dirty&8126529&&o){const j=El(a,n,w.TICK_NUM[i],!0),q=j.length,D=w.invTransform([w.TICK_SIZE[i]],r.objects)[0],Q=de.fill(s[0],q),te=Q.add(D),Y=de.fill(s[1],q);if((a===void 0||c===void 0)&&t(11,[M,c]=Cl(j.v),M,(t(0,c),t(6,o),t(18,a),t(19,n),t(22,i),t(21,r),t(20,s))),c.length!==j.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';t(7,T=[[j,Q],[j,Y]]),t(8,N=[[Pe([n[0]]),Pe([s[0]])],[Pe([n[1]]),Pe([s[0]])]]),t(9,S=[[j,te],[j,Q]]),t(10,F=[[null,null],[[n[1]],[Q.v[q-1]-1.5*D]]])}},[c,u,m,g,d,k,o,T,N,S,F,M,b,A,R,L,E,f,a,n,s,r,i]}class Ct extends ce{constructor(e){super(),ue(this,e,Ef,Cf,le,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function Ql(l){let e,t;return e=new Kl({props:{className:"mdaplot__yaxis",pos:4,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],tfCoords:l[10],tickFactor:l[11],las:l[2]}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.lineColor=n[3]),s&16&&(r.gridColor=n[4]),s&32&&(r.textColor=n[5]),s&2&&(r.showGrid=n[1]),s&128&&(r.grid=n[7]),s&256&&(r.axisLine=n[8]),s&512&&(r.tickCoords=n[9]),s&1&&(r.tickLabels=n[0]),s&1024&&(r.tfCoords=n[10]),s&2048&&(r.tickFactor=n[11]),s&4&&(r.las=n[2]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Af(l){let e,t,n=l[6]&&l[8].length>0&&Ql(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[6]&&s[8].length>0?n?(n.p(s,r),r&320&&p(n,1)):(n=Ql(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),h(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function Nf(l,e,t){let n,s,r,i,o,{slot:f="yaxis"}=e,{ticks:a=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:u=!1}=e,{las:m=1}=e,{lineColor:g=qe.DARKGRAY}=e,{gridColor:d=qe.MIDDLEGRAY}=e,{textColor:k=qe.DARKGRAY}=e;if(f!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const w=Xe("axes"),b=w.xLim;re(l,b,j=>t(20,s=j));const A=w.yLim;re(l,A,j=>t(19,n=j));const R=w.scale;re(l,R,j=>t(22,i=j));const L=w.isOk;re(l,L,j=>t(6,o=j));const E=w.tX;re(l,E,j=>t(21,r=j));let T=[],N=[],S=[],F=[],M=0;return l.$$set=j=>{"slot"in j&&t(17,f=j.slot),"ticks"in j&&t(18,a=j.ticks),"tickLabels"in j&&t(0,c=j.tickLabels),"showGrid"in j&&t(1,u=j.showGrid),"las"in j&&t(2,m=j.las),"lineColor"in j&&t(3,g=j.lineColor),"gridColor"in j&&t(4,d=j.gridColor),"textColor"in j&&t(5,k=j.textColor)},l.$$.update=()=>{if(l.$$.dirty&8126529&&o){const j=El(a,n,w.TICK_NUM[i],!0),q=j.length,D=w.invTransform([w.TICK_SIZE[i]],r.objects)[0],Q=de.fill(s[0],q),te=Q.add(D),Y=de.fill(s[1],q);if((a===void 0||c===void 0)&&t(11,[M,c]=Cl(j.v),M,(t(0,c),t(6,o),t(18,a),t(19,n),t(22,i),t(21,r),t(20,s))),c.length!==j.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';t(7,T=[[Q,j],[Y,j]]),t(8,N=[[Pe([s[0]]),Pe([n[0]])],[Pe([s[0]]),Pe([n[1]])]]),t(9,S=[[Q,j],[te,j]]),t(10,F=[[[],[]],[[Q.v[q-1]],[n[1]]]])}},[c,u,m,g,d,k,o,T,N,S,F,M,b,A,R,L,E,f,a,n,s,r,i]}class Et extends ce{constructor(e){super(),ue(this,e,Nf,Af,le,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function Zl(l){let e,t,n,s,r,i;return{c(){e=_e("g"),t=_e("rect"),_(t,"x",n=l[2][0]),_(t,"y",s=l[1][1]),_(t,"width",r=l[2][1]-l[2][0]),_(t,"height",i=l[1][0]-l[1][1]),_(t,"style",l[3]),He(e,"pointer-events","none"),_(e,"class","mdaplot__axes-box")},m(o,f){y(o,e,f),C(e,t)},p(o,f){f&4&&n!==(n=o[2][0])&&_(t,"x",n),f&2&&s!==(s=o[1][1])&&_(t,"y",s),f&4&&r!==(r=o[2][1]-o[2][0])&&_(t,"width",r),f&2&&i!==(i=o[1][0]-o[1][1])&&_(t,"height",i)},d(o){o&&v(e)}}}function Mf(l){let e,t=l[0]&&Zl(l);return{c(){t&&t.c(),e=J()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[0]?t?t.p(n,s):(t=Zl(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&v(e),t&&t.d(n)}}}function Lf(l,e,t){let n,s,r,i,o,f,a,{slot:c}=e;if(c!=="box")throw`Component Box must have 'slot="box"' attribute.`;const u=`fill:transparent;stroke:${qe.DARKGRAY};stroke-width:1px;`,m=Xe("axes"),g=m.xLim;re(l,g,A=>t(13,a=A));const d=m.yLim;re(l,d,A=>t(11,i=A));const k=m.isOk;re(l,k,A=>t(0,o=A));const w=m.tX;re(l,w,A=>t(12,f=A));const b=m.tY;return re(l,b,A=>t(10,r=A)),l.$$set=A=>{"slot"in A&&t(9,c=A.slot)},l.$$.update=()=>{l.$$.dirty&12289&&t(2,n=o?m.transform(a,f.coords):void 0),l.$$.dirty&3073&&t(1,s=o?m.transform(i,r.coords):void 0)},[o,s,n,u,g,d,k,w,b,c,r,i,f,a]}class At extends ce{constructor(e){super(),ue(this,e,Lf,Mf,le,{slot:9})}}function Jl(l,e,t){const n=l.slice();return n[21]=e[t],n[23]=t,n}function xl(l){let e,t,n=ke(l[0]),s=[];for(let r=0;r<n.length;r+=1)s[r]=es(Jl(l,n,r));return{c(){e=_e("g");for(let r=0;r<s.length;r+=1)s[r].c();_(e,"class",t="series "+l[1]),_(e,"title",l[2]),_(e,"style",l[8])},m(r,i){y(r,e,i);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(e,null)},p(r,i){if(i&217){n=ke(r[0]);let o;for(o=0;o<n.length;o+=1){const f=Jl(r,n,o);s[o]?s[o].p(f,i):(s[o]=es(f),s[o].c(),s[o].m(e,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=n.length}i&2&&t!==(t="series "+r[1])&&_(e,"class",t),i&4&&_(e,"title",r[2]),i&256&&_(e,"style",r[8])},d(r){r&&v(e),Ge(s,r)}}}function es(l){let e,t,n,s,r;return{c(){e=_e("rect"),_(e,"x",t=l[3][l[23]]),_(e,"y",n=l[4][l[23]]),_(e,"width",s=l[6][l[23]]),_(e,"height",r=l[7][l[23]])},m(i,o){y(i,e,o)},p(i,o){o&8&&t!==(t=i[3][i[23]])&&_(e,"x",t),o&16&&n!==(n=i[4][i[23]])&&_(e,"y",n),o&64&&s!==(s=i[6][i[23]])&&_(e,"width",s),o&128&&r!==(r=i[7][i[23]])&&_(e,"height",r)},d(i){i&&v(e)}}}function Sf(l){let e,t=l[5]&&xl(l);return{c(){t&&t.c(),e=J()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[5]?t?t.p(n,s):(t=xl(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&v(e),t&&t.d(n)}}}function Tf(l,e,t){let n,s,r,i,{left:o}=e,{top:f}=e,{width:a}=e,{height:c}=e,{faceColor:u=qe.PRIMARY}=e,{borderColor:m=u}=e,{lineWidth:g=1}=e,{className:d="series_rect"}=e,{title:k=""}=e;const w=Xe("axes"),b=w.tX;re(l,b,S=>t(19,r=S));const A=w.tY;re(l,A,S=>t(18,s=S));const R=w.isOk;re(l,R,S=>t(5,i=S));let L,E,T,N;return l.$$set=S=>{"left"in S&&t(0,o=S.left),"top"in S&&t(14,f=S.top),"width"in S&&t(12,a=S.width),"height"in S&&t(13,c=S.height),"faceColor"in S&&t(15,u=S.faceColor),"borderColor"in S&&t(16,m=S.borderColor),"lineWidth"in S&&t(17,g=S.lineWidth),"className"in S&&t(1,d=S.className),"title"in S&&t(2,k=S.title)},l.$$.update=()=>{if(l.$$.dirty&815161&&i){if(t(3,L=w.transform(at(o,"Rectangles"),r.coords)),t(4,E=w.transform(at(f,"Rectangles"),s.coords)),L.length!==E.length)throw Error('Rectangles: parameters "left" and "top" must be vectors of the same length.');typeof a!="object"&&t(12,a=de.fill(a,o.length)),typeof c!="object"&&t(13,c=de.fill(c,o.length)),t(6,T=w.transform(a,r.objects)),t(7,N=w.transform(c,s.objects))}l.$$.dirty&229376&&t(8,n=`fill:${u};stroke:${m};stroke-width:${g}px;`)},[o,d,k,L,E,i,T,N,n,b,A,R,a,c,f,u,m,g,s,r]}class Rf extends ce{constructor(e){super(),ue(this,e,Tf,Sf,le,{left:0,top:14,width:12,height:13,faceColor:15,borderColor:16,lineWidth:17,className:1,title:2})}}function ts(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function ns(l){let e,t,n=ke(l[2]),s=[];for(let r=0;r<n.length;r+=1)s[r]=ls(ts(l,n,r));return{c(){e=_e("g");for(let r=0;r<s.length;r+=1)s[r].c();_(e,"class",t="series "+l[0]),_(e,"title",l[1]),_(e,"style",l[7])},m(r,i){y(r,e,i);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(e,null)},p(r,i){if(i&60){n=ke(r[2]);let o;for(o=0;o<n.length;o+=1){const f=ts(r,n,o);s[o]?s[o].p(f,i):(s[o]=ls(f),s[o].c(),s[o].m(e,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=n.length}i&1&&t!==(t="series "+r[0])&&_(e,"class",t),i&2&&_(e,"title",r[1]),i&128&&_(e,"style",r[7])},d(r){r&&v(e),Ge(s,r)}}}function ls(l){let e,t,n,s,r;return{c(){e=_e("line"),_(e,"x1",t=l[2][l[25]]),_(e,"x2",n=l[3][l[25]]),_(e,"y1",s=l[4][l[25]]),_(e,"y2",r=l[5][l[25]])},m(i,o){y(i,e,o)},p(i,o){o&4&&t!==(t=i[2][i[25]])&&_(e,"x1",t),o&8&&n!==(n=i[3][i[25]])&&_(e,"x2",n),o&16&&s!==(s=i[4][i[25]])&&_(e,"y1",s),o&32&&r!==(r=i[5][i[25]])&&_(e,"y2",r)},d(i){i&&v(e)}}}function Of(l){let e,t=l[6]&&ns(l);return{c(){t&&t.c(),e=J()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[6]?t?t.p(n,s):(t=ns(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&v(e),t&&t.d(n)}}}function If(l,e,t){let n,s,r,i,o,{xStart:f}=e,{xEnd:a}=e,{yStart:c}=e,{yEnd:u}=e,{lineColor:m=qe.PRIMARY}=e,{lineType:g=1}=e,{lineWidth:d=1}=e,{className:k="series_seg"}=e,{title:w=""}=e;const b=Xe("axes"),A=b.scale;re(l,A,M=>t(19,s=M));const R=b.isOk;re(l,R,M=>t(6,o=M));const L=b.tX;re(l,L,M=>t(21,i=M));const E=b.tY;re(l,E,M=>t(20,r=M));let T,N,S,F;return l.$$set=M=>{"xStart"in M&&t(12,f=M.xStart),"xEnd"in M&&t(13,a=M.xEnd),"yStart"in M&&t(14,c=M.yStart),"yEnd"in M&&t(15,u=M.yEnd),"lineColor"in M&&t(16,m=M.lineColor),"lineType"in M&&t(17,g=M.lineType),"lineWidth"in M&&t(18,d=M.lineWidth),"className"in M&&t(0,k=M.className),"title"in M&&t(1,w=M.title)},l.$$.update=()=>{if(l.$$.dirty&3207292&&o){t(2,T=b.transform(at(f,"Segments"),i.coords)),t(4,S=b.transform(at(c,"Segments"),r.coords)),t(3,N=b.transform(at(a,"Segments"),i.coords)),t(5,F=b.transform(at(u,"Segments"),r.coords));const M=T.length;if(N.length!==M||S.length!==M||F.length!==M)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}l.$$.dirty&983040&&t(7,n=`stroke:${m};stroke-width: ${d}px;stroke-dasharray:${b.LINE_STYLES[s][g-1]}`)},[k,w,T,N,S,F,o,n,A,R,L,E,f,a,c,u,m,g,d,s,r,i]}class ht extends ce{constructor(e){super(),ue(this,e,If,Of,le,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}const Lm="",Sm="";function ss(l,e,t){const n=l.slice();return n[19]=e[t],n[21]=t,n}function rs(l){let e,t=ke(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=is(ss(l,t,s));return{c(){e=_e("g");for(let s=0;s<n.length;s+=1)n[s].c();_(e,"class","series series_points"),_(e,"title",l[0]),_(e,"style",l[5])},m(s,r){y(s,e,r);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(s,r){if(r&22){t=ke(s[1]);let i;for(i=0;i<t.length;i+=1){const o=ss(s,t,i);n[i]?n[i].p(o,r):(n[i]=is(o),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}r&1&&_(e,"title",s[0]),r&32&&_(e,"style",s[5])},d(s){s&&v(e),Ge(n,s)}}}function is(l){let e,t,n,s;return{c(){e=_e("text"),t=G(l[4]),_(e,"x",n=l[1][l[21]]),_(e,"y",s=l[2][l[21]]),_(e,"class","svelte-12moot9")},m(r,i){y(r,e,i),C(e,t)},p(r,i){i&16&&ae(t,r[4]),i&2&&n!==(n=r[1][r[21]])&&_(e,"x",n),i&4&&s!==(s=r[2][r[21]])&&_(e,"y",s)},d(r){r&&v(e)}}}function Pf(l){let e,t=l[3]&&l[1]!==void 0&&l[2]!==void 0&&rs(l);return{c(){t&&t.c(),e=J()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[3]&&n[1]!==void 0&&n[2]!==void 0?t?t.p(n,s):(t=rs(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&v(e),t&&t.d(n)}}}function qf(l,e,t){let n,s,r,i,{xValues:o}=e,{yValues:f}=e,{marker:a=1}=e,{faceColor:c="transparent"}=e,{borderColor:u=qe.PRIMARY}=e,{borderWidth:m=1}=e,{markerSize:g=1}=e,{title:d=""}=e;const k=Xe("axes"),w=k.tX;re(l,w,T=>t(17,r=T));const b=k.tY;re(l,b,T=>t(16,s=T));const A=k.isOk;re(l,A,T=>t(3,i=T));let R,L,E;return l.$$set=T=>{"xValues"in T&&t(9,o=T.xValues),"yValues"in T&&t(10,f=T.yValues),"marker"in T&&t(11,a=T.marker),"faceColor"in T&&t(12,c=T.faceColor),"borderColor"in T&&t(13,u=T.borderColor),"borderWidth"in T&&t(14,m=T.borderWidth),"markerSize"in T&&t(15,g=T.markerSize),"title"in T&&t(0,d=T.title)},l.$$.update=()=>{if(l.$$.dirty&200206&&i){if(typeof a!="number"||a<1||a>k.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${k.MARKER_SYMBOLS.length}.`);if(t(4,E=k.MARKER_SYMBOLS[a-1]),t(1,R=k.transform(at(o,"Points"),r.coords)),t(2,L=k.transform(at(f,"Points"),s.coords)),R.length!==L.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}l.$$.dirty&61440&&t(5,n=`dominant-baseline:middle;fill:${c};stroke-width:${m}px;stroke:${u};
      font-size:${g}em; text-anchor:middle;cursor:default;user-select:none;`)},[d,R,L,i,E,n,w,b,A,o,f,a,c,u,m,g,s,r]}class ut extends ce{constructor(e){super(),ue(this,e,qf,Pf,le,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function os(l){let e,t;return{c(){e=_e("g"),t=_e("polyline"),_(t,"class","line"),_(t,"points",l[3]),_(e,"class","series series_line"),_(e,"style",l[2]),_(e,"title",l[0])},m(n,s){y(n,e,s),C(e,t)},p(n,s){s&8&&_(t,"points",n[3]),s&4&&_(e,"style",n[2]),s&1&&_(e,"title",n[0])},d(n){n&&v(e)}}}function Ff(l){let e,t=l[1]&&l[3]!==void 0&&os(l);return{c(){t&&t.c(),e=J()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[1]&&n[3]!==void 0?t?t.p(n,s):(t=os(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&v(e),t&&t.d(n)}}}function jf(l,e,t){let n,s,r,i,o,f,{xValues:a}=e,{yValues:c}=e,{lineWidth:u=1}=e,{lineColor:m=qe.PRIMARY}=e,{lineType:g=1}=e,{title:d=""}=e;const k=Xe("axes"),w=k.scale;re(l,w,L=>t(13,r=L));const b=k.isOk;re(l,b,L=>t(1,f=L));const A=k.tX;re(l,A,L=>t(15,o=L));const R=k.tY;return re(l,R,L=>t(14,i=L)),l.$$set=L=>{"xValues"in L&&t(8,a=L.xValues),"yValues"in L&&t(9,c=L.yValues),"lineWidth"in L&&t(10,u=L.lineWidth),"lineColor"in L&&t(11,m=L.lineColor),"lineType"in L&&t(12,g=L.lineType),"title"in L&&t(0,d=L.title)},l.$$.update=()=>{l.$$.dirty&49922&&t(3,n=f?rf(a,c,o,i,k):void 0),l.$$.dirty&15360&&t(2,s=`fill:transparent;stroke:${m};stroke-width: ${u}px; stroke-dasharray:${k.LINE_STYLES[r][g-1]}`)},[d,f,s,n,w,b,A,R,a,c,u,m,g,r,i,o]}class Ze extends ce{constructor(e){super(),ue(this,e,jf,Ff,le,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function fs(l,e,t){const n=l.slice();return n[25]=e[t],n[27]=t,n}function as(l){let e,t,n,s,r,i=ke(l[0]),o=[];for(let f=0;f<i.length;f+=1)o[f]=ms(fs(l,i,f));return{c(){e=_e("svg"),t=_e("rect");for(let f=0;f<o.length;f+=1)o[f].c();_(t,"height","100%"),_(t,"width","100%"),He(t,"fill","white"),He(t,"stroke",qe.MIDDLEGRAY),_(e,"x",n=l[9]+"px"),_(e,"y",s=l[10]+"px"),_(e,"height",r=l[4]+"px"),_(e,"width",l[5])},m(f,a){y(f,e,a),C(e,t);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null)},p(f,a){if(a&2287){i=ke(f[0]);let c;for(c=0;c<i.length;c+=1){const u=fs(f,i,c);o[c]?o[c].p(u,a):(o[c]=ms(u),o[c].c(),o[c].m(e,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=i.length}a&512&&n!==(n=f[9]+"px")&&_(e,"x",n),a&1024&&s!==(s=f[10]+"px")&&_(e,"y",s),a&16&&r!==(r=f[4]+"px")&&_(e,"height",r),a&32&&_(e,"width",f[5])},d(f){f&&v(e),Ge(o,f)}}}function us(l){let e,t,n,s,r;return{c(){e=_e("line"),_(e,"x1",l[3]),_(e,"x2",t=l[3]+l[2]),_(e,"y1",n=(l[1]+l[3]*2)/2),_(e,"y2",s=(l[1]+l[3]*2)/2),_(e,"style",r=`
      stroke:${l[25].lineColor?l[25].lineColor:qe.PRIMARY};
      stroke-width: ${l[25].lineWidth?l[25].lineWidth:1}px;
      stroke-dasharray:${l[11].LINE_STYLES[l[7]][l[25].lineType-1]}
   `)},m(i,o){y(i,e,o)},p(i,o){o&8&&_(e,"x1",i[3]),o&12&&t!==(t=i[3]+i[2])&&_(e,"x2",t),o&10&&n!==(n=(i[1]+i[3]*2)/2)&&_(e,"y1",n),o&10&&s!==(s=(i[1]+i[3]*2)/2)&&_(e,"y2",s),o&129&&r!==(r=`
      stroke:${i[25].lineColor?i[25].lineColor:qe.PRIMARY};
      stroke-width: ${i[25].lineWidth?i[25].lineWidth:1}px;
      stroke-dasharray:${i[11].LINE_STYLES[i[7]][i[25].lineType-1]}
   `)&&_(e,"style",r)},d(i){i&&v(e)}}}function cs(l){let e,t=l[11].MARKER_SYMBOLS[l[25].marker-1]+"",n,s,r,i;return{c(){e=_e("text"),n=G(t),_(e,"x",s=(l[2]+2*l[3])/2+"px"),_(e,"y",r=(l[1]+2*l[3])/2+"px"),_(e,"dominant-baseline","middle"),_(e,"style",i=`
         fill:${l[25].faceColor?l[25].faceColor:"transparent"};
         stroke-width:${l[25].borderWidth?l[25].borderWidth:1}px;
         stroke:${l[25].borderColor?l[25].borderColor:qe.PRIMARY};
         font-size:${l[6]}px;
         text-anchor:middle;`)},m(o,f){y(o,e,f),C(e,n)},p(o,f){f&1&&t!==(t=o[11].MARKER_SYMBOLS[o[25].marker-1]+"")&&ae(n,t),f&12&&s!==(s=(o[2]+2*o[3])/2+"px")&&_(e,"x",s),f&10&&r!==(r=(o[1]+2*o[3])/2+"px")&&_(e,"y",r),f&65&&i!==(i=`
         fill:${o[25].faceColor?o[25].faceColor:"transparent"};
         stroke-width:${o[25].borderWidth?o[25].borderWidth:1}px;
         stroke:${o[25].borderColor?o[25].borderColor:qe.PRIMARY};
         font-size:${o[6]}px;
         text-anchor:middle;`)&&_(e,"style",i)},d(o){o&&v(e)}}}function ms(l){let e,t,n,s="&nbsp;"+l[25].label,r,i,o,f,a,c,u=l[25].lineType&&l[25].lineType>0&&l[25].lineType<=4&&us(l),m=l[25].marker&&l[25].marker>0&&l[25].marker<l[11].MARKER_SYMBOLS.length&&cs(l);return{c(){e=_e("svg"),u&&u.c(),t=J(),m&&m.c(),n=_e("text"),_(n,"x",r=l[2]+l[3]*3+"px"),_(n,"y",i=l[3]+"px"),_(n,"dominant-baseline","hanging"),_(n,"style",o=`text-anchor:start;fill:${qe.LEGEND};font-size:${l[6]}px;`),_(e,"x","0px"),_(e,"y",f=l[27]*(l[1]+2*l[3])+"px"),_(e,"width",a=l[5]+"px"),_(e,"height",c=l[1]+2*l[3]+"px")},m(g,d){y(g,e,d),u&&u.m(e,null),C(e,t),m&&m.m(e,null),C(e,n),n.innerHTML=s},p(g,d){g[25].lineType&&g[25].lineType>0&&g[25].lineType<=4?u?u.p(g,d):(u=us(g),u.c(),u.m(e,t)):u&&(u.d(1),u=null),g[25].marker&&g[25].marker>0&&g[25].marker<g[11].MARKER_SYMBOLS.length?m?m.p(g,d):(m=cs(g),m.c(),m.m(e,n)):m&&(m.d(1),m=null),d&1&&s!==(s="&nbsp;"+g[25].label)&&(n.innerHTML=s),d&12&&r!==(r=g[2]+g[3]*3+"px")&&_(n,"x",r),d&8&&i!==(i=g[3]+"px")&&_(n,"y",i),d&64&&o!==(o=`text-anchor:start;fill:${qe.LEGEND};font-size:${g[6]}px;`)&&_(n,"style",o),d&10&&f!==(f=g[27]*(g[1]+2*g[3])+"px")&&_(e,"y",f),d&32&&a!==(a=g[5]+"px")&&_(e,"width",a),d&10&&c!==(c=g[1]+2*g[3]+"px")&&_(e,"height",c)},d(g){g&&v(e),u&&u.d(),m&&m.d()}}}function Vf(l){let e,t=l[8]&&as(l);return{c(){t&&t.c(),e=J()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[8]?t?t.p(n,s):(t=as(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&v(e),t&&t.d(n)}}}function zf(l,e){const n=document.createElement("canvas").getContext("2d");return n.font=e,n.measureText(l).width}function Yf(l,e,t){const n=e,s=n/4,r=n*1.5,i=n;let o=0;for(let f=0;f<l.length;f++){const a=zf("  "+l[f].label+"  ",e+"px Arial");o=a>o?a:o}return[n,r,s,i,o]}function Df(l,e,t){let n,s,r,i,o,f,{items:a}=e,{position:c="topleft"}=e;const u=Xe("axes"),m=u.scale;re(l,m,q=>t(7,n=q));const g=u.xLim;re(l,g,q=>t(23,o=q));const d=u.yLim;re(l,d,q=>t(21,r=q));const k=u.tX;re(l,k,q=>t(22,i=q));const w=u.tY;re(l,w,q=>t(20,s=q));const b=u.isOk;re(l,b,q=>t(8,f=q));let A,R,L,E,T,N,S,F,M,j;return l.$$set=q=>{"items"in q&&t(0,a=q.items),"position"in q&&t(18,c=q.position)},l.$$.update=()=>{if(l.$$.dirty&16515583&&f){t(6,j=u.LEGEND_FONT_SIZE[n]),t(1,[L,E,T,N,S]=Yf(a,j),L,(t(2,E),t(8,f),t(7,n),t(0,a),t(6,j),t(18,c),t(1,L),t(3,T),t(19,S),t(23,o),t(22,i),t(5,M),t(21,r),t(20,s),t(4,F)),(t(3,T),t(8,f),t(7,n),t(0,a),t(6,j),t(18,c),t(1,L),t(2,E),t(19,S),t(23,o),t(22,i),t(5,M),t(21,r),t(20,s),t(4,F)),(t(19,S),t(8,f),t(7,n),t(0,a),t(6,j),t(18,c),t(1,L),t(3,T),t(2,E),t(23,o),t(22,i),t(5,M),t(21,r),t(20,s),t(4,F))),t(4,F=(L+2*T)*a.length),t(5,M=E+2*T+S);const q=u.transform(o,i.coords);t(9,A=c.includes("left")?q[0]+u.TICK_SIZE[n]:c.includes("right")?q[1]-M-u.TICK_SIZE[n]:Vt(q)-M/2);const D=u.transform(r,s.coords);t(10,R=c.includes("top")?D[1]+u.TICK_SIZE[n]:c.includes("bottom")?D[0]-F-u.TICK_SIZE[n]:Vt(D)-F/2)}},[a,L,E,T,F,M,j,n,f,A,R,u,m,g,d,k,w,b,c,S,s,r,i,o]}class Bf extends ce{constructor(e){super(),ue(this,e,Df,Vf,le,{items:0,position:18})}}function _s(l,e,t){const n=l.slice();return n[35]=e[t],n[37]=t,n}function ps(l,e,t){const n=l.slice();return n[35]=e[t],n[37]=t,n}function gs(l){let e,t,n,s,r=ke(l[5]),i=[];for(let a=0;a<r.length;a+=1)i[a]=ds(ps(l,r,a));let o=l[0]==="show"&&l[4]&&l[4].length>0&&hs(l),f=l[1]>=0&&ws(l);return{c(){e=_e("g");for(let a=0;a<i.length;a+=1)i[a].c();t=z(),o&&o.c(),n=z(),f&&f.c(),s=J(),_(e,"class","series series_points"),_(e,"title","distance_points"),_(e,"style",l[12])},m(a,c){y(a,e,c);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(e,null);y(a,t,c),o&&o.m(a,c),y(a,n,c),f&&f.m(a,c),y(a,s,c)},p(a,c){if(c[0]&488){r=ke(a[5]);let u;for(u=0;u<r.length;u+=1){const m=ps(a,r,u);i[u]?i[u].p(m,c):(i[u]=ds(m),i[u].c(),i[u].m(e,null))}for(;u<i.length;u+=1)i[u].d(1);i.length=r.length}a[0]==="show"&&a[4]&&a[4].length>0?o?o.p(a,c):(o=hs(a),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null),a[1]>=0?f?f.p(a,c):(f=ws(a),f.c(),f.m(s.parentNode,s)):f&&(f.d(1),f=null)},d(a){a&&(v(e),v(t),v(n),v(s)),Ge(i,a),o&&o.d(a),f&&f.d(a)}}}function ds(l){let e,t,n,s,r;return{c(){e=_e("text"),t=G(l[7]),_(e,"x",n=l[5][l[37]]),_(e,"y",s=l[6][l[37]]),_(e,"stroke",r=l[8][l[3][l[37]]])},m(i,o){y(i,e,o),C(e,t)},p(i,o){o[0]&128&&ae(t,i[7]),o[0]&32&&n!==(n=i[5][i[37]])&&_(e,"x",n),o[0]&64&&s!==(s=i[6][i[37]])&&_(e,"y",s),o[0]&264&&r!==(r=i[8][i[3][i[37]]])&&_(e,"stroke",r)},d(i){i&&v(e)}}}function hs(l){let e,t=ke(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=bs(_s(l,t,s));return{c(){e=_e("g");for(let s=0;s<n.length;s+=1)n[s].c();_(e,"class","series series_labels"),_(e,"title","distance_labels"),_(e,"style",l[13])},m(s,r){y(s,e,r);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(s,r){if(r[0]&112){t=ke(s[5]);let i;for(i=0;i<t.length;i+=1){const o=_s(s,t,i);n[i]?n[i].p(o,r):(n[i]=bs(o),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(s){s&&v(e),Ge(n,s)}}}function bs(l){let e,t=l[4][l[37]]+"",n,s,r;return{c(){e=_e("text"),n=G(t),_(e,"x",s=l[5][l[37]]),_(e,"y",r=l[6][l[37]]),_(e,"dy",-12)},m(i,o){y(i,e,o),C(e,n)},p(i,o){o[0]&16&&t!==(t=i[4][i[37]]+"")&&ae(n,t),o[0]&32&&s!==(s=i[5][i[37]])&&_(e,"x",s),o[0]&64&&r!==(r=i[6][i[37]])&&_(e,"y",r)},d(i){i&&v(e)}}}function ws(l){let e,t,n,s,r,i,o,f,a,c=l[0]==="show"&&l[4]&&l[4].length>0&&ks(l);return{c(){e=_e("rect"),t=z(),n=_e("g"),s=_e("text"),r=G(l[7]),f=z(),c&&c.c(),a=J(),_(e,"x",0),_(e,"y",0),_(e,"width","100%"),_(e,"height","100%"),_(e,"fill","#ffffffa0"),_(s,"x",i=l[5][l[1]]),_(s,"y",o=l[6][l[1]]),_(s,"stroke","crimson"),_(n,"title","distance_points"),_(n,"style",l[14])},m(u,m){y(u,e,m),y(u,t,m),y(u,n,m),C(n,s),C(s,r),y(u,f,m),c&&c.m(u,m),y(u,a,m)},p(u,m){m[0]&128&&ae(r,u[7]),m[0]&34&&i!==(i=u[5][u[1]])&&_(s,"x",i),m[0]&66&&o!==(o=u[6][u[1]])&&_(s,"y",o),u[0]==="show"&&u[4]&&u[4].length>0?c?c.p(u,m):(c=ks(u),c.c(),c.m(a.parentNode,a)):c&&(c.d(1),c=null)},d(u){u&&(v(e),v(t),v(n),v(f),v(a)),c&&c.d(u)}}}function ks(l){let e,t,n=l[4][l[1]]+"",s,r,i;return{c(){e=_e("g"),t=_e("text"),s=G(n),_(t,"x",r=l[5][l[1]]),_(t,"y",i=l[6][l[1]]),_(t,"dy",-12),_(e,"class","series series_labels"),_(e,"title","distance_labels"),_(e,"style",l[13])},m(o,f){y(o,e,f),C(e,t),C(t,s)},p(o,f){f[0]&18&&n!==(n=o[4][o[1]]+"")&&ae(s,n),f[0]&34&&r!==(r=o[5][o[1]])&&_(t,"x",r),f[0]&66&&i!==(i=o[6][o[1]])&&_(t,"y",i)},d(o){o&&v(e)}}}function Wf(l){let e,t=l[2]&&l[5]&&l[6]&&gs(l);return{c(){t&&t.c(),e=J()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,s){n[2]&&n[5]&&n[6]?t?t.p(n,s):(t=gs(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&v(e),t&&t.d(n)}}}const vs="#a0a0a0";function Hf(l,e,t){let n,s,r,i,o,{res:f}=e,{labels:a}=e,{classes:c=[]}=e,{targetClass:u}=e,{colors:m}=e,{transType:g="no"}=e,{distType:d="h/q"}=e,{showLabels:k="hide"}=e,{xMax:w=0}=e,{yMax:b=0}=e,{selected:A}=e;const R=Xe("axes"),L=R.tX;re(l,L,fe=>t(29,i=fe));const E=R.tY;re(l,E,fe=>t(28,r=fe));const T=R.isOk;re(l,T,fe=>t(2,o=fe));let N,S,F,M,j,q,D,Q,te;const Y="dominant-baseline:middle;font-size:1em;fill:none;text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;",W=`dominant-baseline:middle;font-size:0.85em;fill:${vs};text-anchor:middle;cursor:default;stroke:${vs};stroke-width:0.1px;user-select:none;`,oe="dominant-baseline:middle;font-size:1.2em;fill:none;text-anchor:middle;cursor:default;stroke-width:3px;user-select:none;";return l.$$set=fe=>{"res"in fe&&t(17,f=fe.res),"labels"in fe&&t(18,a=fe.labels),"classes"in fe&&t(19,c=fe.classes),"targetClass"in fe&&t(20,u=fe.targetClass),"colors"in fe&&t(21,m=fe.colors),"transType"in fe&&t(22,g=fe.transType),"distType"in fe&&t(23,d=fe.distType),"showLabels"in fe&&t(0,k=fe.showLabels),"xMax"in fe&&t(15,w=fe.xMax),"yMax"in fe&&t(16,b=fe.yMax),"selected"in fe&&t(1,A=fe.selected)},l.$$.update=()=>{if(l.$$.dirty[0]&2097152&&t(8,n={regular:m[0],extreme:m[1],outlier:m[2]}),l.$$.dirty[0]&249430016)if(f){const fe=f.h.length;if(t(24,N=de.zeros(fe)),t(25,S=de.zeros(fe)),t(26,F=de.zeros(fe)),t(27,M=de.zeros(fe)),D=new Int32Array(fe),g==="log")for(let ge=0;ge<fe;ge++)t(24,N.v[ge]=ge,N),t(25,S.v[ge]=Math.log(1+f.h[ge]/f.h0),S),t(26,F.v[ge]=Math.log(1+f.q[ge]/f.q0),F),t(27,M.v[ge]=Math.log(1+f.f[ge]),M);else for(let ge=0;ge<fe;ge++)t(24,N.v[ge]=ge,N),t(25,S.v[ge]=f.h[ge]/f.h0,S),t(26,F.v[ge]=f.q[ge]/f.q0,F),t(27,M.v[ge]=f.f[ge],M);if(c&&c.length===fe)for(let ge=0;ge<fe;ge++)D[ge]=c[ge]===u?1:2;t(3,j=f.c),t(4,q=a),t(15,w=d==="h/q"?Ie(S):M.length),t(16,b=Ie(d==="h/q"?F:M))}else t(25,S=null),t(26,F=null),t(27,M=null),t(3,j=null),t(4,q=null),D=null;l.$$.dirty[0]&1065353220&&o&&S&&F&&M&&(t(5,Q=d==="h/q"?R.transform(S,i.coords):R.transform(N,i.coords)),t(6,te=d==="h/q"?R.transform(F,r.coords):R.transform(M,r.coords)))},t(7,s="●"),[k,A,o,j,q,Q,te,s,n,L,E,T,Y,W,oe,w,b,f,a,c,u,m,g,d,N,S,F,M,r,i]}let $f=class extends ce{constructor(e){super(),ue(this,e,Hf,Wf,le,{res:17,labels:18,classes:19,targetClass:20,colors:21,transType:22,distType:23,showLabels:0,xMax:15,yMax:16,selected:1},null,[-1,-1])}};function ys(l,e,t){const n=l.slice();return n[22]=e[t],n[24]=t,n}function Cs(l){let e,t=ke(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Es(ys(l,t,s));return{c(){e=_e("g");for(let s=0;s<n.length;s+=1)n[s].c();_(e,"class","series colormap_legend"),He(e,"stroke","0"),He(e,"stroke-width","0px")},m(s,r){y(s,e,r);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(s,r){if(r&123){t=ke(s[1]);let i;for(i=0;i<t.length;i+=1){const o=ys(s,t,i);n[i]?n[i].p(o,r):(n[i]=Es(o),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(s){s&&v(e),Ge(n,s)}}}function Es(l){let e,t,n,s,r=l[0][l[24]]+"",i,o;return{c(){e=_e("rect"),s=_e("text"),_(e,"x",t=l[3][l[24]]),_(e,"y",l[4]),_(e,"width",l[5]),_(e,"height",l[6]),_(e,"fill",n=l[22]),_(s,"x",i=l[3][l[24]]+l[5]/2),_(s,"y",l[4]),_(s,"dx",0),_(s,"dy",o=l[6]*1.5),_(s,"dominant-baseline","hanging"),_(s,"fill",Uf),_(s,"font-size",Kf+"em"),_(s,"text-anchor","middle")},m(f,a){y(f,e,a),y(f,s,a),s.innerHTML=r},p(f,a){a&8&&t!==(t=f[3][f[24]])&&_(e,"x",t),a&16&&_(e,"y",f[4]),a&32&&_(e,"width",f[5]),a&64&&_(e,"height",f[6]),a&2&&n!==(n=f[22])&&_(e,"fill",n),a&1&&r!==(r=f[0][f[24]]+"")&&(s.innerHTML=r),a&40&&i!==(i=f[3][f[24]]+f[5]/2)&&_(s,"x",i),a&16&&_(s,"y",f[4]),a&64&&o!==(o=f[6]*1.5)&&_(s,"dy",o)},d(f){f&&(v(e),v(s))}}}function Gf(l){let e,t=l[2]&&l[3].length>0&&Cs(l);return{c(){t&&t.c(),e=J()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[2]&&n[3].length>0?t?t.p(n,s):(t=Cs(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&v(e),t&&t.d(n)}}}const Uf="#909090",Kf=.85,As=.8,Xf=.02,Qf=.25;function Zf(l,e,t){let n,s,r,i,o,f,a,{categories:c}=e,{colmap:u}=e,{labels:m}=e;const g={small:5,medium:8,large:10,xlarge:12},d=Xe("axes"),k=d.tX;re(l,k,F=>t(16,r=F));const w=d.tY;re(l,w,F=>t(17,i=F));const b=d.xLim;re(l,b,F=>t(19,f=F));const A=d.yLim;re(l,A,F=>t(18,o=F));const R=d.scale;re(l,R,F=>t(15,s=F));const L=d.isOk;re(l,L,F=>t(2,a=F));let E,T,N,S;return l.$$set=F=>{"categories"in F&&t(13,c=F.categories),"colmap"in F&&t(1,u=F.colmap),"labels"in F&&t(0,m=F.labels)},l.$$.update=()=>{if(l.$$.dirty&2&&t(14,n=u.length),l.$$.dirty&8192&&t(0,m=c?Object.keys(c).map(F=>F+": "+c[F]):null),l.$$.dirty&1032196&&a){const F=f[1]-f[0],M=o[1]-o[0],j=F*As,q=M*Xf,D=j/n,Q=f[0]+F*(1-As)*.5,te=o[1]-q*Qf;t(4,T=d.transform(te,i.coords)),t(3,E=d.transform(de.seq(0,n).apply(Y=>Q+Y*D),r.coords)),t(5,N=d.transform([D],r.objects)),t(6,S=g[s]),t(4,T=g[s])}},[m,u,a,E,T,N,S,k,w,b,A,R,L,c,n,s,r,i,o,f]}let Jf=class extends ce{constructor(e){super(),ue(this,e,Zf,Gf,le,{categories:13,colmap:1,labels:0})}};function Ns(l){let e,t;return e=new Ze({props:{xValues:l[1].x,yValues:l[1].y,lineColor:Ss,lineType:2}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&2&&(r.xValues=n[1].x),s&2&&(r.yValues=n[1].y),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Ms(l){let e,t;return e=new Ze({props:{xValues:l[0].x,yValues:l[0].y,lineColor:Ss,lineType:3}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.xValues=n[0].x),s&1&&(r.yValues=n[0].y),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function xf(l){let e,t,n,s=l[1]&&Ns(l),r=l[0]&&Ms(l);return{c(){s&&s.c(),e=z(),r&&r.c(),t=J()},m(i,o){s&&s.m(i,o),y(i,e,o),r&&r.m(i,o),y(i,t,o),n=!0},p(i,[o]){i[1]?s?(s.p(i,o),o&2&&p(s,1)):(s=Ns(i),s.c(),p(s,1),s.m(e.parentNode,e)):s&&(K(),h(s,1,1,()=>{s=null}),X()),i[0]?r?(r.p(i,o),o&1&&p(r,1)):(r=Ms(i),r.c(),p(r,1),r.m(t.parentNode,t)):r&&(K(),h(r,1,1,()=>{r=null}),X())},i(i){n||(p(s),p(r),n=!0)},o(i){h(s),h(r),n=!1},d(i){i&&(v(e),v(t)),s&&s.d(i),r&&r.d(i)}}}const Ls=100,Ss="#909090";function ea(l,e,t){let{simca:n}=e,{transType:s="no"}=e,{distType:r="h/q"}=e,{xMax:i=0}=e,{yMax:o=0}=e;function f(u,m,g,d,k){if(k==="f")return{x:Pe([0,1e3]),y:Pe(d==="log"?[Math.log(1+u),Math.log(1+u)]:[u,u])};const w=u/g,b=-m/g,A=-w/b,R=de.seq(0,A*1,A/Ls),L=R.apply(E=>E*b+w);return{x:d==="log"?R.apply(E=>Math.log(1+E)):R,y:d==="log"?L.apply(E=>Math.log(1+E)):L}}let a=null,c=null;return l.$$set=u=>{"simca"in u&&t(4,n=u.simca),"transType"in u&&t(5,s=u.transType),"distType"in u&&t(6,r=u.distType),"xMax"in u&&t(2,i=u.xMax),"yMax"in u&&t(3,o=u.yMax)},l.$$.update=()=>{if(l.$$.dirty&113)if(n){const u=n.ncomp-1;t(1,a=f(n.eCrit[u],n.Nh[u],n.Nq[u],s,r)),t(0,c=f(n.oCrit[u],n.Nh[u],n.Nq[u],s,r)),t(2,i=r==="h/q"?c.x.v[Ls-1]:1),t(3,o=c.y.v[0])}else t(1,a=null),t(0,c=null),t(2,i=1),t(3,o=1)},[c,a,i,o,n,s,r]}let ta=class extends ce{constructor(e){super(),ue(this,e,ea,xf,le,{simca:4,transType:5,distType:6,xMax:2,yMax:3})}};const Tm="";function Ts(l){let e,t,n,s,r;t=new yt({props:{margins:l[17],xLabel:l[14],yLabel:l[13],limX:l[12],limY:l[11],title:l[15],$$slots:{box:[ra],yaxis:[sa],xaxis:[la],default:[na]},$$scope:{ctx:l}}}),t.$on("markerclick",l[19]),t.$on("axesclick",l[20]);function i(a,c){return a[0]<0?oa:ia}let o=i(l),f=o(l);return{c(){e=V("div"),P(t.$$.fragment),n=z(),f.c(),s=J(),_(e,"class","plot-container svelte-1aze4qe")},m(a,c){y(a,e,c),O(t,e,null),y(a,n,c),f.m(a,c),y(a,s,c),r=!0},p(a,c){const u={};c&16384&&(u.xLabel=a[14]),c&8192&&(u.yLabel=a[13]),c&4096&&(u.limX=a[12]),c&2048&&(u.limY=a[11]),c&32768&&(u.title=a[15]),c&536938493&&(u.$$scope={dirty:c,ctx:a}),t.$set(u),o!==(o=i(a))&&(f.d(1),f=o(a),f&&(f.c(),f.m(s.parentNode,s)))},i(a){r||(p(t.$$.fragment,a),r=!0)},o(a){h(t.$$.fragment,a),r=!1},d(a){a&&(v(e),v(n),v(s)),I(t),f.d(a)}}}function na(l){let e,t,n,s,r,i,o,f,a,c;function u(b){l[25](b)}function m(b){l[26](b)}let g={colors:l[18],res:l[16].v[l[6]-1],labels:l[16].labels,classes:l[16].classes,targetClass:l[2].className,distType:l[3],transType:l[4],showLabels:l[5],selected:l[0]};l[7]!==void 0&&(g.xMax=l[7]),l[8]!==void 0&&(g.yMax=l[8]),e=new $f({props:g}),Z.push(()=>ne(e,"xMax",u)),Z.push(()=>ne(e,"yMax",m));function d(b){l[27](b)}function k(b){l[28](b)}let w={simca:l[2],transType:l[4],distType:l[3]};return l[9]!==void 0&&(w.xMax=l[9]),l[10]!==void 0&&(w.yMax=l[10]),r=new ta({props:w}),Z.push(()=>ne(r,"xMax",d)),Z.push(()=>ne(r,"yMax",k)),a=new Jf({props:{categories:l[16].v[l[6]-1].cnum,colmap:l[18]}}),{c(){P(e.$$.fragment),s=z(),P(r.$$.fragment),f=z(),P(a.$$.fragment)},m(b,A){O(e,b,A),y(b,s,A),O(r,b,A),y(b,f,A),O(a,b,A),c=!0},p(b,A){const R={};A&65600&&(R.res=b[16].v[b[6]-1]),A&65536&&(R.labels=b[16].labels),A&65536&&(R.classes=b[16].classes),A&4&&(R.targetClass=b[2].className),A&8&&(R.distType=b[3]),A&16&&(R.transType=b[4]),A&32&&(R.showLabels=b[5]),A&1&&(R.selected=b[0]),!t&&A&128&&(t=!0,R.xMax=b[7],ie(()=>t=!1)),!n&&A&256&&(n=!0,R.yMax=b[8],ie(()=>n=!1)),e.$set(R);const L={};A&4&&(L.simca=b[2]),A&16&&(L.transType=b[4]),A&8&&(L.distType=b[3]),!i&&A&512&&(i=!0,L.xMax=b[9],ie(()=>i=!1)),!o&&A&1024&&(o=!0,L.yMax=b[10],ie(()=>o=!1)),r.$set(L);const E={};A&65600&&(E.categories=b[16].v[b[6]-1].cnum),a.$set(E)},i(b){c||(p(e.$$.fragment,b),p(r.$$.fragment,b),p(a.$$.fragment,b),c=!0)},o(b){h(e.$$.fragment,b),h(r.$$.fragment,b),h(a.$$.fragment,b),c=!1},d(b){b&&(v(s),v(f)),I(e,b),I(r,b),I(a,b)}}}function la(l){let e,t;return e=new Ct({props:{showGrid:Rs,slot:"xaxis"}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p:$,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function sa(l){let e,t;return e=new Et({props:{showGrid:Rs,slot:"yaxis"}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p:$,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ra(l){let e,t;return e=new At({props:{slot:"box"}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p:$,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ia(l){let e;return{c(){e=V("div"),e.textContent="Click anywhere to remove selection...",_(e,"class","msg-select svelte-1aze4qe")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function oa(l){let e;return{c(){e=V("div"),e.textContent="Click on a point to select...",_(e,"class","msg-select svelte-1aze4qe")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function fa(l){let e,t,n=l[16]&&l[1]&&Ts(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[16]&&s[1]?n?(n.p(s,r),r&65538&&p(n,1)):(n=Ts(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),h(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}const Rs=!0;function En(l,e){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance"}[l]+", "+(e==="log"?"log(1 + "+l+"/"+l+"0)":l+"/"+l+"0")}function aa(l,e,t){let n,s,r,i,o,f,a,c,{params:u}=e,{simcares:m}=e,{simca:g}=e,{selected:d}=e;const k=[.85,1,.25,.25],w=["#2679B2","#F2B825","#D22C2F"];let b="h/q",A="no",R="no",L=m?Object.keys(m)[0]:"",E=1,T=1,N=1,S=1,F=1;function M(Y){const W=parseInt(Y.detail.elementID),oe=Y.detail.seriesTitle;W>=0&&oe==="distance_points"&&t(0,d=W)}function j(Y){t(0,d=-1)}function q(Y){T=Y,t(7,T)}function D(Y){N=Y,t(8,N)}function Q(Y){S=Y,t(9,S)}function te(Y){F=Y,t(10,F)}return l.$$set=Y=>{"params"in Y&&t(1,u=Y.params),"simcares"in Y&&t(21,m=Y.simcares),"simca"in Y&&t(2,g=Y.simca),"selected"in Y&&t(0,d=Y.selected)},l.$$.update=()=>{l.$$.dirty&4194306&&u&&u.resID!==L&&t(22,L=u.resID),l.$$.dirty&10&&u&&u.distType!==b&&t(3,b=u.distType),l.$$.dirty&18&&u&&u.transType!==A&&t(4,A=u.transType),l.$$.dirty&34&&u&&u.showLabels!==R&&t(5,R=u.showLabels),l.$$.dirty&68&&g&&g.ncomp!==E&&t(6,E=g.ncomp),l.$$.dirty&6291456&&t(16,n=m&&L?m[L]:null),l.$$.dirty&64&&t(15,s="Acceptance plot (A = "+E+")"),l.$$.dirty&24&&t(14,r=b==="f"?"Objects":En("h",A)),l.$$.dirty&24&&t(13,i=En(b==="h/q"?"q":"f",A)),l.$$.dirty&640&&t(24,o=Ie([T,S])),l.$$.dirty&1280&&t(23,f=Ie([N,F])),l.$$.dirty&16777216&&t(12,a=[-.02*o,1.05*o]),l.$$.dirty&8388608&&t(11,c=[-.02*f,1.2*f])},[d,u,g,b,A,R,E,T,N,S,F,c,a,i,r,s,n,k,w,M,j,m,L,f,o,q,D,Q,te]}let Os=class extends ce{constructor(e){super(),ue(this,e,aa,fa,le,{params:1,simcares:21,simca:2,selected:0})}};function Is(l){let e,t,n=Object.keys(l[0]).length>1,s,r,i,o,f,a,c;e=new ee({props:{label:"",$$slots:{default:[ua]},$$scope:{ctx:l}}});let u=n&&Ps(l);return r=new ee({props:{label:"Distances:",$$slots:{default:[ma]},$$scope:{ctx:l}}}),o=new ee({props:{label:"Transform:",$$slots:{default:[_a]},$$scope:{ctx:l}}}),a=new ee({props:{label:"Labels:",$$slots:{default:[pa]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment),t=z(),u&&u.c(),s=z(),P(r.$$.fragment),i=z(),P(o.$$.fragment),f=z(),P(a.$$.fragment)},m(m,g){O(e,m,g),y(m,t,g),u&&u.m(m,g),y(m,s,g),O(r,m,g),y(m,i,g),O(o,m,g),y(m,f,g),O(a,m,g),c=!0},p(m,g){const d={};g&1024&&(d.$$scope={dirty:g,ctx:m}),e.$set(d),g&1&&(n=Object.keys(m[0]).length>1),n?u?(u.p(m,g),g&1&&p(u,1)):(u=Ps(m),u.c(),p(u,1),u.m(s.parentNode,s)):u&&(K(),h(u,1,1,()=>{u=null}),X());const k={};g&1026&&(k.$$scope={dirty:g,ctx:m}),r.$set(k);const w={};g&1028&&(w.$$scope={dirty:g,ctx:m}),o.$set(w);const b={};g&1032&&(b.$$scope={dirty:g,ctx:m}),a.$set(b)},i(m){c||(p(e.$$.fragment,m),p(u),p(r.$$.fragment,m),p(o.$$.fragment,m),p(a.$$.fragment,m),c=!0)},o(m){h(e.$$.fragment,m),h(u),h(r.$$.fragment,m),h(o.$$.fragment,m),h(a.$$.fragment,m),c=!1},d(m){m&&(v(t),v(s),v(i),v(f)),I(e,m),u&&u.d(m),I(r,m),I(o,m),I(a,m)}}}function ua(l){let e;return{c(){e=V("p"),e.textContent="Acceptance plot",_(e,"class","title")},m(t,n){y(t,e,n)},p:$,d(t){t&&v(e)}}}function Ps(l){let e,t;return e=new ee({props:{label:"Results:",$$slots:{default:[ca]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&1041&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ca(l){let e,t,n;function s(i){l[6](i)}let r={id:"resType",options:Object.keys(l[0])};return l[4]!==void 0&&(r.value=l[4]),e=new ye({props:r}),Z.push(()=>ne(e,"value",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};o&1&&(f.options=Object.keys(i[0])),!t&&o&16&&(t=!0,f.value=i[4],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function ma(l){let e,t,n;function s(i){l[7](i)}let r={id:"distances",options:["h/q","f"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),Z.push(()=>ne(e,"value",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};!t&&o&2&&(t=!0,f.value=i[1],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function _a(l){let e,t,n;function s(i){l[8](i)}let r={id:"limType",options:["no","log"]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),Z.push(()=>ne(e,"value",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};!t&&o&4&&(t=!0,f.value=i[2],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function pa(l){let e,t,n;function s(i){l[9](i)}let r={id:"showLabels",options:["hide","show"]};return l[3]!==void 0&&(r.value=l[3]),e=new ye({props:r}),Z.push(()=>ne(e,"value",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};!t&&o&8&&(t=!0,f.value=i[3],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function ga(l){let e,t,n=l[0]&&Is(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&p(n,1)):(n=Is(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),h(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function da(l,e,t){let{params:n}=e,{simcares:s}=e,r="h/q",i="no",o="hide",f=s?Object.keys(s)[0]:"";function a(g){f=g,t(4,f)}function c(g){r=g,t(1,r)}function u(g){i=g,t(2,i)}function m(g){o=g,t(3,o)}return l.$$set=g=>{"params"in g&&t(5,n=g.params),"simcares"in g&&t(0,s=g.simcares)},l.$$.update=()=>{l.$$.dirty&30&&t(5,n={distType:r,transType:i,showLabels:o,resID:f})},[s,r,i,o,f,n,a,c,u,m]}let qs=class extends ce{constructor(e){super(),ue(this,e,da,ga,le,{params:5,simcares:0})}};function Fs(l){let e,t;return e=new yt({props:{margins:l[9],title:l[8],xLabel:l[1],yLabel:l[2],limX:[-1,l[3]+2],limY:[-1,l[3]+2],$$slots:{box:[ka],yaxis:[wa],xaxis:[ba],default:[ha]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&256&&(r.title=n[8]),s&2&&(r.xLabel=n[1]),s&4&&(r.yLabel=n[2]),s&8&&(r.limX=[-1,n[3]+2]),s&8&&(r.limY=[-1,n[3]+2]),s&524529&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ha(l){let e,t,n,s,r,i,o,f,a,c;return e=new Ze({props:{xValues:l[4],yValues:l[4],lineColor:"#e0e0e0"}}),n=new Ze({props:{xValues:l[4],yValues:l[5],lineColor:"#e0e0e0"}}),r=new Ze({props:{xValues:l[4],yValues:l[6],lineColor:"#e0e0e0"}}),o=new ht({props:{xStart:l[4],xEnd:l[4],yStart:l[5],yEnd:l[6],lineColor:"#e0e0e0"}}),a=new ut({props:{xValues:l[4],yValues:l[7],borderWidth:2}}),{c(){P(e.$$.fragment),t=z(),P(n.$$.fragment),s=z(),P(r.$$.fragment),i=z(),P(o.$$.fragment),f=z(),P(a.$$.fragment)},m(u,m){O(e,u,m),y(u,t,m),O(n,u,m),y(u,s,m),O(r,u,m),y(u,i,m),O(o,u,m),y(u,f,m),O(a,u,m),c=!0},p(u,m){const g={};m&16&&(g.xValues=u[4]),m&16&&(g.yValues=u[4]),e.$set(g);const d={};m&16&&(d.xValues=u[4]),m&32&&(d.yValues=u[5]),n.$set(d);const k={};m&16&&(k.xValues=u[4]),m&64&&(k.yValues=u[6]),r.$set(k);const w={};m&16&&(w.xStart=u[4]),m&16&&(w.xEnd=u[4]),m&32&&(w.yStart=u[5]),m&64&&(w.yEnd=u[6]),o.$set(w);const b={};m&16&&(b.xValues=u[4]),m&128&&(b.yValues=u[7]),a.$set(b)},i(u){c||(p(e.$$.fragment,u),p(n.$$.fragment,u),p(r.$$.fragment,u),p(o.$$.fragment,u),p(a.$$.fragment,u),c=!0)},o(u){h(e.$$.fragment,u),h(n.$$.fragment,u),h(r.$$.fragment,u),h(o.$$.fragment,u),h(a.$$.fragment,u),c=!1},d(u){u&&(v(t),v(s),v(i),v(f)),I(e,u),I(n,u),I(r,u),I(o,u),I(a,u)}}}function ba(l){let e,t;return e=new Ct({props:{showGrid:l[0],slot:"xaxis"}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function wa(l){let e,t;return e=new Et({props:{showGrid:l[0],slot:"yaxis"}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ka(l){let e,t;return e=new At({props:{slot:"box"}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p:$,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function va(l){let e,t,n=l[4]&&l[7]&&Fs(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[4]&&s[7]?n?(n.p(s,r),r&144&&p(n,1)):(n=Fs(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),h(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function ya(l,e,t){let n,s,r,i,o,f,{params:a}=e,{simcares:c}=e,{simca:u}=e;const m=[.85,1,.25,.25];let{showGrid:g=!0}=e,{xLabel:d="Number of wrongly accepted (expected)"}=e,{yLabel:k="Number of wrongly accepted (observed)"}=e,w=c?Object.keys(c)[0]:"";function b(T){const N=T.anum.aliens,S=T.f.length;let F=de.zeros(N);for(let M=0;M<S;M++){if(T.a[M]!=="alien")continue;const j=zt(T.f[M],T.Nf);F=F.add(E.apply(q=>1-j>=q))}return F}let A,R,L,E;return l.$$set=T=>{"params"in T&&t(10,a=T.params),"simcares"in T&&t(11,c=T.simcares),"simca"in T&&t(12,u=T.simca),"showGrid"in T&&t(0,g=T.showGrid),"xLabel"in T&&t(1,d=T.xLabel),"yLabel"in T&&t(2,k=T.yLabel)},l.$$.update=()=>{if(l.$$.dirty&9216&&a&&a.resID!==w&&t(13,w=a.resID),l.$$.dirty&4096&&t(15,n=u?u.ncomp:null),l.$$.dirty&32768&&t(8,s=n?"Aliens plot (A = "+n+")":""),l.$$.dirty&10240&&t(16,r=c&&w?c[w]:null),l.$$.dirty&98304&&t(14,i=r?r.v[n-1]:null),l.$$.dirty&16384&&t(3,o=i?i.anum.aliens:null),l.$$.dirty&16392)if(o){E=de.zeros(o),t(4,A=de.zeros(o)),t(5,R=de.zeros(o)),t(6,L=de.zeros(o));for(let T=1;T<=o;T++){const N=T/o,S=Qt(N),F=i.m*Math.pow(i.Sz*S+i.Mz,1/i.hz),M=1-zt(F,i.Nf),j=2*Math.sqrt(T*(1-N));t(5,R.v[T-1]=T-j,R),t(6,L.v[T-1]=T+j,L),t(4,A.v[T-1]=T,A),E.v[T-1]=M}}else t(4,A=null),t(5,R=null),t(6,L=null),E=null;l.$$.dirty&16384&&t(7,f=i?b(i):null)},[g,d,k,o,A,R,L,f,s,m,a,c,u,w,i,n,r]}class Ca extends ce{constructor(e){super(),ue(this,e,ya,va,le,{params:10,simcares:11,simca:12,showGrid:0,xLabel:1,yLabel:2})}}function js(l){let e,t,n=Object.keys(l[0]).length>1,s,r;e=new ee({props:{label:"",$$slots:{default:[Ea]},$$scope:{ctx:l}}});let i=n&&Vs(l);return{c(){P(e.$$.fragment),t=z(),i&&i.c(),s=J()},m(o,f){O(e,o,f),y(o,t,f),i&&i.m(o,f),y(o,s,f),r=!0},p(o,f){const a={};f&16&&(a.$$scope={dirty:f,ctx:o}),e.$set(a),f&1&&(n=Object.keys(o[0]).length>1),n?i?(i.p(o,f),f&1&&p(i,1)):(i=Vs(o),i.c(),p(i,1),i.m(s.parentNode,s)):i&&(K(),h(i,1,1,()=>{i=null}),X())},i(o){r||(p(e.$$.fragment,o),p(i),r=!0)},o(o){h(e.$$.fragment,o),h(i),r=!1},d(o){o&&(v(t),v(s)),I(e,o),i&&i.d(o)}}}function Ea(l){let e;return{c(){e=V("p"),e.textContent="Aliens plot",_(e,"class","title")},m(t,n){y(t,e,n)},p:$,d(t){t&&v(e)}}}function Vs(l){let e,t;return e=new ee({props:{label:"Results:",$$slots:{default:[Aa]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&19&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Aa(l){let e,t,n;function s(i){l[3](i)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),Z.push(()=>ne(e,"value",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};o&1&&(f.options=Object.keys(i[0])),!t&&o&2&&(t=!0,f.value=i[1],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function Na(l){let e,t,n=l[0]&&js(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&p(n,1)):(n=js(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),h(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function Ma(l,e,t){let{params:n}=e,{simcares:s}=e,r=s?Object.keys(s)[0]:"";function i(o){r=o,t(1,r)}return l.$$set=o=>{"params"in o&&t(2,n=o.params),"simcares"in o&&t(0,s=o.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={resID:r})},[s,r,n,i]}class La extends ce{constructor(e){super(),ue(this,e,Ma,Na,le,{params:2,simcares:0})}}function zs(l){let e,t;return e=new yt({props:{margins:l[9],title:l[8],xLabel:l[1],yLabel:l[2],limX:[-1,l[3]+2],limY:[-1,l[3]+2],$$slots:{box:[Oa],yaxis:[Ra],xaxis:[Ta],default:[Sa]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&256&&(r.title=n[8]),s&2&&(r.xLabel=n[1]),s&4&&(r.yLabel=n[2]),s&8&&(r.limX=[-1,n[3]+2]),s&8&&(r.limY=[-1,n[3]+2]),s&262385&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Sa(l){let e,t,n,s,r,i,o,f,a,c;return e=new Ze({props:{xValues:l[4],yValues:l[4],lineColor:"#e0e0e0"}}),n=new Ze({props:{xValues:l[4],yValues:l[5],lineColor:"#e0e0e0"}}),r=new Ze({props:{xValues:l[4],yValues:l[6],lineColor:"#e0e0e0"}}),o=new ht({props:{xStart:l[4],xEnd:l[4],yStart:l[5],yEnd:l[6],lineColor:"#e0e0e0"}}),a=new ut({props:{xValues:l[4],yValues:l[7],borderWidth:2}}),{c(){P(e.$$.fragment),t=z(),P(n.$$.fragment),s=z(),P(r.$$.fragment),i=z(),P(o.$$.fragment),f=z(),P(a.$$.fragment)},m(u,m){O(e,u,m),y(u,t,m),O(n,u,m),y(u,s,m),O(r,u,m),y(u,i,m),O(o,u,m),y(u,f,m),O(a,u,m),c=!0},p(u,m){const g={};m&16&&(g.xValues=u[4]),m&16&&(g.yValues=u[4]),e.$set(g);const d={};m&16&&(d.xValues=u[4]),m&32&&(d.yValues=u[5]),n.$set(d);const k={};m&16&&(k.xValues=u[4]),m&64&&(k.yValues=u[6]),r.$set(k);const w={};m&16&&(w.xStart=u[4]),m&16&&(w.xEnd=u[4]),m&32&&(w.yStart=u[5]),m&64&&(w.yEnd=u[6]),o.$set(w);const b={};m&16&&(b.xValues=u[4]),m&128&&(b.yValues=u[7]),a.$set(b)},i(u){c||(p(e.$$.fragment,u),p(n.$$.fragment,u),p(r.$$.fragment,u),p(o.$$.fragment,u),p(a.$$.fragment,u),c=!0)},o(u){h(e.$$.fragment,u),h(n.$$.fragment,u),h(r.$$.fragment,u),h(o.$$.fragment,u),h(a.$$.fragment,u),c=!1},d(u){u&&(v(t),v(s),v(i),v(f)),I(e,u),I(n,u),I(r,u),I(o,u),I(a,u)}}}function Ta(l){let e,t;return e=new Ct({props:{showGrid:l[0],slot:"xaxis"}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Ra(l){let e,t;return e=new Et({props:{showGrid:l[0],slot:"yaxis"}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Oa(l){let e,t;return e=new At({props:{slot:"box"}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p:$,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Ia(l){let e,t,n=l[4]&&l[7]&&zs(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[4]&&s[7]?n?(n.p(s,r),r&144&&p(n,1)):(n=zs(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),h(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function Pa(l,e,t){let n,s,r,i,o,{params:f}=e,{simcares:a}=e,{simca:c}=e;const u=[.85,1,.25,.25];let{showGrid:m=!0}=e,{xLabel:g="Number of extremes (expected)"}=e,{yLabel:d="Number of extremes (observed)"}=e,k=a?Object.keys(a)[0]:"";function w(E){const T=E.f.length;let N=de.zeros(T);for(let S=0;S<T;S++){const F=zt(E.f[S],E.Nf);N=N.add(L.apply(M=>1-F<M))}return N}let b,A,R,L;return l.$$set=E=>{"params"in E&&t(10,f=E.params),"simcares"in E&&t(11,a=E.simcares),"simca"in E&&t(12,c=E.simca),"showGrid"in E&&t(0,m=E.showGrid),"xLabel"in E&&t(1,g=E.xLabel),"yLabel"in E&&t(2,d=E.yLabel)},l.$$.update=()=>{if(l.$$.dirty&9216&&f&&f.resID!==k&&t(13,k=f.resID),l.$$.dirty&4096&&t(14,n=c?c.ncomp:null),l.$$.dirty&16384&&t(8,s=n?"Extremes plot (A = "+n+")":""),l.$$.dirty&10240&&t(15,r=a&&k?a[k]:null),l.$$.dirty&49152&&t(3,i=r?r.v[n].f.length:null),l.$$.dirty&8)if(i){L=de.zeros(i),t(4,b=de.zeros(i)),t(5,A=de.zeros(i)),t(6,R=de.zeros(i));for(let E=1;E<=i;E++){const T=E/i,N=2*Math.sqrt(E*(1-T));t(5,A.v[E-1]=E-N,A),t(6,R.v[E-1]=E+N,R),L.v[E-1]=T,t(4,b.v[E-1]=E,b)}}else t(4,b=null),t(5,A=null),t(6,R=null),L=null;l.$$.dirty&49152&&t(7,o=r?w(r.v[n-1]):null)},[m,g,d,i,b,A,R,o,s,u,f,a,c,k,n,r]}class Ys extends ce{constructor(e){super(),ue(this,e,Pa,Ia,le,{params:10,simcares:11,simca:12,showGrid:0,xLabel:1,yLabel:2})}}function Ds(l){let e,t,n=Object.keys(l[0]).length>1,s,r;e=new ee({props:{label:"",$$slots:{default:[qa]},$$scope:{ctx:l}}});let i=n&&Bs(l);return{c(){P(e.$$.fragment),t=z(),i&&i.c(),s=J()},m(o,f){O(e,o,f),y(o,t,f),i&&i.m(o,f),y(o,s,f),r=!0},p(o,f){const a={};f&16&&(a.$$scope={dirty:f,ctx:o}),e.$set(a),f&1&&(n=Object.keys(o[0]).length>1),n?i?(i.p(o,f),f&1&&p(i,1)):(i=Bs(o),i.c(),p(i,1),i.m(s.parentNode,s)):i&&(K(),h(i,1,1,()=>{i=null}),X())},i(o){r||(p(e.$$.fragment,o),p(i),r=!0)},o(o){h(e.$$.fragment,o),h(i),r=!1},d(o){o&&(v(t),v(s)),I(e,o),i&&i.d(o)}}}function qa(l){let e;return{c(){e=V("p"),e.textContent="Extremes plot",_(e,"class","title")},m(t,n){y(t,e,n)},p:$,d(t){t&&v(e)}}}function Bs(l){let e,t;return e=new ee({props:{label:"Results:",$$slots:{default:[Fa]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&19&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Fa(l){let e,t,n;function s(i){l[3](i)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),Z.push(()=>ne(e,"value",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};o&1&&(f.options=Object.keys(i[0])),!t&&o&2&&(t=!0,f.value=i[1],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function ja(l){let e,t,n=l[0]&&Ds(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&p(n,1)):(n=Ds(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),h(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function Va(l,e,t){let{params:n}=e,{simcares:s}=e,r=s?Object.keys(s)[0]:"";function i(o){r=o,t(1,r)}return l.$$set=o=>{"params"in o&&t(2,n=o.params),"simcares"in o&&t(0,s=o.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={resID:r})},[s,r,n,i]}class Ws extends ce{constructor(e){super(),ue(this,e,Va,ja,le,{params:2,simcares:0})}}function Hs(l){let e,t;return e=new yt({props:{margins:l[9],title:Ga,xLabel:Ha,yLabel:$a,limX:[0,l[3]+1],limY:[-1,l[7][l[1]]],$$slots:{box:[Ba],yaxis:[Da],xaxis:[Ya],default:[za]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.limX=[0,n[3]+1]),s&130&&(r.limY=[-1,n[7][n[1]]]),s&8694&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function $s(l){let e,t,n,s,r,i;return e=new Ze({props:{xValues:l[6],yValues:l[5],lineWidth:1.5,lineColor:l[10][0]}}),n=new ut({props:{xValues:l[6],yValues:l[5],borderWidth:1.5,faceColor:"#fff",borderColor:l[10][0]}}),r=new ut({props:{xValues:[l[6].v[l[8]-1]],yValues:[l[5].v[l[8]-1]],borderWidth:4,faceColor:l[10][0],borderColor:l[10][0]}}),{c(){P(e.$$.fragment),t=z(),P(n.$$.fragment),s=z(),P(r.$$.fragment)},m(o,f){O(e,o,f),y(o,t,f),O(n,o,f),y(o,s,f),O(r,o,f),i=!0},p(o,f){const a={};f&64&&(a.xValues=o[6]),f&32&&(a.yValues=o[5]),e.$set(a);const c={};f&64&&(c.xValues=o[6]),f&32&&(c.yValues=o[5]),n.$set(c);const u={};f&320&&(u.xValues=[o[6].v[o[8]-1]]),f&288&&(u.yValues=[o[5].v[o[8]-1]]),r.$set(u)},i(o){i||(p(e.$$.fragment,o),p(n.$$.fragment,o),p(r.$$.fragment,o),i=!0)},o(o){h(e.$$.fragment,o),h(n.$$.fragment,o),h(r.$$.fragment,o),i=!1},d(o){o&&(v(t),v(s)),I(e,o),I(n,o),I(r,o)}}}function Gs(l){let e,t,n,s,r,i;return e=new Ze({props:{xValues:l[6],yValues:l[4],lineWidth:1.5,lineColor:l[10][1]}}),n=new ut({props:{xValues:l[6],yValues:l[4],borderWidth:1.5,faceColor:"#fff",borderColor:l[10][1]}}),r=new ut({props:{xValues:[l[6].v[l[8]-1]],yValues:[l[4].v[l[8]-1]],borderWidth:4,faceColor:l[10][1],borderColor:l[10][1]}}),{c(){P(e.$$.fragment),t=z(),P(n.$$.fragment),s=z(),P(r.$$.fragment)},m(o,f){O(e,o,f),y(o,t,f),O(n,o,f),y(o,s,f),O(r,o,f),i=!0},p(o,f){const a={};f&64&&(a.xValues=o[6]),f&16&&(a.yValues=o[4]),e.$set(a);const c={};f&64&&(c.xValues=o[6]),f&16&&(c.yValues=o[4]),n.$set(c);const u={};f&320&&(u.xValues=[o[6].v[o[8]-1]]),f&272&&(u.yValues=[o[4].v[o[8]-1]]),r.$set(u)},i(o){i||(p(e.$$.fragment,o),p(n.$$.fragment,o),p(r.$$.fragment,o),i=!0)},o(o){h(e.$$.fragment,o),h(n.$$.fragment,o),h(r.$$.fragment,o),i=!1},d(o){o&&(v(t),v(s)),I(e,o),I(n,o),I(r,o)}}}function za(l){let e,t,n,s,r,i;e=new ht({props:{xStart:[l[8]],xEnd:[l[8]],yStart:[-1],yEnd:[l[7][l[1]]],lineColor:"#00000040"}});let o=(l[1]==="Nh"||l[1]==="both")&&$s(l),f=(l[1]==="Nq"||l[1]==="both")&&Gs(l);return r=new Bf({props:{items:l[2]}}),{c(){P(e.$$.fragment),t=z(),o&&o.c(),n=z(),f&&f.c(),s=z(),P(r.$$.fragment)},m(a,c){O(e,a,c),y(a,t,c),o&&o.m(a,c),y(a,n,c),f&&f.m(a,c),y(a,s,c),O(r,a,c),i=!0},p(a,c){const u={};c&256&&(u.xStart=[a[8]]),c&256&&(u.xEnd=[a[8]]),c&130&&(u.yEnd=[a[7][a[1]]]),e.$set(u),a[1]==="Nh"||a[1]==="both"?o?(o.p(a,c),c&2&&p(o,1)):(o=$s(a),o.c(),p(o,1),o.m(n.parentNode,n)):o&&(K(),h(o,1,1,()=>{o=null}),X()),a[1]==="Nq"||a[1]==="both"?f?(f.p(a,c),c&2&&p(f,1)):(f=Gs(a),f.c(),p(f,1),f.m(s.parentNode,s)):f&&(K(),h(f,1,1,()=>{f=null}),X());const m={};c&4&&(m.items=a[2]),r.$set(m)},i(a){i||(p(e.$$.fragment,a),p(o),p(f),p(r.$$.fragment,a),i=!0)},o(a){h(e.$$.fragment,a),h(o),h(f),h(r.$$.fragment,a),i=!1},d(a){a&&(v(t),v(n),v(s)),I(e,a),o&&o.d(a),f&&f.d(a),I(r,a)}}}function Ya(l){let e,t;return e=new Ct({props:{showGrid:Us,slot:"xaxis"}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p:$,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Da(l){let e,t;return e=new Et({props:{showGrid:Us,slot:"yaxis"}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p:$,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Ba(l){let e,t;return e=new At({props:{slot:"box"}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p:$,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Wa(l){let e,t,n=(l[0],l[6],l[5],l[4]&&Hs(l));return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0],s[6],s[5],s[4]?n?(n.p(s,r),r&113&&p(n,1)):(n=Hs(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),h(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}const Us=!0,Ha="Number of PCs",$a="Degrees of freedom, Nu",Ga="DoF plot";function Ua(l,e,t){let n,s,r,i,o,f,{params:a}=e,{simcares:c}=e,{simca:u}=e;const m=[.85,1,.25,.25],g=["#2679B2","#D22C2F"];let d="both",k=[];return l.$$set=w=>{"params"in w&&t(0,a=w.params),"simcares"in w&&t(11,c=w.simcares),"simca"in w&&t(12,u=w.simca)},l.$$.update=()=>{l.$$.dirty&3&&a&&a.item&&a.item!==d&&t(1,d=a.item),l.$$.dirty&6&&(d?(t(2,k=[]),(d==="Nh"||d==="both")&&k.push({label:"Nh",borderColor:g[0],marker:1,borderWidth:2}),(d==="Nq"||d==="both")&&k.push({label:"Nq",borderColor:g[1],marker:1,borderWidth:2})):t(2,k=null)),l.$$.dirty&4096&&t(8,n=u?u.ncomp:null),l.$$.dirty&4096&&t(5,s=u?new de(u.Nh):null),l.$$.dirty&4096&&t(4,r=u?new de(u.Nq):null),l.$$.dirty&4096&&t(3,i=u.Nh.length),l.$$.dirty&48&&t(7,o={both:1.2*Ie([Ie(s),Ie(r)]),Nh:1.2*Ie(s),Nq:1.2*Ie(r)}),l.$$.dirty&4104&&t(6,f=u?de.seq(1,i):null)},[a,d,k,i,r,s,f,o,n,m,g,c,u]}class Ka extends ce{constructor(e){super(),ue(this,e,Ua,Wa,le,{params:0,simcares:11,simca:12})}}function Ks(l){let e,t,n,s;return e=new ee({props:{label:"",$$slots:{default:[Xa]},$$scope:{ctx:l}}}),n=new ee({props:{label:"Results:",$$slots:{default:[Qa]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment),t=z(),P(n.$$.fragment)},m(r,i){O(e,r,i),y(r,t,i),O(n,r,i),s=!0},p(r,i){const o={};i&16&&(o.$$scope={dirty:i,ctx:r}),e.$set(o);const f={};i&18&&(f.$$scope={dirty:i,ctx:r}),n.$set(f)},i(r){s||(p(e.$$.fragment,r),p(n.$$.fragment,r),s=!0)},o(r){h(e.$$.fragment,r),h(n.$$.fragment,r),s=!1},d(r){r&&v(t),I(e,r),I(n,r)}}}function Xa(l){let e;return{c(){e=V("p"),e.textContent="DoF plot",_(e,"class","title")},m(t,n){y(t,e,n)},p:$,d(t){t&&v(e)}}}function Qa(l){let e,t,n;function s(i){l[3](i)}let r={id:"resType",options:["both","Nh","Nq"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),Z.push(()=>ne(e,"value",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};!t&&o&2&&(t=!0,f.value=i[1],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function Za(l){let e,t,n=l[0]&&Ks(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&p(n,1)):(n=Ks(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),h(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function Ja(l,e,t){let{params:n}=e,{simcares:s}=e,r="both";function i(o){r=o,t(1,r)}return l.$$set=o=>{"params"in o&&t(2,n=o.params),"simcares"in o&&t(0,s=o.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={item:r})},[s,r,n,i]}class xa extends ce{constructor(e){super(),ue(this,e,Ja,Za,le,{params:2,simcares:0})}}function Xs(l){let e,t;return e=new yt({props:{margins:l[8],title:ou,xLabel:ru,yLabel:iu,limX:[0,l[6].length+1],limY:[-.1,1.1],$$slots:{box:[lu],yaxis:[nu],xaxis:[tu],default:[eu]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&64&&(r.limX=[0,n[6].length+1]),s&8446&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function eu(l){let e,t,n,s,r,i,o,f,a,c,u,m,g,d,k,w;return e=new Rf({props:{left:[0],width:[l[6].length+1],top:[l[5]],height:[2*l[1]],faceColor:"#6DE6F460"}}),n=new ht({props:{xStart:[0],xEnd:[l[6].length+1],yStart:[l[2]],yEnd:[l[2]],lineColor:"#10BBE5",lineType:2}}),r=new ht({props:{xStart:[0],xEnd:[l[6].length+1],yStart:[l[4]],yEnd:[l[4]],lineColor:"#10BBE5",lineType:3}}),o=new ht({props:{xStart:[0],xEnd:[l[6].length+1],yStart:[l[5]],yEnd:[l[5]],lineColor:"#10BBE5",lineType:3}}),a=new Ze({props:{xValues:l[6],yValues:l[3],lineWidth:1.5,lineColor:"#2679B2"}}),u=new ut({props:{xValues:l[6],yValues:l[3],borderWidth:1.5,faceColor:"#d3f4f9",borderColor:"#2679B2"}}),g=new ht({props:{xStart:[l[7]],xEnd:[l[7]],yStart:[-1],yEnd:[1.1],lineColor:"#d0d0d0"}}),k=new ut({props:{xValues:[l[6].v[l[7]-1]],yValues:[l[3][l[7]-1]],markerSize:1.5,borderWidth:1.5,faceColor:"#2679B2",borderColor:"#d0d0d0"}}),{c(){P(e.$$.fragment),t=z(),P(n.$$.fragment),s=z(),P(r.$$.fragment),i=z(),P(o.$$.fragment),f=z(),P(a.$$.fragment),c=z(),P(u.$$.fragment),m=z(),P(g.$$.fragment),d=z(),P(k.$$.fragment)},m(b,A){O(e,b,A),y(b,t,A),O(n,b,A),y(b,s,A),O(r,b,A),y(b,i,A),O(o,b,A),y(b,f,A),O(a,b,A),y(b,c,A),O(u,b,A),y(b,m,A),O(g,b,A),y(b,d,A),O(k,b,A),w=!0},p(b,A){const R={};A&64&&(R.width=[b[6].length+1]),A&32&&(R.top=[b[5]]),A&2&&(R.height=[2*b[1]]),e.$set(R);const L={};A&64&&(L.xEnd=[b[6].length+1]),A&4&&(L.yStart=[b[2]]),A&4&&(L.yEnd=[b[2]]),n.$set(L);const E={};A&64&&(E.xEnd=[b[6].length+1]),A&16&&(E.yStart=[b[4]]),A&16&&(E.yEnd=[b[4]]),r.$set(E);const T={};A&64&&(T.xEnd=[b[6].length+1]),A&32&&(T.yStart=[b[5]]),A&32&&(T.yEnd=[b[5]]),o.$set(T);const N={};A&64&&(N.xValues=b[6]),A&8&&(N.yValues=b[3]),a.$set(N);const S={};A&64&&(S.xValues=b[6]),A&8&&(S.yValues=b[3]),u.$set(S);const F={};A&128&&(F.xStart=[b[7]]),A&128&&(F.xEnd=[b[7]]),g.$set(F);const M={};A&192&&(M.xValues=[b[6].v[b[7]-1]]),A&136&&(M.yValues=[b[3][b[7]-1]]),k.$set(M)},i(b){w||(p(e.$$.fragment,b),p(n.$$.fragment,b),p(r.$$.fragment,b),p(o.$$.fragment,b),p(a.$$.fragment,b),p(u.$$.fragment,b),p(g.$$.fragment,b),p(k.$$.fragment,b),w=!0)},o(b){h(e.$$.fragment,b),h(n.$$.fragment,b),h(r.$$.fragment,b),h(o.$$.fragment,b),h(a.$$.fragment,b),h(u.$$.fragment,b),h(g.$$.fragment,b),h(k.$$.fragment,b),w=!1},d(b){b&&(v(t),v(s),v(i),v(f),v(c),v(m),v(d)),I(e,b),I(n,b),I(r,b),I(o,b),I(a,b),I(u,b),I(g,b),I(k,b)}}}function tu(l){let e,t;return e=new Ct({props:{showGrid:Qs,slot:"xaxis"}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p:$,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function nu(l){let e,t;return e=new Et({props:{showGrid:Qs,slot:"yaxis"}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p:$,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function lu(l){let e,t;return e=new At({props:{slot:"box"}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p:$,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function su(l){let e,t,n=(l[0],l[6],l[3]&&Xs(l));return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0],s[6],s[3]?n?(n.p(s,r),r&73&&p(n,1)):(n=Xs(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),h(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}const Qs=!0,ru="Number of PCs",iu="Sensitivity",ou="Sensitivity plot";function fu(l,e,t){let n,s,r,i,o,f,a,c,{params:u}=e,{simcares:m}=e,{simca:g}=e;const d=[.85,1,.25,.25];let k=m?Object.keys(m)[0]:"";return l.$$set=w=>{"params"in w&&t(0,u=w.params),"simcares"in w&&t(9,m=w.simcares),"simca"in w&&t(10,g=w.simca)},l.$$.update=()=>{l.$$.dirty&2049&&u&&u.resID!==k&&t(11,k=u.resID),l.$$.dirty&2560&&t(12,n=m&&k?m[k]:null),l.$$.dirty&1024&&t(7,s=g?g.ncomp:null),l.$$.dirty&4096&&t(3,r=n?n.v.map(w=>w.stat.sensitivity):null),l.$$.dirty&8&&t(6,i=r?de.seq(1,r.length):null),l.$$.dirty&1024&&t(2,o=g?1-g.alpha/100:null),l.$$.dirty&5120&&t(1,f=g&&n?2*Math.sqrt(g.alpha/100*(1-g.alpha/100)/n.nrows):null),l.$$.dirty&6&&t(5,a=f+o),l.$$.dirty&6&&t(4,c=o-f)},[u,f,o,r,c,a,i,s,d,m,g,k,n]}class Zs extends ce{constructor(e){super(),ue(this,e,fu,su,le,{params:0,simcares:9,simca:10})}}function Js(l){let e,t,n=Object.keys(l[0]).length>1,s,r;e=new ee({props:{label:"",$$slots:{default:[au]},$$scope:{ctx:l}}});let i=n&&xs(l);return{c(){P(e.$$.fragment),t=z(),i&&i.c(),s=J()},m(o,f){O(e,o,f),y(o,t,f),i&&i.m(o,f),y(o,s,f),r=!0},p(o,f){const a={};f&16&&(a.$$scope={dirty:f,ctx:o}),e.$set(a),f&1&&(n=Object.keys(o[0]).length>1),n?i?(i.p(o,f),f&1&&p(i,1)):(i=xs(o),i.c(),p(i,1),i.m(s.parentNode,s)):i&&(K(),h(i,1,1,()=>{i=null}),X())},i(o){r||(p(e.$$.fragment,o),p(i),r=!0)},o(o){h(e.$$.fragment,o),h(i),r=!1},d(o){o&&(v(t),v(s)),I(e,o),i&&i.d(o)}}}function au(l){let e;return{c(){e=V("p"),e.textContent="Sensitivity plot",_(e,"class","title")},m(t,n){y(t,e,n)},p:$,d(t){t&&v(e)}}}function xs(l){let e,t;return e=new ee({props:{label:"Results:",$$slots:{default:[uu]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&19&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function uu(l){let e,t,n;function s(i){l[3](i)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),Z.push(()=>ne(e,"value",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};o&1&&(f.options=Object.keys(i[0])),!t&&o&2&&(t=!0,f.value=i[1],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function cu(l){let e,t,n=l[0]&&Js(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&p(n,1)):(n=Js(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),h(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function mu(l,e,t){let{params:n}=e,{simcares:s}=e,r=s?Object.keys(s)[0]:"";function i(o){r=o,t(1,r)}return l.$$set=o=>{"params"in o&&t(2,n=o.params),"simcares"in o&&t(0,s=o.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={resID:r})},[s,r,n,i]}class er extends ce{constructor(e){super(),ue(this,e,mu,cu,le,{params:2,simcares:0})}}function tr(l){let e,t;return e=new yt({props:{margins:l[4],title:ku,xLabel:bu,yLabel:wu,limX:[0,l[2].length+1],limY:[-.1,1.1],$$slots:{box:[du],yaxis:[gu],xaxis:[pu],default:[_u]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&4&&(r.limX=[0,n[2].length+1]),s&526&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function _u(l){let e,t,n,s,r,i,o,f;return e=new ht({props:{xStart:[l[3]],xEnd:[l[3]],yStart:[-1],yEnd:[1.1],lineColor:"#00000040"}}),n=new Ze({props:{xValues:l[2],yValues:l[1],lineWidth:1.5,lineColor:"#2679B2"}}),r=new ut({props:{xValues:l[2],yValues:l[1],borderWidth:1.5,faceColor:"#fff",borderColor:"#2679B2"}}),o=new ut({props:{xValues:[l[2].v[l[3]-1]],yValues:[l[1][l[3]-1]],borderWidth:4,faceColor:"#2679B2",borderColor:"#2679B2"}}),{c(){P(e.$$.fragment),t=z(),P(n.$$.fragment),s=z(),P(r.$$.fragment),i=z(),P(o.$$.fragment)},m(a,c){O(e,a,c),y(a,t,c),O(n,a,c),y(a,s,c),O(r,a,c),y(a,i,c),O(o,a,c),f=!0},p(a,c){const u={};c&8&&(u.xStart=[a[3]]),c&8&&(u.xEnd=[a[3]]),e.$set(u);const m={};c&4&&(m.xValues=a[2]),c&2&&(m.yValues=a[1]),n.$set(m);const g={};c&4&&(g.xValues=a[2]),c&2&&(g.yValues=a[1]),r.$set(g);const d={};c&12&&(d.xValues=[a[2].v[a[3]-1]]),c&10&&(d.yValues=[a[1][a[3]-1]]),o.$set(d)},i(a){f||(p(e.$$.fragment,a),p(n.$$.fragment,a),p(r.$$.fragment,a),p(o.$$.fragment,a),f=!0)},o(a){h(e.$$.fragment,a),h(n.$$.fragment,a),h(r.$$.fragment,a),h(o.$$.fragment,a),f=!1},d(a){a&&(v(t),v(s),v(i)),I(e,a),I(n,a),I(r,a),I(o,a)}}}function pu(l){let e,t;return e=new Ct({props:{showGrid:nr,slot:"xaxis"}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p:$,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function gu(l){let e,t;return e=new Et({props:{showGrid:nr,slot:"yaxis"}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p:$,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function du(l){let e,t;return e=new At({props:{slot:"box"}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p:$,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function hu(l){let e,t,n=(l[0],l[2],l[1]&&tr(l));return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0],s[2],s[1]?n?(n.p(s,r),r&7&&p(n,1)):(n=tr(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),h(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}const nr=!0,bu="Number of PCs",wu="Specificity",ku="Specificity plot";function vu(l,e,t){let n,s,r,i,{params:o}=e,{simcares:f}=e,{simca:a}=e;const c=[.85,1,.25,.25];let u=f?Object.keys(f)[0]:"";return l.$$set=m=>{"params"in m&&t(0,o=m.params),"simcares"in m&&t(5,f=m.simcares),"simca"in m&&t(6,a=m.simca)},l.$$.update=()=>{l.$$.dirty&129&&o&&o.resID!==u&&t(7,u=o.resID),l.$$.dirty&160&&t(8,n=f&&u?f[u]:null),l.$$.dirty&64&&t(3,s=a?a.ncomp:null),l.$$.dirty&256&&t(1,r=n?n.v.map(m=>m.stat.specificity):null),l.$$.dirty&2&&t(2,i=r?de.seq(1,r.length):null)},[o,r,i,s,c,f,a,u,n]}class yu extends ce{constructor(e){super(),ue(this,e,vu,hu,le,{params:0,simcares:5,simca:6})}}function lr(l){let e,t,n=Object.keys(l[0]).length>1,s,r;e=new ee({props:{label:"",$$slots:{default:[Cu]},$$scope:{ctx:l}}});let i=n&&sr(l);return{c(){P(e.$$.fragment),t=z(),i&&i.c(),s=J()},m(o,f){O(e,o,f),y(o,t,f),i&&i.m(o,f),y(o,s,f),r=!0},p(o,f){const a={};f&16&&(a.$$scope={dirty:f,ctx:o}),e.$set(a),f&1&&(n=Object.keys(o[0]).length>1),n?i?(i.p(o,f),f&1&&p(i,1)):(i=sr(o),i.c(),p(i,1),i.m(s.parentNode,s)):i&&(K(),h(i,1,1,()=>{i=null}),X())},i(o){r||(p(e.$$.fragment,o),p(i),r=!0)},o(o){h(e.$$.fragment,o),h(i),r=!1},d(o){o&&(v(t),v(s)),I(e,o),i&&i.d(o)}}}function Cu(l){let e;return{c(){e=V("p"),e.textContent="Specificity plot",_(e,"class","title")},m(t,n){y(t,e,n)},p:$,d(t){t&&v(e)}}}function sr(l){let e,t;return e=new ee({props:{label:"Results:",$$slots:{default:[Eu]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&19&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Eu(l){let e,t,n;function s(i){l[3](i)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),Z.push(()=>ne(e,"value",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};o&1&&(f.options=Object.keys(i[0])),!t&&o&2&&(t=!0,f.value=i[1],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function Au(l){let e,t,n=l[0]&&lr(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&p(n,1)):(n=lr(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),h(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function Nu(l,e,t){let{params:n}=e,{simcares:s}=e,r=s?Object.keys(s)[0]:"";function i(o){r=o,t(1,r)}return l.$$set=o=>{"params"in o&&t(2,n=o.params),"simcares"in o&&t(0,s=o.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={resID:r})},[s,r,n,i]}class Mu extends ce{constructor(e){super(),ue(this,e,Nu,Au,le,{params:2,simcares:0})}}function Lu(l){let e,t;return e=new yn({props:{simcares:l[0],simca:l[1],options:l[2]}}),e.$on("setoutlier",l[3]),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,[s]){const r={};s&1&&(r.simcares=n[0]),s&2&&(r.simca=n[1]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Su(l,e,t){let{simcares:n}=e,{simca:s}=e;const r=[{label:"Acceptance",plotComponent:Os,controlsComponent:qs},{label:"DoF",plotComponent:Ka,controlsComponent:xa},{label:"Extremes",plotComponent:Ys,controlsComponent:Ws},{label:"Sensitivity",plotComponent:Zs,controlsComponent:er}];function i(o){Ut.call(this,l,o)}return l.$$set=o=>{"simcares"in o&&t(0,n=o.simcares),"simca"in o&&t(1,s=o.simca)},[n,s,r,i]}let Tu=class extends ce{constructor(e){super(),ue(this,e,Su,Lu,le,{simcares:0,simca:1})}};const Rm="";function rr(l){let e,t,n,s,r,i,o,f=l[0].Nh[l[1]-1]+"",a,c,u,m=l[0].Nq[l[1]-1]+"",g,d,k,w=l[0].Nf[l[1]-1]+"",b,A,R,L,E,T,N=l[0].h0[l[1]-1].toFixed(2)+"",S,F,M,j=l[0].q0[l[1]-1].toFixed(l[0].q0[l[1]-1]>99?0:2)+"",q,D,Q,te,Y,W,oe,fe,ge,he,we,Ee,Oe=l[0].eCrit[l[1]-1].toFixed(1)+"",je,Be,Se,Ve,$e,ze,Ae,Ye,nt,Je,lt=l[0].oCrit[l[1]-1].toFixed(1)+"",U;return{c(){e=V("table"),t=V("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">h</th> <th class="svelte-kg0b31">q</th> <th class="svelte-kg0b31">f</th>',n=z(),s=V("tr"),r=V("td"),r.textContent="DoF (Nu)",i=z(),o=V("td"),a=G(f),c=z(),u=V("td"),g=G(m),d=z(),k=V("td"),b=G(w),A=z(),R=V("tr"),L=V("td"),L.textContent="Mean (u0)",E=z(),T=V("td"),S=G(N),F=z(),M=V("td"),q=G(j),D=z(),Q=V("td"),te=z(),Y=V("tr"),W=V("td"),W.textContent="Crit (extreme)",oe=z(),fe=V("td"),ge=z(),he=V("td"),we=z(),Ee=V("td"),je=G(Oe),Be=z(),Se=V("tr"),Ve=V("td"),Ve.textContent="Crit (outliers)",$e=z(),ze=V("td"),Ae=z(),Ye=V("td"),nt=z(),Je=V("td"),U=G(lt),_(t,"class","svelte-kg0b31"),_(r,"class","label svelte-kg0b31"),_(o,"class","svelte-kg0b31"),_(u,"class","svelte-kg0b31"),_(k,"class","svelte-kg0b31"),_(s,"class","svelte-kg0b31"),_(L,"class","label svelte-kg0b31"),_(T,"class","svelte-kg0b31"),_(M,"class","svelte-kg0b31"),_(Q,"class","svelte-kg0b31"),_(R,"class","svelte-kg0b31"),_(W,"class","label svelte-kg0b31"),_(fe,"class","svelte-kg0b31"),_(he,"class","svelte-kg0b31"),_(Ee,"class","svelte-kg0b31"),_(Y,"class","svelte-kg0b31"),_(Ve,"class","label svelte-kg0b31"),_(ze,"class","svelte-kg0b31"),_(Ye,"class","svelte-kg0b31"),_(Je,"class","svelte-kg0b31"),_(Se,"class","svelte-kg0b31"),_(e,"class","svelte-kg0b31")},m(pe,Re){y(pe,e,Re),C(e,t),C(e,n),C(e,s),C(s,r),C(s,i),C(s,o),C(o,a),C(s,c),C(s,u),C(u,g),C(s,d),C(s,k),C(k,b),C(e,A),C(e,R),C(R,L),C(R,E),C(R,T),C(T,S),C(R,F),C(R,M),C(M,q),C(R,D),C(R,Q),C(e,te),C(e,Y),C(Y,W),C(Y,oe),C(Y,fe),C(Y,ge),C(Y,he),C(Y,we),C(Y,Ee),C(Ee,je),C(e,Be),C(e,Se),C(Se,Ve),C(Se,$e),C(Se,ze),C(Se,Ae),C(Se,Ye),C(Se,nt),C(Se,Je),C(Je,U)},p(pe,Re){Re&3&&f!==(f=pe[0].Nh[pe[1]-1]+"")&&ae(a,f),Re&3&&m!==(m=pe[0].Nq[pe[1]-1]+"")&&ae(g,m),Re&3&&w!==(w=pe[0].Nf[pe[1]-1]+"")&&ae(b,w),Re&3&&N!==(N=pe[0].h0[pe[1]-1].toFixed(2)+"")&&ae(S,N),Re&3&&j!==(j=pe[0].q0[pe[1]-1].toFixed(pe[0].q0[pe[1]-1]>99?0:2)+"")&&ae(q,j),Re&3&&Oe!==(Oe=pe[0].eCrit[pe[1]-1].toFixed(1)+"")&&ae(je,Oe),Re&3&&lt!==(lt=pe[0].oCrit[pe[1]-1].toFixed(1)+"")&&ae(U,lt)},d(pe){pe&&v(e)}}}function Ru(l){let e,t=l[0]&&rr(l);return{c(){t&&t.c(),e=J()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[0]?t?t.p(n,s):(t=rr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&v(e),t&&t.d(n)}}}function Ou(l,e,t){let n,{simca:s}=e;return l.$$set=r=>{"simca"in r&&t(0,s=r.simca)},l.$$.update=()=>{l.$$.dirty&1&&t(1,n=s.ncomp)},[s,n]}class An extends ce{constructor(e){super(),ue(this,e,Ou,Ru,le,{simca:0})}}function Iu(l){let e,t,n=l[0].className+"",s;return{c(){e=V("p"),t=G("Target class: "),s=G(n),_(e,"class","title")},m(r,i){y(r,e,i),C(e,t),C(e,s)},p(r,i){i&1&&n!==(n=r[0].className+"")&&ae(s,n)},d(r){r&&v(e)}}}function Pu(l){let e,t,n;function s(i){l[8](i)}let r={id:"ncomp",min:1,max:l[1].ncomp,step:1,decNum:0};return l[3]!==void 0&&(r.value=l[3]),e=new nl({props:r}),Z.push(()=>ne(e,"value",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};o&2&&(f.max=i[1].ncomp),!t&&o&8&&(t=!0,f.value=i[3],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function qu(l){let e,t,n;function s(i){l[9](i)}let r={id:"alpha",options:l[6]};return l[4]!==void 0&&(r.value=l[4]),e=new ye({props:r}),Z.push(()=>ne(e,"value",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};!t&&o&16&&(t=!0,f.value=i[4],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function Fu(l){let e,t,n;function s(i){l[10](i)}let r={id:"gamma",options:l[7]};return l[5]!==void 0&&(r.value=l[5]),e=new ye({props:r}),Z.push(()=>ne(e,"value",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};!t&&o&32&&(t=!0,f.value=i[5],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function ju(l){let e,t,n;function s(i){l[11](i)}let r={id:"limType",options:["classic","robust"]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),Z.push(()=>ne(e,"value",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};!t&&o&4&&(t=!0,f.value=i[2],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function Vu(l){let e,t,n,s,r,i,o,f,a,c;return e=new ee({props:{label:"",$$slots:{default:[Iu]},$$scope:{ctx:l}}}),n=new ee({props:{label:"# of PCs",$$slots:{default:[Pu]},$$scope:{ctx:l}}}),r=new ee({props:{label:"Alpha, %:",$$slots:{default:[qu]},$$scope:{ctx:l}}}),o=new ee({props:{label:"Gamma, %:",$$slots:{default:[Fu]},$$scope:{ctx:l}}}),a=new ee({props:{label:"Limits:",$$slots:{default:[ju]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment),t=z(),P(n.$$.fragment),s=z(),P(r.$$.fragment),i=z(),P(o.$$.fragment),f=z(),P(a.$$.fragment)},m(u,m){O(e,u,m),y(u,t,m),O(n,u,m),y(u,s,m),O(r,u,m),y(u,i,m),O(o,u,m),y(u,f,m),O(a,u,m),c=!0},p(u,[m]){const g={};m&1048577&&(g.$$scope={dirty:m,ctx:u}),e.$set(g);const d={};m&1048586&&(d.$$scope={dirty:m,ctx:u}),n.$set(d);const k={};m&1048592&&(k.$$scope={dirty:m,ctx:u}),r.$set(k);const w={};m&1048608&&(w.$$scope={dirty:m,ctx:u}),o.$set(w);const b={};m&1048580&&(b.$$scope={dirty:m,ctx:u}),a.$set(b)},i(u){c||(p(e.$$.fragment,u),p(n.$$.fragment,u),p(r.$$.fragment,u),p(o.$$.fragment,u),p(a.$$.fragment,u),c=!0)},o(u){h(e.$$.fragment,u),h(n.$$.fragment,u),h(r.$$.fragment,u),h(o.$$.fragment,u),h(a.$$.fragment,u),c=!1},d(u){u&&(v(t),v(s),v(i),v(f)),I(e,u),I(n,u),I(r,u),I(o,u),I(a,u)}}}function zu(l,e,t){let{model:n}=e,{simca:s}=e,r=s?s.limType:"classic",i=s?s.ncomp:1,o=s?s.alpha:5,f=s?s.gamma:1;const a=[10,5,1,.1],c=[5,1,.1,.01];function u(N){s.ncomp!==N&&t(0,s.ncomp=N,s)}function m(N){N!==s.alpha&&(t(0,s.alpha=N,s),t(0,s.eCrit=s.Nf.map(S=>wt(1-N/100,S)),s))}function g(N){N!==s.gamma&&(t(0,s.gamma=N,s),t(0,s.oCrit=s.Nf.map(S=>wt(Math.pow(1-N/100,1/n.nrows),S)),s))}function d(N){!s||!n||N===s.limType||(t(0,s.limType=N,s),t(0,s.Nh=n.lim[N].Nh,s),t(0,s.h0=n.lim[N].h0,s),t(0,s.Nq=n.lim[N].Nq,s),t(0,s.q0=n.lim[N].q0,s),t(0,s.Nf=s.Nh.map((S,F)=>S+s.Nq[F]),s),t(0,s.eCrit=s.Nf.map(S=>wt(1-s.alpha/100,S)),s),t(0,s.oCrit=s.Nf.map(S=>wt(Math.pow(1-s.gamma/100,1/n.nrows),S)),s))}function k(N){i!==N&&t(3,i=N)}function w(N){o!==N&&t(4,o=N)}function b(N){f!==N&&t(5,f=N)}function A(N){r!==N&&t(2,r=N)}function R(N){i=N,t(3,i)}function L(N){o=N,t(4,o)}function E(N){f=N,t(5,f)}function T(N){r=N,t(2,r)}return l.$$set=N=>{"model"in N&&t(1,n=N.model),"simca"in N&&t(0,s=N.simca)},l.$$.update=()=>{l.$$.dirty&8&&u(i),l.$$.dirty&16&&m(o),l.$$.dirty&32&&g(f),l.$$.dirty&4&&d(r),l.$$.dirty&1&&k(s.ncomp),l.$$.dirty&1&&w(s.alpha),l.$$.dirty&1&&b(s.gamma),l.$$.dirty&1&&A(s.limType)},[s,n,r,i,o,f,a,c,R,L,E,T]}class Nn extends ce{constructor(e){super(),ue(this,e,zu,Vu,le,{model:1,simca:0})}}const Om="";function ir(l){let e,t;return e=new ee({props:{$$slots:{default:[Yu]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&35&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Yu(l){let e,t,n,s=l[0].map(l[3]).join(" ")+"",r,i,o;return i=new vt({}),i.$on("click",l[2]),{c(){e=V("p"),t=G("Removed: "),n=new qn(!1),r=z(),P(i.$$.fragment),n.a=null,_(e,"class","outliers svelte-4rlpf1")},m(f,a){y(f,e,a),C(e,t),n.m(s,e),y(f,r,a),O(i,f,a),o=!0},p(f,a){(!o||a&3)&&s!==(s=f[0].map(f[3]).join(" ")+"")&&n.p(s)},i(f){o||(p(i.$$.fragment,f),o=!0)},o(f){h(i.$$.fragment,f),o=!1},d(f){f&&(v(e),v(r)),I(i,f)}}}function Du(l){let e,t,n=l[0].length>0&&ir(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0].length>0?n?(n.p(s,r),r&1&&p(n,1)):(n=ir(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),h(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function Bu(l,e,t){const n=Gt();let{outliers:s}=e,{dataset:r}=e;function i(f){n("resetoutliers",{})}const o=f=>"<span>"+r.labels[f]+"</span>";return l.$$set=f=>{"outliers"in f&&t(0,s=f.outliers),"dataset"in f&&t(1,r=f.dataset)},[s,r,i,o]}class or extends ce{constructor(e){super(),ue(this,e,Bu,Du,le,{outliers:0,dataset:1})}}const Im="";function fr(l){let e,t,n,s;function r(o){l[16](o)}let i={dataset:l[3]};return l[8]!==void 0&&(i.outliers=l[8]),t=new or({props:i}),Z.push(()=>ne(t,"outliers",r)),t.$on("resetoutliers",l[11]),{c(){e=V("div"),P(t.$$.fragment),_(e,"class","outliers-pane svelte-1kl15v")},m(o,f){y(o,e,f),O(t,e,null),s=!0},p(o,f){const a={};f&8&&(a.dataset=o[3]),!n&&f&256&&(n=!0,a.outliers=o[8],ie(()=>n=!1)),t.$set(a)},i(o){s||(p(t.$$.fragment,o),s=!0)},o(o){h(t.$$.fragment,o),s=!1},d(o){o&&v(e),I(t)}}}function ar(l){let e,t,n,s,r,i;function o(u){l[17](u)}function f(u){l[18](u)}function a(u){l[19](u)}let c={WASM:l[0],calset:l[3],outliers:l[8],className:l[7]};return l[2]!==void 0&&(c.simca=l[2]),l[1]!==void 0&&(c.model=l[1]),l[5]!==void 0&&(c.calres=l[5]),t=new Bo({props:c}),Z.push(()=>ne(t,"simca",o)),Z.push(()=>ne(t,"model",f)),Z.push(()=>ne(t,"calres",a)),{c(){e=V("div"),P(t.$$.fragment),_(e,"class","model-calculator svelte-1kl15v")},m(u,m){y(u,e,m),O(t,e,null),i=!0},p(u,m){const g={};m&1&&(g.WASM=u[0]),m&8&&(g.calset=u[3]),m&256&&(g.outliers=u[8]),m&128&&(g.className=u[7]),!n&&m&4&&(n=!0,g.simca=u[2],ie(()=>n=!1)),!s&&m&2&&(s=!0,g.model=u[1],ie(()=>s=!1)),!r&&m&32&&(r=!0,g.calres=u[5],ie(()=>r=!1)),t.$set(g)},i(u){i||(p(t.$$.fragment,u),i=!0)},o(u){h(t.$$.fragment,u),i=!1},d(u){u&&v(e),I(t)}}}function ur(l){let e,t,n,s,r;function i(a){l[20](a)}function o(a){l[21](a)}let f={WASM:l[0],calset:l[3],outliers:l[8],model:l[1]};return l[4]!==void 0&&(f.pvset=l[4]),l[6]!==void 0&&(f.pvres=l[6]),t=new Mo({props:f}),Z.push(()=>ne(t,"pvset",i)),Z.push(()=>ne(t,"pvres",o)),{c(){e=V("div"),P(t.$$.fragment),_(e,"class","pcv-calculator svelte-1kl15v")},m(a,c){y(a,e,c),O(t,e,null),r=!0},p(a,c){const u={};c&1&&(u.WASM=a[0]),c&8&&(u.calset=a[3]),c&256&&(u.outliers=a[8]),c&2&&(u.model=a[1]),!n&&c&16&&(n=!0,u.pvset=a[4],ie(()=>n=!1)),!s&&c&64&&(s=!0,u.pvres=a[6],ie(()=>s=!1)),t.$set(u)},i(a){r||(p(t.$$.fragment,a),r=!0)},o(a){h(t.$$.fragment,a),r=!1},d(a){a&&v(e),I(t)}}}function cr(l){let e,t,n,s,r,i;function o(a){l[22](a)}let f={model:l[1]};return l[2]!==void 0&&(f.simca=l[2]),t=new Nn({props:f}),Z.push(()=>ne(t,"simca",o)),r=new ee({props:{label:"Download",$$slots:{default:[$u]},$$scope:{ctx:l}}}),{c(){e=V("div"),P(t.$$.fragment),s=z(),P(r.$$.fragment),_(e,"class","simca-settings svelte-1kl15v")},m(a,c){y(a,e,c),O(t,e,null),C(e,s),O(r,e,null),i=!0},p(a,c){const u={};c&2&&(u.model=a[1]),!n&&c&4&&(n=!0,u.simca=a[2],ie(()=>n=!1)),t.$set(u);const m={};c&67109646&&(m.$$scope={dirty:c,ctx:a}),r.$set(m)},i(a){i||(p(t.$$.fragment,a),p(r.$$.fragment,a),i=!0)},o(a){h(t.$$.fragment,a),h(r.$$.fragment,a),i=!1},d(a){a&&v(e),I(t),I(r)}}}function Wu(l){let e;return{c(){e=G("Results")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function Hu(l){let e;return{c(){e=G("Model")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function $u(l){let e,t,n,s,r;return t=new Ue({props:{$$slots:{default:[Wu]},$$scope:{ctx:l}}}),t.$on("click",l[23]),s=new Ue({props:{$$slots:{default:[Hu]},$$scope:{ctx:l}}}),s.$on("click",l[24]),{c(){e=V("div"),P(t.$$.fragment),n=z(),P(s.$$.fragment),_(e,"class","buttons svelte-1kl15v")},m(i,o){y(i,e,o),O(t,e,null),C(e,n),O(s,e,null),r=!0},p(i,o){const f={};o&67108864&&(f.$$scope={dirty:o,ctx:i}),t.$set(f);const a={};o&67108864&&(a.$$scope={dirty:o,ctx:i}),s.$set(a)},i(i){r||(p(t.$$.fragment,i),p(s.$$.fragment,i),r=!0)},o(i){h(t.$$.fragment,i),h(s.$$.fragment,i),r=!1},d(i){i&&v(e),I(t),I(s)}}}function mr(l){let e,t,n;return t=new An({props:{simca:l[2]}}),{c(){e=V("div"),P(t.$$.fragment),_(e,"class","model-stats svelte-1kl15v")},m(s,r){y(s,e,r),O(t,e,null),n=!0},p(s,r){const i={};r&4&&(i.simca=s[2]),t.$set(i)},i(s){n||(p(t.$$.fragment,s),n=!0)},o(s){h(t.$$.fragment,s),n=!1},d(s){s&&v(e),I(t)}}}function _r(l){let e,t,n;return t=new $o({props:{simca:l[2],res:l[9]}}),{c(){e=V("div"),P(t.$$.fragment),_(e,"class","result-stats svelte-1kl15v")},m(s,r){y(s,e,r),O(t,e,null),n=!0},p(s,r){const i={};r&4&&(i.simca=s[2]),r&512&&(i.res=s[9]),t.$set(i)},i(s){n||(p(t.$$.fragment,s),n=!0)},o(s){h(t.$$.fragment,s),n=!1},d(s){s&&v(e),I(t)}}}function Gu(l){let e=l[1],t,n,s=pr(l);return{c(){s.c(),t=J()},m(r,i){s.m(r,i),y(r,t,i),n=!0},p(r,i){i&2&&le(e,e=r[1])?(K(),h(s,1,1,$),X(),s=pr(r),s.c(),p(s,1),s.m(t.parentNode,t)):s.p(r,i)},i(r){n||(p(s),n=!0)},o(r){h(s),n=!1},d(r){r&&v(t),s.d(r)}}}function Uu(l){let e;function t(r,i){return r[3]?Ku:Xu}let n=t(l),s=n(l);return{c(){e=V("div"),s.c(),_(e,"class","help-text svelte-1kl15v")},m(r,i){y(r,e,i),s.m(e,null)},p(r,i){n===(n=t(r))&&s?s.p(r,i):(s.d(1),s=n(r),s&&(s.c(),s.m(e,null)))},i:$,o:$,d(r){r&&v(e),s.d()}}}function pr(l){let e,t;return e=new Tu({props:{simcares:l[9],simca:l[2]}}),e.$on("setoutlier",l[10]),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&512&&(r.simcares=n[9]),s&4&&(r.simca=n[2]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Ku(l){let e,t,n=!l[1]&&gr(),s=l[1]&&!l[4]&&dr();return{c(){n&&n.c(),e=z(),s&&s.c(),t=J()},m(r,i){n&&n.m(r,i),y(r,e,i),s&&s.m(r,i),y(r,t,i)},p(r,i){r[1]?n&&(n.d(1),n=null):n||(n=gr(),n.c(),n.m(e.parentNode,e)),r[1]&&!r[4]?s||(s=dr(),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(r){r&&(v(e),v(t)),n&&n.d(r),s&&s.d(r)}}}function Xu(l){let e,t,n,s,r,i,o,f,a,c,u,m,g;return{c(){e=V("p"),e.innerHTML="In this tab you can train a DD-SIMCA model and optimize its parameters using Procrustes cross-validation. After creating the model you can save it to a file and use it in other tabs. For example, validate and tune it using test set with target class members (tab <strong>Predict: Target</strong>) or apply it to a dataset with non-target class members (tab <strong>Predict: New</strong>).",t=z(),n=V("p"),n.innerHTML="<strong>Step 1.</strong>",s=z(),r=V("p"),r.textContent=`Load your training set from a CSV file. The file should contain data as numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables.`,i=z(),o=V("p"),o.textContent="First column must contain class names for each row. All rows in the training set should belong to the target class, so it is expected that the class names are the same (you will get error message if not).",f=z(),a=V("p"),a.innerHTML="First row can contain variable names (<strong>header</strong>) and first column can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. In this case it is assumed that column with the class names is located next to the column with row labels. Here is an example:",c=z(),u=V("div"),u.innerHTML='<table class="svelte-1kl15v"><tr><td class="svelte-1kl15v">Name</td> <td class="svelte-1kl15v">Class</td> <td class="svelte-1kl15v">x1</td> <td class="svelte-1kl15v">x2</td> <td class="svelte-1kl15v">x3</td></tr> <tr><td class="svelte-1kl15v">O1</td> <td class="svelte-1kl15v">A</td> <td class="svelte-1kl15v">3.8</td> <td class="svelte-1kl15v">1.3</td> <td class="svelte-1kl15v">13.6</td></tr> <tr><td class="svelte-1kl15v">O2</td> <td class="svelte-1kl15v">A</td> <td class="svelte-1kl15v">11.1</td> <td class="svelte-1kl15v">12.3</td> <td class="svelte-1kl15v">3.3</td></tr> <tr><td class="svelte-1kl15v">O3</td> <td class="svelte-1kl15v">A</td> <td class="svelte-1kl15v">1.2</td> <td class="svelte-1kl15v">2.3</td> <td class="svelte-1kl15v">4.2</td></tr></table>',m=z(),g=V("p"),_(e,"class","svelte-1kl15v"),_(n,"class","svelte-1kl15v"),_(r,"class","svelte-1kl15v"),_(o,"class","svelte-1kl15v"),_(a,"class","svelte-1kl15v"),_(u,"class","svelte-1kl15v"),_(g,"class","svelte-1kl15v")},m(d,k){y(d,e,k),y(d,t,k),y(d,n,k),y(d,s,k),y(d,r,k),y(d,i,k),y(d,o,k),y(d,f,k),y(d,a,k),y(d,c,k),y(d,u,k),y(d,m,k),y(d,g,k)},p:$,d(d){d&&(v(e),v(t),v(n),v(s),v(r),v(i),v(o),v(f),v(a),v(c),v(u),v(m),v(g))}}}function gr(l){let e,t,n;return{c(){e=V("p"),e.innerHTML="<strong>Step 2</strong>",t=z(),n=V("p"),n.textContent=`Next step is to create a global PCA model for the calibration set, which will be the basis for the SIMCA model. Use more components/latent variables (PCs) than you expect to be optimal. You will have possibility to set
               optimal number later.`,_(e,"class","svelte-1kl15v"),_(n,"class","svelte-1kl15v")},m(s,r){y(s,e,r),y(s,t,r),y(s,n,r)},d(s){s&&(v(e),v(t),v(n))}}}function dr(l){let e,t,n,s,r;return{c(){e=V("p"),e.innerHTML="<strong>Step 3</strong>",t=z(),n=V("p"),n.textContent="Now set necessary parameters for Procrustes cross-validation and click button to compute the PV-set, which will help you to optimize SIMCA model parameters. The parameters are the same as for conventional cross-validation: type of splits and number of segments. It is recommended to use fewer number of segments (e.g. 3, 4 or 5).",s=z(),r=V("p"),r.textContent="After this step SIMCA model will be created automatically and you will be able to tune its parameters.",_(e,"class","svelte-1kl15v"),_(n,"class","svelte-1kl15v"),_(r,"class","svelte-1kl15v")},m(i,o){y(i,e,o),y(i,t,o),y(i,n,o),y(i,s,o),y(i,r,o)},d(i){i&&(v(e),v(t),v(n),v(s),v(r))}}}function Qu(l){let e,t,n,s,r,i,o,f,a,c,u,m,g,d,k,w;function b(q){l[15](q)}let A={};l[3]!==void 0&&(A.dataset=l[3]),s=new mo({props:A}),Z.push(()=>ne(s,"dataset",b));let R=l[8].length>0&&fr(l),L=l[3]&&ar(l),E=l[3]&&l[1]&&ur(l),T=l[1]&&l[6]&&l[5]&&cr(l),N=l[2]&&l[4]&&l[1]&&mr(l),S=l[9]&&_r(l);const F=[Uu,Gu],M=[];function j(q,D){return!q[4]||!q[6]||!q[2]?0:1}return d=j(l),k=M[d]=F[d](l),{c(){e=V("div"),t=V("div"),n=V("div"),P(s.$$.fragment),i=z(),R&&R.c(),o=z(),L&&L.c(),f=z(),E&&E.c(),a=z(),T&&T.c(),c=z(),N&&N.c(),u=z(),S&&S.c(),m=z(),g=V("div"),k.c(),_(n,"class","data-loader svelte-1kl15v"),_(t,"class","app-controls svelte-1kl15v"),_(g,"class","app-content svelte-1kl15v"),_(e,"class","app-container svelte-1kl15v")},m(q,D){y(q,e,D),C(e,t),C(t,n),O(s,n,null),C(t,i),R&&R.m(t,null),C(t,o),L&&L.m(t,null),C(t,f),E&&E.m(t,null),C(t,a),T&&T.m(t,null),C(t,c),N&&N.m(t,null),C(t,u),S&&S.m(t,null),C(e,m),C(e,g),M[d].m(g,null),w=!0},p(q,[D]){const Q={};!r&&D&8&&(r=!0,Q.dataset=q[3],ie(()=>r=!1)),s.$set(Q),q[8].length>0?R?(R.p(q,D),D&256&&p(R,1)):(R=fr(q),R.c(),p(R,1),R.m(t,o)):R&&(K(),h(R,1,1,()=>{R=null}),X()),q[3]?L?(L.p(q,D),D&8&&p(L,1)):(L=ar(q),L.c(),p(L,1),L.m(t,f)):L&&(K(),h(L,1,1,()=>{L=null}),X()),q[3]&&q[1]?E?(E.p(q,D),D&10&&p(E,1)):(E=ur(q),E.c(),p(E,1),E.m(t,a)):E&&(K(),h(E,1,1,()=>{E=null}),X()),q[1]&&q[6]&&q[5]?T?(T.p(q,D),D&98&&p(T,1)):(T=cr(q),T.c(),p(T,1),T.m(t,c)):T&&(K(),h(T,1,1,()=>{T=null}),X()),q[2]&&q[4]&&q[1]?N?(N.p(q,D),D&22&&p(N,1)):(N=mr(q),N.c(),p(N,1),N.m(t,u)):N&&(K(),h(N,1,1,()=>{N=null}),X()),q[9]?S?(S.p(q,D),D&512&&p(S,1)):(S=_r(q),S.c(),p(S,1),S.m(t,null)):S&&(K(),h(S,1,1,()=>{S=null}),X());let te=d;d=j(q),d===te?M[d].p(q,D):(K(),h(M[te],1,1,()=>{M[te]=null}),X(),k=M[d],k?k.p(q,D):(k=M[d]=F[d](q),k.c()),p(k,1),k.m(g,null))},i(q){w||(p(s.$$.fragment,q),p(R),p(L),p(E),p(T),p(N),p(S),p(k),w=!0)},o(q){h(s.$$.fragment,q),h(R),h(L),h(E),h(T),h(N),h(S),h(k),w=!1},d(q){q&&v(e),I(s),R&&R.d(),L&&L.d(),E&&E.d(),T&&T.d(),N&&N.d(),S&&S.d(),M[d].d()}}}function Zu(l,e,t){let{WASM:n}=e,s,r,i,o,f,a=[],c=[],u,m,g,d,k;function w(q){const D=c[parseInt(q.detail.id)];if(D>=0&&!a.includes(D)&&c.includes(D)){const Q=c.findIndex(te=>te===D);if(Q<0)return;m&&t(14,m=m.filter((te,Y)=>Y!==Q)),u&&t(13,u=u.filter((te,Y)=>Y!==Q)),t(12,c=c.filter(te=>te!==D)),t(8,a=[...a,D]),t(1,s=null)}}function b(){t(8,a=[]),t(12,c=Array(i.values.nrows).fill().map((q,D)=>D)),t(13,u=i.classes),t(14,m=i.labels),t(1,s=null)}function A(q){i=q,t(3,i)}function R(q){a=q,t(8,a),t(3,i),t(12,c)}function L(q){r=q,t(2,r)}function E(q){s=q,t(1,s),t(3,i),t(12,c)}function T(q){g=q,t(5,g),t(1,s),t(3,i),t(12,c)}function N(q){o=q,t(4,o),t(1,s),t(3,i),t(12,c)}function S(q){d=q,t(6,d),t(4,o),t(1,s),t(3,i),t(12,c)}function F(q){r=q,t(2,r)}const M=()=>wn(k.cal,i,"train",a),j=()=>kn(s,r);return l.$$set=q=>{"WASM"in q&&t(0,n=q.WASM)},l.$$.update=()=>{l.$$.dirty&4104&&(i===null?(t(1,s=null),t(7,f=null),t(13,u=null),t(14,m=null),t(12,c=[]),t(8,a=[])):i&&c.length===0&&(t(12,c=Array(i.values.nrows).fill().map((q,D)=>D)),t(13,u=i.classes),t(14,m=i.labels),t(7,f=i.classNames[0]))),l.$$.dirty&2&&s===null&&(t(4,o=null),t(5,g=null)),l.$$.dirty&16&&(o||t(6,d=null)),l.$$.dirty&96,l.$$.dirty&24676&&(r&&g&&d?t(9,k={cal:hn(g,r,u,m),pv:hn(d,r,u,m)}):t(9,k=null))},[n,s,r,i,o,g,d,f,a,k,w,b,c,u,m,A,R,L,E,T,N,S,F,M,j]}let Ju=class extends ce{constructor(e){super(),ue(this,e,Zu,Qu,le,{WASM:0})}};function xu(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:rc,then:lc,catch:tc,value:24,error:25,blocks:[,,,]};return pt(t=l[7],s),{c(){e=J(),s.block.c()},m(r,i){y(r,e,i),s.block.m(r,s.anchor=i),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,i){l=r,s.ctx=l,i&128&&t!==(t=l[7])&&pt(t,s)||Xt(s,l,i)},i(r){n||(p(s.block),n=!0)},o(r){for(let i=0;i<3;i+=1){const o=s.blocks[i];h(o)}n=!1},d(r){r&&v(e),s.block.d(r),s.token=null,s=null}}}function ec(l){let e=l[2]===void 0,t,n,s,r=br(l),i=l[2]&&wr(l);return{c(){r.c(),t=z(),i&&i.c(),n=J()},m(o,f){r.m(o,f),y(o,t,f),i&&i.m(o,f),y(o,n,f),s=!0},p(o,f){f&4&&le(e,e=o[2]===void 0)?(K(),h(r,1,1,$),X(),r=br(o),r.c(),p(r,1),r.m(t.parentNode,t)):r.p(o,f),o[2]?i?(i.p(o,f),f&4&&p(i,1)):(i=wr(o),i.c(),p(i,1),i.m(n.parentNode,n)):i&&(K(),h(i,1,1,()=>{i=null}),X())},i(o){s||(p(r),p(i),s=!0)},o(o){h(r),h(i),s=!1},d(o){o&&(v(t),v(n)),r.d(o),i&&i.d(o)}}}function tc(l){let e,t;return e=new ee({props:{status:"error",$$slots:{default:[nc]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&67108992&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function nc(l){let e,t=l[25]+"",n;return{c(){e=V("p"),n=G(t)},m(s,r){y(s,e,r),C(e,n)},p(s,r){r&128&&t!==(t=s[25]+"")&&ae(n,t)},d(s){s&&v(e)}}}function lc(l){let e,t,n=l[1]!==null&&hr(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,r){s[1]!==null?n?(n.p(s,r),r&2&&p(n,1)):(n=hr(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),h(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function hr(l){let e,t;return e=new ee({props:{$$slots:{default:[sc]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&67108865&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function sc(l){let e,t,n=l[0].values.nrows+"",s,r,i=l[0].values.ncols+"",o,f,a,c;return a=new vt({}),a.$on("click",l[12]),{c(){e=V("p"),t=G("Dataset is loaded: "),s=G(n),r=G(" × "),o=G(i),f=z(),P(a.$$.fragment)},m(u,m){y(u,e,m),C(e,t),C(e,s),C(e,r),C(e,o),y(u,f,m),O(a,u,m),c=!0},p(u,m){(!c||m&1)&&n!==(n=u[0].values.nrows+"")&&ae(s,n),(!c||m&1)&&i!==(i=u[0].values.ncols+"")&&ae(o,i)},i(u){c||(p(a.$$.fragment,u),c=!0)},o(u){h(a.$$.fragment,u),c=!1},d(u){u&&(v(e),v(f)),I(a,u)}}}function rc(l){let e,t;return e=new ee({props:{$$slots:{default:[ic]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&67108864&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ic(l){let e,t,n,s;return e=new xt({}),{c(){P(e.$$.fragment),t=z(),n=V("p"),n.textContent="Loading data and apply model..."},m(r,i){O(e,r,i),y(r,t,i),y(r,n,i),s=!0},p:$,i(r){s||(p(e.$$.fragment,r),s=!0)},o(r){h(e.$$.fragment,r),s=!1},d(r){r&&(v(t),v(n)),I(e,r)}}}function oc(l){let e,t,n;function s(i){l[17](i)}let r={id:"dataFile",message:"Select CSV file with dataset"};return l[2]!==void 0&&(r.file=l[2]),e=new en({props:r}),Z.push(()=>ne(e,"file",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};!t&&o&4&&(t=!0,f.file=i[2],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function br(l){let e,t;return e=new ee({props:{$$slots:{default:[oc]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&67108868&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function wr(l){let e,t,n,s,r,i,o,f,a,c;return e=new ee({props:{label:"Delimiter:",$$slots:{default:[fc]},$$scope:{ctx:l}}}),n=new ee({props:{label:"Header:",$$slots:{default:[ac]},$$scope:{ctx:l}}}),r=new ee({props:{label:"Row labels:",$$slots:{default:[uc]},$$scope:{ctx:l}}}),o=new ee({props:{label:"Class labels:",$$slots:{default:[cc]},$$scope:{ctx:l}}}),a=new ee({props:{label:" ",$$slots:{default:[_c]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment),t=z(),P(n.$$.fragment),s=z(),P(r.$$.fragment),i=z(),P(o.$$.fragment),f=z(),P(a.$$.fragment)},m(u,m){O(e,u,m),y(u,t,m),O(n,u,m),y(u,s,m),O(r,u,m),y(u,i,m),O(o,u,m),y(u,f,m),O(a,u,m),c=!0},p(u,m){const g={};m&67108872&&(g.$$scope={dirty:m,ctx:u}),e.$set(g);const d={};m&67108880&&(d.$$scope={dirty:m,ctx:u}),n.$set(d);const k={};m&67108896&&(k.$$scope={dirty:m,ctx:u}),r.$set(k);const w={};m&67108928&&(w.$$scope={dirty:m,ctx:u}),o.$set(w);const b={};m&67108864&&(b.$$scope={dirty:m,ctx:u}),a.$set(b)},i(u){c||(p(e.$$.fragment,u),p(n.$$.fragment,u),p(r.$$.fragment,u),p(o.$$.fragment,u),p(a.$$.fragment,u),c=!0)},o(u){h(e.$$.fragment,u),h(n.$$.fragment,u),h(r.$$.fragment,u),h(o.$$.fragment,u),h(a.$$.fragment,u),c=!1},d(u){u&&(v(t),v(s),v(i),v(f)),I(e,u),I(n,u),I(r,u),I(o,u),I(a,u)}}}function fc(l){let e,t,n;function s(i){l[18](i)}let r={id:"sep",options:l[10]};return l[3]!==void 0&&(r.value=l[3]),e=new ye({props:r}),Z.push(()=>ne(e,"value",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};!t&&o&8&&(t=!0,f.value=i[3],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function ac(l){let e,t,n;function s(i){l[19](i)}let r={id:"hasHeader",options:["yes","no"]};return l[4]!==void 0&&(r.value=l[4]),e=new ye({props:r}),Z.push(()=>ne(e,"value",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};!t&&o&16&&(t=!0,f.value=i[4],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function uc(l){let e,t,n;function s(i){l[20](i)}let r={id:"hasLabels",options:["yes","no"]};return l[5]!==void 0&&(r.value=l[5]),e=new ye({props:r}),Z.push(()=>ne(e,"value",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};!t&&o&32&&(t=!0,f.value=i[5],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function cc(l){let e,t,n;function s(i){l[21](i)}let r={id:"hasLabels",options:["yes","no"]};return l[6]!==void 0&&(r.value=l[6]),e=new ye({props:r}),Z.push(()=>ne(e,"value",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};!t&&o&64&&(t=!0,f.value=i[6],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function mc(l){let e;return{c(){e=G("Load")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function _c(l){let e,t;return e=new Ue({props:{$$slots:{default:[mc]},$$scope:{ctx:l}}}),e.$on("click",l[11]),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&67108864&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function kr(l){let e,t;return e=new ee({props:{status:"error",$$slots:{default:[pc]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&67109376&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function pc(l){let e,t;return{c(){e=V("p"),t=G(l[9])},m(n,s){y(n,e,s),C(e,t)},p(n,s){s&512&&ae(t,n[9])},d(n){n&&v(e)}}}function gc(l){let e,t,n,s,r;const i=[ec,xu],o=[];function f(c,u){return c[0]?c[7]?1:-1:0}~(e=f(l))&&(t=o[e]=i[e](l));let a=(l[8]==="error"||l[9])&&kr(l);return{c(){t&&t.c(),n=z(),a&&a.c(),s=J()},m(c,u){~e&&o[e].m(c,u),y(c,n,u),a&&a.m(c,u),y(c,s,u),r=!0},p(c,[u]){let m=e;e=f(c),e===m?~e&&o[e].p(c,u):(t&&(K(),h(o[m],1,1,()=>{o[m]=null}),X()),~e?(t=o[e],t?t.p(c,u):(t=o[e]=i[e](c),t.c()),p(t,1),t.m(n.parentNode,n)):t=null),c[8]==="error"||c[9]?a?(a.p(c,u),u&768&&p(a,1)):(a=kr(c),a.c(),p(a,1),a.m(s.parentNode,s)):a&&(K(),h(a,1,1,()=>{a=null}),X())},i(c){r||(p(t),p(a),r=!0)},o(c){h(t),h(a),r=!1},d(c){c&&(v(n),v(s)),~e&&o[e].d(c),a&&a.d(c)}}}function dc(l,e,t){let{WASM:n}=e,{dataset:s}=e,{model:r}=e,{pcares:i}=e,{outliers:o}=e,{outliersOld:f=[]}=e,a,c=",",u="yes",m="no",g="no",d,k="neutral",w="";const b=[",",";"];function A(j,q){t(7,d=n().then(D=>{const Q=Jt(D,r,j,q);t(1,i=Q)}).catch(D=>{t(1,i=null),t(8,k="error"),t(9,w=D)}))}function R(j){try{const q=bn(j,c,u==="yes",m==="yes",g==="yes");if(q.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(q.values.ncols!==r.ncols)throw new Error("Dataset has different number of columns than the training set.");t(0,s=q),A(q.values,[]),t(9,w=""),t(8,k="success")}catch(q){t(0,s=null),t(8,k="error"),t(9,w=q)}}function L(j){const q=new FileReader;q.onload=()=>R(q.result),q.readAsBinaryString(a)}function E(){t(2,a=null)}function T(j){a=j,t(2,a)}function N(j){c=j,t(3,c)}function S(j){u=j,t(4,u)}function F(j){m=j,t(5,m)}function M(j){g=j,t(6,g)}return l.$$set=j=>{"WASM"in j&&t(14,n=j.WASM),"dataset"in j&&t(0,s=j.dataset),"model"in j&&t(15,r=j.model),"pcares"in j&&t(1,i=j.pcares),"outliers"in j&&t(16,o=j.outliers),"outliersOld"in j&&t(13,f=j.outliersOld)},l.$$.update=()=>{if(l.$$.dirty&4&&(a===null?t(0,s=null):(t(8,k="neutral"),t(9,w=""))),l.$$.dirty&8&&c&&(t(8,k="neutral"),t(9,w="")),l.$$.dirty&73729&&s&&o!==f)try{A(s.values,o),t(9,w=""),t(8,k="success"),t(13,f=o)}catch(j){t(0,s=null),t(8,k="error"),t(9,w=j)}},[s,i,a,c,u,m,g,d,k,w,b,L,E,f,n,r,o,T,N,S,F,M]}let hc=class extends ce{constructor(e){super(),ue(this,e,dc,gc,le,{WASM:14,dataset:0,model:15,pcares:1,outliers:16,outliersOld:13})}};const Pm="";function vr(l){let e,t,n,s,r,i,o,f=l[0].nrows+"",a,c,u,m,g,d,k=l[1].cnum.extreme+"",w,b,A,R,L,E,T=l[1].cnum.outliers+"",N,S,F,M,j,q,D=l[1].stat.sensitivity.toFixed(2)+"",Q;return{c(){e=V("table"),t=V("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Target</th>',n=z(),s=V("tr"),r=V("td"),r.textContent="Objects",i=z(),o=V("td"),a=G(f),c=z(),u=V("tr"),m=V("td"),m.textContent="Extremes",g=z(),d=V("td"),w=G(k),b=z(),A=V("tr"),R=V("td"),R.textContent="Outliers",L=z(),E=V("td"),N=G(T),S=z(),F=V("tr"),M=V("td"),M.textContent="Sensitivity",j=z(),q=V("td"),Q=G(D),_(t,"class","svelte-kg0b31"),_(r,"class","label svelte-kg0b31"),_(o,"class","svelte-kg0b31"),_(s,"class","svelte-kg0b31"),_(m,"class","label svelte-kg0b31"),_(d,"class","svelte-kg0b31"),_(u,"class","svelte-kg0b31"),_(R,"class","label svelte-kg0b31"),_(E,"class","svelte-kg0b31"),_(A,"class","svelte-kg0b31"),_(M,"class","label svelte-kg0b31"),_(q,"class","svelte-kg0b31"),_(F,"class","svelte-kg0b31"),_(e,"class","svelte-kg0b31")},m(te,Y){y(te,e,Y),C(e,t),C(e,n),C(e,s),C(s,r),C(s,i),C(s,o),C(o,a),C(e,c),C(e,u),C(u,m),C(u,g),C(u,d),C(d,w),C(e,b),C(e,A),C(A,R),C(A,L),C(A,E),C(E,N),C(e,S),C(e,F),C(F,M),C(F,j),C(F,q),C(q,Q)},p(te,Y){Y&1&&f!==(f=te[0].nrows+"")&&ae(a,f),Y&2&&k!==(k=te[1].cnum.extreme+"")&&ae(w,k),Y&2&&T!==(T=te[1].cnum.outliers+"")&&ae(N,T),Y&2&&D!==(D=te[1].stat.sensitivity.toFixed(2)+"")&&ae(Q,D)},d(te){te&&v(e)}}}function bc(l){let e,t=l[1]&&vr(l);return{c(){t&&t.c(),e=J()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[1]?t?t.p(n,s):(t=vr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&v(e),t&&t.d(n)}}}function wc(l,e,t){let n,s,{res:r}=e,{simca:i}=e;return l.$$set=o=>{"res"in o&&t(0,r=o.res),"simca"in o&&t(2,i=o.simca)},l.$$.update=()=>{l.$$.dirty&4&&t(3,n=i?i.ncomp:null),l.$$.dirty&9&&t(1,s=n?r.v[n-1]:null)},[r,s,i,n]}let kc=class extends ce{constructor(e){super(),ue(this,e,wc,bc,le,{res:0,simca:2})}};function vc(l){let e,t;return e=new yn({props:{simcares:l[0],simca:l[1],options:l[2]}}),e.$on("setoutlier",l[3]),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.simcares=n[0]),s&2&&(r.simca=n[1]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function yc(l){let e,t,n=l[2]&&vc(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[2]&&n.p(s,r)},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function Cc(l,e,t){let{simcares:n}=e,{simca:s}=e,r=[{label:"Acceptance",plotComponent:Os,controlsComponent:qs},{label:"Sensitivity",plotComponent:Zs,controlsComponent:er},{label:"Extremes",plotComponent:Ys,controlsComponent:Ws}];function i(o){Ut.call(this,l,o)}return l.$$set=o=>{"simcares"in o&&t(0,n=o.simcares),"simca"in o&&t(1,s=o.simca)},[n,s,r,i]}let Ec=class extends ce{constructor(e){super(),ue(this,e,Cc,yc,le,{simcares:0,simca:1})}};const qm="";function Ac(l){let e,t;return e=new ee({props:{$$slots:{default:[Mc]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&1058&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Nc(l){let e=l[2]===void 0,t,n,s,r=yr(l),i=l[2]&&Cr(l);return{c(){r.c(),t=z(),i&&i.c(),n=J()},m(o,f){r.m(o,f),y(o,t,f),i&&i.m(o,f),y(o,n,f),s=!0},p(o,f){f&4&&le(e,e=o[2]===void 0)?(K(),h(r,1,1,$),X(),r=yr(o),r.c(),p(r,1),r.m(t.parentNode,t)):r.p(o,f),o[2]?i?(i.p(o,f),f&4&&p(i,1)):(i=Cr(o),i.c(),p(i,1),i.m(n.parentNode,n)):i&&(K(),h(i,1,1,()=>{i=null}),X())},i(o){s||(p(r),p(i),s=!0)},o(o){h(r),h(i),s=!1},d(o){o&&(v(t),v(n)),r.d(o),i&&i.d(o)}}}function Mc(l){let e,t,n,s,r,i,o,f,a,c,u=l[1].className+"",m,g,d,k,w;return k=new vt({}),k.$on("click",l[7]),{c(){e=V("p"),t=V("span"),t.textContent="Model:",n=z(),s=V("span"),r=G(l[5]),i=V("br"),o=z(),f=V("span"),f.textContent="Target class:",a=z(),c=V("span"),m=G(u),d=z(),P(k.$$.fragment),_(s,"title",l[5]),_(s,"class","modelName svelte-19exump"),_(c,"title",g=l[1].className),_(c,"class","className svelte-19exump"),_(e,"class","modelInfo svelte-19exump")},m(b,A){y(b,e,A),C(e,t),C(e,n),C(e,s),C(s,r),C(e,i),C(e,o),C(e,f),C(e,a),C(e,c),C(c,m),y(b,d,A),O(k,b,A),w=!0},p(b,A){(!w||A&32)&&ae(r,b[5]),(!w||A&32)&&_(s,"title",b[5]),(!w||A&2)&&u!==(u=b[1].className+"")&&ae(m,u),(!w||A&2&&g!==(g=b[1].className))&&_(c,"title",g)},i(b){w||(p(k.$$.fragment,b),w=!0)},o(b){h(k.$$.fragment,b),w=!1},d(b){b&&(v(e),v(d)),I(k,b)}}}function Lc(l){let e,t,n;function s(i){l[8](i)}let r={id:"modelFile",acceptType:".json",message:"Select file with model"};return l[2]!==void 0&&(r.file=l[2]),e=new en({props:r}),Z.push(()=>ne(e,"file",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};!t&&o&4&&(t=!0,f.file=i[2],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function yr(l){let e,t;return e=new ee({props:{$$slots:{default:[Lc]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&1028&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Cr(l){let e,t;return e=new ee({props:{label:" ",$$slots:{default:[Tc]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&1024&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Sc(l){let e;return{c(){e=G("Load")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function Tc(l){let e,t;return e=new Ue({props:{$$slots:{default:[Sc]},$$scope:{ctx:l}}}),e.$on("click",l[6]),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&1024&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Er(l){let e,t;return e=new ee({props:{status:"error",$$slots:{default:[Rc]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&1040&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Rc(l){let e,t;return{c(){e=V("p"),t=G(l[4])},m(n,s){y(n,e,s),C(e,t)},p(n,s){s&16&&ae(t,n[4])},d(n){n&&v(e)}}}function Oc(l){let e,t,n,s,r;const i=[Nc,Ac],o=[];function f(c,u){return c[0]?1:0}e=f(l),t=o[e]=i[e](l);let a=(l[3]==="error"||l[4])&&Er(l);return{c(){t.c(),n=z(),a&&a.c(),s=J()},m(c,u){o[e].m(c,u),y(c,n,u),a&&a.m(c,u),y(c,s,u),r=!0},p(c,[u]){let m=e;e=f(c),e===m?o[e].p(c,u):(K(),h(o[m],1,1,()=>{o[m]=null}),X(),t=o[e],t?t.p(c,u):(t=o[e]=i[e](c),t.c()),p(t,1),t.m(n.parentNode,n)),c[3]==="error"||c[4]?a?(a.p(c,u),u&24&&p(a,1)):(a=Er(c),a.c(),p(a,1),a.m(s.parentNode,s)):a&&(K(),h(a,1,1,()=>{a=null}),X())},i(c){r||(p(t),p(a),r=!0)},o(c){h(t),h(a),r=!1},d(c){c&&(v(n),v(s)),o[e].d(c),a&&a.d(c)}}}function Ic(l,e,t){let n,{model:s}=e,{simca:r}=e,i,o="neutral",f="";function a(g){try{const d=JSON.parse(g);d.pca.v=new Float64Array(d.pca.v),d.pca.lim.classic.Nh=new Float64Array(d.pca.lim.classic.Nh),d.pca.lim.classic.Nq=new Float64Array(d.pca.lim.classic.Nq),d.pca.lim.classic.h0=new Float64Array(d.pca.lim.classic.h0),d.pca.lim.classic.q0=new Float64Array(d.pca.lim.classic.q0),d.pca.lim.robust.Nh=new Float64Array(d.pca.lim.robust.Nh),d.pca.lim.robust.Nq=new Float64Array(d.pca.lim.robust.Nq),d.pca.lim.robust.h0=new Float64Array(d.pca.lim.robust.h0),d.pca.lim.robust.q0=new Float64Array(d.pca.lim.robust.q0),d.simca.h0=new Float64Array(d.simca.h0),d.simca.Nh=new Float64Array(d.simca.Nh),d.simca.q0=new Float64Array(d.simca.q0),d.simca.Nq=new Float64Array(d.simca.Nq),d.simca.Nf=new Float64Array(d.simca.Nf),d.simca.eCrit=new Float64Array(d.simca.eCrit),d.simca.oCrit=new Float64Array(d.simca.oCrit),t(0,s=d.pca),t(1,r=d.simca),t(3,o="success"),t(4,f="")}catch(d){t(0,s=null),t(1,r=null),t(3,o="error"),t(4,f=d)}}function c(g){const d=new FileReader;d.onload=()=>a(d.result),d.readAsBinaryString(i)}function u(){t(2,i=null)}function m(g){i=g,t(2,i)}return l.$$set=g=>{"model"in g&&t(0,s=g.model),"simca"in g&&t(1,r=g.simca)},l.$$.update=()=>{l.$$.dirty&4&&(i===null?(t(0,s=null),t(1,r=null)):(t(3,o="neutral"),t(4,f=""))),l.$$.dirty&4&&t(5,n=i?i.name.replace(/\.[^/.]+$/,""):"")},[s,r,i,o,f,n,c,u,m]}class Ar extends ce{constructor(e){super(),ue(this,e,Ic,Oc,le,{model:0,simca:1})}}const Fm="";function Nr(l){let e,t,n,s,r;function i(a){l[14](a)}function o(a){l[15](a)}let f={WASM:l[0],model:l[1],outliers:l[6]};return l[3]!==void 0&&(f.dataset=l[3]),l[4]!==void 0&&(f.pcares=l[4]),t=new hc({props:f}),Z.push(()=>ne(t,"dataset",i)),Z.push(()=>ne(t,"pcares",o)),{c(){e=V("div"),P(t.$$.fragment),_(e,"class","data-loader svelte-1lragme")},m(a,c){y(a,e,c),O(t,e,null),r=!0},p(a,c){const u={};c&1&&(u.WASM=a[0]),c&2&&(u.model=a[1]),c&64&&(u.outliers=a[6]),!n&&c&8&&(n=!0,u.dataset=a[3],ie(()=>n=!1)),!s&&c&16&&(s=!0,u.pcares=a[4],ie(()=>s=!1)),t.$set(u)},i(a){r||(p(t.$$.fragment,a),r=!0)},o(a){h(t.$$.fragment,a),r=!1},d(a){a&&v(e),I(t)}}}function Mr(l){let e,t,n,s;function r(o){l[16](o)}let i={dataset:l[3]};return l[6]!==void 0&&(i.outliers=l[6]),t=new or({props:i}),Z.push(()=>ne(t,"outliers",r)),t.$on("resetoutliers",l[8]),{c(){e=V("div"),P(t.$$.fragment),_(e,"class","outliers-pane svelte-1lragme")},m(o,f){y(o,e,f),O(t,e,null),s=!0},p(o,f){const a={};f&8&&(a.dataset=o[3]),!n&&f&64&&(n=!0,a.outliers=o[6],ie(()=>n=!1)),t.$set(a)},i(o){s||(p(t.$$.fragment,o),s=!0)},o(o){h(t.$$.fragment,o),s=!1},d(o){o&&v(e),I(t)}}}function Lr(l){let e,t,n,s,r,i;function o(a){l[17](a)}let f={model:l[1]};return l[2]!==void 0&&(f.simca=l[2]),t=new Nn({props:f}),Z.push(()=>ne(t,"simca",o)),r=new ee({props:{label:"Download",$$slots:{default:[Fc]},$$scope:{ctx:l}}}),{c(){e=V("div"),P(t.$$.fragment),s=z(),P(r.$$.fragment),_(e,"class","simca-settings svelte-1lragme")},m(a,c){y(a,e,c),O(t,e,null),C(e,s),O(r,e,null),i=!0},p(a,c){const u={};c&2&&(u.model=a[1]),!n&&c&4&&(n=!0,u.simca=a[2],ie(()=>n=!1)),t.$set(u);const m={};c&1048686&&(m.$$scope={dirty:c,ctx:a}),r.$set(m)},i(a){i||(p(t.$$.fragment,a),p(r.$$.fragment,a),i=!0)},o(a){h(t.$$.fragment,a),h(r.$$.fragment,a),i=!1},d(a){a&&v(e),I(t),I(r)}}}function Pc(l){let e;return{c(){e=G("Results")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function qc(l){let e;return{c(){e=G("Model")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function Fc(l){let e,t,n,s,r;return t=new Ue({props:{$$slots:{default:[Pc]},$$scope:{ctx:l}}}),t.$on("click",l[18]),s=new Ue({props:{$$slots:{default:[qc]},$$scope:{ctx:l}}}),s.$on("click",l[19]),{c(){e=V("div"),P(t.$$.fragment),n=z(),P(s.$$.fragment),_(e,"class","buttons svelte-1lragme")},m(i,o){y(i,e,o),O(t,e,null),C(e,n),O(s,e,null),r=!0},p(i,o){const f={};o&1048576&&(f.$$scope={dirty:o,ctx:i}),t.$set(f);const a={};o&1048576&&(a.$$scope={dirty:o,ctx:i}),s.$set(a)},i(i){r||(p(t.$$.fragment,i),p(s.$$.fragment,i),r=!0)},o(i){h(t.$$.fragment,i),h(s.$$.fragment,i),r=!1},d(i){i&&v(e),I(t),I(s)}}}function Sr(l){let e,t,n;return t=new An({props:{simca:l[2]}}),{c(){e=V("div"),P(t.$$.fragment),_(e,"class","model-stats svelte-1lragme")},m(s,r){y(s,e,r),O(t,e,null),n=!0},p(s,r){const i={};r&4&&(i.simca=s[2]),t.$set(i)},i(s){n||(p(t.$$.fragment,s),n=!0)},o(s){h(t.$$.fragment,s),n=!1},d(s){s&&v(e),I(t)}}}function Tr(l){let e,t,n;return t=new kc({props:{simca:l[2],res:l[5].target}}),{c(){e=V("div"),P(t.$$.fragment),_(e,"class","result-stats svelte-1lragme")},m(s,r){y(s,e,r),O(t,e,null),n=!0},p(s,r){const i={};r&4&&(i.simca=s[2]),r&32&&(i.res=s[5].target),t.$set(i)},i(s){n||(p(t.$$.fragment,s),n=!0)},o(s){h(t.$$.fragment,s),n=!1},d(s){s&&v(e),I(t)}}}function jc(l){let e=l[3],t,n,s=Rr(l);return{c(){s.c(),t=J()},m(r,i){s.m(r,i),y(r,t,i),n=!0},p(r,i){i&8&&le(e,e=r[3])?(K(),h(s,1,1,$),X(),s=Rr(r),s.c(),p(s,1),s.m(t.parentNode,t)):s.p(r,i)},i(r){n||(p(s),n=!0)},o(r){h(s),n=!1},d(r){r&&v(t),s.d(r)}}}function Vc(l){let e,t,n;function s(o,f){if(!o[1])return Yc;if(!o[3])return zc}let r=s(l),i=r&&r(l);return{c(){e=V("div"),t=V("p"),t.textContent=`In this tab you can apply previously trained DD-SIMCA model to a dataset consisting of target class members (at least
            the app will assume this, you can of course provide any dataset). You can use it for testing performance
            of the model, or tune its parameters, if necessary.`,n=z(),i&&i.c(),_(t,"class","svelte-1lragme"),_(e,"class","help-text svelte-1lragme")},m(o,f){y(o,e,f),C(e,t),C(e,n),i&&i.m(e,null)},p(o,f){r!==(r=s(o))&&(i&&i.d(1),i=r&&r(o),i&&(i.c(),i.m(e,null)))},i:$,o:$,d(o){o&&v(e),i&&i.d()}}}function Rr(l){let e,t;return e=new Ec({props:{simcares:l[5],simca:l[2]}}),e.$on("setoutlier",l[7]),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&32&&(r.simcares=n[5]),s&4&&(r.simca=n[2]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function zc(l){let e,t,n;return{c(){e=V("p"),e.innerHTML="<strong>Step 2</strong>",t=z(),n=V("p"),n.textContent=`Load data set from CSV file. The requirements to the file are the same as for the
               training set. The data may contain class labels for each row (you need to select this option in settings after selecting CSV file) but it is not necessary, as in any case the labels will be ignored and model will assume that all samples are from the target class.`,_(e,"class","svelte-1lragme"),_(n,"class","svelte-1lragme")},m(s,r){y(s,e,r),y(s,t,r),y(s,n,r)},d(s){s&&(v(e),v(t),v(n))}}}function Yc(l){let e,t,n;return{c(){e=V("p"),e.innerHTML="<strong>Step 1</strong>",t=z(),n=V("p"),n.textContent="Load previously trained DD-SIMCA model from file.",_(e,"class","svelte-1lragme"),_(n,"class","svelte-1lragme")},m(s,r){y(s,e,r),y(s,t,r),y(s,n,r)},d(s){s&&(v(e),v(t),v(n))}}}function Dc(l){let e,t,n,s,r,i,o,f,a,c,u,m,g,d,k,w;function b(q){l[12](q)}function A(q){l[13](q)}let R={};l[1]!==void 0&&(R.model=l[1]),l[2]!==void 0&&(R.simca=l[2]),s=new Ar({props:R}),Z.push(()=>ne(s,"model",b)),Z.push(()=>ne(s,"simca",A));let L=l[1]&&Nr(l),E=l[6].length>0&&Mr(l),T=l[1]&&l[2]&&l[3]&&Lr(l),N=l[2]&&l[3]&&Sr(l),S=l[5]&&Tr(l);const F=[Vc,jc],M=[];function j(q,D){return q[4]?1:0}return d=j(l),k=M[d]=F[d](l),{c(){e=V("div"),t=V("div"),n=V("div"),P(s.$$.fragment),o=z(),L&&L.c(),f=z(),E&&E.c(),a=z(),T&&T.c(),c=z(),N&&N.c(),u=z(),S&&S.c(),m=z(),g=V("div"),k.c(),_(n,"class","data-loader svelte-1lragme"),_(t,"class","app-controls svelte-1lragme"),_(g,"class","app-content svelte-1lragme"),_(e,"class","app-container svelte-1lragme")},m(q,D){y(q,e,D),C(e,t),C(t,n),O(s,n,null),C(t,o),L&&L.m(t,null),C(t,f),E&&E.m(t,null),C(t,a),T&&T.m(t,null),C(t,c),N&&N.m(t,null),C(t,u),S&&S.m(t,null),C(e,m),C(e,g),M[d].m(g,null),w=!0},p(q,[D]){const Q={};!r&&D&2&&(r=!0,Q.model=q[1],ie(()=>r=!1)),!i&&D&4&&(i=!0,Q.simca=q[2],ie(()=>i=!1)),s.$set(Q),q[1]?L?(L.p(q,D),D&2&&p(L,1)):(L=Nr(q),L.c(),p(L,1),L.m(t,f)):L&&(K(),h(L,1,1,()=>{L=null}),X()),q[6].length>0?E?(E.p(q,D),D&64&&p(E,1)):(E=Mr(q),E.c(),p(E,1),E.m(t,a)):E&&(K(),h(E,1,1,()=>{E=null}),X()),q[1]&&q[2]&&q[3]?T?(T.p(q,D),D&14&&p(T,1)):(T=Lr(q),T.c(),p(T,1),T.m(t,c)):T&&(K(),h(T,1,1,()=>{T=null}),X()),q[2]&&q[3]?N?(N.p(q,D),D&12&&p(N,1)):(N=Sr(q),N.c(),p(N,1),N.m(t,u)):N&&(K(),h(N,1,1,()=>{N=null}),X()),q[5]?S?(S.p(q,D),D&32&&p(S,1)):(S=Tr(q),S.c(),p(S,1),S.m(t,null)):S&&(K(),h(S,1,1,()=>{S=null}),X());let te=d;d=j(q),d===te?M[d].p(q,D):(K(),h(M[te],1,1,()=>{M[te]=null}),X(),k=M[d],k?k.p(q,D):(k=M[d]=F[d](q),k.c()),p(k,1),k.m(g,null))},i(q){w||(p(s.$$.fragment,q),p(L),p(E),p(T),p(N),p(S),p(k),w=!0)},o(q){h(s.$$.fragment,q),h(L),h(E),h(T),h(N),h(S),h(k),w=!1},d(q){q&&v(e),I(s),L&&L.d(),E&&E.d(),T&&T.d(),N&&N.d(),S&&S.d(),M[d].d()}}}function Bc(l,e,t){let{WASM:n}=e,s,r,i,o,f,a=[],c=[],u,m;function g(N){const S=c[parseInt(N.detail.id)];if(S>=0&&!a.includes(S)&&c.includes(S)){const F=c.findIndex(M=>M===S);if(F<0)return;m&&t(11,m=m.filter((M,j)=>j!==F)),u&&t(10,u=u.filter((M,j)=>j!==F)),t(9,c=c.filter(M=>M!==S)),t(5,f=null),t(4,o=null),t(6,a=[...a,S])}}function d(){t(11,m=i.labels),t(10,u=i.classes),t(9,c=Array(i.values.nrows).fill().map((N,S)=>S)),t(6,a=[])}function k(N){s=N,t(1,s)}function w(N){r=N,t(2,r)}function b(N){i=N,t(3,i),t(1,s)}function A(N){o=N,t(4,o),t(3,i),t(9,c),t(1,s)}function R(N){a=N,t(6,a),t(3,i),t(9,c),t(1,s)}function L(N){r=N,t(2,r)}const E=()=>wn(f.target,i,"target",a),T=()=>kn(s,r);return l.$$set=N=>{"WASM"in N&&t(0,n=N.WASM)},l.$$.update=()=>{l.$$.dirty&2&&s===null&&t(3,i=null),l.$$.dirty&520&&(i===null?(t(4,o=null),t(5,f=null),t(10,u=null),t(11,m=null),t(9,c=[]),t(6,a=[])):i&&c.length===0&&(t(9,c=Array(i.values.nrows).fill().map((N,S)=>S)),t(11,m=i.labels),t(10,u=i.classes))),l.$$.dirty&3100&&(r&&i&&o?t(5,f={target:hn(o,r,u,m)}):t(5,f=null))},[n,s,r,i,o,f,a,g,d,c,u,m,k,w,b,A,R,L,E,T]}let Wc=class extends ce{constructor(e){super(),ue(this,e,Bc,Dc,le,{WASM:0})}};function Hc(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:Qc,then:Kc,catch:Gc,value:22,error:23,blocks:[,,,]};return pt(t=l[7],s),{c(){e=J(),s.block.c()},m(r,i){y(r,e,i),s.block.m(r,s.anchor=i),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,i){l=r,s.ctx=l,i&128&&t!==(t=l[7])&&pt(t,s)||Xt(s,l,i)},i(r){n||(p(s.block),n=!0)},o(r){for(let i=0;i<3;i+=1){const o=s.blocks[i];h(o)}n=!1},d(r){r&&v(e),s.block.d(r),s.token=null,s=null}}}function $c(l){let e=l[2]===void 0,t,n,s,r=Ir(l),i=l[2]&&Pr(l);return{c(){r.c(),t=z(),i&&i.c(),n=J()},m(o,f){r.m(o,f),y(o,t,f),i&&i.m(o,f),y(o,n,f),s=!0},p(o,f){f&4&&le(e,e=o[2]===void 0)?(K(),h(r,1,1,$),X(),r=Ir(o),r.c(),p(r,1),r.m(t.parentNode,t)):r.p(o,f),o[2]?i?(i.p(o,f),f&4&&p(i,1)):(i=Pr(o),i.c(),p(i,1),i.m(n.parentNode,n)):i&&(K(),h(i,1,1,()=>{i=null}),X())},i(o){s||(p(r),p(i),s=!0)},o(o){h(r),h(i),s=!1},d(o){o&&(v(t),v(n)),r.d(o),i&&i.d(o)}}}function Gc(l){let e,t;return e=new ee({props:{status:"error",$$slots:{default:[Uc]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&16777344&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Uc(l){let e,t=l[23]+"",n;return{c(){e=V("p"),n=G(t)},m(s,r){y(s,e,r),C(e,n)},p(s,r){r&128&&t!==(t=s[23]+"")&&ae(n,t)},d(s){s&&v(e)}}}function Kc(l){let e,t,n=l[1]!==null&&Or(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,r){s[1]!==null?n?(n.p(s,r),r&2&&p(n,1)):(n=Or(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),h(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function Or(l){let e,t;return e=new ee({props:{$$slots:{default:[Xc]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&16777217&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Xc(l){let e,t,n=l[0].values.nrows+"",s,r,i=l[0].values.ncols+"",o,f,a,c;return a=new vt({}),a.$on("click",l[12]),{c(){e=V("p"),t=G("Test set is loaded: "),s=G(n),r=G(" × "),o=G(i),f=z(),P(a.$$.fragment)},m(u,m){y(u,e,m),C(e,t),C(e,s),C(e,r),C(e,o),y(u,f,m),O(a,u,m),c=!0},p(u,m){(!c||m&1)&&n!==(n=u[0].values.nrows+"")&&ae(s,n),(!c||m&1)&&i!==(i=u[0].values.ncols+"")&&ae(o,i)},i(u){c||(p(a.$$.fragment,u),c=!0)},o(u){h(a.$$.fragment,u),c=!1},d(u){u&&(v(e),v(f)),I(a,u)}}}function Qc(l){let e,t;return e=new ee({props:{$$slots:{default:[Zc]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&16777216&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Zc(l){let e,t,n,s;return e=new xt({}),{c(){P(e.$$.fragment),t=z(),n=V("p"),n.textContent="Loading data and apply model..."},m(r,i){O(e,r,i),y(r,t,i),y(r,n,i),s=!0},p:$,i(r){s||(p(e.$$.fragment,r),s=!0)},o(r){h(e.$$.fragment,r),s=!1},d(r){r&&(v(t),v(n)),I(e,r)}}}function Jc(l){let e,t,n;function s(i){l[15](i)}let r={id:"dataFile",message:"Select CSV file with dataset"};return l[2]!==void 0&&(r.file=l[2]),e=new en({props:r}),Z.push(()=>ne(e,"file",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};!t&&o&4&&(t=!0,f.file=i[2],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function Ir(l){let e,t;return e=new ee({props:{$$slots:{default:[Jc]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&16777220&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Pr(l){let e,t,n,s,r,i,o,f,a,c;return e=new ee({props:{label:"Delimiter:",$$slots:{default:[xc]},$$scope:{ctx:l}}}),n=new ee({props:{label:"Header:",$$slots:{default:[e1]},$$scope:{ctx:l}}}),r=new ee({props:{label:"Row labels:",$$slots:{default:[t1]},$$scope:{ctx:l}}}),o=new ee({props:{label:"Class labels:",$$slots:{default:[n1]},$$scope:{ctx:l}}}),a=new ee({props:{label:" ",$$slots:{default:[s1]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment),t=z(),P(n.$$.fragment),s=z(),P(r.$$.fragment),i=z(),P(o.$$.fragment),f=z(),P(a.$$.fragment)},m(u,m){O(e,u,m),y(u,t,m),O(n,u,m),y(u,s,m),O(r,u,m),y(u,i,m),O(o,u,m),y(u,f,m),O(a,u,m),c=!0},p(u,m){const g={};m&16777224&&(g.$$scope={dirty:m,ctx:u}),e.$set(g);const d={};m&16777232&&(d.$$scope={dirty:m,ctx:u}),n.$set(d);const k={};m&16777248&&(k.$$scope={dirty:m,ctx:u}),r.$set(k);const w={};m&16777280&&(w.$$scope={dirty:m,ctx:u}),o.$set(w);const b={};m&16777216&&(b.$$scope={dirty:m,ctx:u}),a.$set(b)},i(u){c||(p(e.$$.fragment,u),p(n.$$.fragment,u),p(r.$$.fragment,u),p(o.$$.fragment,u),p(a.$$.fragment,u),c=!0)},o(u){h(e.$$.fragment,u),h(n.$$.fragment,u),h(r.$$.fragment,u),h(o.$$.fragment,u),h(a.$$.fragment,u),c=!1},d(u){u&&(v(t),v(s),v(i),v(f)),I(e,u),I(n,u),I(r,u),I(o,u),I(a,u)}}}function xc(l){let e,t,n;function s(i){l[16](i)}let r={id:"sep",options:l[10]};return l[3]!==void 0&&(r.value=l[3]),e=new ye({props:r}),Z.push(()=>ne(e,"value",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};!t&&o&8&&(t=!0,f.value=i[3],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function e1(l){let e,t,n;function s(i){l[17](i)}let r={id:"hasHeader",options:["yes","no"]};return l[4]!==void 0&&(r.value=l[4]),e=new ye({props:r}),Z.push(()=>ne(e,"value",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};!t&&o&16&&(t=!0,f.value=i[4],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function t1(l){let e,t,n;function s(i){l[18](i)}let r={id:"hasLabels",options:["yes","no"]};return l[5]!==void 0&&(r.value=l[5]),e=new ye({props:r}),Z.push(()=>ne(e,"value",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};!t&&o&32&&(t=!0,f.value=i[5],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function n1(l){let e,t,n;function s(i){l[19](i)}let r={id:"hasLabels",options:["yes","no"]};return l[6]!==void 0&&(r.value=l[6]),e=new ye({props:r}),Z.push(()=>ne(e,"value",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};!t&&o&64&&(t=!0,f.value=i[6],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function l1(l){let e;return{c(){e=G("Load")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function s1(l){let e,t;return e=new Ue({props:{$$slots:{default:[l1]},$$scope:{ctx:l}}}),e.$on("click",l[11]),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&16777216&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function qr(l){let e,t;return e=new ee({props:{status:"error",$$slots:{default:[r1]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&16777728&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function r1(l){let e,t;return{c(){e=V("p"),t=G(l[9])},m(n,s){y(n,e,s),C(e,t)},p(n,s){s&512&&ae(t,n[9])},d(n){n&&v(e)}}}function i1(l){let e,t,n,s,r;const i=[$c,Hc],o=[];function f(c,u){return c[0]?c[7]?1:-1:0}~(e=f(l))&&(t=o[e]=i[e](l));let a=(l[8]==="error"||l[9])&&qr(l);return{c(){t&&t.c(),n=z(),a&&a.c(),s=J()},m(c,u){~e&&o[e].m(c,u),y(c,n,u),a&&a.m(c,u),y(c,s,u),r=!0},p(c,[u]){let m=e;e=f(c),e===m?~e&&o[e].p(c,u):(t&&(K(),h(o[m],1,1,()=>{o[m]=null}),X()),~e?(t=o[e],t?t.p(c,u):(t=o[e]=i[e](c),t.c()),p(t,1),t.m(n.parentNode,n)):t=null),c[8]==="error"||c[9]?a?(a.p(c,u),u&768&&p(a,1)):(a=qr(c),a.c(),p(a,1),a.m(s.parentNode,s)):a&&(K(),h(a,1,1,()=>{a=null}),X())},i(c){r||(p(t),p(a),r=!0)},o(c){h(t),h(a),r=!1},d(c){c&&(v(n),v(s)),~e&&o[e].d(c),a&&a.d(c)}}}function o1(l,e,t){let{WASM:n}=e,{dataset:s}=e,{model:r}=e,{pcares:i}=e,o,f=",",a="yes",c="no",u="no",m,g="neutral",d="";const k=[",",";"];function w(F){t(7,m=n().then(M=>{const j=Jt(M,r,F);t(1,i=j)}).catch(M=>{t(1,i=null),t(8,g="error"),t(9,d=M)}))}function b(F){try{const M=bn(F,f,a==="yes",c==="yes",u==="yes");if(M.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(M.values.ncols!==r.ncols)throw new Error("Dataset has different number of columns than the training set.");t(0,s=M),w(M.values),t(9,d=""),t(8,g="success")}catch(M){t(0,s=null),t(8,g="error"),t(9,d=M)}}function A(F){const M=new FileReader;M.onload=()=>b(M.result),M.readAsBinaryString(o)}function R(){t(2,o=null)}function L(F){o=F,t(2,o)}function E(F){f=F,t(3,f)}function T(F){a=F,t(4,a)}function N(F){c=F,t(5,c)}function S(F){u=F,t(6,u)}return l.$$set=F=>{"WASM"in F&&t(13,n=F.WASM),"dataset"in F&&t(0,s=F.dataset),"model"in F&&t(14,r=F.model),"pcares"in F&&t(1,i=F.pcares)},l.$$.update=()=>{l.$$.dirty&4&&(o===null?t(0,s=null):(t(8,g="neutral"),t(9,d=""))),l.$$.dirty&8&&f&&(t(8,g="neutral"),t(9,d=""))},[s,i,o,f,a,c,u,m,g,d,k,A,R,n,r,L,E,T,N,S]}class f1 extends ce{constructor(e){super(),ue(this,e,o1,i1,le,{WASM:13,dataset:0,model:14,pcares:1})}}function Fr(l,e,t){const n=l.slice();return n[33]=e[t],n[35]=t,n}function jr(l,e,t){const n=l.slice();return n[33]=e[t],n[35]=t,n}function Vr(l){let e,t,n,s=ke(l[4]),r=[];for(let o=0;o<s.length;o+=1)r[o]=zr(jr(l,s,o));let i=l[0]==="show"&&l[3]&&l[3].length>0&&Yr(l);return{c(){e=_e("g");for(let o=0;o<r.length;o+=1)r[o].c();t=z(),i&&i.c(),n=J(),_(e,"class","series series_points"),_(e,"title","distance_points"),_(e,"style",l[11])},m(o,f){y(o,e,f);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);y(o,t,f),i&&i.m(o,f),y(o,n,f)},p(o,f){if(f[0]&244){s=ke(o[4]);let a;for(a=0;a<s.length;a+=1){const c=jr(o,s,a);r[a]?r[a].p(c,f):(r[a]=zr(c),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=s.length}o[0]==="show"&&o[3]&&o[3].length>0?i?i.p(o,f):(i=Yr(o),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(o){o&&(v(e),v(t),v(n)),Ge(r,o),i&&i.d(o)}}}function zr(l){let e,t,n,s,r;return{c(){e=_e("text"),t=G(l[6]),_(e,"x",n=l[4][l[35]]),_(e,"y",s=l[5][l[35]]),_(e,"stroke",r=l[7][l[2][l[35]]])},m(i,o){y(i,e,o),C(e,t)},p(i,o){o[0]&64&&ae(t,i[6]),o[0]&16&&n!==(n=i[4][i[35]])&&_(e,"x",n),o[0]&32&&s!==(s=i[5][i[35]])&&_(e,"y",s),o[0]&132&&r!==(r=i[7][i[2][i[35]]])&&_(e,"stroke",r)},d(i){i&&v(e)}}}function Yr(l){let e,t=ke(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Dr(Fr(l,t,s));return{c(){e=_e("g");for(let s=0;s<n.length;s+=1)n[s].c();_(e,"class","series series_labels"),_(e,"title","distance_labels"),_(e,"style",l[12])},m(s,r){y(s,e,r);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(s,r){if(r[0]&56){t=ke(s[4]);let i;for(i=0;i<t.length;i+=1){const o=Fr(s,t,i);n[i]?n[i].p(o,r):(n[i]=Dr(o),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(s){s&&v(e),Ge(n,s)}}}function Dr(l){let e,t=l[3][l[35]]+"",n,s,r;return{c(){e=_e("text"),n=G(t),_(e,"x",s=l[4][l[35]]),_(e,"y",r=l[5][l[35]]),_(e,"dy",-12)},m(i,o){y(i,e,o),C(e,n)},p(i,o){o[0]&8&&t!==(t=i[3][i[35]]+"")&&ae(n,t),o[0]&16&&s!==(s=i[4][i[35]])&&_(e,"x",s),o[0]&32&&r!==(r=i[5][i[35]])&&_(e,"y",r)},d(i){i&&v(e)}}}function a1(l){let e,t=l[1]&&l[4]&&l[5]&&Vr(l);return{c(){t&&t.c(),e=J()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,s){n[1]&&n[4]&&n[5]?t?t.p(n,s):(t=Vr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&v(e),t&&t.d(n)}}}const Br="#a0a0a0";function u1(l,e,t){let n,s,r,i,o,{res:f}=e,{labels:a}=e,{classes:c=[]}=e,{targetClass:u}=e,{colors:m}=e,{transType:g="no"}=e,{distType:d="h/q"}=e,{showLabels:k="hide"}=e,{xMax:w=0}=e,{yMax:b=0}=e;const A=Xe("axes"),R=A.tX;re(l,R,W=>t(27,i=W));const L=A.tY;re(l,L,W=>t(26,r=W));const E=A.isOk;re(l,E,W=>t(1,o=W));let T,N,S,F,M,j,q,D,Q;const te="dominant-baseline:middle;font-size:1em;fill:none;text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;",Y=`dominant-baseline:middle;font-size:0.85em;fill:${Br};text-anchor:middle;cursor:default;stroke:${Br};stroke-width:0.1px;user-select:none;`;return l.$$set=W=>{"res"in W&&t(15,f=W.res),"labels"in W&&t(16,a=W.labels),"classes"in W&&t(17,c=W.classes),"targetClass"in W&&t(18,u=W.targetClass),"colors"in W&&t(19,m=W.colors),"transType"in W&&t(20,g=W.transType),"distType"in W&&t(21,d=W.distType),"showLabels"in W&&t(0,k=W.showLabels),"xMax"in W&&t(13,w=W.xMax),"yMax"in W&&t(14,b=W.yMax)},l.$$.update=()=>{if(l.$$.dirty[0]&524288&&t(7,n={alien:m[0],external:m[1]}),l.$$.dirty[0]&62357504)if(f){const W=f.h.length;if(t(22,T=de.zeros(W)),t(23,N=de.zeros(W)),t(24,S=de.zeros(W)),t(25,F=de.zeros(W)),q=new Int32Array(W),g==="log")for(let oe=0;oe<W;oe++)t(22,T.v[oe]=oe,T),t(23,N.v[oe]=Math.log(1+f.h[oe]/f.h0),N),t(24,S.v[oe]=Math.log(1+f.q[oe]/f.q0),S),t(25,F.v[oe]=Math.log(1+f.f[oe]),F);else for(let oe=0;oe<W;oe++)t(22,T.v[oe]=oe,T),t(23,N.v[oe]=f.h[oe]/f.h0,N),t(24,S.v[oe]=f.q[oe]/f.q0,S),t(25,F.v[oe]=f.f[oe],F);if(c&&c.length===W)for(let oe=0;oe<W;oe++)q[oe]=c[oe]===u?0:1;t(2,M=f.a),t(3,j=a),t(13,w=d==="h/q"?Ie(N):F.length),t(14,b=Ie(d==="h/q"?S:F))}else t(23,N=null),t(24,S=null),t(25,F=null),t(2,M=null),t(3,j=null),q=null;l.$$.dirty[0]&266338306&&o&&N&&S&&F&&(t(4,D=d==="h/q"?A.transform(N,i.coords):A.transform(T,i.coords)),t(5,Q=d==="h/q"?A.transform(S,r.coords):A.transform(F,r.coords)))},t(6,s="■"),[k,o,M,j,D,Q,s,n,R,L,E,te,Y,w,b,f,a,c,u,m,g,d,T,N,S,F,r,i]}class c1 extends ce{constructor(e){super(),ue(this,e,u1,a1,le,{res:15,labels:16,classes:17,targetClass:18,colors:19,transType:20,distType:21,showLabels:0,xMax:13,yMax:14},null,[-1,-1])}}function Wr(l,e,t){const n=l.slice();return n[22]=e[t],n[24]=t,n}function Hr(l){let e,t=ke(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=$r(Wr(l,t,s));return{c(){e=_e("g");for(let s=0;s<n.length;s+=1)n[s].c();_(e,"class","series colormap_legend"),He(e,"stroke","0"),He(e,"stroke-width","0px")},m(s,r){y(s,e,r);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(s,r){if(r&123){t=ke(s[1]);let i;for(i=0;i<t.length;i+=1){const o=Wr(s,t,i);n[i]?n[i].p(o,r):(n[i]=$r(o),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(s){s&&v(e),Ge(n,s)}}}function $r(l){let e,t,n,s,r=l[0][l[24]]+"",i,o;return{c(){e=_e("rect"),s=_e("text"),_(e,"x",t=l[3][l[24]]),_(e,"y",l[4]),_(e,"width",l[5]),_(e,"height",l[6]),_(e,"fill",n=l[22]),_(s,"x",i=l[3][l[24]]+l[5]/2),_(s,"y",l[4]),_(s,"dx",0),_(s,"dy",o=l[6]*1.5),_(s,"dominant-baseline","hanging"),_(s,"fill",_1),_(s,"font-size",p1+"em"),_(s,"text-anchor","middle")},m(f,a){y(f,e,a),y(f,s,a),s.innerHTML=r},p(f,a){a&8&&t!==(t=f[3][f[24]])&&_(e,"x",t),a&16&&_(e,"y",f[4]),a&32&&_(e,"width",f[5]),a&64&&_(e,"height",f[6]),a&2&&n!==(n=f[22])&&_(e,"fill",n),a&1&&r!==(r=f[0][f[24]]+"")&&(s.innerHTML=r),a&40&&i!==(i=f[3][f[24]]+f[5]/2)&&_(s,"x",i),a&16&&_(s,"y",f[4]),a&64&&o!==(o=f[6]*1.5)&&_(s,"dy",o)},d(f){f&&(v(e),v(s))}}}function m1(l){let e,t=l[2]&&l[3].length>0&&Hr(l);return{c(){t&&t.c(),e=J()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[2]&&n[3].length>0?t?t.p(n,s):(t=Hr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&v(e),t&&t.d(n)}}}const _1="#909090",p1=.85,Gr=.8,g1=.02,d1=.25;function h1(l,e,t){let n,s,r,i,o,f,a,{categories:c}=e,{colmap:u}=e,{labels:m}=e;const g={small:5,medium:8,large:10,xlarge:12},d=Xe("axes"),k=d.tX;re(l,k,F=>t(16,r=F));const w=d.tY;re(l,w,F=>t(17,i=F));const b=d.xLim;re(l,b,F=>t(19,f=F));const A=d.yLim;re(l,A,F=>t(18,o=F));const R=d.scale;re(l,R,F=>t(15,s=F));const L=d.isOk;re(l,L,F=>t(2,a=F));let E,T,N,S;return l.$$set=F=>{"categories"in F&&t(13,c=F.categories),"colmap"in F&&t(1,u=F.colmap),"labels"in F&&t(0,m=F.labels)},l.$$.update=()=>{if(l.$$.dirty&2&&t(14,n=u.length),l.$$.dirty&8192&&t(0,m=c?Object.keys(c).map(F=>F+": "+c[F]):null),l.$$.dirty&1032196&&a){const F=f[1]-f[0],M=o[1]-o[0],j=F*Gr,q=M*g1,D=j/n,Q=f[0]+F*(1-Gr)*.5,te=o[1]-q*d1;t(4,T=d.transform(te,i.coords)),t(3,E=d.transform(de.seq(0,n).apply(Y=>Q+Y*D),r.coords)),t(5,N=d.transform([D],r.objects)),t(6,S=g[s]),t(4,T=g[s])}},[m,u,a,E,T,N,S,k,w,b,A,R,L,c,n,s,r,i,o,f]}class b1 extends ce{constructor(e){super(),ue(this,e,h1,m1,le,{categories:13,colmap:1,labels:0})}}function Ur(l){let e,t;return e=new Ze({props:{xValues:l[0].x,yValues:l[0].y,lineColor:k1,lineType:2}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.xValues=n[0].x),s&1&&(r.yValues=n[0].y),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function w1(l){let e,t,n=l[0]&&Ur(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&p(n,1)):(n=Ur(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),h(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}const Kr=100,k1="#909090";function v1(l,e,t){let{simca:n}=e,{transType:s="no"}=e,{distType:r="h/q"}=e,{xMax:i=0}=e,{yMax:o=0}=e;function f(c,u,m,g,d){if(d==="f")return{x:Pe([0,1e3]),y:Pe(g==="log"?[Math.log(1+c),Math.log(1+c)]:[c,c])};const k=c/m,w=-u/m,b=-k/w,A=de.seq(0,b*.999,b/Kr),R=A.apply(L=>L*w+k);return{x:g==="log"?A.apply(L=>Math.log(1+L)):A,y:g==="log"?R.apply(L=>Math.log(1+L)):R}}let a=null;return l.$$set=c=>{"simca"in c&&t(3,n=c.simca),"transType"in c&&t(4,s=c.transType),"distType"in c&&t(5,r=c.distType),"xMax"in c&&t(1,i=c.xMax),"yMax"in c&&t(2,o=c.yMax)},l.$$.update=()=>{if(l.$$.dirty&57)if(n){const c=n.ncomp-1;t(0,a=f(n.eCrit[c],n.Nh[c],n.Nq[c],s,r)),t(1,i=r==="h/q"?a.x.v[Kr-1]:1),t(2,o=a.y.v[0])}else t(0,a=null),t(1,i=1),t(2,o=1)},[a,i,o,n,s,r]}class y1 extends ce{constructor(e){super(),ue(this,e,v1,w1,le,{simca:3,transType:4,distType:5,xMax:1,yMax:2})}}function Xr(l){let e,t;return e=new yt({props:{margins:l[16],xLabel:l[13],yLabel:l[12],limX:l[11],limY:l[10],title:l[14],$$slots:{box:[N1],yaxis:[A1],xaxis:[E1],default:[C1]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&8192&&(r.xLabel=n[13]),s&4096&&(r.yLabel=n[12]),s&2048&&(r.limX=n[11]),s&1024&&(r.limY=n[10]),s&16384&&(r.title=n[14]),s&33588222&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function C1(l){let e,t,n,s,r,i,o,f,a,c;function u(b){l[21](b)}function m(b){l[22](b)}let g={colors:l[17],res:l[15].v[l[5]-1],labels:l[15].labels,classes:l[15].classes,targetClass:l[1].className,distType:l[2],transType:l[3],showLabels:l[4]};l[6]!==void 0&&(g.xMax=l[6]),l[7]!==void 0&&(g.yMax=l[7]),e=new c1({props:g}),Z.push(()=>ne(e,"xMax",u)),Z.push(()=>ne(e,"yMax",m));function d(b){l[23](b)}function k(b){l[24](b)}let w={simca:l[1],transType:l[3],distType:l[2]};return l[8]!==void 0&&(w.xMax=l[8]),l[9]!==void 0&&(w.yMax=l[9]),r=new y1({props:w}),Z.push(()=>ne(r,"xMax",d)),Z.push(()=>ne(r,"yMax",k)),a=new b1({props:{categories:l[15].v[l[5]-1].anum,colmap:l[17]}}),{c(){P(e.$$.fragment),s=z(),P(r.$$.fragment),f=z(),P(a.$$.fragment)},m(b,A){O(e,b,A),y(b,s,A),O(r,b,A),y(b,f,A),O(a,b,A),c=!0},p(b,A){const R={};A&32800&&(R.res=b[15].v[b[5]-1]),A&32768&&(R.labels=b[15].labels),A&32768&&(R.classes=b[15].classes),A&2&&(R.targetClass=b[1].className),A&4&&(R.distType=b[2]),A&8&&(R.transType=b[3]),A&16&&(R.showLabels=b[4]),!t&&A&64&&(t=!0,R.xMax=b[6],ie(()=>t=!1)),!n&&A&128&&(n=!0,R.yMax=b[7],ie(()=>n=!1)),e.$set(R);const L={};A&2&&(L.simca=b[1]),A&8&&(L.transType=b[3]),A&4&&(L.distType=b[2]),!i&&A&256&&(i=!0,L.xMax=b[8],ie(()=>i=!1)),!o&&A&512&&(o=!0,L.yMax=b[9],ie(()=>o=!1)),r.$set(L);const E={};A&32800&&(E.categories=b[15].v[b[5]-1].anum),a.$set(E)},i(b){c||(p(e.$$.fragment,b),p(r.$$.fragment,b),p(a.$$.fragment,b),c=!0)},o(b){h(e.$$.fragment,b),h(r.$$.fragment,b),h(a.$$.fragment,b),c=!1},d(b){b&&(v(s),v(f)),I(e,b),I(r,b),I(a,b)}}}function E1(l){let e,t;return e=new Ct({props:{showGrid:Qr,slot:"xaxis"}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p:$,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function A1(l){let e,t;return e=new Et({props:{showGrid:Qr,slot:"yaxis"}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p:$,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function N1(l){let e,t;return e=new At({props:{slot:"box"}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p:$,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function M1(l){let e,t,n=l[15]&&l[0]&&Xr(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[15]&&s[0]?n?(n.p(s,r),r&32769&&p(n,1)):(n=Xr(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),h(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}const Qr=!0;function Mn(l,e){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance"}[l]+", "+(e==="log"?"log(1 + "+l+"/"+l+"0)":l+"/"+l+"0")}function L1(l,e,t){let n,s,r,i,o,f,a,c,{params:u}=e,{simcares:m}=e,{simca:g}=e;const d=[.85,1,.25,.25],k=["#2679B2","#D22C2F"];let w="h/q",b="no",A="no",R=1,L=1,E=1,T=1,N=1;function S(q){L=q,t(6,L)}function F(q){E=q,t(7,E)}function M(q){T=q,t(8,T)}function j(q){N=q,t(9,N)}return l.$$set=q=>{"params"in q&&t(0,u=q.params),"simcares"in q&&t(18,m=q.simcares),"simca"in q&&t(1,g=q.simca)},l.$$.update=()=>{l.$$.dirty&5&&u&&u.distType!==w&&t(2,w=u.distType),l.$$.dirty&9&&u&&u.transType!==b&&t(3,b=u.transType),l.$$.dirty&17&&u&&u.showLabels!==A&&t(4,A=u.showLabels),l.$$.dirty&34&&g&&g.ncomp!==R&&t(5,R=g.ncomp),l.$$.dirty&262144&&t(15,n=m?m[Object.keys(m)[0]]:null),l.$$.dirty&32&&t(14,s="Acceptance plot (A = "+R+")"),l.$$.dirty&12&&t(13,r=w==="f"?"Objects":Mn("h",b)),l.$$.dirty&12&&t(12,i=Mn(w==="h/q"?"q":"f",b)),l.$$.dirty&320&&t(20,o=Ie([L,T])),l.$$.dirty&640&&t(19,f=Ie([E,N])),l.$$.dirty&1048576&&t(11,a=[-.02*o,1.05*o]),l.$$.dirty&524288&&t(10,c=[-.02*f,1.2*f])},[u,g,w,b,A,R,L,E,T,N,c,a,i,r,s,n,d,k,m,f,o,S,F,M,j]}class S1 extends ce{constructor(e){super(),ue(this,e,L1,M1,le,{params:0,simcares:18,simca:1})}}function Zr(l){let e,t,n=Object.keys(l[0]).length>1,s,r,i,o,f,a,c;e=new ee({props:{label:"",$$slots:{default:[T1]},$$scope:{ctx:l}}});let u=n&&Jr(l);return r=new ee({props:{label:"Distances:",$$slots:{default:[O1]},$$scope:{ctx:l}}}),o=new ee({props:{label:"Transform:",$$slots:{default:[I1]},$$scope:{ctx:l}}}),a=new ee({props:{label:"Labels:",$$slots:{default:[P1]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment),t=z(),u&&u.c(),s=z(),P(r.$$.fragment),i=z(),P(o.$$.fragment),f=z(),P(a.$$.fragment)},m(m,g){O(e,m,g),y(m,t,g),u&&u.m(m,g),y(m,s,g),O(r,m,g),y(m,i,g),O(o,m,g),y(m,f,g),O(a,m,g),c=!0},p(m,g){const d={};g&1024&&(d.$$scope={dirty:g,ctx:m}),e.$set(d),g&1&&(n=Object.keys(m[0]).length>1),n?u?(u.p(m,g),g&1&&p(u,1)):(u=Jr(m),u.c(),p(u,1),u.m(s.parentNode,s)):u&&(K(),h(u,1,1,()=>{u=null}),X());const k={};g&1026&&(k.$$scope={dirty:g,ctx:m}),r.$set(k);const w={};g&1028&&(w.$$scope={dirty:g,ctx:m}),o.$set(w);const b={};g&1032&&(b.$$scope={dirty:g,ctx:m}),a.$set(b)},i(m){c||(p(e.$$.fragment,m),p(u),p(r.$$.fragment,m),p(o.$$.fragment,m),p(a.$$.fragment,m),c=!0)},o(m){h(e.$$.fragment,m),h(u),h(r.$$.fragment,m),h(o.$$.fragment,m),h(a.$$.fragment,m),c=!1},d(m){m&&(v(t),v(s),v(i),v(f)),I(e,m),u&&u.d(m),I(r,m),I(o,m),I(a,m)}}}function T1(l){let e;return{c(){e=V("p"),e.textContent="Acceptance plot",_(e,"class","title")},m(t,n){y(t,e,n)},p:$,d(t){t&&v(e)}}}function Jr(l){let e,t;return e=new ee({props:{label:"Results:",$$slots:{default:[R1]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&1041&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function R1(l){let e,t,n;function s(i){l[6](i)}let r={id:"resType",options:Object.keys(l[0])};return l[4]!==void 0&&(r.value=l[4]),e=new ye({props:r}),Z.push(()=>ne(e,"value",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};o&1&&(f.options=Object.keys(i[0])),!t&&o&16&&(t=!0,f.value=i[4],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function O1(l){let e,t,n;function s(i){l[7](i)}let r={id:"distances",options:["h/q","f"]};return l[1]!==void 0&&(r.value=l[1]),e=new ye({props:r}),Z.push(()=>ne(e,"value",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};!t&&o&2&&(t=!0,f.value=i[1],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function I1(l){let e,t,n;function s(i){l[8](i)}let r={id:"limType",options:["no","log"]};return l[2]!==void 0&&(r.value=l[2]),e=new ye({props:r}),Z.push(()=>ne(e,"value",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};!t&&o&4&&(t=!0,f.value=i[2],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function P1(l){let e,t,n;function s(i){l[9](i)}let r={id:"showLabels",options:["hide","show"]};return l[3]!==void 0&&(r.value=l[3]),e=new ye({props:r}),Z.push(()=>ne(e,"value",s)),{c(){P(e.$$.fragment)},m(i,o){O(e,i,o),n=!0},p(i,o){const f={};!t&&o&8&&(t=!0,f.value=i[3],ie(()=>t=!1)),e.$set(f)},i(i){n||(p(e.$$.fragment,i),n=!0)},o(i){h(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function q1(l){let e,t,n=l[0]&&Zr(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&p(n,1)):(n=Zr(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),h(n,1,1,()=>{n=null}),X())},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function F1(l,e,t){let{params:n}=e,{simcares:s}=e,r="h/q",i="no",o="hide",f=s?Object.keys(s)[0]:"";function a(g){f=g,t(4,f)}function c(g){r=g,t(1,r)}function u(g){i=g,t(2,i)}function m(g){o=g,t(3,o)}return l.$$set=g=>{"params"in g&&t(5,n=g.params),"simcares"in g&&t(0,s=g.simcares)},l.$$.update=()=>{l.$$.dirty&30&&t(5,n={distType:r,transType:i,showLabels:o,resID:f})},[s,r,i,o,f,n,a,c,u,m]}class j1 extends ce{constructor(e){super(),ue(this,e,F1,q1,le,{params:5,simcares:0})}}function V1(l){let e,t;return e=new yn({props:{simcares:l[0],simca:l[1],options:l[2]}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.simcares=n[0]),s&2&&(r.simca=n[1]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function z1(l){let e,t,n=l[2]&&V1(l);return{c(){n&&n.c(),e=J()},m(s,r){n&&n.m(s,r),y(s,e,r),t=!0},p(s,[r]){s[2]&&n.p(s,r)},i(s){t||(p(n),t=!0)},o(s){h(n),t=!1},d(s){s&&v(e),n&&n.d(s)}}}function Y1(l,e,t){let{simcares:n}=e,{simca:s}=e,r=[{label:"Acceptance",plotComponent:S1,controlsComponent:j1},{label:"Specificity",plotComponent:yu,controlsComponent:Mu},{label:"Aliens",plotComponent:Ca,controlsComponent:La}];return l.$$set=i=>{"simcares"in i&&t(0,n=i.simcares),"simca"in i&&t(1,s=i.simca)},[n,s,r]}class D1 extends ce{constructor(e){super(),ue(this,e,Y1,z1,le,{simcares:0,simca:1})}}const jm="";function xr(l){let e,t,n,s,r,i,o,f=l[0].nrows+"",a,c,u,m,g,d,k=l[1].dnum.in+"",w,b,A,R,L,E,T=l[1].dnum.out+"",N,S,F,M,j,q,D=l[1].anum.aliens+"",Q,te,Y,W,oe,fe,ge=l[1].anum.external+"",he,we,Ee,Oe,je,Be,Se=l[1].stat.specificity.toFixed(2)+"",Ve,$e,ze,Ae,Ye,nt,Je=l[1].beta.toFixed(3)+"",lt;return{c(){e=V("table"),t=V("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Target</th>',n=z(),s=V("tr"),r=V("td"),r.textContent="Objects",i=z(),o=V("td"),a=G(f),c=z(),u=V("tr"),m=V("td"),m.textContent="In",g=z(),d=V("td"),w=G(k),b=z(),A=V("tr"),R=V("td"),R.textContent="Out",L=z(),E=V("td"),N=G(T),S=z(),F=V("tr"),M=V("td"),M.textContent="Aliens",j=z(),q=V("td"),Q=G(D),te=z(),Y=V("tr"),W=V("td"),W.textContent="External",oe=z(),fe=V("td"),he=G(ge),we=z(),Ee=V("tr"),Oe=V("td"),Oe.textContent="Specificity",je=z(),Be=V("td"),Ve=G(Se),$e=z(),ze=V("tr"),Ae=V("td"),Ae.textContent="Beta",Ye=z(),nt=V("td"),lt=G(Je),_(t,"class","svelte-kg0b31"),_(r,"class","label svelte-kg0b31"),_(o,"class","svelte-kg0b31"),_(s,"class","svelte-kg0b31"),_(m,"class","label svelte-kg0b31"),_(d,"class","svelte-kg0b31"),_(u,"class","svelte-kg0b31"),_(R,"class","label svelte-kg0b31"),_(E,"class","svelte-kg0b31"),_(A,"class","svelte-kg0b31"),_(M,"class","label svelte-kg0b31"),_(q,"class","svelte-kg0b31"),_(F,"class","svelte-kg0b31"),_(W,"class","label svelte-kg0b31"),_(fe,"class","svelte-kg0b31"),_(Y,"class","svelte-kg0b31"),_(Oe,"class","label svelte-kg0b31"),_(Be,"class","svelte-kg0b31"),_(Ee,"class","svelte-kg0b31"),_(Ae,"class","label svelte-kg0b31"),_(nt,"class","svelte-kg0b31"),_(ze,"class","svelte-kg0b31"),_(e,"class","svelte-kg0b31")},m(U,pe){y(U,e,pe),C(e,t),C(e,n),C(e,s),C(s,r),C(s,i),C(s,o),C(o,a),C(e,c),C(e,u),C(u,m),C(u,g),C(u,d),C(d,w),C(e,b),C(e,A),C(A,R),C(A,L),C(A,E),C(E,N),C(e,S),C(e,F),C(F,M),C(F,j),C(F,q),C(q,Q),C(e,te),C(e,Y),C(Y,W),C(Y,oe),C(Y,fe),C(fe,he),C(e,we),C(e,Ee),C(Ee,Oe),C(Ee,je),C(Ee,Be),C(Be,Ve),C(e,$e),C(e,ze),C(ze,Ae),C(ze,Ye),C(ze,nt),C(nt,lt)},p(U,pe){pe&1&&f!==(f=U[0].nrows+"")&&ae(a,f),pe&2&&k!==(k=U[1].dnum.in+"")&&ae(w,k),pe&2&&T!==(T=U[1].dnum.out+"")&&ae(N,T),pe&2&&D!==(D=U[1].anum.aliens+"")&&ae(Q,D),pe&2&&ge!==(ge=U[1].anum.external+"")&&ae(he,ge),pe&2&&Se!==(Se=U[1].stat.specificity.toFixed(2)+"")&&ae(Ve,Se),pe&2&&Je!==(Je=U[1].beta.toFixed(3)+"")&&ae(lt,Je)},d(U){U&&v(e)}}}function B1(l){let e,t=l[1]&&xr(l);return{c(){t&&t.c(),e=J()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,[s]){n[1]?t?t.p(n,s):(t=xr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&v(e),t&&t.d(n)}}}function W1(l,e,t){let n,s,{res:r}=e,{simca:i}=e;return l.$$set=o=>{"res"in o&&t(0,r=o.res),"simca"in o&&t(2,i=o.simca)},l.$$.update=()=>{l.$$.dirty&4&&t(3,n=i?i.ncomp:null),l.$$.dirty&9&&t(1,s=n?r.v[n-1]:null)},[r,s,i,n]}class H1 extends ce{constructor(e){super(),ue(this,e,W1,B1,le,{res:0,simca:2})}}const Vm="";function ei(l){let e,t,n,s,r;function i(a){l[8](a)}function o(a){l[9](a)}let f={WASM:l[0],model:l[1]};return l[3]!==void 0&&(f.dataset=l[3]),l[4]!==void 0&&(f.pcares=l[4]),t=new f1({props:f}),Z.push(()=>ne(t,"dataset",i)),Z.push(()=>ne(t,"pcares",o)),{c(){e=V("div"),P(t.$$.fragment),_(e,"class","data-loader svelte-1lragme")},m(a,c){y(a,e,c),O(t,e,null),r=!0},p(a,c){const u={};c&1&&(u.WASM=a[0]),c&2&&(u.model=a[1]),!n&&c&8&&(n=!0,u.dataset=a[3],ie(()=>n=!1)),!s&&c&16&&(s=!0,u.pcares=a[4],ie(()=>s=!1)),t.$set(u)},i(a){r||(p(t.$$.fragment,a),r=!0)},o(a){h(t.$$.fragment,a),r=!1},d(a){a&&v(e),I(t)}}}function ti(l){let e,t,n,s,r,i;function o(a){l[10](a)}let f={model:l[1]};return l[2]!==void 0&&(f.simca=l[2]),t=new Nn({props:f}),Z.push(()=>ne(t,"simca",o)),r=new ee({props:{label:"Download",$$slots:{default:[U1]},$$scope:{ctx:l}}}),{c(){e=V("div"),P(t.$$.fragment),s=z(),P(r.$$.fragment),_(e,"class","simca-settings svelte-1lragme")},m(a,c){y(a,e,c),O(t,e,null),C(e,s),O(r,e,null),i=!0},p(a,c){const u={};c&2&&(u.model=a[1]),!n&&c&4&&(n=!0,u.simca=a[2],ie(()=>n=!1)),t.$set(u);const m={};c&8238&&(m.$$scope={dirty:c,ctx:a}),r.$set(m)},i(a){i||(p(t.$$.fragment,a),p(r.$$.fragment,a),i=!0)},o(a){h(t.$$.fragment,a),h(r.$$.fragment,a),i=!1},d(a){a&&v(e),I(t),I(r)}}}function $1(l){let e;return{c(){e=G("Results")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function G1(l){let e;return{c(){e=G("Model")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function U1(l){let e,t,n,s,r;return t=new Ue({props:{$$slots:{default:[$1]},$$scope:{ctx:l}}}),t.$on("click",l[11]),s=new Ue({props:{$$slots:{default:[G1]},$$scope:{ctx:l}}}),s.$on("click",l[12]),{c(){e=V("div"),P(t.$$.fragment),n=z(),P(s.$$.fragment),_(e,"class","buttons svelte-1lragme")},m(i,o){y(i,e,o),O(t,e,null),C(e,n),O(s,e,null),r=!0},p(i,o){const f={};o&8192&&(f.$$scope={dirty:o,ctx:i}),t.$set(f);const a={};o&8192&&(a.$$scope={dirty:o,ctx:i}),s.$set(a)},i(i){r||(p(t.$$.fragment,i),p(s.$$.fragment,i),r=!0)},o(i){h(t.$$.fragment,i),h(s.$$.fragment,i),r=!1},d(i){i&&v(e),I(t),I(s)}}}function ni(l){let e,t,n;return t=new An({props:{simca:l[2]}}),{c(){e=V("div"),P(t.$$.fragment),_(e,"class","model-stats svelte-1lragme")},m(s,r){y(s,e,r),O(t,e,null),n=!0},p(s,r){const i={};r&4&&(i.simca=s[2]),t.$set(i)},i(s){n||(p(t.$$.fragment,s),n=!0)},o(s){h(t.$$.fragment,s),n=!1},d(s){s&&v(e),I(t)}}}function li(l){let e,t,n;return t=new H1({props:{simca:l[2],res:l[5].alt}}),{c(){e=V("div"),P(t.$$.fragment),_(e,"class","result-stats svelte-1lragme")},m(s,r){y(s,e,r),O(t,e,null),n=!0},p(s,r){const i={};r&4&&(i.simca=s[2]),r&32&&(i.res=s[5].alt),t.$set(i)},i(s){n||(p(t.$$.fragment,s),n=!0)},o(s){h(t.$$.fragment,s),n=!1},d(s){s&&v(e),I(t)}}}function K1(l){let e=l[3],t,n,s=si(l);return{c(){s.c(),t=J()},m(r,i){s.m(r,i),y(r,t,i),n=!0},p(r,i){i&8&&le(e,e=r[3])?(K(),h(s,1,1,$),X(),s=si(r),s.c(),p(s,1),s.m(t.parentNode,t)):s.p(r,i)},i(r){n||(p(s),n=!0)},o(r){h(s),n=!1},d(r){r&&v(t),s.d(r)}}}function X1(l){let e,t,n;function s(o,f){if(!o[1])return Z1;if(!o[3])return Q1}let r=s(l),i=r&&r(l);return{c(){e=V("div"),t=V("p"),t.textContent="In this tab you can apply previously trained DD-SIMCA model to a dataset consisting of non-target (alternative) class members (at least the app will assume this, you can of course provide any dataset). You can use it for testing performance of the model on the alternative classes, or tune its parameters, if necessary.",n=z(),i&&i.c(),_(t,"class","svelte-1lragme"),_(e,"class","help-text svelte-1lragme")},m(o,f){y(o,e,f),C(e,t),C(e,n),i&&i.m(e,null)},p(o,f){r!==(r=s(o))&&(i&&i.d(1),i=r&&r(o),i&&(i.c(),i.m(e,null)))},i:$,o:$,d(o){o&&v(e),i&&i.d()}}}function si(l){let e,t;return e=new D1({props:{simcares:l[5],simca:l[2]}}),{c(){P(e.$$.fragment)},m(n,s){O(e,n,s),t=!0},p(n,s){const r={};s&32&&(r.simcares=n[5]),s&4&&(r.simca=n[2]),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Q1(l){let e,t,n;return{c(){e=V("p"),e.innerHTML="<strong>Step 2</strong>",t=z(),n=V("p"),n.textContent=`Load data set from CSV file. The requirements to the file are the same as for the
               training set. The data may contain class labels for each row (you need to select this option in settings after selecting CSV file) but it is not necessary, as in any case the labels will be ignored and model will assume that all samples are from non-target classes.`,_(e,"class","svelte-1lragme"),_(n,"class","svelte-1lragme")},m(s,r){y(s,e,r),y(s,t,r),y(s,n,r)},d(s){s&&(v(e),v(t),v(n))}}}function Z1(l){let e,t,n;return{c(){e=V("p"),e.innerHTML="<strong>Step 1</strong>",t=z(),n=V("p"),n.textContent="Load previously trained DD-SIMCA model from file.",_(e,"class","svelte-1lragme"),_(n,"class","svelte-1lragme")},m(s,r){y(s,e,r),y(s,t,r),y(s,n,r)},d(s){s&&(v(e),v(t),v(n))}}}function J1(l){let e,t,n,s,r,i,o,f,a,c,u,m,g,d,k;function w(M){l[6](M)}function b(M){l[7](M)}let A={};l[1]!==void 0&&(A.model=l[1]),l[2]!==void 0&&(A.simca=l[2]),s=new Ar({props:A}),Z.push(()=>ne(s,"model",w)),Z.push(()=>ne(s,"simca",b));let R=l[1]&&ei(l),L=l[1]&&l[2]&&l[3]&&ti(l),E=l[2]&&l[3]&&ni(l),T=l[5]&&li(l);const N=[X1,K1],S=[];function F(M,j){return M[4]?1:0}return g=F(l),d=S[g]=N[g](l),{c(){e=V("div"),t=V("div"),n=V("div"),P(s.$$.fragment),o=z(),R&&R.c(),f=z(),L&&L.c(),a=z(),E&&E.c(),c=z(),T&&T.c(),u=z(),m=V("div"),d.c(),_(n,"class","data-loader svelte-1lragme"),_(t,"class","app-controls svelte-1lragme"),_(m,"class","app-content svelte-1lragme"),_(e,"class","app-container svelte-1lragme")},m(M,j){y(M,e,j),C(e,t),C(t,n),O(s,n,null),C(t,o),R&&R.m(t,null),C(t,f),L&&L.m(t,null),C(t,a),E&&E.m(t,null),C(t,c),T&&T.m(t,null),C(e,u),C(e,m),S[g].m(m,null),k=!0},p(M,[j]){const q={};!r&&j&2&&(r=!0,q.model=M[1],ie(()=>r=!1)),!i&&j&4&&(i=!0,q.simca=M[2],ie(()=>i=!1)),s.$set(q),M[1]?R?(R.p(M,j),j&2&&p(R,1)):(R=ei(M),R.c(),p(R,1),R.m(t,f)):R&&(K(),h(R,1,1,()=>{R=null}),X()),M[1]&&M[2]&&M[3]?L?(L.p(M,j),j&14&&p(L,1)):(L=ti(M),L.c(),p(L,1),L.m(t,a)):L&&(K(),h(L,1,1,()=>{L=null}),X()),M[2]&&M[3]?E?(E.p(M,j),j&12&&p(E,1)):(E=ni(M),E.c(),p(E,1),E.m(t,c)):E&&(K(),h(E,1,1,()=>{E=null}),X()),M[5]?T?(T.p(M,j),j&32&&p(T,1)):(T=li(M),T.c(),p(T,1),T.m(t,null)):T&&(K(),h(T,1,1,()=>{T=null}),X());let D=g;g=F(M),g===D?S[g].p(M,j):(K(),h(S[D],1,1,()=>{S[D]=null}),X(),d=S[g],d?d.p(M,j):(d=S[g]=N[g](M),d.c()),p(d,1),d.m(m,null))},i(M){k||(p(s.$$.fragment,M),p(R),p(L),p(E),p(T),p(d),k=!0)},o(M){h(s.$$.fragment,M),h(R),h(L),h(E),h(T),h(d),k=!1},d(M){M&&v(e),I(s),R&&R.d(),L&&L.d(),E&&E.d(),T&&T.d(),S[g].d()}}}function x1(l,e,t){let{WASM:n}=e,s,r,i,o,f;function a(w){s=w,t(1,s)}function c(w){r=w,t(2,r)}function u(w){i=w,t(3,i),t(1,s)}function m(w){o=w,t(4,o),t(3,i),t(1,s)}function g(w){r=w,t(2,r)}const d=()=>wn(f.alt,i,"alt",[]),k=()=>kn(s,r);return l.$$set=w=>{"WASM"in w&&t(0,n=w.WASM)},l.$$.update=()=>{l.$$.dirty&2&&s===null&&t(3,i=null),l.$$.dirty&8&&i===null&&(t(4,o=null),t(5,f=null)),l.$$.dirty&28&&(r&&i&&o?t(5,f={alt:Yi(o,i,r,r.className)}):t(5,f=null))},[n,s,r,i,o,f,a,c,u,m,g,d,k]}class em extends ce{constructor(e){super(),ue(this,e,x1,J1,le,{WASM:0})}}const tm="modulepreload",nm=function(l){return"/"+l},ri={},lm=function(e,t,n){return e()};var Ln=(()=>{var l=tt&&tt.src||new URL("ddsimca.js",document.baseURI).href;return async function(e={}){var t=e,n,s;t.ready=new Promise((B,H)=>{n=B,s=H});var r=Object.assign({},t),i=typeof window=="object",o=typeof importScripts=="function",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",a="";function c(B){return t.locateFile?t.locateFile(B,a):a+B}var u,m,g;if(f){const{createRequire:B}=await lm(()=>Promise.resolve().then(()=>om),void 0);var d=B(tt&&tt.src||new URL("ddsimca.js",document.baseURI).href),k=d("fs"),w=d("path");o?a=w.dirname(a)+"/":a=d("url").fileURLToPath(new URL("./",self.location)),u=(H,se)=>(H=Oe(H)?new URL(H):w.normalize(H),k.readFileSync(H,se?void 0:"utf8")),g=H=>{var se=u(H,!0);return se.buffer||(se=new Uint8Array(se)),se},m=(H,se,me,Te=!0)=>{H=Oe(H)?new URL(H):w.normalize(H),k.readFile(H,Te?void 0:"utf8",(Ce,ve)=>{Ce?me(Ce):se(Te?ve.buffer:ve)})},!t.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),t.inspect=()=>"[Emscripten Module object]"}else(i||o)&&(o?a=self.location.href:typeof document<"u"&&document.currentScript&&(a=document.currentScript.src),l&&(a=l),a.indexOf("blob:")!==0?a=a.substr(0,a.replace(/[?#].*/,"").lastIndexOf("/")+1):a="",u=B=>{var H=new XMLHttpRequest;return H.open("GET",B,!1),H.send(null),H.responseText},o&&(g=B=>{var H=new XMLHttpRequest;return H.open("GET",B,!1),H.responseType="arraybuffer",H.send(null),new Uint8Array(H.response)}),m=(B,H,se)=>{var me=new XMLHttpRequest;me.open("GET",B,!0),me.responseType="arraybuffer",me.onload=()=>{if(me.status==200||me.status==0&&me.response){H(me.response);return}se()},me.onerror=se,me.send(null)});t.print||console.log.bind(console);var b=t.printErr||console.error.bind(console);Object.assign(t,r),r=null,t.arguments&&t.arguments,t.thisProgram&&t.thisProgram,t.quit&&t.quit;var A;t.wasmBinary&&(A=t.wasmBinary),t.noExitRuntime,typeof WebAssembly!="object"&&he("no native wasm support detected");var R,L=!1,E,T;function N(){var B=R.buffer;t.HEAP8=E=new Int8Array(B),t.HEAP16=new Int16Array(B),t.HEAPU8=T=new Uint8Array(B),t.HEAPU16=new Uint16Array(B),t.HEAP32=new Int32Array(B),t.HEAPU32=new Uint32Array(B),t.HEAPF32=new Float32Array(B),t.HEAPF64=new Float64Array(B)}var S=[],F=[],M=[];function j(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)Q(t.preRun.shift());Ae(S)}function q(){Ae(F)}function D(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)Y(t.postRun.shift());Ae(M)}function Q(B){S.unshift(B)}function te(B){F.unshift(B)}function Y(B){M.unshift(B)}var W=0,oe=null;function fe(B){W++,t.monitorRunDependencies&&t.monitorRunDependencies(W)}function ge(B){if(W--,t.monitorRunDependencies&&t.monitorRunDependencies(W),W==0&&oe){var H=oe;oe=null,H()}}function he(B){t.onAbort&&t.onAbort(B),B="Aborted("+B+")",b(B),L=!0,B+=". Build with -sASSERTIONS for more info.";var H=new WebAssembly.RuntimeError(B);throw s(H),H}var we="data:application/octet-stream;base64,";function Ee(B){return B.startsWith(we)}function Oe(B){return B.startsWith("file://")}var je;t.locateFile?(je="/ddsimca_alpha/ddsimca.wasm",Ee(je)||(je=c(je))):je=new URL("/ddsimca_alpha/ddsimca.wasm",self.location).href;function Be(B){if(B==je&&A)return new Uint8Array(A);if(g)return g(B);throw"both async and sync fetching of the wasm failed"}function Se(B){if(!A&&(i||o)){if(typeof fetch=="function"&&!Oe(B))return fetch(B,{credentials:"same-origin"}).then(H=>{if(!H.ok)throw"failed to load wasm binary file at '"+B+"'";return H.arrayBuffer()}).catch(()=>Be(B));if(m)return new Promise((H,se)=>{m(B,me=>H(new Uint8Array(me)),se)})}return Promise.resolve().then(()=>Be(B))}function Ve(B,H,se){return Se(B).then(me=>WebAssembly.instantiate(me,H)).then(me=>me).then(se,me=>{b(`failed to asynchronously prepare wasm: ${me}`),he(me)})}function $e(B,H,se,me){return!B&&typeof WebAssembly.instantiateStreaming=="function"&&!Ee(H)&&!Oe(H)&&!f&&typeof fetch=="function"?fetch(H,{credentials:"same-origin"}).then(Te=>{var Ce=WebAssembly.instantiateStreaming(Te,se);return Ce.then(me,function(ve){return b(`wasm streaming compile failed: ${ve}`),b("falling back to ArrayBuffer instantiation"),Ve(H,se,me)})}):Ve(H,se,me)}function ze(){var B={a:mm};function H(me,Te){var Ce=me.exports;return st=Ce,R=st.d,N(),st.k,te(st.e),ge(),Ce}fe();function se(me){H(me.instance)}if(t.instantiateWasm)try{return t.instantiateWasm(B,H)}catch(me){b(`Module.instantiateWasm callback failed with error: ${me}`),s(me)}return $e(A,je,B,se).catch(s),{}}var Ae=B=>{for(;B.length>0;)B.shift()(t)},Ye=()=>Date.now(),nt=(B,H,se)=>T.copyWithin(B,H,H+se),Je=()=>2147483648,lt=B=>{var H=R.buffer,se=(B-H.byteLength+65535)/65536;try{return R.grow(se),N(),1}catch{}},U=B=>{var H=T.length;B>>>=0;var se=Je();if(B>se)return!1;for(var me=(Ke,xe)=>Ke+(xe-Ke%xe)%xe,Te=1;Te<=4;Te*=2){var Ce=H*(1+.2/Te);Ce=Math.min(Ce,B+100663296);var ve=Math.min(se,me(Math.max(B,Ce),65536)),Ne=lt(ve);if(Ne)return!0}return!1},pe=B=>{var H=t["_"+B];return H},Re=(B,H)=>{E.set(B,H)},tn=B=>{for(var H=0,se=0;se<B.length;++se){var me=B.charCodeAt(se);me<=127?H++:me<=2047?H+=2:me>=55296&&me<=57343?(H+=4,++se):H+=3}return H},Bt=(B,H,se,me)=>{if(!(me>0))return 0;for(var Te=se,Ce=se+me-1,ve=0;ve<B.length;++ve){var Ne=B.charCodeAt(ve);if(Ne>=55296&&Ne<=57343){var Ke=B.charCodeAt(++ve);Ne=65536+((Ne&1023)<<10)|Ke&1023}if(Ne<=127){if(se>=Ce)break;H[se++]=Ne}else if(Ne<=2047){if(se+1>=Ce)break;H[se++]=192|Ne>>6,H[se++]=128|Ne&63}else if(Ne<=65535){if(se+2>=Ce)break;H[se++]=224|Ne>>12,H[se++]=128|Ne>>6&63,H[se++]=128|Ne&63}else{if(se+3>=Ce)break;H[se++]=240|Ne>>18,H[se++]=128|Ne>>12&63,H[se++]=128|Ne>>6&63,H[se++]=128|Ne&63}}return H[se]=0,se-Te},oi=(B,H,se)=>Bt(B,T,H,se),fm=B=>{var H=tn(B)+1,se=Sn(H);return oi(B,se,H),se},fi=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,am=(B,H,se)=>{for(var me=H+se,Te=H;B[Te]&&!(Te>=me);)++Te;if(Te-H>16&&B.buffer&&fi)return fi.decode(B.subarray(H,Te));for(var Ce="";H<Te;){var ve=B[H++];if(!(ve&128)){Ce+=String.fromCharCode(ve);continue}var Ne=B[H++]&63;if((ve&224)==192){Ce+=String.fromCharCode((ve&31)<<6|Ne);continue}var Ke=B[H++]&63;if((ve&240)==224?ve=(ve&15)<<12|Ne<<6|Ke:ve=(ve&7)<<18|Ne<<12|Ke<<6|B[H++]&63,ve<65536)Ce+=String.fromCharCode(ve);else{var xe=ve-65536;Ce+=String.fromCharCode(55296|xe>>10,56320|xe&1023)}}return Ce},um=(B,H)=>B?am(T,B,H):"",cm=(B,H,se,me,Te)=>{var Ce={string:et=>{var Ht=0;return et!=null&&et!==0&&(Ht=fm(et)),Ht},array:et=>{var Ht=Sn(et.length);return Re(et,Ht),Ht}};function ve(et){return H==="string"?um(et):H==="boolean"?!!et:et}var Ne=pe(B),Ke=[],xe=0;if(me)for(var mt=0;mt<me.length;mt++){var ln=Ce[se[mt]];ln?(xe===0&&(xe=ai()),Ke[mt]=ln(me[mt])):Ke[mt]=me[mt]}var Wt=Ne.apply(null,Ke);function _m(et){return xe!==0&&ui(xe),ve(et)}return Wt=_m(Wt),Wt},mm={b:Ye,c:nt,a:U},st=ze();t._pcafit_wasm=(B,H,se,me,Te,Ce,ve,Ne,Ke)=>(t._pcafit_wasm=st.f)(B,H,se,me,Te,Ce,ve,Ne,Ke),t._malloc=B=>(t._malloc=st.g)(B),t._free=B=>(t._free=st.h)(B),t._pcapredict_wasm=(B,H,se,me,Te,Ce,ve)=>(t._pcapredict_wasm=st.i)(B,H,se,me,Te,Ce,ve),t._pcvpca_wasm=(B,H,se,me,Te,Ce,ve,Ne,Ke,xe,mt,ln,Wt)=>(t._pcvpca_wasm=st.j)(B,H,se,me,Te,Ce,ve,Ne,Ke,xe,mt,ln,Wt);var ai=()=>(ai=st.l)(),ui=B=>(ui=st.m)(B),Sn=B=>(Sn=st.n)(B);t.ccall=cm;var nn;oe=function B(){nn||ci(),nn||(oe=B)};function ci(){if(W>0||(j(),W>0))return;function B(){nn||(nn=!0,t.calledRun=!0,!L&&(q(),n(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),D()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),B()},1)):B()}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return ci(),e.ready}})();const zm="";function ii(l){let e,t,n,s,r,i,o,f,a,c,u,m,g,d,k,w,b,A,R;return{c(){e=V("div"),t=V("div"),n=V("button"),n.textContent="✕",s=z(),r=V("h2"),r.textContent="Data Driven SIMCA",i=z(),o=V("p"),o.innerHTML="Authors: <em>Sergey Kucheryavskiy, Oxana Rodionova, Alexey Pomerantsev</em>",f=z(),a=V("p"),a.textContent=`Interactive web-application for creating and using DD-SIMCA one class classifier
            directly in your browser. The app does not send any information to the server,
            all calculations are done locally on your device.`,c=z(),u=V("p"),u.innerHTML=`All related theory can be found in:
            <a href="https://doi.org/10.1002/cem.2506" class="svelte-it9x6i">10.1002/cem.2506</a>,
            <a href="https://doi.org/10.1002/cem.2610" class="svelte-it9x6i">10.1002/cem.2610</a>,
            <a href="https://doi.org/10.1002/cem.3250" class="svelte-it9x6i">10.1002/cem.3250</a>.`,m=z(),g=V("h3"),g.textContent="Last version 0.7.0",d=z(),k=V("p"),k.textContent="released 23/01/2024",w=z(),b=V("ul"),b.innerHTML='<li class="svelte-it9x6i">made info icon better visible</li> <li class="svelte-it9x6i">removed <em>h0</em> and <em>q0</em> from the results file</li> <li class="svelte-it9x6i">added <em>F crit (extr)</em> and <em>F crit (outliers)</em> to the results file</li> <li class="svelte-it9x6i">added a possibility to mark and remove objects for the target class data</li> <li class="svelte-it9x6i">added model file name to the model info block (in addition to the target class name)</li> <li class="svelte-it9x6i">changed names of the main app tabs</li>',_(n,"class","info-close-button svelte-it9x6i"),_(r,"class","svelte-it9x6i"),_(o,"class","svelte-it9x6i"),_(a,"class","svelte-it9x6i"),_(u,"class","svelte-it9x6i"),_(g,"class","svelte-it9x6i"),_(k,"class","release-info svelte-it9x6i"),_(b,"class","svelte-it9x6i"),_(t,"class","info-container svelte-it9x6i"),_(e,"class","info-backdrop svelte-it9x6i")},m(L,E){y(L,e,E),C(e,t),C(t,n),C(t,s),C(t,r),C(t,i),C(t,o),C(t,f),C(t,a),C(t,c),C(t,u),C(t,m),C(t,g),C(t,d),C(t,k),C(t,w),C(t,b),A||(R=Le(n,"click",l[6]),A=!0)},p:$,d(L){L&&v(e),A=!1,R()}}}function sm(l){let e,t,n,s,r,i,o,f,a,c,u,m,g,d,k,w,b,A,R,L,E,T,N,S,F,M,j,q,D,Q,te,Y,W,oe,fe,ge;b=new Ju({props:{WASM:Ln}}),L=new Wc({props:{WASM:Ln}}),N=new em({props:{WASM:Ln}});let he=l[4]&&ii(l);return{c(){e=V("div"),t=V("header"),n=V("div"),n.innerHTML='<img class="logo svelte-it9x6i" alt="DD-SIMCA" src="logo.svg"/> <h1 class="svelte-it9x6i">Data Driven SIMCA</h1> <p class="svelte-it9x6i">One class classifier</p>',s=z(),r=V("ul"),i=V("li"),o=V("button"),o.textContent="Train",f=z(),a=V("li"),c=V("button"),c.innerHTML='Predict: <span class="svelte-it9x6i">Target</span>',u=z(),m=V("li"),g=V("button"),g.innerHTML='Predict: <span class="svelte-it9x6i">New</span>',d=z(),k=V("main"),w=V("div"),P(b.$$.fragment),A=z(),R=V("div"),P(L.$$.fragment),E=z(),T=V("div"),P(N.$$.fragment),S=z(),F=V("footer"),M=V("p"),j=G("Current release: "),q=V("span"),q.textContent="0.7.0",D=z(),Q=V("button"),Q.textContent="info",te=G(`
      Theory and citation reference: `),Y=V("a"),Y.textContent="xxx.xxx/xxx",W=z(),he&&he.c(),_(n,"class","header-group svelte-it9x6i"),_(o,"class","svelte-it9x6i"),_(i,"class","nav-item svelte-it9x6i"),We(i,"selected",l[0]==="train"),_(c,"class","svelte-it9x6i"),_(a,"class","nav-item svelte-it9x6i"),We(a,"selected",l[0]==="target"),_(g,"class","svelte-it9x6i"),_(m,"class","nav-item svelte-it9x6i"),We(m,"selected",l[0]==="alt"),_(r,"class","nav svelte-it9x6i"),_(t,"class","page-header svelte-it9x6i"),_(w,"class","train-app-container svelte-it9x6i"),We(w,"hidden",l[0]!=="train"),_(R,"class","test-app-container svelte-it9x6i"),We(R,"hidden",l[0]!=="target"),_(T,"class","alt-app-container svelte-it9x6i"),We(T,"hidden",l[0]!=="alt"),_(k,"class","svelte-it9x6i"),_(q,"class","svelte-it9x6i"),_(Q,"class","button-info svelte-it9x6i"),_(Y,"class","paper-link svelte-it9x6i"),_(Y,"href","https://test.com"),_(M,"class","svelte-it9x6i"),_(F,"class","svelte-it9x6i"),_(e,"class","page svelte-it9x6i")},m(we,Ee){y(we,e,Ee),C(e,t),C(t,n),C(t,s),C(t,r),C(r,i),C(i,o),C(r,f),C(r,a),C(a,c),C(r,u),C(r,m),C(m,g),C(e,d),C(e,k),C(k,w),O(b,w,null),l[10](w),C(k,A),C(k,R),O(L,R,null),l[11](R),C(k,E),C(k,T),O(N,T,null),l[12](T),C(e,S),C(e,F),C(F,M),C(M,j),C(M,q),C(M,D),C(M,Q),C(M,te),C(M,Y),C(e,W),he&&he.m(e,null),oe=!0,fe||(ge=[Le(o,"click",l[7]),Le(o,"keydown",l[7]),Le(c,"click",l[8]),Le(c,"keydown",l[8]),Le(g,"click",l[9]),Le(g,"keydown",l[9]),Le(Q,"click",l[5]),Le(Q,"keydown",l[5])],fe=!0)},p(we,[Ee]){(!oe||Ee&1)&&We(i,"selected",we[0]==="train"),(!oe||Ee&1)&&We(a,"selected",we[0]==="target"),(!oe||Ee&1)&&We(m,"selected",we[0]==="alt"),(!oe||Ee&1)&&We(w,"hidden",we[0]!=="train"),(!oe||Ee&1)&&We(R,"hidden",we[0]!=="target"),(!oe||Ee&1)&&We(T,"hidden",we[0]!=="alt"),we[4]?he?he.p(we,Ee):(he=ii(we),he.c(),he.m(e,null)):he&&(he.d(1),he=null)},i(we){oe||(p(b.$$.fragment,we),p(L.$$.fragment,we),p(N.$$.fragment,we),oe=!0)},o(we){h(b.$$.fragment,we),h(L.$$.fragment,we),h(N.$$.fragment,we),oe=!1},d(we){we&&v(e),I(b),l[10](null),I(L),l[11](null),I(N),l[12](null),he&&he.d(),fe=!1,it(ge)}}}function rm(l,e,t){let n="train",s,r,i,o=!1;function f(){t(4,o=!0)}function a(){t(4,o=!1)}function c(){t(0,n="train")}function u(){t(0,n="target")}function m(){t(0,n="alt")}function g(w){Z[w?"unshift":"push"](()=>{s=w,t(1,s)})}function d(w){Z[w?"unshift":"push"](()=>{r=w,t(2,r)})}function k(w){Z[w?"unshift":"push"](()=>{i=w,t(3,i)})}return[n,s,r,i,o,f,a,c,u,m,g,d,k]}class im extends ce{constructor(e){super(),ue(this,e,rm,sm,le,{})}}new im({target:document.body});const om=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=ddsimca.js.map
