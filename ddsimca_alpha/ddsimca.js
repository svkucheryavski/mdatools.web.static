var $1=Object.defineProperty;var z1=(mt,nt,H)=>nt in mt?$1(mt,nt,{enumerable:!0,configurable:!0,writable:!0,value:H}):mt[nt]=H;var rt=(mt,nt,H)=>(z1(mt,typeof nt!="symbol"?nt+"":nt,H),H);(function(){"use strict";var mt=document.createElement("style");mt.textContent=`button.svelte-12b8cv0{background:#606060;display:inline-block;color:#fefefe;font-size:.9em;padding:.2em .5em;line-height:1.5em;border:none;border-radius:.25em;box-shadow:none;text-align:center;border:1px solid transparent}button.svelte-12b8cv0:hover{border-color:#6eb8ff;background:#6eb8ff20;color:#5086b9}button.svelte-2vapqe{background:#606060;display:inline-block;color:#fefefe;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin-left:1.5em;text-align:center;padding:0;background-size:40% 40%;background-position:50%;background-repeat:no-repeat;background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" version="1.1" style="stroke:%23fafafa;stroke-width:14;" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}button.svelte-2vapqe:hover{background-color:#dc143c}.control-element.svelte-1ybd854{font-size:.85em;background:#fff;padding:.35em .75em;border-radius:0;display:flex;justify-items:center;justify-content:center;align-items:center;margin-bottom:.5px}.control-element.svelte-1ybd854:first-of-type{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;margin-bottom:1px}.control-element.svelte-1ybd854:last-of-type{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-1ybd854{display:none}.control-element.error.svelte-1ybd854{background:crimson;color:#fefefe}.label.svelte-1ybd854{padding-right:1em;flex-basis:12ch;flex-grow:0;flex-shrink:1;color:#606570}.control-element.svelte-1ybd854>.wrapper{flex:1 1}.control-element.svelte-1ybd854>p{text-align:left;flex-grow:1;padding:0 .25em;margin:0;font-size:.9em}.control-element.svelte-1ybd854>.title{font-size:1.05em;font-weight:700;color:#303540;flex-grow:1;padding:.3em 0;margin:0}.range-slider-container.svelte-pjrnyj{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;background:#f0f0f0;height:1.5em;margin:0;padding:1px 0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider.svelte-pjrnyj{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;background:#6EB8FF;border-radius:2px;text-align:right;color:#fafafa;margin:0;padding:0;height:100%;border-right:5px solid #528abe;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value.svelte-pjrnyj{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}input.svelte-18e38uq{display:none}.selector.svelte-18e38uq{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-18e38uq{cursor:default;padding:.25em .5em;margin:0 .2em 0 0;color:#606060;background-color:#f0f0f0;border:1px solid transparent;border-radius:.3em}.option.selected.svelte-18e38uq{background-color:#6eb8ff;color:#fefefe}.option.svelte-18e38uq:not(.selected):hover{border:1px solid #66abec;background-color:#6eb8ff20;color:#4777a4}.spinner.svelte-1jycdl0{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-1jycdl0:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid #6eb8ff;border-color:#6eb8ff transparent #6eb8ff transparent;animation:svelte-1jycdl0-spinner 1.2s linear infinite}@keyframes svelte-1jycdl0-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.file-selector>.option{width:36px;height:24px;background-size:32px 20px;background-repeat:no-repeat;background-position:50%;font-size:0;border-radius:2px;margin-right:2px}.file-selector>.option:not(.selected):hover{border-color:#6eb8ff20}.file-selector .option_bp{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23606060" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23606060" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23606060" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_bp.selected:hover,.file-selector .option_bp.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%23fefefe" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%23fefefe" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%23fefefe" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_bp:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="15" width="10" height="16" transform="rotate(-90 8 15)" stroke="%236EB8FF" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke="%236EB8FF" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke="%236EB8FF" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_hm{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23606060" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23606060" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23606060" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23606060" stroke-width="2"/></svg>')}.file-selector .option_hm.selected:hover,.file-selector .option_hm.selected{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%23fefefe" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%23fefefe" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%23fefefe" stroke-width="2"/></svg>')}.file-selector .option_hm:hover{background-image:url('data:image/svg+xml;utf8,<svg width="32" height="20" viewBox="0 0 32 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="16" width="12" height="23" transform="rotate(-90 5 16)" stroke="%236EB8FF" stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke="%236EB8FF" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke="%236EB8FF" stroke-width="2"/></svg>')}.file-selector .option_l{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_l.selected:hover,.file-selector .option_l.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_l:hover{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p.selected:hover,.file-selector .option_p.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_p:hover{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h.selected:hover,.file-selector .option_h.selected{background-image:url(data:image/svg+xml;utf8,)}.file-selector .option_h:hover{background-image:url(data:image/svg+xml;utf8,)}input.svelte-7uwoge{display:none}label.svelte-7uwoge{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0}label.svelte-7uwoge:before{display:inline-block;content:"⇪";font-size:1.2em;margin:0 .5em 0 0}label.selected.svelte-7uwoge{color:#909090}label.selected.svelte-7uwoge:before{content:"⣿⣿";letter-spacing:-.25em;color:#6eb8ff;font-weight:700}.buttons.svelte-ete4pd{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}.plot-container.svelte-ete4pd{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-ete4pd{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-ete4pd{padding:0 .25em 0 .5em}.plot-selector.svelte-ete4pd{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-ete4pd:hover{background:#e0e0e0;color:#403020}div.plot-container.off-screen{position:absolute;top:0;left:50%;width:650px;height:600px;background:white;z-index:999}@media (min-width:1100px){.plot-container.svelte-ete4pd{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-container.svelte-ete4pd{grid-template-columns:1fr minmax(300px,30%)}}.plot-container.svelte-iey6d1{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0}.plot_error.svelte-iey6d1{display:flex;justify-content:center;align-items:center}.message_error.svelte-iey6d1{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-iey6d1{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-iey6d1{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}text.svelte-131ks7u,text.svelte-131ks7u>tspan{cursor:default;-webkit-user-select:none;user-select:none;dominant-baseline:middle}text.svelte-12moot9,text.svelte-12moot9>tspan{dominant-baseline:middle;text-anchor:middle;cursor:default;-webkit-user-select:none;user-select:none}.app-container.svelte-1kl15v.svelte-1kl15v{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1kl15v.svelte-1kl15v{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1kl15v.svelte-1kl15v{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-1kl15v>div.svelte-1kl15v{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1kl15v.svelte-1kl15v{margin-top:.25rem}.help-text.svelte-1kl15v>p.svelte-1kl15v,.help-text.svelte-1kl15v>div.svelte-1kl15v{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1kl15v table.svelte-1kl15v{border-collapse:collapse}.help-text.svelte-1kl15v table td.svelte-1kl15v{padding:.25em .5em;background:#e0f0fa;text-align:right;border:1px solid white}.help-text.svelte-1kl15v table tr:first-child td.svelte-1kl15v{font-weight:700;background:#f8f4e0}.help-text.svelte-1kl15v table td.svelte-1kl15v:first-child{font-weight:700;background:#f8f4e0;padding-right:1em}.help-text.svelte-1kl15v table td.svelte-1kl15v:nth-child(2){background:#e0e8f0;padding-right:1em}.help-text.svelte-1kl15v>p.svelte-1kl15v:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1kl15v>p.svelte-1kl15v:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1kl15v.svelte-1kl15v{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1kl15v.svelte-1kl15v{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1kl15v.svelte-1kl15v{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}@media (min-width:1300px){.app-container.svelte-1kl15v.svelte-1kl15v{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1kl15v.svelte-1kl15v{grid-template-columns:min(320px,30%) 1fr}}.className.svelte-1htmzzh{font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:10ch}table.svelte-kg0b31{width:100%;border-collapse:collapse}tr.svelte-kg0b31{width:100%}th.svelte-kg0b31{border-bottom:1px solid #a0a0a0}th.svelte-kg0b31,td.svelte-kg0b31{text-align:right;padding:.2em .5em .2em .1em;color:#404040;margin:0}.label.svelte-kg0b31{text-align:left;padding:.1em .5em}.app-container.svelte-1lragme.svelte-1lragme{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1lragme.svelte-1lragme{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1lragme.svelte-1lragme{box-sizing:border-box;padding:.25em}.app-controls.svelte-1lragme>div.svelte-1lragme{background:#e8e8e8;border-radius:.25rem}.help-text.svelte-1lragme.svelte-1lragme{margin-top:.25rem}.help-text.svelte-1lragme>p.svelte-1lragme{background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1lragme>p.svelte-1lragme:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1lragme>p.svelte-1lragme:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.model-stats.svelte-1lragme.svelte-1lragme{padding:.5rem 1rem;margin-top:.5rem;font-size:.85em}.result-stats.svelte-1lragme.svelte-1lragme{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}.buttons.svelte-1lragme.svelte-1lragme{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default}@media (min-width:1300px){.app-container.svelte-1lragme.svelte-1lragme{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1lragme.svelte-1lragme{grid-template-columns:min(320px,30%) 1fr}}.page.svelte-zutybd.svelte-zutybd.svelte-zutybd{width:100%;height:100%;margin:0 auto;padding:0;min-width:1020px;min-height:590px;max-width:1600px;display:flex;flex-direction:column}.page.svelte-zutybd>header.svelte-zutybd.svelte-zutybd{display:flex;justify-content:flex-start;flex-direction:row;background:#f8f6f4}.header-group.svelte-zutybd.svelte-zutybd.svelte-zutybd{width:min-content;margin:0 0 0 .25rem;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-zutybd.svelte-zutybd.svelte-zutybd{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-zutybd>h1.svelte-zutybd.svelte-zutybd{margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-zutybd>p.svelte-zutybd.svelte-zutybd{margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}.page.svelte-zutybd>main.svelte-zutybd.svelte-zutybd{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0}.page.svelte-zutybd>main.svelte-zutybd>div.svelte-zutybd{height:100%}.page.svelte-zutybd>footer.svelte-zutybd.svelte-zutybd{font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}.page.svelte-zutybd>footer p.svelte-zutybd.svelte-zutybd{max-width:800px;text-align:center;margin:0 auto;padding:.15em}.page.svelte-zutybd>footer span.svelte-zutybd.svelte-zutybd,.page.svelte-zutybd>footer a.svelte-zutybd.svelte-zutybd{color:#f8ebc5}.hidden.svelte-zutybd.svelte-zutybd.svelte-zutybd{display:none}.nav.svelte-zutybd.svelte-zutybd.svelte-zutybd{display:flex;flex-direction:row;justify-content:flex-end;list-style:none;margin:0 100px 0 auto;padding:0;align-self:flex-end}.nav-item.svelte-zutybd.svelte-zutybd.svelte-zutybd{list-style:none;margin:0 2px;border-bottom:5px solid transparent}.nav-item.svelte-zutybd>button.svelte-zutybd.svelte-zutybd{cursor:pointer;padding:.5em 1em;border:none;box-shadow:none;background:transparent;font-size:inherit}.nav-item.svelte-zutybd.svelte-zutybd.svelte-zutybd:not(.disabled):hover{border-bottom-color:#a0a0a08f}.nav-item.selected.svelte-zutybd.svelte-zutybd.svelte-zutybd{border-bottom:5px solid #80888f}.nav-item.selected.svelte-zutybd>button.svelte-zutybd.svelte-zutybd{font-weight:700;cursor:default}.nav-item.selected.svelte-zutybd.svelte-zutybd.svelte-zutybd:hover{border-bottom:5px solid #80888f}@media (min-width: 1600px){.page.svelte-zutybd>header.svelte-zutybd.svelte-zutybd{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.page.svelte-zutybd>footer.svelte-zutybd.svelte-zutybd{border-top-right-radius:.25rem;border-top-left-radius:.25rem}}
`,document.head.appendChild(mt);var nt=typeof document<"u"?document.currentScript:null;function H(){}function Jr(l,e){for(const t in e)l[t]=e[t];return l}function xr(l){return!!l&&(typeof l=="object"||typeof l=="function")&&typeof l.then=="function"}function Tn(l){return l()}function Sn(){return Object.create(null)}function ot(l){l.forEach(Tn)}function Rn(l){return typeof l=="function"}function se(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}function eo(l){return Object.keys(l).length===0}function to(l,...e){if(l==null){for(const n of e)n(void 0);return H}const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function re(l,e,t){l.$$.on_destroy.push(to(e,t))}function vt(l,e,t,n){if(l){const s=$n(l,e,t,n);return l[0](s)}}function $n(l,e,t,n){return l[1]&&n?Jr(t.ctx.slice(),l[1](n(e))):t.ctx}function yt(l,e,t,n){if(l[2]&&n){const s=l[2](n(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],o=Math.max(e.dirty.length,s.length);for(let i=0;i<o;i+=1)r[i]=e.dirty[i]|s[i];return r}return e.dirty|s}return e.dirty}function Ct(l,e,t,n,s,r){if(s){const o=$n(e,t,n,r);l.p(o,s)}}function Et(l){if(l.ctx.length>32){const e=[],t=l.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function C(l,e){l.appendChild(e)}function v(l,e,t){l.insertBefore(e,t||null)}function k(l){l.parentNode&&l.parentNode.removeChild(l)}function Xe(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function F(l){return document.createElement(l)}function _e(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function G(l){return document.createTextNode(l)}function I(){return G(" ")}function te(){return G("")}function Te(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function no(l){return function(e){return e.preventDefault(),l.call(this,e)}}function p(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function lo(l){return Array.from(l.childNodes)}function fe(l,e){e=""+e,l.data!==e&&(l.data=e)}function zn(l,e){l.value=e??""}function He(l,e,t,n){t==null?l.style.removeProperty(e):l.style.setProperty(e,t,n?"important":"")}function De(l,e,t){l.classList.toggle(e,!!t)}function so(l,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(l,{detail:e,bubbles:t,cancelable:n})}class ro{constructor(e=!1){rt(this,"is_svg",!1);rt(this,"e");rt(this,"n");rt(this,"t");rt(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=_e(t.nodeName):this.e=F(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)v(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(k)}}function Ht(l,e){return new l(e)}let jt;function ut(l){jt=l}function At(){if(!jt)throw new Error("Function called outside component initialization");return jt}function oo(l){At().$$.on_mount.push(l)}function io(l){At().$$.on_destroy.push(l)}function qn(){const l=At();return(e,t,{cancelable:n=!1}={})=>{const s=l.$$.callbacks[e];if(s){const r=so(e,t,{cancelable:n});return s.slice().forEach(o=>{o.call(l,r)}),!r.defaultPrevented}return!0}}function fo(l,e){return At().$$.context.set(l,e),e}function Je(l){return At().$$.context.get(l)}function Fn(l,e){const t=l.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const Nt=[],J=[];let Mt=[];const en=[],ao=Promise.resolve();let tn=!1;function uo(){tn||(tn=!0,ao.then(sn))}function nn(l){Mt.push(l)}function ie(l){en.push(l)}const ln=new Set;let Lt=0;function sn(){if(Lt!==0)return;const l=jt;do{try{for(;Lt<Nt.length;){const e=Nt[Lt];Lt++,ut(e),co(e.$$)}}catch(e){throw Nt.length=0,Lt=0,e}for(ut(null),Nt.length=0,Lt=0;J.length;)J.pop()();for(let e=0;e<Mt.length;e+=1){const t=Mt[e];ln.has(t)||(ln.add(t),t())}Mt.length=0}while(Nt.length);for(;en.length;)en.pop()();tn=!1,ln.clear(),ut(l)}function co(l){if(l.fragment!==null){l.update(),ot(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(nn)}}function mo(l){const e=[],t=[];Mt.forEach(n=>l.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Mt=e}const Gt=new Set;let ht;function X(){ht={r:0,c:[],p:ht}}function Q(){ht.r||ot(ht.c),ht=ht.p}function g(l,e){l&&l.i&&(Gt.delete(l),l.i(e))}function d(l,e,t,n){if(l&&l.o){if(Gt.has(l))return;Gt.add(l),ht.c.push(()=>{Gt.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}function _t(l,e){const t=e.token={};function n(s,r,o,i){if(e.token!==t)return;e.resolved=i;let f=e.ctx;o!==void 0&&(f=f.slice(),f[o]=i);const a=s&&(e.current=s)(f);let c=!1;e.block&&(e.blocks?e.blocks.forEach((u,m)=>{m!==r&&u&&(X(),d(u,1,1,()=>{e.blocks[m]===u&&(e.blocks[m]=null)}),Q())}):e.block.d(1),a.c(),g(a,1),a.m(e.mount(),e.anchor),c=!0),e.block=a,e.blocks&&(e.blocks[r]=a),c&&sn()}if(xr(l)){const s=At();if(l.then(r=>{ut(s),n(e.then,1,e.value,r),ut(null)},r=>{if(ut(s),n(e.catch,2,e.error,r),ut(null),!e.hasCatch)throw r}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,l),!0;e.resolved=l}}function Ut(l,e,t){const n=e.slice(),{resolved:s}=l;l.current===l.then&&(n[l.value]=s),l.current===l.catch&&(n[l.error]=s),l.block.p(n,t)}function ke(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function _o(l,e){l.d(1),e.delete(l.key)}function po(l,e,t,n,s,r,o,i,f,a,c,u){let m=l.length,_=r.length,h=m;const A={};for(;h--;)A[l[h].key]=h;const y=[],b=new Map,N=new Map,M=[];for(h=_;h--;){const O=u(s,r,h),P=t(O);let S=o.get(P);S?n&&M.push(()=>S.p(O,e)):(S=a(P,O),S.c()),b.set(P,y[h]=S),P in A&&N.set(P,Math.abs(h-A[P]))}const E=new Set,T=new Set;function L(O){g(O,1),O.m(i,c),o.set(O.key,O),c=O.first,_--}for(;m&&_;){const O=y[_-1],P=l[m-1],S=O.key,w=P.key;O===P?(c=O.first,m--,_--):b.has(w)?!o.has(S)||E.has(S)?L(O):T.has(w)?m--:N.get(S)>N.get(w)?(T.add(S),L(O)):(E.add(w),m--):(f(P,o),m--)}for(;m--;){const O=l[m];b.has(O.key)||f(O,o)}for(;_;)L(y[_-1]);return ot(M),y}function oe(l,e,t){const n=l.$$.props[e];n!==void 0&&(l.$$.bound[n]=t,t(l.$$.ctx[n]))}function z(l){l&&l.c()}function R(l,e,t){const{fragment:n,after_update:s}=l.$$;n&&n.m(e,t),nn(()=>{const r=l.$$.on_mount.map(Tn).filter(Rn);l.$$.on_destroy?l.$$.on_destroy.push(...r):ot(r),l.$$.on_mount=[]}),s.forEach(nn)}function $(l,e){const t=l.$$;t.fragment!==null&&(mo(t.after_update),ot(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function go(l,e){l.$$.dirty[0]===-1&&(Nt.push(l),uo(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function ae(l,e,t,n,s,r,o=null,i=[-1]){const f=jt;ut(l);const a=l.$$={fragment:null,ctx:[],props:r,update:H,not_equal:s,bound:Sn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:Sn(),dirty:i,skip_bound:!1,root:e.target||f.$$.root};o&&o(a.root);let c=!1;if(a.ctx=t?t(l,e.props||{},(u,m,..._)=>{const h=_.length?_[0]:m;return a.ctx&&s(a.ctx[u],a.ctx[u]=h)&&(!a.skip_bound&&a.bound[u]&&a.bound[u](h),c&&go(l,u)),m}):[],a.update(),c=!0,ot(a.before_update),a.fragment=n?n(a.ctx):!1,e.target){if(e.hydrate){const u=lo(e.target);a.fragment&&a.fragment.l(u),u.forEach(k)}else a.fragment&&a.fragment.c();e.intro&&g(l.$$.fragment),R(l,e.target,e.anchor),sn()}ut(f)}class ue{constructor(){rt(this,"$$");rt(this,"$$set")}$destroy(){$(this,1),this.$destroy=H}$on(e,t){if(!Rn(t))return H;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!eo(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ho="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ho);function On(l){if(Ce(l))return On(l.v);const e=new pe.valuesConstructor(l.length-1);for(let t=0;t<l.length-1;t++)e[t]=l[t+1]-l[t];return new pe(e)}function Pn(l,e){if(e===void 0&&(e=!1),Ce(l))return Pn(l.v);const t=Vt(l);let n=0;for(let s=0;s<l.length;s++){const r=l[s]-t;n=n+r*r}return n/(e?l.length:l.length-1)}function Vt(l){return Ce(l)?Vt(l.v):In(l)/l.length}function In(l){if(Ce(l))return In(l.v);let e=0;for(let t=0;t<l.length;t++)e=e+l[t];return e}function jn(l){if(Ce(l))return jn(l.v);let e=1;for(let t=0;t<l.length;t++)e=e*l[t];return e}function Tt(l){return Ce(l)||it(l)?l.v[rn(l.v)-1]:l[rn(l)-1]}function rn(l){if(Ce(l)||it(l))return rn(l.v);let e=1,t=l[0];for(let n=2;n<=l.length;n++)l[n-1]<t&&(e=n,t=l[n-1]);return e}function Se(l){return Ce(l)||it(l)?l.v[on(l.v)-1]:l[on(l)-1]}function on(l){if(Ce(l)||it(l))return on(l.v);let e=1,t=l[0];for(let n=2;n<=l.length;n++)l[n-1]>t&&(e=n,t=l[n-1]);return e}function Vn(l,e){if(Ce(l))return Vn(l.v,e);const t=l.reduce((n,s)=>Math.abs(s-e)<Math.abs(n-e)?s:n);return l.indexOf(t)+1}const fn=30,bo=1e-7;function Yn(l,e=0,t=1){let n=pe.zeros(l);for(let s=0;s<l;s++)n.v[s]=e+Math.random()*(t-e);return n}function Dn(l,e=0,t=1){let n=pe.zeros(l);for(let s=0;s<l;s++){const r=Math.sqrt(-2*Math.log(Math.random())),o=2*Math.PI*Math.random();n.v[s]=r*Math.sin(o)*t+e}return n}function an(l,e=0,t=1){if(Ce(l))return l.apply(s=>an(s,e,t));const n=1/(Math.sqrt(2)*t);return .5*(1+ko((l-e)*n))}function un(l,e=0,t=1){if(Ce(l))return l.apply(W=>un(W,e,t));if(e!==0||t!==1)return un(l)*t+e;if(l<0||l>1)throw Error('Parameter "p" must be between 0 and 1.');if(l<1e-10)return-1/0;if(l>.9999999999)return 1/0;const n=.425,s=5,r=.180625,o=1.6,i=3.3871327179,f=5.0434271938*10,a=1.5929113202*100,c=5.910937472*10,u=1.7895169469*10,m=7.8757757664*10,_=6.71875636*10,h=1.4234372777,A=2.75681539,y=1.3067284816,b=1.7023821103*.1,N=7.370016425*.1,M=1.2021132975*.1,E=6.657905115,T=3.081226386,L=4.2868294337*.1,O=1.7337203997*.01,P=2.4197894225*.1,S=1.2258202635*.01,w=l-.5;let q;if(Math.abs(w)<=n)return q=r-w*w,w*(((c*q+a)*q+f)*q+i)/(((_*q+m)*q+u)*q+1);q=w<0?l:1-l,q=Math.sqrt(-Math.log(q));let Y;return q<=s?(q=q-o,Y=(((b*q+y)*q+A)*q+h)/((M*q+N)*q+1)):(q=q-s,Y=((O*q+L)*q+T+E)/((S*q+P)*q+1)),w<0?-Y:Y}function cn(l,e){if(Array.isArray(l))return cn(Re(l),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),n=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(n);function r(f){if(f===0)return 0;if(e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30)return 1;const a=f/e,c=Math.pow(a,1/6)-.5*Math.pow(a,1/3)+1/3*Math.pow(a,1/2);return an(c,t,s)}function o(f){return f===0?0:e===0||e>100&&f>e*2||e>50&&f>e*3||e>10&&f>e*5||e>5&&f>e*8||f>e*30?1:wo(f/2,e/2)/Yt(e/2)}const i=e>fn?r:o;return Ce(l)?l.apply(i):i(l)}function bt(l,e){if(Array.isArray(l))return bt(Re(l),e);const t=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),n=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(n);function r(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;const a=un(f,t,s),c=Math.pow(Math.sqrt(36*a*a-30*a+13)/4+(3*a-3/2)/2+1/8,1/3);return Math.pow(c-3/(4*c)+.5,6)*e}function o(f){if(f===0)return 0;if(f===0)return Inf;if(e===0)return 0;let a=0,c=fn*10,u=c/30;for(let m=0;m<30;m++){const _=pe.seq(a,c,u),h=cn(_,e),A=Vn(h,f)-1;if(Math.abs(h.v[A]-f)<bo)return _.v[A];if(a=A==0?_.v[0]:_.v[A-1],c=A==_.v.length-1?_.v[A]:_.v[A+1],a==c)return a;u=(c-a)/30}return(c+a)/2}const i=e>fn?r:o;return Ce(l)?l.apply(i):i(l)}function Yt(l){if(Ce(l))return l.apply(Yt);if(l<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(l<.5)return Math.PI/(Math.sin(Math.PI*l)+Yt(1-l));l=l-1;let t=.9999999999998099;for(let s=0;s<e.length;s++)t=t+e[s]/(l+s+1);const n=l+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(n,l+.5)*Math.exp(-n)*t}function wo(l,e){let s=0;for(let r=0;r<1e4;r++){const o=Math.pow(l,r)/Yt(e+r+1);if(isNaN(o)||o<1e-18)break;s+=o}return Math.pow(l,e)*Yt(e)*Math.exp(-l)*s}function ko(l){const e=l>=0?1:-1;l=Math.abs(l);const t=.254829592,n=-.284496736,s=1.421413741,r=-1.453152027,o=1.061405429,f=1/(1+.3275911*l),a=1-((((o*f+r)*f+s)*f+n)*f+t)*f*Math.exp(-l*l);return e*a}function Bn(l){const e=l.nrows,t=l.ncols;if(e<t){const o=Bn(l.subset([],Qe.seq(1,e)));return{Q:o.Q,R:yo(o.Q,l)}}let n=pt.eye(e),s=l.t();for(let o=1;o<=t;o++)for(let i=e;i>=o+1;i--){const f=s.v.subarray((i-2)*t,i*t),a=n.v.subarray((i-2)*e,i*e),c=f.slice(),u=a.slice(),[m,_,h]=vo(c[o-1],c[o-1+t]);for(let A=0;A<t;A++)f[A]=c[A]*m+c[A+t]*_,f[A+t]=c[A]*-_+c[A+t]*m,a[A]=u[A]*m+u[A+e]*_,a[A+e]=u[A]*-_+u[A+e]*m;for(let A=t;A<e;A++)a[A]=u[A]*m+u[A+e]*_,a[A+e]=u[A]*-_+u[A+e]*m}const r=Qe.seq(1,t);return{Q:e===t?n:n.subset([],r),R:e===t?s.t():s.subset([],r).t()}}function vo(l,e){if(l==0)return[0,1,e];if(Math.abs(l)>Math.abs(e)){const r=e/l,o=Math.sqrt(1+r*r),i=1/o;return[i,r*i,l*o]}const t=l/e,n=Math.sqrt(1+t*t),s=1/n;return[t*s,s,e*n]}function Wn(l){return typeof l=="number"}function yo(l,e){if(e===void 0&&(e=l),!wt(l)||!wt(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const t=l.nrows,n=l.ncols,s=e.nrows,r=e.ncols,o=n,i=r,f=t,a=new Float64Array(o*i);for(let c=0;c<i;c++){const u=e.v.subarray(c*s,(c+1)*s),m=a.subarray(c*o,(c+1)*o);for(let _=0;_<o;_++){const h=l.v.subarray(_*t,(_+1)*t);let A=0;for(let y=0;y<f;y++)A+=h[y]*u[y];m[_]=A}}return new pt(a,o,i)}function Hn(l,e,t){if(t===void 0){if(e!==l.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new pe(l.v)}if(l.v.length!==e*t)throw Error("reshape: provided dimension does not match number of values in the object.");return new pt(l.v,e,t)}function wt(l){return l&&l.constructor===pt}const de=class de{constructor(e,t,n){if(!ArrayBuffer.isView(e)||e.constructor!==de.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(t===0||n===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==t*n)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=t,this.ncols=n}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return de.diagm(this.diag().apply(f=>Math.abs(f)>Number.EPSILON?1/f:x));const n=de.eye(e),s=de.eye(e),r=this.t(),o=r.v[(e-1)*e+(e-1)],i=e-1;for(let f=0;f<e;f++)s.v[i*e+f]=n.v[i*e+f]/o;for(let f=e-2;f>=0;f--){let a=n.getcolumn(f+1);const c=r.getcolref(f+1);for(let u=f+1;u<e;u++){const m=s.getcolumn(u+1);a=a.subtract(m.mult(c[u]))}s.v.set(a.divide(c[f]).v,f*e)}return s.t()}if(this.islowertriangular()){const n=this.diag();if(jn(n)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const s=de.eye(e),r=de.eye(e),o=this.t(),i=0,f=o.v[0];for(let a=0;a<e;a++)r.v[i*e+a]=s.v[i*e+a]/f;for(let a=1;a<e;a++){let c=s.getcolumn(a+1);const u=o.getcolref(a+1);for(let m=0;m<a;m++){const _=r.getcolumn(m+1);c=c.subtract(_.mult(u[m]))}r.v.set(c.divide(u[a]).v,a*e)}return r.t()}const t=Bn(this);if(!t.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return t.R.inv().dot(t.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let t=0;t<e;t++)if(Math.abs(this.v[e*this.nrows+t])>de.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let t=e+1;t<this.nrows;t++)if(Math.abs(this.v[e*this.nrows+t])>de.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),t=new Float64Array(e);for(let n=0;n<e;n++)t[n]=this.getcolref(n+1)[n];return new pe(t)}t(){const e=this.nrows,t=this.ncols,n=new de.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let s=0;s<this.ncols;s++){const r=this.v.subarray(s*this.nrows,(s+1)*this.nrows);for(let o=0;o<this.nrows;o++)n[o*t+s]=r[o]}return new de(n,t,e)}for(let s=0;s<this.nrows;s++){const r=n.subarray(s*t,(s+1)*t);for(let o=0;o<this.ncols;o++)r[o]=this.v[o*this.nrows+s]}return new de(n,t,e)}dot(e){if(Ce(e))return new de(pn(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(wt(e))return new de(pn(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,t,n){if(wt(e))return new de(mn(this.v,e.v,t),this.nrows,this.ncols);if(Wn(e))return new de(_n(this.v,e,t),this.nrows,this.ncols);if(!Ce(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(n===void 0&&(n=e.length===this.ncols?2:1),n===2&&e.length===this.ncols){const s=new de.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)s.set(_n(this.getcolref(r+1),e.v[r],t),r*this.nrows);return new de(s,this.nrows,this.ncols)}if(n===1&&e.length===this.nrows){const s=new de.valuesConstructor(this.v.length);for(let r=0;r<this.ncols;r++)s.set(mn(this.getcolref(r+1),e.v,t),r*this.nrows);return new de(s,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e,t){if(t===void 0&&(t=2),t==2){const n=this.ncols,s=new de.valuesConstructor(n);for(let r=0;r<n;r++)s[r]=e(this.getcolref(r+1));return new pe(s)}if(t==1)return this.t().apply(e,2);if(t==0){const n=this.v.length,s=new de.valuesConstructor(n);for(let r=0;r<n;r++)s[r]=e(this.v[r]);return new de(s,this.nrows,this.ncols)}}replace(e,t,n){typeof t=="number"&&(t=[t]),t.length===0&&(t=Qe.seq(1,this.nrows)),it(t)||(t=ft(t)),typeof n=="number"&&(n=[n]),n.length===0&&(n=Qe.seq(1,this.ncols)),it(n)||(n=ft(n));const s=t.length,r=n.length;if(Tt(t)<1||Se(t)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(Tt(n)<1||Se(n)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==s||e.ncols!==r)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let o=0;o<n.length;o++){const i=e.getcolref(o+1),f=(n.v[o]-1)*this.nrows;for(let a=0;a<t.length;a++){const c=t.v[a];this.v[f+c-1]=i[a]}}return this}copy(){return new de(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const t=new pe.valuesConstructor(this.ncols);for(let n=0;n<this.ncols;n++)t[n]=this.getcolref(n+1)[e-1];return new pe(t)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new pe(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,t){if(typeof e=="number"&&(e=ft([e])),typeof t=="number"&&(t=ft([t])),Array.isArray(e)&&(e=e.length===0?null:ft(e)),Array.isArray(t)&&(t=t.length===0?null:ft(t)),e!==null&&!it(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(t!==null&&!it(t))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(Tt(e)<1||Se(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(t!==null&&(Tt(t)<1||Se(t)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const i=t.length,f=this.nrows,a=new de.valuesConstructor(f*i);for(let c=0;c<t.length;c++)a.set(this.v.slice((t.v[c]-1)*this.nrows,t.v[c]*this.nrows),c*this.nrows);return new de(a,f,i)}if(t==null)return this.t().subset(t,e).t();const n=e.length,s=t.length,r=new de.valuesConstructor(n*s);let o=new de.valuesConstructor(n);for(let i=0;i<s;i++){const f=this.v.subarray((t.v[i]-1)*this.nrows,t.v[i]*this.nrows);for(let a=0;a<n;a++)o[a]=f[e.v[a]-1];r.set(o,i*n)}return new de(r,n,s)}toString(e){function t(o,i){return" ".repeat(i-o.length)+o}e===void 0&&(e=2),this.ncols;const n=Math.round(Math.abs(Math.log10(Se(this.v))))+e+3;let s="";const r=this.t();for(let o=1;o<=r.ncols;o++)s+=Array.from(r.getcolref(o)).map(i=>t(i.toFixed(e),n)).join(" ")+`
`;return s}toCSV(e,t,n,s){e===void 0&&(e=","),t===void 0&&(t=e===";"?",":".");const r=s!=null&&s.length>0,o=n!=null&&n.length>0;if(r&&s.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(o&&n.length!==this.ncols+(r?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const i=this.t();let f=o?n.join(e)+`
`:"";for(let a=1;a<=i.ncols;a++)f=f+(r?s[a-1]+e:"")+i.getcolref(a).join(e)+`
`;return f=f.replace(/\./g,t),f}static randn(e,t,n,s){return Hn(Dn(e*t,n,s),e,t)}static rand(e,t,n,s){return Hn(Yn(e*t,n,s),e,t)}static eye(e,t){t===void 0&&(t=e);const n=new Float64Array(e*t);for(let s=0;s<Math.min(e,t);s++)n[s*e+s]=1;return new de(n,e,t)}static diagm(e){if(!Ce(e))throw Error('diagm: the argument "x" must be a Vector.');const t=e.length,n=new Float64Array(t*t);for(let s=0;s<t;s++)n[s*t+s]=e.v[s];return new de(n,t,t)}static zeros(e,t){return t===void 0&&(t=e),new de(new Float64Array(e*t),e,t)}static ones(e,t){return de.fill(1,e,t)}static fill(e,t,n){n===void 0&&(n=t);const s=new Float64Array(t*n);for(let r=0;r<s.length;r++)s[r]=e;return new de(s,t,n)}static outer(e,t,n){if(Array.isArray(e)&&(e=Re(e)),Array.isArray(t)&&(t=Re(t)),!Ce(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!Ce(t))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const s=de.zeros(e.length,t.length);for(let r=0;r<t.length;r++){const o=t.v[r],i=s.getcolref(r+1);for(let f=0;f<e.length;f++)i[f]=n(e.v[f],o)}return s}static parseCSV(e,t,n,s){function r(y){return y.some(b=>Number.isNaN(Number.parseFloat(b.trim())))}t===void 0&&(t=",");const o=t===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let i=e.split(/\n/),f=[],a=0;const c=i[0].split(t);(n||n===void 0&&r(c))&&(f=c,a=1),i=i.filter(y=>y.trim().length>1);let u=[],m=0;s&&(m=1);const _=i.length-a,h=c.length-m;if(_<1)throw Error("Data file should contain at least 1 row with values.");if(h<1)throw Error("Data file should contain at least 1 column with values.");const A=de.zeros(h,_);for(let y=a;y<_+a;y++){const b=i[y].split(t);let N;if(s?(u[y-a]=b[0],N=b.slice(1).map(M=>Number.parseFloat(M.trim().replace(o,".")))):N=b.map(M=>Number.parseFloat(M.trim().replace(o,"."))),N.some(M=>Number.isNaN(M)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(N.length!=h)throw Error("Wrong number of values in row #"+y);A.v.set(new Float64Array(N),(y-a)*h)}return{values:A.t(),header:f,labels:u,sep:t,dec:o}}};rt(de,"valuesConstructor",Float64Array),rt(de,"TOLERANCE",Math.pow(10,-9));let pt=de;function Ce(l){return l&&l.constructor===pe}function Re(l){return new pe(new Float64Array(l))}const $e=class $e{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new Qe.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=s+1,n=n+1);return new Qe(t.subarray(0,n))}filter(e){const t=new $e.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=this.v[s],n=n+1);return new $e(t.subarray(0,n))}shuffle(){return new $e(Xn(this.v))}sort(e){return new $e(Qn(this.v,e))}sortind(e){return new Qe(Zn(this.v,e))}rep(e){return Un(this,e)}repeach(e){return Kn(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=Qe.seq(1,this.length)),it(t)||(t=ft(t));const n=t.length;if(Tt(t)<1||Se(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==n)throw Error('Vector.replace: length of "x" does not match the indices.');for(let s=0;s<t.length;s++){const r=t.v[s];this.v[r-1]=e.v[s]}return this}subset(e){if(typeof e=="number"&&(e=ft([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?Qe.bool2ind(e):ft(e)),!it(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=$e.zeros(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");n.v[s]=this.v[e.v[s]-1]}return n}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new $e(this.v.slice(e-1,t))}copy(){return new $e(this.v.slice())}dot(e){return e===void 0&&(e=this),pn(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(Ce(e))return new $e(mn(this.v,e.v,t));if(Wn(e))return new $e(_n(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e){const t=this.v.length,n=$e.zeros(t);for(let s=0;s<t;s++)n.v[s]=e(this.v[s]);return n}static c(...e){if(e.length===1)return e[0];const t=e.reduce((r,o)=>r+(typeof o=="number"?1:o.length),0),n=new $e.valuesConstructor(t);let s=0;for(const r of e)typeof r=="number"?(n[s]=r,s+=1):(n.set(Ce(r)?r.v:new $e.valuesConstructor(r),s),s+=typeof r=="number"?1:r.length);return new $e(n)}static seq(e,t,n){return Gn(e,t,n,$e)}static randn(e,t,n){return Dn(e,t,n)}static rand(e,t,n){return Yn(e,t,n)}static zeros(e){return new $e(new $e.valuesConstructor(e))}static ones(e){return $e.fill(1,e)}static fill(e,t){const n=new $e.valuesConstructor(t);for(let s=0;s<n.length;s++)n[s]=e;return new $e(n)}};rt($e,"valuesConstructor",Float64Array);let pe=$e;function it(l){return l.constructor===Qe}function ft(l){return new Qe(new Int32Array(l))}const Ie=class Ie{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new Ie.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=s+1,n=n+1);return new Ie(t.subarray(0,n))}filter(e){const t=new Ie.valuesConstructor(this.length);let n=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(t[n]=this.v[s],n=n+1);return new Ie(t.subarray(0,n))}shuffle(){return new Ie(Xn(this.v))}sort(e){return new Ie(Qn(this.v,e))}sortind(e){return new Ie(Zn(this.v,e))}rep(e){return Un(this,e)}repeach(e){return Kn(this,e)}subset(e){if(typeof e=="number"&&(e=ft([e])),Array.isArray(e)&&(e=ft(e)),!it(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=new Ie.valuesConstructor(t);for(let s=0;s<t;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");n[s]=this.v[e.v[s]-1]}return new Ie(n)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new Ie(this.v.slice(e-1,t))}static seq(e,t,n){return Gn(e,t,n,Ie)}static ones(e){return Ie.fill(1,e)}static fill(e,t){const n=new Ie.valuesConstructor(t);for(let s=0;s<n.length;s++)n[s]=e;return new Ie(n)}static bool2ind(e){let t=0;const n=new Ie.valuesConstructor(e.length);for(let s=0;s<e.length;s++)e[s]&&(n[t]=s+1,t=t+1);return new Ie(n.subarray(0,t))}};rt(Ie,"valuesConstructor",Int32Array);let Qe=Ie;function Gn(l,e,t,n){t===void 0&&(t=l<=e?1:-1);const s=Math.floor((e-l)/t)+1;if(s<1)throw Error("seq: wrong combination of parameters.");const r=new n.valuesConstructor(s);for(let o=0;o<s;o++)r[o]=l+o*t;return new n(r)}function Un(l,e){const t=l.length*e,n=new l.constructor.valuesConstructor(t);for(let s=1;s<=e;s++)for(let r=0;r<l.length;r++)n[(s-1)*l.length+r]=l.v[r];return new l.constructor(n)}function Kn(l,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=l.length*e,n=new l.constructor.valuesConstructor(t);for(let s=0;s<l.length;s++)for(let r=0;r<e;r++)n[s*e+r]=l.v[s];return new l.constructor(n)}function mn(l,e,t){if(l.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(l.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const n=new l.constructor(l.length);for(let s=0;s<l.length;s++)n[s]=t(l[s],e[s]);return n}function _n(l,e,t){const n=new l.constructor(l.length);for(let s=0;s<l.length;s++)n[s]=t(l[s],e);return n}function pn(l,e,t,n,s,r){if(n!==s)throw Error("_dot: matrix dimensions do not much.");const o=t,i=r,f=n,a=new l.constructor(o*i);for(let c=0;c<i;c++){const u=e.subarray(c*s,(c+1)*s),m=a.subarray(c*o,(c+1)*o);for(let _=0;_<f;_++){const h=u[_],A=l.subarray(_*t,(_+1)*t);for(let y=0;y<o;y++)m[y]+=A[y]*h}}return a}function Xn(l){let e=l.slice(),t=e.length,n,s;for(;t;)s=Math.floor(Math.random()*t--),n=e[t],e[t]=e[s],e[s]=n;return e}function Qn(l,e=!1){return e?l.slice().sort((t,n)=>n-t):l.slice().sort((t,n)=>t-n)}function Zn(l,e=!1){const t=Qe.seq(1,l.length).v;return e?t.sort((n,s)=>l[s-1]-l[n-1]):t.sort((n,s)=>l[n-1]-l[s-1])}function Co(l,e){return 5*l*e+e}function Eo(l,e){return 2+2*l+l*e+9*e}function gt(l,e,t){if(!l||!l.class||!l.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const n=l.ncols,s=l.ncomp;let r,o;switch(e){case"mX":r=2,o=n;break;case"sX":r=2+n,o=n;break;case"loadings":case"xloadings":r=2+2*n+(t-1)*n,o=n;break;case"eigenvals":case"xeigenvals":r=2+2*n+n*s,o=s;break;case"cq0":r=2+2*n+n*s+s,o=s;break;case"cNq":r=2+2*n+n*s+2*s,o=s;break;case"rq0":r=2+2*n+n*s+3*s,o=s;break;case"rNq":r=2+2*n+n*s+4*s,o=s;break;case"ch0":r=2+2*n+n*s+5*s,o=s;break;case"cNh":r=2+2*n+n*s+6*s,o=s;break;case"rh0":r=2+2*n+n*s+7*s,o=s;break;case"rNh":r=2+2*n+n*s+8*s,o=s;break;default:throw Error("pcamodel_get: wrong outcome name.")}return l.v.subarray(r,r+o)}function Kt(l,e,t){if(!l||!l.class||!l.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const n=l.nrows,s=l.ncomp;let r,o;switch(e){case"scores":case"xscores":r=(t-1)*n,o=n;break;case"hdist":r=n*s+(t-1)*n,o=n;break;case"qdist":r=2*n*s+(t-1)*n,o=n;break;case"xcumexpvar":case"cumexpvar":r=3*n*s,o=s;break;case"fdistc":r=3*n*s+s+(t-1)*n,o=n;break;case"fdistr":r=4*n*s+s+(t-1)*n,o=n;break;default:throw new Error("pcares_get: wrong outcome name.")}return l.v.subarray(r,r+o)}function Ao(l,e,t,n,s){if(t===void 0&&(t=Math.min(e.nrows-1,e.ncols)),n===void 0&&(n=!0),s===void 0&&(s=!1),!wt(e))throw new Error("pca_fit: X must be a matrix.");if(e.nrows<3||e.ncols<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(t<1||t>Math.min(e.nrows-1,e.ncols))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const r=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,r/e.v.BYTES_PER_ELEMENT);const o=Eo(e.ncols,t),i=Float64Array,f=l._malloc(o*i.BYTES_PER_ELEMENT);if(l.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number"],[r,e.nrows,e.ncols,t,n,s,f])!==1)throw new Error("pca_fit: PCA failed.");const c=l.HEAPF64.slice(f/i.BYTES_PER_ELEMENT,f/i.BYTES_PER_ELEMENT+o);return l._free(r),l._free(f),{class:["pcamodel"],v:c,ncomp:t,nrows:e.nrows,ncols:e.ncols,center:n,scale:s}}function Xt(l,e,t){if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA results.');if(!wt(t))throw new Error("pca_predict: X must be a matrix.");if(t.nrows<1)throw new Error("pca_fit: X must have at least 1 row.");if(t.ncols!==e.ncols)throw new Error("pca_fit: X must have the same number of columns as the training set.");const n=l._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);l.HEAPF64.set(t.v,n/t.v.BYTES_PER_ELEMENT);const s=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,s/e.v.BYTES_PER_ELEMENT);const r=Co(t.nrows,e.ncomp),o=Float64Array,i=l._malloc(r*o.BYTES_PER_ELEMENT);if(l.ccall("pcapredict_wasm",["number"],["number","number","number","number","number"],[n,t.nrows,t.ncols,s,i])!==1)throw new Error("pca_predict: PCA prediction failed.");const a=l.HEAPF64.slice(i/o.BYTES_PER_ELEMENT,i/o.BYTES_PER_ELEMENT+r);return l._free(n),l._free(s),l._free(i),{class:["pcares"],v:a,ncomp:e.ncomp,nrows:t.nrows,ncols:t.ncols,center:e.center,scale:e.scale}}function No(l,e,t,n,s,r,o){if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pcapcv: parameter "m" must be JSON with PCA results.');if(!wt(t))throw new Error("pcapcv: X must be a matrix.");if(t.nrows<3)throw new Error("pcapcv: X must have at least 3 rows.");if(t.ncols!==e.ncols)throw new Error("pcapcv: X must have the same number of columns as the training set.");if(!Number.isInteger(r)||![0,1,2].includes(r))throw new Error('pcapcv: parameter "cv_type" must be one of 0 ("loo"), 1 ("ven"), 2 ("rand).');if(!Number.isInteger(o)||![0,1].includes(o))throw new Error('pcapcv: parameter "cv_scope" must be 0 ("global") or 1 ("local").');if(r>0&&(!Number.isInteger(s)||s<2))throw new Error('pcapcv: parameter "cv_nseg" must be a number ≥ 2.');if(r>0&&s>t.nrows)throw new Error('pcapcv: the value of "cv_nseg" is too large for the given X.');if(!Number.isInteger(n)||n<1)throw new Error('pcapcv: the value of "ncomp" must be a number >= 1.');const i=Math.min(r===0?t.nrows-2:t.nrows-Math.ceil(t.nrows/s)-1,t.ncols,e.ncomp);if(n>i)throw new Error('pcapcv: the value of "ncomp" is too large.');const f=l._malloc(t.v.length*t.v.BYTES_PER_ELEMENT);l.HEAPF64.set(t.v,f/t.v.BYTES_PER_ELEMENT);const a=l._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);l.HEAPF64.set(e.v,a/e.v.BYTES_PER_ELEMENT);const c=t.v.length,u=t.v.constructor,m=l._malloc(c*u.BYTES_PER_ELEMENT);if(l.ccall("pcvpca_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number"],[f,t.nrows,t.ncols,n,e.center,e.scale,r,s,o,a,m])!==1)throw new Error("pcapcv: PCVPCA failed.");const h=l.HEAPF64.slice(m/u.BYTES_PER_ELEMENT,m/u.BYTES_PER_ELEMENT+c);return l._free(f),l._free(a),l._free(m),new pt(h,t.nrows,t.ncols)}function Mo(l,e,t){if(!e||!t||e.length!==l.length)return null;let n=0,s=0,r=0,o=0;for(let i=0;i<l.length;i++)l[i]==="regular"&&e[i]===t&&(n=n+1),l[i]==="regular"&&e[i]!==t&&(s=s+1),l[i]!=="regular"&&e[i]===t&&(o=o+1),l[i]!=="regular"&&e[i]!==t&&(r=r+1);return{TP:n,FP:s,TN:r,FN:o,accuracy:(n+r)/(n+r+s+o),specificity:r/(r+s),sensitivity:n/(n+o)}}function Lo(l,e,t){const n=l.nrows,s=l.ncomp,r=t.limType==="classic"?"fdistc":"fdistr",o=Array.from({length:n},()=>"alternative"),i=new Array(s);for(let f=0;f<s;f++){let a=n;const c=Kt(l,r,f+1),u=t.eCrit[f],m=t.Nf[f],_=new pe(c);let h=_.sort(),A=_.sortind();const y=Array.from({length:n},()=>"alien");let b=-1,N=0,M=0,E=0,T=0;for(;b<0;)N>0&&(y[A.v[a-1]-1]="external",a=a-1,A=A.slice(1,a),h=h.slice(1,a)),M=Vt(h),E=Pn(h,!0),T=E/(M*M),b=4-2*m*T,N=N+1;const L=(2+Math.sqrt(b))/T,O=L-m,P=M/L,S=u/P,w=1-2*(m+O)*(m+3*O)/(3*(m+2*O)**2),q=(w-1)*(1-3*w),Y=(m+2*O)/(m+O)**2,W=1+w*Y*(w-1-.5*(2-w)*q*Y),le=w*Math.sqrt(2*Y)*(1+.5*q*Y),me=an((Math.pow(S/(m+O),w)-W)/le);i[f]=Jn(t,l,r,f,o),i[f].beta=me,i[f].anum={aliens:a,external:n-a},i[f].a=y}return console.log(i),{class:["simcares"],v:i,className:t.className,alpha:t.alpha,limType:t.limType,ncomp:t.ncomp,nrows:n,classes:e.classes,labels:e.labels}}function Jn(l,e,t,n,s){const r=Kt(e,t,n+1),o=Kt(e,"hdist",n+1),i=Kt(e,"qdist",n+1),f=r.length,a=l.h0[n],c=l.Nh[n],u=l.q0[n],m=l.Nq[n],_=l.Nf[n],h=l.oCrit[n],A=l.eCrit[n],y=new Array(f),b=new Array(f),N={regular:0,extreme:0,outliers:0},M={in:0,out:0};for(let T=0;T<f;T++){const L=r[T];L<A?(y[T]="regular",b[T]="in",N.regular+=1,M.in+=1):L>h?(y[T]="outlier",b[T]="out",N.outliers+=1,M.out+=1):(y[T]="extreme",b[T]="out",N.extreme+=1,M.out+=1)}const E=s&&s.length===f?Mo(y,s,l.className):null;return{h:o,h0:a,Nh:c,q:i,q0:u,Nq:m,f:r,Nf:_,eCrit:A,oCrit:h,c:y,d:b,cnum:N,dnum:M,stat:E}}function gn(l,e,t){const n=l.nrows,s=l.ncomp,r=t.limType==="classic"?"fdistc":"fdistr",o=Array.from({length:n},()=>t.className),i=new Array(s);for(let f=0;f<s;f++)i[f]=Jn(t,l,r,f,o);return{class:["simcares"],v:i,className:t.className,alpha:t.alpha,limType:t.limType,ncomp:t.ncomp,nrows:n,classes:e.classes,labels:e.labels}}const q1="";function To(l){let e,t,n,s,r;const o=l[1].default,i=vt(o,l,l[0],null);return{c(){e=F("span"),t=F("button"),i&&i.c(),p(t,"tabindex","0"),p(t,"class","button-rect svelte-12b8cv0"),p(e,"class","wrapper")},m(f,a){v(f,e,a),C(e,t),i&&i.m(t,null),n=!0,s||(r=Te(t,"click",l[2]),s=!0)},p(f,[a]){i&&i.p&&(!n||a&1)&&Ct(i,o,f,f[0],n?yt(o,f[0],a,null):Et(f[0]),null)},i(f){n||(g(i,f),n=!0)},o(f){d(i,f),n=!1},d(f){f&&k(e),i&&i.d(f),s=!1,r()}}}function So(l,e,t){let{$$slots:n={},$$scope:s}=e;function r(o){Fn.call(this,l,o)}return l.$$set=o=>{"$$scope"in o&&t(0,s=o.$$scope)},[s,n,r]}class Ze extends ue{constructor(e){super(),ae(this,e,So,To,se,{})}}const F1="";function Ro(l){let e,t,n;return{c(){e=F("button"),p(e,"tabindex","0"),p(e,"alt",l[0]),p(e,"title",l[0]),p(e,"class","svelte-2vapqe")},m(s,r){v(s,e,r),t||(n=Te(e,"click",l[1]),t=!0)},p(s,[r]){r&1&&p(e,"alt",s[0]),r&1&&p(e,"title",s[0])},i:H,o:H,d(s){s&&k(e),t=!1,n()}}}function $o(l,e,t){let{title:n="Reset"}=e;function s(r){Fn.call(this,l,r)}return l.$$set=r=>{"title"in r&&t(0,n=r.title)},[n,s]}class St extends ue{constructor(e){super(),ae(this,e,$o,Ro,se,{title:0})}}const O1="";function xn(l){let e,t;return{c(){e=F("span"),t=G(l[0]),p(e,"class","label svelte-1ybd854")},m(n,s){v(n,e,s),C(e,t)},p(n,s){s&1&&fe(t,n[0])},d(n){n&&k(e)}}}function zo(l){let e,t,n,s,r=l[0]&&xn(l);const o=l[3].default,i=vt(o,l,l[2],null);return{c(){e=F("div"),r&&r.c(),t=I(),i&&i.c(),p(e,"class",n="control-element "+l[1]+" svelte-1ybd854")},m(f,a){v(f,e,a),r&&r.m(e,null),C(e,t),i&&i.m(e,null),s=!0},p(f,[a]){f[0]?r?r.p(f,a):(r=xn(f),r.c(),r.m(e,t)):r&&(r.d(1),r=null),i&&i.p&&(!s||a&4)&&Ct(i,o,f,f[2],s?yt(o,f[2],a,null):Et(f[2]),null),(!s||a&2&&n!==(n="control-element "+f[1]+" svelte-1ybd854"))&&p(e,"class",n)},i(f){s||(g(i,f),s=!0)},o(f){d(i,f),s=!1},d(f){f&&k(e),r&&r.d(),i&&i.d(f)}}}function qo(l,e,t){let{$$slots:n={},$$scope:s}=e,{label:r=null}=e,{status:o=""}=e;return l.$$set=i=>{"label"in i&&t(0,r=i.label),"status"in i&&t(1,o=i.status),"$$scope"in i&&t(2,s=i.$$scope)},[r,o,s,n]}class ee extends ue{constructor(e){super(),ae(this,e,qo,zo,se,{label:0,status:1})}}const P1="";function el(l){let e,t=l[0].toFixed(l[4])+"",n;return{c(){e=F("span"),n=G(t),He(e,"padding-right","0.25em"),He(e,"color","#fefefe"),p(e,"class","range-value svelte-pjrnyj")},m(s,r){v(s,e,r),C(e,n)},p(s,r){r&17&&t!==(t=s[0].toFixed(s[4])+"")&&fe(n,t)},d(s){s&&k(e)}}}function tl(l){let e,t=l[0].toFixed(l[4])+"",n;return{c(){e=F("span"),n=G(t),He(e,"padding-left","0.25em"),He(e,"color","#606060"),p(e,"class","range-value svelte-pjrnyj")},m(s,r){v(s,e,r),C(e,n)},p(s,r){r&17&&t!==(t=s[0].toFixed(s[4])+"")&&fe(n,t)},d(s){s&&k(e)}}}function Fo(l){let e,t,n,s,r,o=l[7]>25&&el(l),i=l[7]<=25&&tl(l);return{c(){e=F("div"),t=F("div"),o&&o.c(),n=I(),i&&i.c(),p(t,"class","range-slider svelte-pjrnyj"),He(t,"width",l[7]+"%"),p(e,"id",l[1]),p(e,"role","slider"),p(e,"tabindex","0"),p(e,"aria-valuenow",l[0]),p(e,"aria-valuemin",l[2]),p(e,"aria-valuemax",l[3]),p(e,"class","range-slider-container svelte-pjrnyj")},m(f,a){v(f,e,a),C(e,t),o&&o.m(t,null),l[15](t),C(e,n),i&&i.m(e,null),l[16](e),s||(r=[Te(e,"mousewheel",no(l[11])),Te(e,"mousemove",l[12]),Te(e,"keydown",l[13]),Te(e,"mousedown",l[8]),Te(e,"mouseleave",l[9]),Te(e,"mouseup",l[10])],s=!0)},p(f,[a]){f[7]>25?o?o.p(f,a):(o=el(f),o.c(),o.m(t,null)):o&&(o.d(1),o=null),a&128&&He(t,"width",f[7]+"%"),f[7]<=25?i?i.p(f,a):(i=tl(f),i.c(),i.m(e,null)):i&&(i.d(1),i=null),a&2&&p(e,"id",f[1]),a&1&&p(e,"aria-valuenow",f[0]),a&4&&p(e,"aria-valuemin",f[2]),a&8&&p(e,"aria-valuemax",f[3])},i:H,o:H,d(f){f&&k(e),o&&o.d(),l[15](null),i&&i.d(),l[16](null),s=!1,ot(r)}}}function Oo(l,e,t){let n,{id:s}=e,{value:r}=e,{min:o}=e,{max:i}=e,{decNum:f=1}=e,{step:a=+((i-o)/100).toFixed(4)}=e;if(r<o||r>i)throw new Error("The value is outside of the provided range.");const c=qn();let u,m,_=!1;const h=P=>{const S=o+P*(i-o);return+(Math.round(S/a)*a).toFixed(4)},A=P=>{const S=u.getBoundingClientRect(),w=m.getBoundingClientRect(),q=S.x,Y=w.x+w.width;return(P.clientX-q)/(Y-q)},y=P=>{const S=A(P);S<0||S>1||(_=S*100>n-5&&S*100<n+5)},b=P=>{_=!1},N=P=>{_=!1;const S=A(P);S<0||S>1||t(0,r=h(S))},M=P=>{let S=r+a*P.deltaY*.5;S<o&&(S=o),S>i&&(S=i),t(0,r=+(Math.round(S/a)*a).toFixed(4))},E=P=>{if(!_)return;const S=A(P);S<0||S>1||t(0,r=h(S))},T=P=>{if(P.key==="ArrowLeft"){t(0,r=r-a<o?o:r-a);return}if(P.key==="ArrowRight"){t(0,r=r+a>i?i:r+a);return}};function L(P){J[P?"unshift":"push"](()=>{u=P,t(5,u)})}function O(P){J[P?"unshift":"push"](()=>{m=P,t(6,m)})}return l.$$set=P=>{"id"in P&&t(1,s=P.id),"value"in P&&t(0,r=P.value),"min"in P&&t(2,o=P.min),"max"in P&&t(3,i=P.max),"decNum"in P&&t(4,f=P.decNum),"step"in P&&t(14,a=P.step)},l.$$.update=()=>{l.$$.dirty&13&&t(7,n=(r-o)/(i-o)*100),l.$$.dirty&1&&c("change",r)},[r,s,o,i,f,u,m,n,y,b,N,M,E,T,a,L,O]}class nl extends ue{constructor(e){super(),ae(this,e,Oo,Fo,se,{id:1,value:0,min:2,max:3,decNum:4,step:14})}}const I1="";function ll(l,e,t){const n=l.slice();return n[7]=e[t],n}function sl(l,e){let t,n,s=e[7]+"",r,o,i,f;function a(){return e[5](e[7])}return{key:l,first:null,c(){t=F("button"),n=new ro(!1),r=I(),n.a=r,p(t,"class",o="option option_"+e[7]+" svelte-18e38uq"),De(t,"selected",e[7]==e[0]),this.first=t},m(c,u){v(c,t,u),n.m(s,t),C(t,r),i||(f=Te(t,"click",a),i=!0)},p(c,u){e=c,u&4&&s!==(s=e[7]+"")&&n.p(s),u&4&&o!==(o="option option_"+e[7]+" svelte-18e38uq")&&p(t,"class",o),u&5&&De(t,"selected",e[7]==e[0])},d(c){c&&k(t),i=!1,f()}}}function Po(l){let e,t=[],n=new Map,s,r,o,i,f,a=ke(l[2]);const c=u=>u[7];for(let u=0;u<a.length;u+=1){let m=ll(l,a,u),_=c(m);n.set(_,t[u]=sl(_,m))}return{c(){e=F("div");for(let u=0;u<t.length;u+=1)t[u].c();r=I(),o=F("input"),p(e,"role","radiogroup"),p(e,"tabindex","0"),p(e,"class",s="selector "+l[3]+" svelte-18e38uq"),p(o,"name",l[1]),p(o,"class","svelte-18e38uq")},m(u,m){v(u,e,m);for(let _=0;_<t.length;_+=1)t[_]&&t[_].m(e,null);v(u,r,m),v(u,o,m),zn(o,l[0]),i||(f=[Te(e,"keydown",l[4]),Te(o,"input",l[6])],i=!0)},p(u,[m]){m&5&&(a=ke(u[2]),t=po(t,m,c,1,u,a,n,e,_o,sl,null,ll)),m&8&&s!==(s="selector "+u[3]+" svelte-18e38uq")&&p(e,"class",s),m&2&&p(o,"name",u[1]),m&1&&o.value!==u[0]&&zn(o,u[0])},i:H,o:H,d(u){u&&(k(e),k(r),k(o));for(let m=0;m<t.length;m+=1)t[m].d();i=!1,ot(f)}}}function Io(l,e,t){let{id:n}=e,{options:s}=e,{value:r=s[0]}=e,{className:o=""}=e;const i=c=>{if(console.log(c.key),c.key==="ArrowLeft"){const u=s.findIndex(m=>m===r);u>0&&t(0,r=s[u-1]);return}if(c.key==="ArrowRight"){const u=s.findIndex(m=>m===r);u<s.length&&t(0,r=s[u+1]);return}},f=c=>t(0,r=c);function a(){r=this.value,t(0,r)}return l.$$set=c=>{"id"in c&&t(1,n=c.id),"options"in c&&t(2,s=c.options),"value"in c&&t(0,r=c.value),"className"in c&&t(3,o=c.className)},[r,n,s,o,i,f,a]}class ve extends ue{constructor(e){super(),ae(this,e,Io,Po,se,{id:1,options:2,value:0,className:3})}}const j1="";function jo(l){let e;return{c(){e=F("div"),p(e,"class","spinner svelte-1jycdl0")},m(t,n){v(t,e,n)},p:H,i:H,o:H,d(t){t&&k(e)}}}class Qt extends ue{constructor(e){super(),ae(this,e,null,jo,se,{})}}const V1="",Y1="";function Vo(l){let e,t=(l[0]?l[0].name:l[2])+"",n,s,r,o,i;return{c(){e=F("label"),n=G(t),s=I(),r=F("input"),p(r,"name",l[1]),p(r,"type","file"),p(r,"accept",l[3]),p(r,"class","svelte-7uwoge"),p(e,"class","svelte-7uwoge"),De(e,"selected",l[0]!==null)},m(f,a){v(f,e,a),C(e,n),C(e,s),C(e,r),l[6](r),o||(i=Te(r,"change",l[5]),o=!0)},p(f,[a]){a&5&&t!==(t=(f[0]?f[0].name:f[2])+"")&&fe(n,t),a&2&&p(r,"name",f[1]),a&8&&p(r,"accept",f[3]),a&1&&De(e,"selected",f[0]!==null)},i:H,o:H,d(f){f&&k(e),l[6](null),o=!1,i()}}}function Yo(l,e,t){let{id:n}=e,{file:s}=e,{message:r="Select CSV file with dataset"}=e,{acceptType:o=".csv"}=e,i;function f(c){i.files.length>0&&t(0,s=i.files[0])}function a(c){J[c?"unshift":"push"](()=>{i=c,t(4,i)})}return l.$$set=c=>{"id"in c&&t(1,n=c.id),"file"in c&&t(0,s=c.file),"message"in c&&t(2,r=c.message),"acceptType"in c&&t(3,o=c.acceptType)},[s,n,r,o,i,f,a]}class Zt extends ue{constructor(e){super(),ae(this,e,Yo,Vo,se,{id:1,file:0,message:2,acceptType:3})}}function dn(l,e,t,n,s){function r(N){return N.some(M=>Number.isNaN(Number.parseFloat(M.trim())))}e===void 0&&(e=",");const o=e===";"?",":".";l=l.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),l=l.replace(/\r/gm,"");let i=l.split(/\n/),f=[],a=0;const c=i[0].split(e);(t||t===void 0&&r(c))&&(f=c,a=1),i=i.filter(N=>N.trim().length>1);let u=[],m=0;n&&(m=1);let _=[],h=[];s&&(m=m+1);const A=i.length-a,y=c.length-m;if(A<1)throw Error("Data file should contain at least 1 row with values.");if(y<1)throw Error("Data file should contain at least 1 column with values.");const b=pt.zeros(y,A);for(let N=a;N<A+a;N++){let M=i[N].split(e);if(n&&(u.push(M[0]),M=M.slice(1)),s){const T=M[0];h.push(T),(_.length===0||_.indexOf(T)<0)&&_.push(T),M=M.slice(1)}const E=M.map(T=>Number.parseFloat(T.trim().replace(o,".")));if(E.some(T=>Number.isNaN(T)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(E.length!=y)throw Error("Wrong number of values in row #"+N);b.v.set(new Float64Array(E),(N-a)*y)}return{values:b.t(),header:f,labels:u,classes:h,classNames:_,sep:e,dec:o}}function hn(l,e,t){const n=l.ncomp,s=l.nrows,r=l.v[n-1],o=l.classes&&l.classes.length===s,i=o?["","","","",""]:["","","",""];let f="";if(f+=["Target class:",l.className,...i].join(e.sep)+`
`,f+=["Reference classes:",o?"provided":"not provided",...i].join(e.sep)+`
`,f+=["Number of components:",n,...i].join(e.sep)+`
`,f+=["Alpha:",(l.alpha/100).toFixed(3),...i].join(e.sep)+`
`,f+=["Limits estimator:",l.limType,...i].join(e.sep)+`
`,f+=`
`,f+=["h0:",r.h0,...i].join(e.sep)+`
`,f+=["Nh:",r.Nh,...i].join(e.sep)+`
`,f+=["q0:",r.q0,...i].join(e.sep)+`
`,f+=["Nq:",r.Nq,...i].join(e.sep)+`
`,f+=["Nf:",r.Nf,...i].join(e.sep)+`
`,f+=`
`,f+=`
`,r.beta){f+=["Objects treated as from non-target class","",...i].join(e.sep)+`
`,f+=["Objects:",s,...i].join(e.sep)+`
`,f+=["In:",r.dnum.in,...i].join(e.sep)+`
`,f+=["Out:",r.dnum.out,...i].join(e.sep)+`
`,f+=["Aliens:",r.anum.aliens,...i].join(e.sep)+`
`,f+=["External:",r.anum.external,...i].join(e.sep)+`
`,f+=["Specificity:",r.stat.specificity?r.stat.specificity:"-",...i].join(e.sep)+`
`,f+=["Beta:",r.beta,...i].join(e.sep)+`
`,f+=`
`,f+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;for(let _=0;_<s;_++)f+=["",e.labels[_],l.classes[_],r.a[_],r.d[_],r.h[_]/r.h0,r.q[_]/r.q0,r.f[_]].join(e.sep)+`
`}else{f+=["Objects treated as from target class","",...i].join(e.sep)+`
`,f+=["Objects:",s,...i].join(e.sep)+`
`,f+=["In:",r.dnum.in,...i].join(e.sep)+`
`,f+=["Out:",r.dnum.out,...i].join(e.sep)+`
`,f+=["Regular:",r.cnum.regular,...i].join(e.sep)+`
`,f+=["Extreme:",r.cnum.extreme,...i].join(e.sep)+`
`,f+=["Outliers:",r.cnum.outliers,...i].join(e.sep)+`
`,f+=["Sensitivity:",r.stat.sensitivity?r.stat.sensitivity:"-",...i].join(e.sep)+`
`,f+=`
`,f+=["","object","class","role","decision","h/h0","q/q0","f"].join(e.sep)+`
`;for(let _=0;_<s;_++)f+=["",e.labels[_],l.classes[_],r.c[_],r.d[_],r.h[_]/r.h0,r.q[_]/r.q0,r.f[_]].join(e.sep)+`
`}f+=`
`,e.dec!=="."&&(f=f.replace(/\./g,e.dec));let a=["DD-SIMCA results ("+t+")","https://mda.tools/ddsimca/",...i].join(e.sep)+`

`;const c=new Blob([a+f],{type:"text/csv"}),u=window.URL.createObjectURL(c),m=document.createElement("a");m.setAttribute("href",u),m.setAttribute("download",`ddsimca-results-${t}.csv`),m.click()}function bn(l,e){const t=new Blob([JSON.stringify({pca:{class:l.class,ncomp:l.ncomp,nrows:l.nrows,ncols:l.ncols,center:l.center,scale:l.scale,lim:{classic:{Nh:Array.from(l.lim.classic.Nh),Nq:Array.from(l.lim.classic.Nq),q0:Array.from(l.lim.classic.q0),h0:Array.from(l.lim.classic.h0)},robust:{Nh:Array.from(l.lim.robust.Nh),Nq:Array.from(l.lim.robust.Nq),q0:Array.from(l.lim.robust.q0),h0:Array.from(l.lim.robust.h0)}},v:Array.from(l.v)},simca:{h0:Array.from(e.h0),Nh:Array.from(e.Nh),q0:Array.from(e.q0),Nq:Array.from(e.Nq),Nf:Array.from(e.Nf),eCrit:Array.from(e.eCrit),oCrit:Array.from(e.oCrit),ncomp:e.ncomp,alpha:e.alpha,gamma:e.gamma,limType:e.limType,className:e.className}})],{type:"application/json"}),n=window.URL.createObjectURL(t),s=document.createElement("a");s.setAttribute("href",n),s.setAttribute("download","ddsimca-model.json"),s.click()}function Do(l){let e,t;return e=new ee({props:{$$slots:{default:[Wo]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&32769&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Bo(l){let e=l[1]===void 0,t,n,s,r=rl(l),o=l[1]&&ol(l);return{c(){r.c(),t=I(),o&&o.c(),n=te()},m(i,f){r.m(i,f),v(i,t,f),o&&o.m(i,f),v(i,n,f),s=!0},p(i,f){f&2&&se(e,e=i[1]===void 0)?(X(),d(r,1,1,H),Q(),r=rl(i),r.c(),g(r,1),r.m(t.parentNode,t)):r.p(i,f),i[1]?o?(o.p(i,f),f&2&&g(o,1)):(o=ol(i),o.c(),g(o,1),o.m(n.parentNode,n)):o&&(X(),d(o,1,1,()=>{o=null}),Q())},i(i){s||(g(r),g(o),s=!0)},o(i){d(r),d(o),s=!1},d(i){i&&(k(t),k(n)),r.d(i),o&&o.d(i)}}}function Wo(l){let e,t,n=l[0].values.nrows+"",s,r,o=l[0].values.ncols+"",i,f,a,c;return a=new St({}),a.$on("click",l[9]),{c(){e=F("p"),t=G("Training set is loaded: "),s=G(n),r=G(" × "),i=G(o),f=I(),z(a.$$.fragment)},m(u,m){v(u,e,m),C(e,t),C(e,s),C(e,r),C(e,i),v(u,f,m),R(a,u,m),c=!0},p(u,m){(!c||m&1)&&n!==(n=u[0].values.nrows+"")&&fe(s,n),(!c||m&1)&&o!==(o=u[0].values.ncols+"")&&fe(i,o)},i(u){c||(g(a.$$.fragment,u),c=!0)},o(u){d(a.$$.fragment,u),c=!1},d(u){u&&(k(e),k(f)),$(a,u)}}}function Ho(l){let e,t,n;function s(o){l[10](o)}let r={id:"dataFile",message:"Select CSV file with training set"};return l[1]!==void 0&&(r.file=l[1]),e=new Zt({props:r}),J.push(()=>oe(e,"file",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.file=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function rl(l){let e,t;return e=new ee({props:{$$slots:{default:[Ho]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&32770&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function ol(l){let e,t,n,s,r,o,i,f;return e=new ee({props:{label:"Delimiter:",$$slots:{default:[Go]},$$scope:{ctx:l}}}),n=new ee({props:{label:"Header:",$$slots:{default:[Uo]},$$scope:{ctx:l}}}),r=new ee({props:{label:"Row labels:",$$slots:{default:[Ko]},$$scope:{ctx:l}}}),i=new ee({props:{label:" ",$$slots:{default:[Qo]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment),t=I(),z(n.$$.fragment),s=I(),z(r.$$.fragment),o=I(),z(i.$$.fragment)},m(a,c){R(e,a,c),v(a,t,c),R(n,a,c),v(a,s,c),R(r,a,c),v(a,o,c),R(i,a,c),f=!0},p(a,c){const u={};c&32772&&(u.$$scope={dirty:c,ctx:a}),e.$set(u);const m={};c&32776&&(m.$$scope={dirty:c,ctx:a}),n.$set(m);const _={};c&32784&&(_.$$scope={dirty:c,ctx:a}),r.$set(_);const h={};c&32768&&(h.$$scope={dirty:c,ctx:a}),i.$set(h)},i(a){f||(g(e.$$.fragment,a),g(n.$$.fragment,a),g(r.$$.fragment,a),g(i.$$.fragment,a),f=!0)},o(a){d(e.$$.fragment,a),d(n.$$.fragment,a),d(r.$$.fragment,a),d(i.$$.fragment,a),f=!1},d(a){a&&(k(t),k(s),k(o)),$(e,a),$(n,a),$(r,a),$(i,a)}}}function Go(l){let e,t,n;function s(o){l[11](o)}let r={id:"sep",options:l[7]};return l[2]!==void 0&&(r.value=l[2]),e=new ve({props:r}),J.push(()=>oe(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function Uo(l){let e,t,n;function s(o){l[12](o)}let r={id:"hasHeader",options:["yes","no"]};return l[3]!==void 0&&(r.value=l[3]),e=new ve({props:r}),J.push(()=>oe(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function Ko(l){let e,t,n;function s(o){l[13](o)}let r={id:"hasLabels",options:["yes","no"]};return l[4]!==void 0&&(r.value=l[4]),e=new ve({props:r}),J.push(()=>oe(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function Xo(l){let e;return{c(){e=G("Load")},m(t,n){v(t,e,n)},d(t){t&&k(e)}}}function Qo(l){let e,t;return e=new Ze({props:{$$slots:{default:[Xo]},$$scope:{ctx:l}}}),e.$on("click",l[8]),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&32768&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function il(l){let e,t;return e=new ee({props:{status:"error",$$slots:{default:[Zo]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&32832&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Zo(l){let e,t;return{c(){e=F("p"),t=G(l[6])},m(n,s){v(n,e,s),C(e,t)},p(n,s){s&64&&fe(t,n[6])},d(n){n&&k(e)}}}function Jo(l){let e,t,n,s,r;const o=[Bo,Do],i=[];function f(c,u){return c[0]?1:0}e=f(l),t=i[e]=o[e](l);let a=(l[5]==="error"||l[6])&&il(l);return{c(){t.c(),n=I(),a&&a.c(),s=te()},m(c,u){i[e].m(c,u),v(c,n,u),a&&a.m(c,u),v(c,s,u),r=!0},p(c,[u]){let m=e;e=f(c),e===m?i[e].p(c,u):(X(),d(i[m],1,1,()=>{i[m]=null}),Q(),t=i[e],t?t.p(c,u):(t=i[e]=o[e](c),t.c()),g(t,1),t.m(n.parentNode,n)),c[5]==="error"||c[6]?a?(a.p(c,u),u&96&&g(a,1)):(a=il(c),a.c(),g(a,1),a.m(s.parentNode,s)):a&&(X(),d(a,1,1,()=>{a=null}),Q())},i(c){r||(g(t),g(a),r=!0)},o(c){d(t),d(a),r=!1},d(c){c&&(k(n),k(s)),i[e].d(c),a&&a.d(c)}}}function xo(l,e,t){let{dataset:n}=e,s,r=",",o="yes",i="no",f="neutral",a="";const c=[",",";"];function u(N){try{const M=dn(N,r,o==="yes",i==="yes",!0);if(M.values.nrows<3||M.values.ncols<3)throw new Error("Calibration set must have at least 3 rows and 3 columns");if(M.classNames.length!==1)throw new Error("Calibration set must have a column filled with target class name.");i!=="yes"&&(M.labels=Array.from({length:M.values.nrows},(E,T)=>T+1)),t(0,n=M),t(6,a=""),t(5,f="success")}catch(M){t(0,n=null),t(5,f="error"),t(6,a=M)}}function m(N){const M=new FileReader;M.onload=()=>u(M.result),M.readAsBinaryString(s)}function _(){t(0,n=null),t(1,s=null)}function h(N){s=N,t(1,s)}function A(N){r=N,t(2,r)}function y(N){o=N,t(3,o)}function b(N){i=N,t(4,i)}return l.$$set=N=>{"dataset"in N&&t(0,n=N.dataset)},l.$$.update=()=>{l.$$.dirty&2&&(s===null?_():(t(5,f="neutral"),t(6,a=""))),l.$$.dirty&4&&r&&(t(5,f="neutral"),t(6,a=""))},[n,s,r,o,i,f,a,c,m,_,h,A,y,b]}let ei=class extends ue{constructor(e){super(),ae(this,e,xo,Jo,se,{dataset:0})}};function fl(l){let e,t,n,s,r;e=new ee({props:{label:"Split type:",$$slots:{default:[ti]},$$scope:{ctx:l}}});let o=l[5]!=="loo"&&al(l);return s=new ee({props:{label:" ",$$slots:{default:[si]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment),t=I(),o&&o.c(),n=I(),z(s.$$.fragment)},m(i,f){R(e,i,f),v(i,t,f),o&&o.m(i,f),v(i,n,f),R(s,i,f),r=!0},p(i,f){const a={};f&524336&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),i[5]!=="loo"?o?(o.p(i,f),f&32&&g(o,1)):(o=al(i),o.c(),g(o,1),o.m(n.parentNode,n)):o&&(X(),d(o,1,1,()=>{o=null}),Q());const c={};f&524288&&(c.$$scope={dirty:f,ctx:i}),s.$set(c)},i(i){r||(g(e.$$.fragment,i),g(o),g(s.$$.fragment,i),r=!0)},o(i){d(e.$$.fragment,i),d(o),d(s.$$.fragment,i),r=!1},d(i){i&&(k(t),k(n)),$(e,i),o&&o.d(i),$(s,i)}}}function ti(l){let e,t,n;function s(o){l[14](o)}let r={id:"cvType",options:l[4]};return l[5]!==void 0&&(r.value=l[5]),e=new ve({props:r}),J.push(()=>oe(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&16&&(f.options=o[4]),!t&&i&32&&(t=!0,f.value=o[5],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function al(l){let e,t;return e=new ee({props:{label:"Segments:",$$slots:{default:[ni]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&524416&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function ni(l){let e,t,n;function s(o){l[15](o)}let r={id:"nseg",options:l[8]};return l[7]!==void 0&&(r.value=l[7]),e=new ve({props:r}),J.push(()=>oe(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&128&&(t=!0,f.value=o[7],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function li(l){let e;return{c(){e=G("Compute PV-set")},m(t,n){v(t,e,n)},d(t){t&&k(e)}}}function si(l){let e,t;return e=new Ze({props:{$$slots:{default:[li]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&524288&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function ul(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:ai,then:ii,catch:ri,value:17,error:18,blocks:[,,,]};return _t(t=l[6],s),{c(){e=te(),s.block.c()},m(r,o){v(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o&64&&t!==(t=l[6])&&_t(t,s)||Ut(s,l,o)},i(r){n||(g(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];d(i)}n=!1},d(r){r&&k(e),s.block.d(r),s.token=null,s=null}}}function ri(l){let e,t;return e=new ee({props:{status:"error",$$slots:{default:[oi]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&524352&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function oi(l){let e,t=l[18]+"",n;return{c(){e=F("p"),n=G(t)},m(s,r){v(s,e,r),C(e,n)},p(s,r){r&64&&t!==(t=s[18]+"")&&fe(n,t)},d(s){s&&k(e)}}}function ii(l){let e,t,n=l[0]!==null&&cl(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,r){s[0]!==null?n?(n.p(s,r),r&1&&g(n,1)):(n=cl(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function cl(l){let e,t;return e=new ee({props:{$$slots:{default:[fi]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&524449&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function fi(l){let e,t,n=l[0].values.nrows+"",s,r,o=l[0].values.ncols+"",i,f,a,c,u=l[5]!=="loo"?l[7]+" seg":"",m,_,h,A;return h=new St({}),h.$on("click",l[10]),{c(){e=F("p"),t=G("PV-set is computed: "),s=G(n),r=G(" × "),i=G(o),f=G(", "),a=G(l[5]),c=I(),m=G(u),_=I(),z(h.$$.fragment)},m(y,b){v(y,e,b),C(e,t),C(e,s),C(e,r),C(e,i),C(e,f),C(e,a),C(e,c),C(e,m),v(y,_,b),R(h,y,b),A=!0},p(y,b){(!A||b&1)&&n!==(n=y[0].values.nrows+"")&&fe(s,n),(!A||b&1)&&o!==(o=y[0].values.ncols+"")&&fe(i,o),(!A||b&32)&&fe(a,y[5]),(!A||b&160)&&u!==(u=y[5]!=="loo"?y[7]+" seg":"")&&fe(m,u)},i(y){A||(g(h.$$.fragment,y),A=!0)},o(y){d(h.$$.fragment,y),A=!1},d(y){y&&(k(e),k(_)),$(h,y)}}}function ai(l){let e,t;return e=new ee({props:{$$slots:{default:[ui]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&524288&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function ui(l){let e,t,n,s;return e=new Qt({}),{c(){z(e.$$.fragment),t=I(),n=F("p"),n.textContent="Computing PV-set..."},m(r,o){R(e,r,o),v(r,t,o),v(r,n,o),s=!0},p:H,i(r){s||(g(e.$$.fragment,r),s=!0)},o(r){d(e.$$.fragment,r),s=!1},d(r){r&&(k(t),k(n)),$(e,r)}}}function ml(l){let e,t;return e=new ee({props:{status:"error",$$slots:{default:[ci]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&524296&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function ci(l){let e,t;return{c(){e=F("p"),t=G(l[3])},m(n,s){v(n,e,s),C(e,t)},p(n,s){s&8&&fe(t,n[3])},d(n){n&&k(e)}}}function mi(l){let e,t,n,s,r=l[1]&&!l[0]&&l[2]!=="busy"&&fl(l),o=l[6]&&ul(l),i=l[2]==="error"&&l[3]&&ml(l);return{c(){r&&r.c(),e=I(),o&&o.c(),t=I(),i&&i.c(),n=te()},m(f,a){r&&r.m(f,a),v(f,e,a),o&&o.m(f,a),v(f,t,a),i&&i.m(f,a),v(f,n,a),s=!0},p(f,[a]){f[1]&&!f[0]&&f[2]!=="busy"?r?(r.p(f,a),a&7&&g(r,1)):(r=fl(f),r.c(),g(r,1),r.m(e.parentNode,e)):r&&(X(),d(r,1,1,()=>{r=null}),Q()),f[6]?o?(o.p(f,a),a&64&&g(o,1)):(o=ul(f),o.c(),g(o,1),o.m(t.parentNode,t)):o&&(X(),d(o,1,1,()=>{o=null}),Q()),f[2]==="error"&&f[3]?i?(i.p(f,a),a&12&&g(i,1)):(i=ml(f),i.c(),g(i,1),i.m(n.parentNode,n)):i&&(X(),d(i,1,1,()=>{i=null}),Q())},i(f){s||(g(r),g(o),g(i),s=!0)},o(f){d(r),d(o),d(i),s=!1},d(f){f&&(k(e),k(t),k(n)),r&&r.d(f),o&&o.d(f),i&&i.d(f)}}}function _i(l,e,t){let{WASM:n}=e,{calset:s}=e,{model:r}=e,{pvset:o}=e,{pvres:i}=e,f="neutral",a=null,c=["ven","rand","loo"],u="ven",m,_=s&&s.values.nrows>0?[3,4,5,10,20].filter(E=>E>=s.values.nrows/(s.values.nrows-r.ncomp-1)&&E<=s.values.nrows/2):[],h=_.length>0?_[0]:0;async function A(E,T,L){t(6,m=n().then(O=>{const P=L.type=="loo"?0:L.type=="rand"?2:1,S=No(O,T,E.values,T.ncomp,L.nseg,P,0);t(0,o={values:S,header:E.header,labels:E.labels,classes:E.classes,sep:E.sep,dec:E.dec}),t(11,i=Xt(O,T,o.values))}).catch(O=>{t(0,o=null),t(11,i=null),t(2,f="error"),t(3,a=O)}))}function y(E){t(2,f="neutral"),t(3,a=null),A(s,r,{type:u,nseg:h})}function b(){t(2,f="neutral"),t(3,a=null),t(6,m=null),t(0,o=null)}function N(E){u=E,t(5,u),t(8,_)}function M(E){h=E,t(7,h)}return l.$$set=E=>{"WASM"in E&&t(12,n=E.WASM),"calset"in E&&t(13,s=E.calset),"model"in E&&t(1,r=E.model),"pvset"in E&&t(0,o=E.pvset),"pvres"in E&&t(11,i=E.pvres)},l.$$.update=()=>{l.$$.dirty&2&&r===null&&b()},_.length===0&&(t(4,c=["loo"]),t(5,u="loo")),[o,r,f,a,c,u,m,h,_,y,b,i,n,s,N,M]}class pi extends ue{constructor(e){super(),ae(this,e,_i,mi,se,{WASM:12,calset:13,model:1,pvset:0,pvres:11})}}function _l(l){let e,t,n,s,r,o,i,f;return e=new ee({props:{label:"# of PCs",$$slots:{default:[gi]},$$scope:{ctx:l}}}),n=new ee({props:{label:"Center",$$slots:{default:[di]},$$scope:{ctx:l}}}),r=new ee({props:{label:"Scale",$$slots:{default:[hi]},$$scope:{ctx:l}}}),i=new ee({props:{label:" ",$$slots:{default:[wi]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment),t=I(),z(n.$$.fragment),s=I(),z(r.$$.fragment),o=I(),z(i.$$.fragment)},m(a,c){R(e,a,c),v(a,t,c),R(n,a,c),v(a,s,c),R(r,a,c),v(a,o,c),R(i,a,c),f=!0},p(a,c){const u={};c&2097188&&(u.$$scope={dirty:c,ctx:a}),e.$set(u);const m={};c&2097216&&(m.$$scope={dirty:c,ctx:a}),n.$set(m);const _={};c&2097280&&(_.$$scope={dirty:c,ctx:a}),r.$set(_);const h={};c&2097152&&(h.$$scope={dirty:c,ctx:a}),i.$set(h)},i(a){f||(g(e.$$.fragment,a),g(n.$$.fragment,a),g(r.$$.fragment,a),g(i.$$.fragment,a),f=!0)},o(a){d(e.$$.fragment,a),d(n.$$.fragment,a),d(r.$$.fragment,a),d(i.$$.fragment,a),f=!1},d(a){a&&(k(t),k(s),k(o)),$(e,a),$(n,a),$(r,a),$(i,a)}}}function gi(l){let e,t,n;function s(o){l[15](o)}let r={id:"ncomp",min:1,max:l[2],step:1,decNum:0};return l[5]!==void 0&&(r.value=l[5]),e=new nl({props:r}),J.push(()=>oe(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&4&&(f.max=o[2]),!t&&i&32&&(t=!0,f.value=o[5],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function di(l){let e,t,n;function s(o){l[16](o)}let r={id:"center",options:["yes","no"]};return l[6]!==void 0&&(r.value=l[6]),e=new ve({props:r}),J.push(()=>oe(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&64&&(t=!0,f.value=o[6],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function hi(l){let e,t,n;function s(o){l[17](o)}let r={id:"scale",options:["yes","no"]};return l[7]!==void 0&&(r.value=l[7]),e=new ve({props:r}),J.push(()=>oe(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&128&&(t=!0,f.value=o[7],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function bi(l){let e;return{c(){e=G("Create model")},m(t,n){v(t,e,n)},d(t){t&&k(e)}}}function wi(l){let e,t;return e=new Ze({props:{$$slots:{default:[bi]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&2097152&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function pl(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:Ei,then:yi,catch:ki,value:19,error:20,blocks:[,,,]};return _t(t=l[8],s),{c(){e=te(),s.block.c()},m(r,o){v(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o&256&&t!==(t=l[8])&&_t(t,s)||Ut(s,l,o)},i(r){n||(g(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];d(i)}n=!1},d(r){r&&k(e),s.block.d(r),s.token=null,s=null}}}function ki(l){let e,t;return e=new ee({props:{status:"error",$$slots:{default:[vi]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&2097408&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function vi(l){let e,t=l[20]+"",n;return{c(){e=F("p"),n=G(t)},m(s,r){v(s,e,r),C(e,n)},p(s,r){r&256&&t!==(t=s[20]+"")&&fe(n,t)},d(s){s&&k(e)}}}function yi(l){let e,t,n=l[0]!==null&&gl(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,r){s[0]!==null?n?(n.p(s,r),r&1&&g(n,1)):(n=gl(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function gl(l){let e,t;return e=new ee({props:{$$slots:{default:[Ci]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&2097153&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Ci(l){let e,t,n=l[0].ncomp+"",s,r,o,i,f;return i=new St({}),i.$on("click",l[10]),{c(){e=F("p"),t=G("Global model is computed: "),s=G(n),r=G(" PCs"),o=I(),z(i.$$.fragment)},m(a,c){v(a,e,c),C(e,t),C(e,s),C(e,r),v(a,o,c),R(i,a,c),f=!0},p(a,c){(!f||c&1)&&n!==(n=a[0].ncomp+"")&&fe(s,n)},i(a){f||(g(i.$$.fragment,a),f=!0)},o(a){d(i.$$.fragment,a),f=!1},d(a){a&&(k(e),k(o)),$(i,a)}}}function Ei(l){let e,t;return e=new ee({props:{$$slots:{default:[Ai]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&2097152&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Ai(l){let e,t,n,s;return e=new Qt({}),{c(){z(e.$$.fragment),t=I(),n=F("p"),n.textContent="Computing global model..."},m(r,o){R(e,r,o),v(r,t,o),v(r,n,o),s=!0},p:H,i(r){s||(g(e.$$.fragment,r),s=!0)},o(r){d(e.$$.fragment,r),s=!1},d(r){r&&(k(t),k(n)),$(e,r)}}}function dl(l){let e,t;return e=new ee({props:{status:"error",$$slots:{default:[Ni]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&2097168&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Ni(l){let e,t;return{c(){e=F("p"),t=G(l[4])},m(n,s){v(n,e,s),C(e,t)},p(n,s){s&16&&fe(t,n[4])},d(n){n&&k(e)}}}function Mi(l){let e,t,n,s,r=l[1]&&!l[0]&&l[3]!=="computing"&&_l(l),o=l[8]&&pl(l),i=(l[3]==="error"||l[4])&&dl(l);return{c(){r&&r.c(),e=I(),o&&o.c(),t=I(),i&&i.c(),n=te()},m(f,a){r&&r.m(f,a),v(f,e,a),o&&o.m(f,a),v(f,t,a),i&&i.m(f,a),v(f,n,a),s=!0},p(f,[a]){f[1]&&!f[0]&&f[3]!=="computing"?r?(r.p(f,a),a&11&&g(r,1)):(r=_l(f),r.c(),g(r,1),r.m(e.parentNode,e)):r&&(X(),d(r,1,1,()=>{r=null}),Q()),f[8]?o?(o.p(f,a),a&256&&g(o,1)):(o=pl(f),o.c(),g(o,1),o.m(t.parentNode,t)):o&&(X(),d(o,1,1,()=>{o=null}),Q()),f[3]==="error"||f[4]?i?(i.p(f,a),a&24&&g(i,1)):(i=dl(f),i.c(),g(i,1),i.m(n.parentNode,n)):i&&(X(),d(i,1,1,()=>{i=null}),Q())},i(f){s||(g(r),g(o),g(i),s=!0)},o(f){d(r),d(o),d(i),s=!1},d(f){f&&(k(e),k(t),k(n)),r&&r.d(f),o&&o.d(f),i&&i.d(f)}}}const hl=5,bl=1,Dt="classic";function Li(l,e,t){let n,{WASM:s}=e,{model:r}=e,{simca:o}=e,{calset:i}=e,{calres:f}=e,{className:a}=e,c="neutral",u=null,m=1,_="yes",h="no",A;async function y(L,O,P,S){t(8,A=s().then(w=>{t(3,c="computing");const q=Ao(w,L,O,P,S);q.lim={classic:{h0:gt(q,"ch0"),Nh:gt(q,"cNh"),q0:gt(q,"cq0"),Nq:gt(q,"cNq")},robust:{h0:gt(q,"rh0"),Nh:gt(q,"rNh"),q0:gt(q,"rq0"),Nq:gt(q,"rNq")}},t(0,r=q),t(12,f=Xt(w,r,L));const Y=r.lim[Dt].Nh,W=r.lim[Dt].h0,le=r.lim[Dt].Nq,me=r.lim[Dt].q0,D=Y.map((Ee,Be)=>Ee+le[Be]),j=D.map(Ee=>bt(1-hl/100,Ee)),Z=D.map(Ee=>bt(Math.pow(1-bl/100,1/r.nrows),Ee));t(11,o={ncomp:1,alpha:hl,gamma:bl,limType:Dt,h0:W,q0:me,Nh:Y,Nq:le,Nf:D,eCrit:j,oCrit:Z,className:a}),t(3,c="success")}).catch(w=>{t(0,r=null),t(12,f=null),t(11,o=null),t(3,c="error"),t(4,u=w)}))}function b(L){t(3,c="neutral"),t(4,u=null),y(i.values,m,_==="yes",h==="yes")}function N(){t(3,c="neutral"),t(8,A=null),t(0,r=null),t(4,u=null)}function M(L){m=L,t(5,m),t(2,n),t(1,i)}function E(L){_=L,t(6,_)}function T(L){h=L,t(7,h)}return l.$$set=L=>{"WASM"in L&&t(13,s=L.WASM),"model"in L&&t(0,r=L.model),"simca"in L&&t(11,o=L.simca),"calset"in L&&t(1,i=L.calset),"calres"in L&&t(12,f=L.calres),"className"in L&&t(14,a=L.className)},l.$$.update=()=>{l.$$.dirty&2&&i===null&&N(),l.$$.dirty&2&&t(2,n=i?Math.min(i.values.nrows-2,i.values.ncols-1):null),l.$$.dirty&4&&t(5,m=n?Math.min(n,20):null)},[r,i,n,c,u,m,_,h,A,b,N,o,f,s,a,M,E,T]}class Ti extends ue{constructor(e){super(),ae(this,e,Li,Mi,se,{WASM:13,model:0,simca:11,calset:1,calres:12,className:14})}}const D1="";function wl(l){let e,t,n,s,r,o,i,f=l[0].cal.nrows+"",a,c,u,m=l[0].pv.nrows+"",_,h,A,y,b,N,M=l[2].cnum.extreme+"",E,T,L,O=l[1].cnum.extreme+"",P,S,w,q,Y,W,le=l[2].cnum.outliers+"",me,D,j,Z=l[1].cnum.outliers+"",Ee,Be,Ne,Ke,je,Le,qe=l[2].stat.sensitivity.toFixed(2)+"",Ve,Ae,Fe,Ge=l[1].stat.sensitivity.toFixed(2)+"",Oe;return{c(){e=F("table"),t=F("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Cal</th> <th class="svelte-kg0b31">PV</th>',n=I(),s=F("tr"),r=F("td"),r.textContent="Objects",o=I(),i=F("td"),a=G(f),c=I(),u=F("td"),_=G(m),h=I(),A=F("tr"),y=F("td"),y.textContent="Extremes",b=I(),N=F("td"),E=G(M),T=I(),L=F("td"),P=G(O),S=I(),w=F("tr"),q=F("td"),q.textContent="Outliers",Y=I(),W=F("td"),me=G(le),D=I(),j=F("td"),Ee=G(Z),Be=I(),Ne=F("tr"),Ke=F("td"),Ke.textContent="Sensitivity",je=I(),Le=F("td"),Ve=G(qe),Ae=I(),Fe=F("td"),Oe=G(Ge),p(t,"class","svelte-kg0b31"),p(r,"class","label svelte-kg0b31"),p(i,"class","svelte-kg0b31"),p(u,"class","svelte-kg0b31"),p(s,"class","svelte-kg0b31"),p(y,"class","label svelte-kg0b31"),p(N,"class","svelte-kg0b31"),p(L,"class","svelte-kg0b31"),p(A,"class","svelte-kg0b31"),p(q,"class","label svelte-kg0b31"),p(W,"class","svelte-kg0b31"),p(j,"class","svelte-kg0b31"),p(w,"class","svelte-kg0b31"),p(Ke,"class","label svelte-kg0b31"),p(Le,"class","svelte-kg0b31"),p(Fe,"class","svelte-kg0b31"),p(Ne,"class","svelte-kg0b31"),p(e,"class","svelte-kg0b31")},m(ye,Pe){v(ye,e,Pe),C(e,t),C(e,n),C(e,s),C(s,r),C(s,o),C(s,i),C(i,a),C(s,c),C(s,u),C(u,_),C(e,h),C(e,A),C(A,y),C(A,b),C(A,N),C(N,E),C(A,T),C(A,L),C(L,P),C(e,S),C(e,w),C(w,q),C(w,Y),C(w,W),C(W,me),C(w,D),C(w,j),C(j,Ee),C(e,Be),C(e,Ne),C(Ne,Ke),C(Ne,je),C(Ne,Le),C(Le,Ve),C(Ne,Ae),C(Ne,Fe),C(Fe,Oe)},p(ye,Pe){Pe&1&&f!==(f=ye[0].cal.nrows+"")&&fe(a,f),Pe&1&&m!==(m=ye[0].pv.nrows+"")&&fe(_,m),Pe&4&&M!==(M=ye[2].cnum.extreme+"")&&fe(E,M),Pe&2&&O!==(O=ye[1].cnum.extreme+"")&&fe(P,O),Pe&4&&le!==(le=ye[2].cnum.outliers+"")&&fe(me,le),Pe&2&&Z!==(Z=ye[1].cnum.outliers+"")&&fe(Ee,Z),Pe&4&&qe!==(qe=ye[2].stat.sensitivity.toFixed(2)+"")&&fe(Ve,qe),Pe&2&&Ge!==(Ge=ye[1].stat.sensitivity.toFixed(2)+"")&&fe(Oe,Ge)},d(ye){ye&&k(e)}}}function Si(l){let e,t=l[2]&&l[1]&&wl(l);return{c(){t&&t.c(),e=te()},m(n,s){t&&t.m(n,s),v(n,e,s)},p(n,[s]){n[2]&&n[1]?t?t.p(n,s):(t=wl(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){n&&k(e),t&&t.d(n)}}}function Ri(l,e,t){let n,s,r,{res:o}=e,{simca:i}=e;return l.$$set=f=>{"res"in f&&t(0,o=f.res),"simca"in f&&t(3,i=f.simca)},l.$$.update=()=>{l.$$.dirty&8&&t(4,n=i?i.ncomp:null),l.$$.dirty&17&&t(2,s=n?o.cal.v[n-1]:null),l.$$.dirty&17&&t(1,r=n?o.pv.v[n-1]:null)},[o,r,s,i,n]}let $i=class extends ue{constructor(e){super(),ae(this,e,Ri,Si,se,{res:0,simca:3})}};const B1="";function kl(l,e,t){const n=l.slice();return n[15]=e[t].label,n[16]=e[t].plotComponent,n[17]=e[t].controlsComponent,n[19]=t,n}function zi(l){let e,t=l[15]+"",n,s,r;function o(){return l[12](l[19])}function i(){return l[13](l[19])}return{c(){e=F("button"),n=G(t),p(e,"class","plot-selector svelte-ete4pd")},m(f,a){v(f,e,a),C(e,n),s||(r=[Te(e,"keydown",o),Te(e,"click",i)],s=!0)},p(f,a){l=f,a&4&&t!==(t=l[15]+"")&&fe(n,t)},i:H,o:H,d(f){f&&k(e),s=!1,ot(r)}}}function qi(l){let e,t,n,s,r;function o(a){l[11](a)}var i=l[17];function f(a,c){let u={simcares:a[0]};return a[4]!==void 0&&(u.params=a[4]),{props:u}}return i&&(e=Ht(i,f(l)),J.push(()=>oe(e,"params",o))),s=new ee({props:{label:"Download as",$$slots:{default:[Pi]},$$scope:{ctx:l}}}),{c(){e&&z(e.$$.fragment),n=I(),z(s.$$.fragment)},m(a,c){e&&R(e,a,c),v(a,n,c),R(s,a,c),r=!0},p(a,c){if(c&4&&i!==(i=a[17])){if(e){X();const m=e;d(m.$$.fragment,1,0,()=>{$(m,1)}),Q()}i?(e=Ht(i,f(a)),J.push(()=>oe(e,"params",o)),z(e.$$.fragment),g(e.$$.fragment,1),R(e,n.parentNode,n)):e=null}else if(i){const m={};c&1&&(m.simcares=a[0]),!t&&c&16&&(t=!0,m.params=a[4],ie(()=>t=!1)),e.$set(m)}const u={};c&1048576&&(u.$$scope={dirty:c,ctx:a}),s.$set(u)},i(a){r||(e&&g(e.$$.fragment,a),g(s.$$.fragment,a),r=!0)},o(a){e&&d(e.$$.fragment,a),d(s.$$.fragment,a),r=!1},d(a){a&&k(n),e&&$(e,a),$(s,a)}}}function Fi(l){let e;return{c(){e=G("SVG")},m(t,n){v(t,e,n)},d(t){t&&k(e)}}}function Oi(l){let e;return{c(){e=G("PNG")},m(t,n){v(t,e,n)},d(t){t&&k(e)}}}function Pi(l){let e,t,n,s,r,o;return t=new Ze({props:{$$slots:{default:[Fi]},$$scope:{ctx:l}}}),t.$on("click",l[7]),s=new Ze({props:{$$slots:{default:[Oi]},$$scope:{ctx:l}}}),s.$on("click",l[6]),{c(){e=F("div"),z(t.$$.fragment),n=I(),z(s.$$.fragment),r=I(),p(e,"class","buttons svelte-ete4pd")},m(i,f){v(i,e,f),R(t,e,null),C(e,n),R(s,e,null),v(i,r,f),o=!0},p(i,f){const a={};f&1048576&&(a.$$scope={dirty:f,ctx:i}),t.$set(a);const c={};f&1048576&&(c.$$scope={dirty:f,ctx:i}),s.$set(c)},i(i){o||(g(t.$$.fragment,i),g(s.$$.fragment,i),o=!0)},o(i){d(t.$$.fragment,i),d(s.$$.fragment,i),o=!1},d(i){i&&(k(e),k(r)),$(t),$(s)}}}function vl(l){let e,t,n,s;const r=[qi,zi],o=[];function i(f,a){return f[3]===f[19]?0:1}return e=i(l),t=o[e]=r[e](l),{c(){t.c(),n=te()},m(f,a){o[e].m(f,a),v(f,n,a),s=!0},p(f,a){let c=e;e=i(f),e===c?o[e].p(f,a):(X(),d(o[c],1,1,()=>{o[c]=null}),Q(),t=o[e],t?t.p(f,a):(t=o[e]=r[e](f),t.c()),g(t,1),t.m(n.parentNode,n))},i(f){s||(g(t),s=!0)},o(f){d(t),s=!1},d(f){f&&k(n),o[e].d(f)}}}function Ii(l){let e,t,n,s,r,o;var i=l[2][l[3]].plotComponent;function f(m,_){return{props:{simcares:m[0],simca:m[1],params:m[4]}}}i&&(n=Ht(i,f(l)));let a=ke(l[2]),c=[];for(let m=0;m<a.length;m+=1)c[m]=vl(kl(l,a,m));const u=m=>d(c[m],1,1,()=>{c[m]=null});return{c(){e=F("div"),t=F("div"),n&&z(n.$$.fragment),s=I(),r=F("div");for(let m=0;m<c.length;m+=1)c[m].c();p(t,"class","plot-area svelte-ete4pd"),p(r,"class","plot-controls-area svelte-ete4pd"),p(e,"class","plot-container svelte-ete4pd")},m(m,_){v(m,e,_),C(e,t),n&&R(n,t,null),l[10](t),C(e,s),C(e,r);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(r,null);o=!0},p(m,[_]){if(_&12&&i!==(i=m[2][m[3]].plotComponent)){if(n){X();const h=n;d(h.$$.fragment,1,0,()=>{$(h,1)}),Q()}i?(n=Ht(i,f(m)),z(n.$$.fragment),g(n.$$.fragment,1),R(n,t,null)):n=null}else if(i){const h={};_&1&&(h.simcares=m[0]),_&2&&(h.simca=m[1]),_&16&&(h.params=m[4]),n.$set(h)}if(_&477){a=ke(m[2]);let h;for(h=0;h<a.length;h+=1){const A=kl(m,a,h);c[h]?(c[h].p(A,_),g(c[h],1)):(c[h]=vl(A),c[h].c(),g(c[h],1),c[h].m(r,null))}for(X(),h=a.length;h<c.length;h+=1)u(h);Q()}},i(m){if(!o){n&&g(n.$$.fragment,m);for(let _=0;_<a.length;_+=1)g(c[_]);o=!0}},o(m){n&&d(n.$$.fragment,m),c=c.filter(Boolean);for(let _=0;_<c.length;_+=1)d(c[_]);o=!1},d(m){m&&k(e),n&&$(n),l[10](null),Xe(c,m)}}}const ji=600;function Vi(){const l=new Int32Array(256);for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;l[e]=t}return l}function Yi(l){let e=-1,t=Vi();for(let n=0;n<l.length;n++)e=t[(e^l[n])&255]^e>>>8;return e^-1}function Di(l,e){const t=new Uint8Array(13);e*=39.3701,t[0]="p".charCodeAt(0),t[1]="H".charCodeAt(0),t[2]="Y".charCodeAt(0),t[3]="s".charCodeAt(0),t[4]=e>>>24,t[5]=e>>>16,t[6]=e>>>8,t[7]=e&255,t[8]=t[4],t[9]=t[5],t[10]=t[6],t[11]=t[7],t[12]=1;const n=Yi(t),s=new Uint8Array(4);s[0]=n>>>24,s[1]=n>>>16,s[2]=n>>>8,s[3]=n&255;const r=new Uint8Array(4);r[0]=0,r[1]=0,r[2]=0,r[3]=9;const o=new Uint8Array(54);return o.set(l,0),o.set(r,33),o.set(t,37),o.set(s,50),o}function wn(l,e){const t=l.split(","),n=t[0],s=t[1],r=33/3*4,o=s.substring(0,r),i=s.substring(r),f=atob(o),a=new Uint8Array(f.length);for(let m=0;m<a.length;m++)a[m]=f.charCodeAt(m);const c=Di(a,e),u=btoa(String.fromCharCode(...c));return[n,",",u,i].join("")}function Bi(l,e,t){let{simcares:n}=e,{simca:s}=e,{options:r}=e;const o=3.125*ji;function i(){const b=u.getElementsByTagName("svg")[0],N=b.style.fontSize;b.parentNode.classList.add("off-screen"),setTimeout(()=>{b.style.fontSize="16px";const M=b.clientWidth,E=b.clientHeight,T=o/M,L=document.createElement("canvas"),O=L.getContext("2d");L.width=M*T,L.height=E*T,b.setAttribute("width",L.width),b.setAttribute("height",L.height),O.fillStyle="white",O.scale(T,T),O.fillRect(0,0,L.width,L.height);const P=new XMLSerializer().serializeToString(b),S=new Image;S.onload=function(){O.drawImage(S,0,0,L.width,L.height);const w=L.toDataURL("image/png"),q=wn(w,600),Y=document.createElement("a");Y.href=q,Y.download="ddcimca-plot.png",Y.click()},S.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(P))),b.style.fontSize=N,b.parentNode.classList.remove("off-screen")},20)}function f(){const b=u.getElementsByTagName("svg")[0];b.setAttribute("xmlns","http://www.w3.org/2000/svg");const N=new Blob([b.parentNode.innerHTML],{type:"image/svg+xml"}),M=window.URL.createObjectURL(N),E=document.createElement("a");E.setAttribute("href",M),E.setAttribute("download","ddsimca-plot.svg"),E.click()}let a=0,c=null,u;function m(b){t(4,c=null),t(3,a=b)}function _(b){J[b?"unshift":"push"](()=>{u=b,t(5,u)})}function h(b){c=b,t(4,c)}const A=b=>m(b),y=b=>m(b);return l.$$set=b=>{"simcares"in b&&t(0,n=b.simcares),"simca"in b&&t(1,s=b.simca),"options"in b&&t(2,r=b.options)},[n,s,r,a,c,u,i,f,m,wn,_,h,A,y]}class kn extends ue{constructor(e){super(),ae(this,e,Bi,Ii,se,{simcares:0,simca:1,options:2,changeDPI:9})}get changeDPI(){return wn}}const Rt=[];function $t(l,e=H){let t;const n=new Set;function s(i){if(se(l,i)&&(l=i,t)){const f=!Rt.length;for(const a of n)a[1](),Rt.push(a,l);if(f){for(let a=0;a<Rt.length;a+=2)Rt[a][0](Rt[a+1]);Rt.length=0}}}function r(i){s(i(l))}function o(i,f=H){const a=[i,f];return n.add(a),n.size===1&&(t=e(s,r)||H),i(l),()=>{n.delete(a),n.size===0&&t&&(t(),t=null)}}return{set:s,update:r,subscribe:o}}function yl(l){if(l===void 0)return;const e=Math.abs(Tt(On(l)));let t=0;if(e<1&&Math.abs(Se(l))<1){let n=Math.ceil(-Math.log10(e));return n<=2?[0,Array.from(l).map(s=>s.toFixed(n).toString())]:(t=n-2,n=2,[-t,Array.from(l).map(s=>(s*Math.pow(10,t)).toFixed(n).toString())])}else{let n=Math.ceil(Math.log10(e));return n<=2?[0,Array.from(l).map(s=>s.toString())]:(t=n-2,n=2,[t,Array.from(l).map(s=>(s/Math.pow(10,t)).toString())])}}function dt(l,e){if(Array.isArray(l)&&(l=Re(l)),!Ce(l))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(l.length<1)throw Error(e+": vector with coordinates is empty.");return l}function Wi(l,e,t,n,s){if(l===void 0||e===void 0)return;const r=s.transform(dt(l,"val2p"),t.coords),o=s.transform(dt(e,"val2p"),n.coords);if(r.length!=o.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let i="";for(let f=0;f<r.length;f++)i+=r[f]+","+o[f]+" ";return i}function Cl(l,e,t,n=!0){if(l!==void 0){if(Array.isArray(l)&&(l=Re(l)),!Ce(l))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return l.filter(a=>a>=e[0]&a<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const s=(e[1]-e[0])/50,r=El(e[1]-e[0]-1*s,n),o=El(r/(t-1),n),i=Math.ceil((e[0]+s)/o)*o,f=Math.floor((e[1]-s)/o)*o;if(t=Math.round((f-i+1)/o)+1,l=pe.seq(i,f,o),Math.abs(o)<1){const a=Math.pow(10,1+Math.round(-Math.log10(o)));l=l.apply(c=>Math.round((c+Number.EPSILON)*a)/a)}return l.filter(a=>a>=e[0]&a<=e[1])}function El(l,e){const t=Math.floor(Math.log10(l)),n=l/Math.pow(10,t);let s;return e?n<1.5?s=1:n<3?s=2:n<7?s=5:s=10:n<=1?s=1:n<=2?s=2:n<=5?s=5:s=10,s*Math.pow(10,t)}function Hi(l){return Math.round(l*10)/10}function Gi(l,e){return e<300.2||l<300.2?"small":e<600.2||l<600.2?"medium":e<850.2||l<850.2?"large":"xlarge"}const W1="",Ui=l=>({}),Al=l=>({}),Ki=l=>({}),Nl=l=>({}),Xi=l=>({}),Ml=l=>({});function Ll(l){let e,t,n;return{c(){e=_e("text"),p(e,"x",0),p(e,"y",t=(l[4]+l[8])/2),p(e,"dx",0),p(e,"dy",0),p(e,"dominant-baseline","top"),p(e,"transform",n=`rotate(-90, 10, ${l[4]/2})`),He(e,"font-size","1.1em")},m(s,r){v(s,e,r),e.innerHTML=l[2]},p(s,r){r[0]&4&&(e.innerHTML=s[2]),r[0]&272&&t!==(t=(s[4]+s[8])/2)&&p(e,"y",t),r[0]&16&&n!==(n=`rotate(-90, 10, ${s[4]/2})`)&&p(e,"transform",n)},d(s){s&&k(e)}}}function Tl(l){let e,t,n;return{c(){e=_e("text"),p(e,"x",t=l[7]+l[3]/2),p(e,"y",n=l[4]+l[8]),p(e,"dx",0),p(e,"dy",5),p(e,"dominant-baseline","middle"),He(e,"font-size","1.1em")},m(s,r){v(s,e,r),e.innerHTML=l[1]},p(s,r){r[0]&2&&(e.innerHTML=s[1]),r[0]&136&&t!==(t=s[7]+s[3]/2)&&p(e,"x",t),r[0]&272&&n!==(n=s[4]+s[8])&&p(e,"y",n)},d(s){s&&k(e)}}}function Sl(l){let e,t;return{c(){e=_e("text"),p(e,"x",t=l[7]+l[3]/2),p(e,"y",0),p(e,"dx",0),p(e,"dy",10),p(e,"dominant-baseline","hanging"),He(e,"font-size","1.2em")},m(n,s){v(n,e,s),e.innerHTML=l[0]},p(n,s){s[0]&1&&(e.innerHTML=n[0]),s[0]&136&&t!==(t=n[7]+n[3]/2)&&p(e,"x",t)},d(n){n&&k(e)}}}function Rl(l){let e;return{c(){e=F("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,p(e,"class","message_error svelte-iey6d1")},m(t,n){v(t,e,n)},d(t){t&&k(e)}}}function Qi(l){let e,t,n,s,r,o,i,f,a,c,u,m,_,h,A,y,b,N,M,E=l[2]&&l[2]!==""&&Ll(l),T=l[1]&&l[1]!==""&&Tl(l),L=l[0]&&l[0]!==""&&Sl(l);const O=l[31].xaxis,P=vt(O,l,l[30],Ml),S=l[31].yaxis,w=vt(S,l,l[30],Nl),q=l[31].default,Y=vt(q,l,l[30],null),W=l[31].box,le=vt(W,l,l[30],Al);let me=!l[5]&&Rl();return{c(){e=F("div"),t=_e("svg"),n=_e("g"),E&&E.c(),s=te(),T&&T.c(),r=te(),L&&L.c(),o=_e("svg"),i=_e("defs"),f=_e("clipPath"),a=_e("rect"),P&&P.c(),w&&w.c(),h=_e("g"),Y&&Y.c(),le&&le.c(),y=I(),me&&me.c(),p(n,"style",l[9]),He(a,"pointer-events","none"),p(a,"x",c=l[12][0]),p(a,"y",u=l[11][1]),p(a,"width",m=l[12][1]-l[12][0]),p(a,"height",_=l[11][0]-l[11][1]),p(f,"id",l[13]),p(h,"class","axes-content svelte-iey6d1"),p(h,"clip-path","url(#"+l[13]+")"),p(o,"x",l[7]),p(o,"y",l[8]),p(o,"width",l[3]),p(o,"height",l[4]),p(o,"preserveAspectRatio","none"),p(o,"class","axes"),p(t,"class","plot svelte-iey6d1"),p(t,"xmlns","http://www.w3.org/2000/svg"),p(t,"style",A=`font-family: Arial, Helvetica, sans-serif;font-size:${l[10]}px`),p(e,"class","plot-container svelte-iey6d1"),De(e,"plot_error",!l[5])},m(D,j){v(D,e,j),C(e,t),C(t,n),E&&E.m(n,null),C(n,s),T&&T.m(n,null),C(n,r),L&&L.m(n,null),C(t,o),C(o,i),C(i,f),C(f,a),P&&P.m(o,null),w&&w.m(o,null),C(o,h),Y&&Y.m(h,null),le&&le.m(o,null),l[32](t),C(e,y),me&&me.m(e,null),l[33](e),b=!0,N||(M=[Te(o,"click",l[14]),Te(o,"keydown",l[14])],N=!0)},p(D,j){D[2]&&D[2]!==""?E?E.p(D,j):(E=Ll(D),E.c(),E.m(n,s)):E&&(E.d(1),E=null),D[1]&&D[1]!==""?T?T.p(D,j):(T=Tl(D),T.c(),T.m(n,r)):T&&(T.d(1),T=null),D[0]&&D[0]!==""?L?L.p(D,j):(L=Sl(D),L.c(),L.m(n,null)):L&&(L.d(1),L=null),(!b||j[0]&512)&&p(n,"style",D[9]),(!b||j[0]&4096&&c!==(c=D[12][0]))&&p(a,"x",c),(!b||j[0]&2048&&u!==(u=D[11][1]))&&p(a,"y",u),(!b||j[0]&4096&&m!==(m=D[12][1]-D[12][0]))&&p(a,"width",m),(!b||j[0]&2048&&_!==(_=D[11][0]-D[11][1]))&&p(a,"height",_),P&&P.p&&(!b||j[0]&1073741824)&&Ct(P,O,D,D[30],b?yt(O,D[30],j,Xi):Et(D[30]),Ml),w&&w.p&&(!b||j[0]&1073741824)&&Ct(w,S,D,D[30],b?yt(S,D[30],j,Ki):Et(D[30]),Nl),Y&&Y.p&&(!b||j[0]&1073741824)&&Ct(Y,q,D,D[30],b?yt(q,D[30],j,null):Et(D[30]),null),le&&le.p&&(!b||j[0]&1073741824)&&Ct(le,W,D,D[30],b?yt(W,D[30],j,Ui):Et(D[30]),Al),(!b||j[0]&128)&&p(o,"x",D[7]),(!b||j[0]&256)&&p(o,"y",D[8]),(!b||j[0]&8)&&p(o,"width",D[3]),(!b||j[0]&16)&&p(o,"height",D[4]),(!b||j[0]&1024&&A!==(A=`font-family: Arial, Helvetica, sans-serif;font-size:${D[10]}px`))&&p(t,"style",A),D[5]?me&&(me.d(1),me=null):me||(me=Rl(),me.c(),me.m(e,null)),(!b||j[0]&32)&&De(e,"plot_error",!D[5])},i(D){b||(g(P,D),g(w,D),g(Y,D),g(le,D),b=!0)},o(D){d(P,D),d(w,D),d(Y,D),d(le,D),b=!1},d(D){D&&k(e),E&&E.d(),T&&T.d(),L&&L.d(),P&&P.d(D),w&&w.d(D),Y&&Y.d(D),le&&le.d(D),l[32](null),me&&me.d(),l[33](null),N=!1,ot(M)}}}function Zi(l,e,t){let n,s,r,o,i,f,a,c,u,m,_,{$$slots:h={},$$scope:A}=e,{limX:y}=e,{limY:b}=e,{title:N=""}=e,{xLabel:M=""}=e,{yLabel:E=""}=e,{margins:T=[1,.75,.5,.5]}=e;const L=qn(),O={small:30,medium:40,large:50,xlarge:60},P={small:5,medium:8,large:12,xlarge:15},S={small:4,medium:6,large:8,xlarge:10},w={small:10,medium:12,large:14,xlarge:16},q={small:11,medium:13,large:16,xlarge:19},Y={small:10,medium:13,large:15,xlarge:17},W={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},le=["●","◼","▲","▼","⬥","＋","*","×"],me="plottingArea"+Math.round(Math.random()*1e4);let D,j=100,Z=100,Ee=0,Be=0,Ne=0;function Ke(U,ce){const Me=Array.prototype.indexOf.call(ce.parentNode.children,ce);L(U,{seriesTitle:ce.parentNode.getAttribute("title"),elementID:Me})}function je(U){if(U.target.tagName==="text"&&U.target.parentNode.classList.contains("series_points")){Ke("markerclick",U.target);return}if(U.target.tagName==="rect"&&U.target.parentNode.classList.contains("series_bar")){Ke("barclick",U.target);return}L("axesclick")}const Le=function(U,ce){if(!(!u||U===void 0||U===null)&&(Array.isArray(U)&&(U=Re(U)),!(!Ce(U)||U.length<1)))return U.apply(Me=>Hi((Me-ce[1])*ce[0]+ce[2])).v},qe=function(U,ce){if(!(!u||U===void 0||U===null)&&(Array.isArray(U)&&(U=Re(U)),!(!Ce(U)||U.length<1)))return U.apply(Me=>(Me-ce[2])/ce[0]+ce[1]).v},Ve=$t("medium");re(l,Ve,U=>t(25,f=U));const Ae=$t({coords:[1,0,0],objects:[1,0,0]});re(l,Ae,U=>t(28,m=U));const Fe=$t({coords:[1,0,0],objects:[1,0,0]});re(l,Fe,U=>t(26,a=U));const Ge=$t(!1);re(l,Ge,U=>t(5,u=U));const Oe=$t(y);re(l,Oe,U=>t(29,_=U));const ye=$t(b);re(l,ye,U=>t(27,c=U)),fo("axes",{transform:Le,invTransform:qe,scale:Ve,isOk:Ge,xLim:Oe,yLim:ye,tX:Ae,tY:Fe,xLabel:M,yLabel:E,LINE_STYLES:W,LABELS_MARGIN:Y,TICK_NUM:P,TICK_SIZE:S,MARKER_SYMBOLS:le,LEGEND_FONT_SIZE:w});const lt=new ResizeObserver(U=>{for(let ce of U){const Me=D.getBoundingClientRect(),Jt=Gi(Me.width,Me.height);Ve.update(Ur=>Jt);const Bt=q[Jt]*1.5;t(7,Ee=M&&M!==""?Bt:0),Be=E&&E!==""?Bt:0,t(8,Ne=N&&N!==""?Bt:0),t(3,j=Me.width>Ee?Me.width-Ee:0),t(4,Z=Me.height>Be+Ne?Me.height-Be-Ne:0)}});oo(()=>{lt.observe(D)}),io(()=>{lt.unobserve(D)});function xe(U){J[U?"unshift":"push"](()=>{D=U,t(6,D)})}function st(U){J[U?"unshift":"push"](()=>{D=U,t(6,D)})}return l.$$set=U=>{"limX"in U&&t(21,y=U.limX),"limY"in U&&t(22,b=U.limY),"title"in U&&t(0,N=U.title),"xLabel"in U&&t(1,M=U.xLabel),"yLabel"in U&&t(2,E=U.yLabel),"margins"in U&&t(23,T=U.margins),"$$scope"in U&&t(30,A=U.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&41943040&&t(24,n=T.map(U=>U*O[f])),l.$$.dirty[0]&2097152&&Oe.update(U=>y),l.$$.dirty[0]&4194304&&ye.update(U=>b),l.$$.dirty[0]&687865880&&Ge.update(U=>Array.isArray(c)&&Array.isArray(_)&&_.length===2&&c.length===2&&!c.some(ce=>ce===void 0)&&!_.some(ce=>ce===void 0)&&!c.some(ce=>isNaN(ce))&&!_.some(ce=>isNaN(ce))&&_[1]!==_[0]&&c[1]!==c[0]&&j>n[1]+n[3]&&Z>n[0]+n[2]),l.$$.dirty[0]&553648168&&u&&Ae.update(U=>({coords:[(j-n[1]-n[3])/(_[1]-_[0]),_[0],n[1]],objects:[(j-n[1]-n[3])/(_[1]-_[0]),0,0]})),l.$$.dirty[0]&150994992&&u&&Fe.update(U=>({coords:[-(Z-n[0]-n[2])/(c[1]-c[0]),c[1],n[2]],objects:[(Z-n[0]-n[2])/(c[1]-c[0]),0,0]})),l.$$.dirty[0]&805306400&&t(12,s=u?Le(_,m.coords):[0,1]),l.$$.dirty[0]&201326624&&t(11,r=u?Le(c,a.coords):[1,0]),l.$$.dirty[0]&33554432&&t(10,o=q[f])},t(9,i="font-weight:bold;text-anchor:middle;"),[N,M,E,j,Z,u,D,Ee,Ne,i,o,r,s,me,je,Ve,Ae,Fe,Ge,Oe,ye,y,b,T,n,f,a,c,m,_,A,h,xe,st]}class zt extends ue{constructor(e){super(),ae(this,e,Zi,Qi,se,{limX:21,limY:22,title:0,xLabel:1,yLabel:2,margins:23},null,[-1,-1])}}const ze={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_LIGHT:"#d2ebff",PRIMARY_TEXT:"#333"};function $l(l,e,t){const n=l.slice();return n[17]=e[t],n[19]=t,n}function zl(l){let e,t=ke(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=ql($l(l,t,s));return{c(){e=_e("g");for(let s=0;s<n.length;s+=1)n[s].c();p(e,"class",l[0])},m(s,r){v(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&62){t=ke(s[1]);let o;for(o=0;o<t.length;o+=1){const i=$l(s,t,o);n[o]?n[o].p(i,r):(n[o]=ql(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}r&1&&p(e,"class",s[0])},d(s){s&&k(e),Xe(n,s)}}}function ql(l){let e,t,n,s,r;return{c(){e=_e("line"),p(e,"vector-effect","non-scaling-stroke"),p(e,"x1",t=l[1][l[19]]),p(e,"x2",n=l[2][l[19]]),p(e,"y1",s=l[3][l[19]]),p(e,"y2",r=l[4][l[19]]),p(e,"style",l[5])},m(o,i){v(o,e,i)},p(o,i){i&2&&t!==(t=o[1][o[19]])&&p(e,"x1",t),i&4&&n!==(n=o[2][o[19]])&&p(e,"x2",n),i&8&&s!==(s=o[3][o[19]])&&p(e,"y1",s),i&16&&r!==(r=o[4][o[19]])&&p(e,"y2",r),i&32&&p(e,"style",o[5])},d(o){o&&k(e)}}}function Ji(l){let e,t=l[1]!==void 0&&l[3]!==void 0&&l[2]!==void 0&&l[4]!==void 0&&zl(l);return{c(){t&&t.c(),e=te()},m(n,s){t&&t.m(n,s),v(n,e,s)},p(n,[s]){n[1]!==void 0&&n[3]!==void 0&&n[2]!==void 0&&n[4]!==void 0?t?t.p(n,s):(t=zl(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){n&&k(e),t&&t.d(n)}}}function xi(l,e,t){let n,s,r,o,{lineCoords:i=[]}=e,{lineColor:f=ze.DARKGRAY}=e,{lineType:a=1}=e,{lineWidth:c=1}=e,{className:u=""}=e;const m=Je("axes"),_=m.scale;re(l,_,E=>t(13,s=E));const h=m.tX;re(l,h,E=>t(15,o=E));const A=m.tY;re(l,A,E=>t(14,r=E));let y,b,N,M;return l.$$set=E=>{"lineCoords"in E&&t(9,i=E.lineCoords),"lineColor"in E&&t(10,f=E.lineColor),"lineType"in E&&t(11,a=E.lineType),"lineWidth"in E&&t(12,c=E.lineWidth),"className"in E&&t(0,u=E.className)},l.$$.update=()=>{l.$$.dirty&49664&&i.length==2&&(t(1,y=m.transform(i[0][0],o.coords)),t(3,N=m.transform(i[0][1],r.coords)),t(2,b=m.transform(i[1][0],o.coords)),t(4,M=m.transform(i[1][1],r.coords))),l.$$.dirty&15360&&t(5,n=`stroke:${f};stroke-width: ${c}px;stroke-dasharray:${m.LINE_STYLES[s][a-1]}`)},[u,y,b,N,M,n,_,h,A,i,f,a,c,s,r,o]}class vn extends ue{constructor(e){super(),ae(this,e,xi,Ji,se,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}const H1="";function Fl(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function Ol(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function Pl(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function Il(l){let e;function t(r,o){return r[2]===2&&r[1]===4?nf:r[2]===2&&r[1]===1?tf:ef}let n=t(l),s=n(l);return{c(){e=_e("g"),s.c(),p(e,"class","tick_labels"),p(e,"style",l[9])},m(r,o){v(r,e,o),s.m(e,null),l[21](e)},p(r,o){n===(n=t(r))&&s?s.p(r,o):(s.d(1),s=n(r),s&&(s.c(),s.m(e,null))),o&512&&p(e,"style",r[9])},d(r){r&&k(e),s.d(),l[21](null)}}}function ef(l){let e,t=ke(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=jl(Fl(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=te()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);v(s,e,r)},p(s,r){if(r&497){t=ke(s[4]);let o;for(o=0;o<t.length;o+=1){const i=Fl(s,t,o);n[o]?n[o].p(i,r):(n[o]=jl(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),Xe(n,s)}}}function tf(l){let e,t=ke(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Vl(Ol(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=te()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);v(s,e,r)},p(s,r){if(r&177){t=ke(s[4]);let o;for(o=0;o<t.length;o+=1){const i=Ol(s,t,o);n[o]?n[o].p(i,r):(n[o]=Vl(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),Xe(n,s)}}}function nf(l){let e,t=ke(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Yl(Pl(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=te()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);v(s,e,r)},p(s,r){if(r&113){t=ke(s[4]);let o;for(o=0;o<t.length;o+=1){const i=Pl(s,t,o);n[o]?n[o].p(i,r):(n[o]=Yl(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),Xe(n,s)}}}function jl(l){let e,t=l[0][l[25]]+"",n,s;return{c(){e=_e("text"),p(e,"data-id",l[25]),p(e,"x",n=l[4][l[25]]),p(e,"y",s=l[5][l[25]]),p(e,"dx",l[6]),p(e,"dy",l[7]),p(e,"text-anchor",l[8]),p(e,"class","svelte-131ks7u")},m(r,o){v(r,e,o),e.innerHTML=t},p(r,o){o&1&&t!==(t=r[0][r[25]]+"")&&(e.innerHTML=t),o&16&&n!==(n=r[4][r[25]])&&p(e,"x",n),o&32&&s!==(s=r[5][r[25]])&&p(e,"y",s),o&64&&p(e,"dx",r[6]),o&128&&p(e,"dy",r[7]),o&256&&p(e,"text-anchor",r[8])},d(r){r&&k(e)}}}function Vl(l){let e,t=l[0][l[25]]+"",n,s,r,o;return{c(){e=_e("text"),p(e,"data-id",l[25]),p(e,"x",n=l[4][l[25]]),p(e,"y",s=l[5][l[25]]),p(e,"dx",r=-l[7]/2),p(e,"dy",0),p(e,"transform",o=`rotate(-90, ${l[4][l[25]]}, ${l[5][l[25]]})`),p(e,"text-anchor","end"),p(e,"class","svelte-131ks7u")},m(i,f){v(i,e,f),e.innerHTML=t},p(i,f){f&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),f&16&&n!==(n=i[4][i[25]])&&p(e,"x",n),f&32&&s!==(s=i[5][i[25]])&&p(e,"y",s),f&128&&r!==(r=-i[7]/2)&&p(e,"dx",r),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&p(e,"transform",o)},d(i){i&&k(e)}}}function Yl(l){let e,t=l[0][l[25]]+"",n,s,r,o;return{c(){e=_e("text"),p(e,"data-id",l[25]),p(e,"x",n=l[4][l[25]]),p(e,"y",s=l[5][l[25]]),p(e,"dx",0),p(e,"dy",r=l[6]*1.25),p(e,"transform",o=`rotate(-90, ${l[4][l[25]]}, ${l[5][l[25]]})`),p(e,"text-anchor","middle"),p(e,"class","svelte-131ks7u")},m(i,f){v(i,e,f),e.innerHTML=t},p(i,f){f&1&&t!==(t=i[0][i[25]]+"")&&(e.innerHTML=t),f&16&&n!==(n=i[4][i[25]])&&p(e,"x",n),f&32&&s!==(s=i[5][i[25]])&&p(e,"y",s),f&64&&r!==(r=i[6]*1.25)&&p(e,"dy",r),f&48&&o!==(o=`rotate(-90, ${i[4][i[25]]}, ${i[5][i[25]]})`)&&p(e,"transform",o)},d(i){i&&k(e)}}}function lf(l){let e,t=l[4]!==void 0&&l[5]!==void 0&&Il(l);return{c(){t&&t.c(),e=te()},m(n,s){t&&t.m(n,s),v(n,e,s)},p(n,[s]){n[4]!==void 0&&n[5]!==void 0?t?t.p(n,s):(t=Il(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){n&&k(e),t&&t.d(n)}}}function sf(l,e,t){let n,s,r,o,i,f,{tickCoords:a}=e,{textColor:c}=e,{tickLabels:u}=e,{pos:m=1}=e,{las:_=1}=e;const h=Je("axes"),A=h.scale;re(l,A,w=>t(17,r=w));const y=h.tX;re(l,y,w=>t(19,i=w));const b=h.tY;re(l,b,w=>t(18,o=w));const N=h.isOk;re(l,N,w=>t(20,f=w));let M,E,T,L=0,O=0,P;function S(w){J[w?"unshift":"push"](()=>{M=w,t(3,M)})}return l.$$set=w=>{"tickCoords"in w&&t(14,a=w.tickCoords),"textColor"in w&&t(15,c=w.textColor),"tickLabels"in w&&t(0,u=w.tickLabels),"pos"in w&&t(1,m=w.pos),"las"in w&&t(2,_=w.las)},l.$$.update=()=>{l.$$.dirty&1851392&&f&&(t(4,E=h.transform(a[1][0],i.coords)),t(5,T=h.transform(a[1][1],o.coords))),l.$$.dirty&131072&&t(16,n=h.LABELS_MARGIN[r]),l.$$.dirty&65538&&(t(8,P=["middle","middle","start","middle","end"][m]),t(6,L=[0,0,n,0,-n][m]),t(7,O=[0,n,0,-n,0][m])),l.$$.dirty&32768&&t(9,s=`dominant-baseline:middle;fill:${c};font-size:1em; text-anchor:middle;`)},[u,m,_,M,E,T,L,O,P,s,A,y,b,N,a,c,n,r,o,i,f,S]}class Dl extends ue{constructor(e){super(),ae(this,e,sf,lf,se,{tickCoords:14,textColor:15,tickLabels:0,pos:1,las:2})}}function Bl(l){let e,t;return e=new vn({props:{lineCoords:l[5],lineColor:l[11],lineType:3}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&32&&(r.lineCoords=n[5]),s&2048&&(r.lineColor=n[11]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Wl(l){let e,t;return e=new Dl({props:{las:l[2],pos:l[3],tickCoords:l[7],tickLabels:l[0],textColor:l[12]}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&4&&(r.las=n[2]),s&8&&(r.pos=n[3]),s&128&&(r.tickCoords=n[7]),s&1&&(r.tickLabels=n[0]),s&4096&&(r.textColor=n[12]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Hl(l){let e,t;return e=new Dl({props:{pos:l[3],tickCoords:l[8],tickLabels:[Gl(l[9])],textColor:l[12]}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.pos=n[3]),s&256&&(r.tickCoords=n[8]),s&512&&(r.tickLabels=[Gl(n[9])]),s&4096&&(r.textColor=n[12]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function rf(l){let e,t,n,s,r,o,i,f=l[1]&&Bl(l);n=new vn({props:{lineCoords:l[6],lineColor:l[10],lineType:1}}),s=new vn({props:{lineCoords:l[7],lineColor:l[10],lineType:1}});let a=l[7].length===2&&l[0].length===l[7][1][0].length&&Wl(l),c=l[9]!==0&&Hl(l);return{c(){e=_e("g"),f&&f.c(),t=te(),z(n.$$.fragment),z(s.$$.fragment),a&&a.c(),r=te(),c&&c.c(),p(e,"class",o="mdaplot__axis "+l[4])},m(u,m){v(u,e,m),f&&f.m(e,null),C(e,t),R(n,e,null),R(s,e,null),a&&a.m(e,null),C(e,r),c&&c.m(e,null),i=!0},p(u,[m]){u[1]?f?(f.p(u,m),m&2&&g(f,1)):(f=Bl(u),f.c(),g(f,1),f.m(e,t)):f&&(X(),d(f,1,1,()=>{f=null}),Q());const _={};m&64&&(_.lineCoords=u[6]),m&1024&&(_.lineColor=u[10]),n.$set(_);const h={};m&128&&(h.lineCoords=u[7]),m&1024&&(h.lineColor=u[10]),s.$set(h),u[7].length===2&&u[0].length===u[7][1][0].length?a?(a.p(u,m),m&129&&g(a,1)):(a=Wl(u),a.c(),g(a,1),a.m(e,r)):a&&(X(),d(a,1,1,()=>{a=null}),Q()),u[9]!==0?c?(c.p(u,m),m&512&&g(c,1)):(c=Hl(u),c.c(),g(c,1),c.m(e,null)):c&&(X(),d(c,1,1,()=>{c=null}),Q()),(!i||m&16&&o!==(o="mdaplot__axis "+u[4]))&&p(e,"class",o)},i(u){i||(g(f),g(n.$$.fragment,u),g(s.$$.fragment,u),g(a),g(c),i=!0)},o(u){d(f),d(n.$$.fragment,u),d(s.$$.fragment,u),d(a),d(c),i=!1},d(u){u&&k(e),f&&f.d(),$(n),$(s),a&&a.d(),c&&c.d()}}}function Gl(l){return l===0?"":l<0?`&times;10<tspan dy="-0.5em">${l.toString()}</tspan>`:`&times;10<tspan dy="-0.5em">${l.toString()}</tspan>`}function of(l,e,t){let{tickLabels:n=[]}=e,{showGrid:s=!1}=e,{las:r=1}=e,{pos:o=1}=e,{className:i=""}=e,{grid:f=[]}=e,{axisLine:a=[]}=e,{tickCoords:c=[]}=e,{tfCoords:u=[]}=e,{tickFactor:m=0}=e,{lineColor:_=ze.DARKGRAY}=e,{gridColor:h=ze.MIDDLEGRAY}=e,{textColor:A=ze.DARKGRAY}=e;return l.$$set=y=>{"tickLabels"in y&&t(0,n=y.tickLabels),"showGrid"in y&&t(1,s=y.showGrid),"las"in y&&t(2,r=y.las),"pos"in y&&t(3,o=y.pos),"className"in y&&t(4,i=y.className),"grid"in y&&t(5,f=y.grid),"axisLine"in y&&t(6,a=y.axisLine),"tickCoords"in y&&t(7,c=y.tickCoords),"tfCoords"in y&&t(8,u=y.tfCoords),"tickFactor"in y&&t(9,m=y.tickFactor),"lineColor"in y&&t(10,_=y.lineColor),"gridColor"in y&&t(11,h=y.gridColor),"textColor"in y&&t(12,A=y.textColor)},[n,s,r,o,i,f,a,c,u,m,_,h,A]}class Ul extends ue{constructor(e){super(),ae(this,e,of,rf,se,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,tfCoords:8,tickFactor:9,lineColor:10,gridColor:11,textColor:12})}}function Kl(l){let e,t;return e=new Ul({props:{className:"mdaplot__xaxis",pos:1,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],tfCoords:l[10],tickFactor:l[11],las:l[2]}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.lineColor=n[3]),s&16&&(r.gridColor=n[4]),s&32&&(r.textColor=n[5]),s&2&&(r.showGrid=n[1]),s&128&&(r.grid=n[7]),s&256&&(r.axisLine=n[8]),s&512&&(r.tickCoords=n[9]),s&1&&(r.tickLabels=n[0]),s&1024&&(r.tfCoords=n[10]),s&2048&&(r.tickFactor=n[11]),s&4&&(r.las=n[2]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function ff(l){let e,t,n=l[6]&&l[8].length>0&&Kl(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[6]&&s[8].length>0?n?(n.p(s,r),r&320&&g(n,1)):(n=Kl(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function af(l,e,t){let n,s,r,o,i,{slot:f="xaxis"}=e,{ticks:a=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:u=!1}=e,{las:m=1}=e,{lineColor:_=ze.DARKGRAY}=e,{gridColor:h=ze.MIDDLEGRAY}=e,{textColor:A=ze.DARKGRAY}=e;if(f!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const y=Je("axes"),b=y.xLim;re(l,b,q=>t(19,n=q));const N=y.yLim;re(l,N,q=>t(20,s=q));const M=y.scale;re(l,M,q=>t(22,o=q));const E=y.isOk;re(l,E,q=>t(6,i=q));const T=y.tY;re(l,T,q=>t(21,r=q));let L=[],O=[],P=[],S=[],w=0;return l.$$set=q=>{"slot"in q&&t(17,f=q.slot),"ticks"in q&&t(18,a=q.ticks),"tickLabels"in q&&t(0,c=q.tickLabels),"showGrid"in q&&t(1,u=q.showGrid),"las"in q&&t(2,m=q.las),"lineColor"in q&&t(3,_=q.lineColor),"gridColor"in q&&t(4,h=q.gridColor),"textColor"in q&&t(5,A=q.textColor)},l.$$.update=()=>{if(l.$$.dirty&8126529&&i){const q=Cl(a,n,y.TICK_NUM[o],!0),Y=q.length,W=y.invTransform([y.TICK_SIZE[o]],r.objects)[0],le=pe.fill(s[0],Y),me=le.add(W),D=pe.fill(s[1],Y);if((a===void 0||c===void 0)&&t(11,[w,c]=yl(q.v),w,(t(0,c),t(6,i),t(18,a),t(19,n),t(22,o),t(21,r),t(20,s))),c.length!==q.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';t(7,L=[[q,le],[q,D]]),t(8,O=[[Re([n[0]]),Re([s[0]])],[Re([n[1]]),Re([s[0]])]]),t(9,P=[[q,me],[q,le]]),t(10,S=[[null,null],[[n[1]],[le.v[Y-1]-1.5*W]]])}},[c,u,m,_,h,A,i,L,O,P,S,w,b,N,M,E,T,f,a,n,s,r,o]}class qt extends ue{constructor(e){super(),ae(this,e,af,ff,se,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function Xl(l){let e,t;return e=new Ul({props:{className:"mdaplot__yaxis",pos:4,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],tfCoords:l[10],tickFactor:l[11],las:l[2]}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.lineColor=n[3]),s&16&&(r.gridColor=n[4]),s&32&&(r.textColor=n[5]),s&2&&(r.showGrid=n[1]),s&128&&(r.grid=n[7]),s&256&&(r.axisLine=n[8]),s&512&&(r.tickCoords=n[9]),s&1&&(r.tickLabels=n[0]),s&1024&&(r.tfCoords=n[10]),s&2048&&(r.tickFactor=n[11]),s&4&&(r.las=n[2]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function uf(l){let e,t,n=l[6]&&l[8].length>0&&Xl(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[6]&&s[8].length>0?n?(n.p(s,r),r&320&&g(n,1)):(n=Xl(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function cf(l,e,t){let n,s,r,o,i,{slot:f="yaxis"}=e,{ticks:a=void 0}=e,{tickLabels:c=void 0}=e,{showGrid:u=!1}=e,{las:m=1}=e,{lineColor:_=ze.DARKGRAY}=e,{gridColor:h=ze.MIDDLEGRAY}=e,{textColor:A=ze.DARKGRAY}=e;if(f!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const y=Je("axes"),b=y.xLim;re(l,b,q=>t(20,s=q));const N=y.yLim;re(l,N,q=>t(19,n=q));const M=y.scale;re(l,M,q=>t(22,o=q));const E=y.isOk;re(l,E,q=>t(6,i=q));const T=y.tX;re(l,T,q=>t(21,r=q));let L=[],O=[],P=[],S=[],w=0;return l.$$set=q=>{"slot"in q&&t(17,f=q.slot),"ticks"in q&&t(18,a=q.ticks),"tickLabels"in q&&t(0,c=q.tickLabels),"showGrid"in q&&t(1,u=q.showGrid),"las"in q&&t(2,m=q.las),"lineColor"in q&&t(3,_=q.lineColor),"gridColor"in q&&t(4,h=q.gridColor),"textColor"in q&&t(5,A=q.textColor)},l.$$.update=()=>{if(l.$$.dirty&8126529&&i){const q=Cl(a,n,y.TICK_NUM[o],!0),Y=q.length,W=y.invTransform([y.TICK_SIZE[o]],r.objects)[0],le=pe.fill(s[0],Y),me=le.add(W),D=pe.fill(s[1],Y);if((a===void 0||c===void 0)&&t(11,[w,c]=yl(q.v),w,(t(0,c),t(6,i),t(18,a),t(19,n),t(22,o),t(21,r),t(20,s))),c.length!==q.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';t(7,L=[[le,q],[D,q]]),t(8,O=[[Re([s[0]]),Re([n[0]])],[Re([s[0]]),Re([n[1]])]]),t(9,P=[[le,q],[me,q]]),t(10,S=[[[],[]],[[le.v[Y-1]],[n[1]]]])}},[c,u,m,_,h,A,i,L,O,P,S,w,b,N,M,E,T,f,a,n,s,r,o]}class Ft extends ue{constructor(e){super(),ae(this,e,cf,uf,se,{slot:17,ticks:18,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function Ql(l){let e,t,n,s,r,o;return{c(){e=_e("g"),t=_e("rect"),p(t,"x",n=l[2][0]),p(t,"y",s=l[1][1]),p(t,"width",r=l[2][1]-l[2][0]),p(t,"height",o=l[1][0]-l[1][1]),p(t,"style",l[3]),He(e,"pointer-events","none"),p(e,"class","mdaplot__axes-box")},m(i,f){v(i,e,f),C(e,t)},p(i,f){f&4&&n!==(n=i[2][0])&&p(t,"x",n),f&2&&s!==(s=i[1][1])&&p(t,"y",s),f&4&&r!==(r=i[2][1]-i[2][0])&&p(t,"width",r),f&2&&o!==(o=i[1][0]-i[1][1])&&p(t,"height",o)},d(i){i&&k(e)}}}function mf(l){let e,t=l[0]&&Ql(l);return{c(){t&&t.c(),e=te()},m(n,s){t&&t.m(n,s),v(n,e,s)},p(n,[s]){n[0]?t?t.p(n,s):(t=Ql(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){n&&k(e),t&&t.d(n)}}}function _f(l,e,t){let n,s,r,o,i,f,a,{slot:c}=e;if(c!=="box")throw`Component Box must have 'slot="box"' attribute.`;const u=`fill:transparent;stroke:${ze.DARKGRAY};stroke-width:1px;`,m=Je("axes"),_=m.xLim;re(l,_,N=>t(13,a=N));const h=m.yLim;re(l,h,N=>t(11,o=N));const A=m.isOk;re(l,A,N=>t(0,i=N));const y=m.tX;re(l,y,N=>t(12,f=N));const b=m.tY;return re(l,b,N=>t(10,r=N)),l.$$set=N=>{"slot"in N&&t(9,c=N.slot)},l.$$.update=()=>{l.$$.dirty&12289&&t(2,n=i?m.transform(a,f.coords):void 0),l.$$.dirty&3073&&t(1,s=i?m.transform(o,r.coords):void 0)},[i,s,n,u,_,h,A,y,b,c,r,o,f,a]}class Ot extends ue{constructor(e){super(),ae(this,e,_f,mf,se,{slot:9})}}function Zl(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function Jl(l){let e,t,n=ke(l[2]),s=[];for(let r=0;r<n.length;r+=1)s[r]=xl(Zl(l,n,r));return{c(){e=_e("g");for(let r=0;r<s.length;r+=1)s[r].c();p(e,"class",t="series "+l[0]),p(e,"title",l[1]),p(e,"style",l[7])},m(r,o){v(r,e,o);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(r,o){if(o&60){n=ke(r[2]);let i;for(i=0;i<n.length;i+=1){const f=Zl(r,n,i);s[i]?s[i].p(f,o):(s[i]=xl(f),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}o&1&&t!==(t="series "+r[0])&&p(e,"class",t),o&2&&p(e,"title",r[1]),o&128&&p(e,"style",r[7])},d(r){r&&k(e),Xe(s,r)}}}function xl(l){let e,t,n,s,r;return{c(){e=_e("line"),p(e,"x1",t=l[2][l[25]]),p(e,"x2",n=l[3][l[25]]),p(e,"y1",s=l[4][l[25]]),p(e,"y2",r=l[5][l[25]])},m(o,i){v(o,e,i)},p(o,i){i&4&&t!==(t=o[2][o[25]])&&p(e,"x1",t),i&8&&n!==(n=o[3][o[25]])&&p(e,"x2",n),i&16&&s!==(s=o[4][o[25]])&&p(e,"y1",s),i&32&&r!==(r=o[5][o[25]])&&p(e,"y2",r)},d(o){o&&k(e)}}}function pf(l){let e,t=l[6]&&Jl(l);return{c(){t&&t.c(),e=te()},m(n,s){t&&t.m(n,s),v(n,e,s)},p(n,[s]){n[6]?t?t.p(n,s):(t=Jl(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){n&&k(e),t&&t.d(n)}}}function gf(l,e,t){let n,s,r,o,i,{xStart:f}=e,{xEnd:a}=e,{yStart:c}=e,{yEnd:u}=e,{lineColor:m=ze.PRIMARY}=e,{lineType:_=1}=e,{lineWidth:h=1}=e,{className:A="series_seg"}=e,{title:y=""}=e;const b=Je("axes"),N=b.scale;re(l,N,w=>t(19,s=w));const M=b.isOk;re(l,M,w=>t(6,i=w));const E=b.tX;re(l,E,w=>t(21,o=w));const T=b.tY;re(l,T,w=>t(20,r=w));let L,O,P,S;return l.$$set=w=>{"xStart"in w&&t(12,f=w.xStart),"xEnd"in w&&t(13,a=w.xEnd),"yStart"in w&&t(14,c=w.yStart),"yEnd"in w&&t(15,u=w.yEnd),"lineColor"in w&&t(16,m=w.lineColor),"lineType"in w&&t(17,_=w.lineType),"lineWidth"in w&&t(18,h=w.lineWidth),"className"in w&&t(0,A=w.className),"title"in w&&t(1,y=w.title)},l.$$.update=()=>{if(l.$$.dirty&3207292&&i){t(2,L=b.transform(dt(f,"Segments"),o.coords)),t(4,P=b.transform(dt(c,"Segments"),r.coords)),t(3,O=b.transform(dt(a,"Segments"),o.coords)),t(5,S=b.transform(dt(u,"Segments"),r.coords));const w=L.length;if(O.length!==w||P.length!==w||S.length!==w)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}l.$$.dirty&983040&&t(7,n=`stroke:${m};stroke-width: ${h}px;stroke-dasharray:${b.LINE_STYLES[s][_-1]}`)},[A,y,L,O,P,S,i,n,N,M,E,T,f,a,c,u,m,_,h,s,r,o]}class Pt extends ue{constructor(e){super(),ae(this,e,gf,pf,se,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}const G1="",U1="";function es(l,e,t){const n=l.slice();return n[19]=e[t],n[21]=t,n}function ts(l){let e,t=ke(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=ns(es(l,t,s));return{c(){e=_e("g");for(let s=0;s<n.length;s+=1)n[s].c();p(e,"class","series series_points"),p(e,"title",l[0]),p(e,"style",l[5])},m(s,r){v(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&22){t=ke(s[1]);let o;for(o=0;o<t.length;o+=1){const i=es(s,t,o);n[o]?n[o].p(i,r):(n[o]=ns(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}r&1&&p(e,"title",s[0]),r&32&&p(e,"style",s[5])},d(s){s&&k(e),Xe(n,s)}}}function ns(l){let e,t,n,s;return{c(){e=_e("text"),t=G(l[4]),p(e,"x",n=l[1][l[21]]),p(e,"y",s=l[2][l[21]]),p(e,"class","svelte-12moot9")},m(r,o){v(r,e,o),C(e,t)},p(r,o){o&16&&fe(t,r[4]),o&2&&n!==(n=r[1][r[21]])&&p(e,"x",n),o&4&&s!==(s=r[2][r[21]])&&p(e,"y",s)},d(r){r&&k(e)}}}function df(l){let e,t=l[3]&&l[1]!==void 0&&l[2]!==void 0&&ts(l);return{c(){t&&t.c(),e=te()},m(n,s){t&&t.m(n,s),v(n,e,s)},p(n,[s]){n[3]&&n[1]!==void 0&&n[2]!==void 0?t?t.p(n,s):(t=ts(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){n&&k(e),t&&t.d(n)}}}function hf(l,e,t){let n,s,r,o,{xValues:i}=e,{yValues:f}=e,{marker:a=1}=e,{faceColor:c="transparent"}=e,{borderColor:u=ze.PRIMARY}=e,{borderWidth:m=1}=e,{markerSize:_=1}=e,{title:h=""}=e;const A=Je("axes"),y=A.tX;re(l,y,L=>t(17,r=L));const b=A.tY;re(l,b,L=>t(16,s=L));const N=A.isOk;re(l,N,L=>t(3,o=L));let M,E,T;return l.$$set=L=>{"xValues"in L&&t(9,i=L.xValues),"yValues"in L&&t(10,f=L.yValues),"marker"in L&&t(11,a=L.marker),"faceColor"in L&&t(12,c=L.faceColor),"borderColor"in L&&t(13,u=L.borderColor),"borderWidth"in L&&t(14,m=L.borderWidth),"markerSize"in L&&t(15,_=L.markerSize),"title"in L&&t(0,h=L.title)},l.$$.update=()=>{if(l.$$.dirty&200206&&o){if(typeof a!="number"||a<1||a>A.MARKER_SYMBOLS.length)throw Error(`Points: parameter "marker" must be a number from 1 to ${A.MARKER_SYMBOLS.length}.`);if(t(4,T=A.MARKER_SYMBOLS[a-1]),t(1,M=A.transform(dt(i,"Points"),r.coords)),t(2,E=A.transform(dt(f,"Points"),s.coords)),M.length!==E.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}l.$$.dirty&61440&&t(5,n=`dominant-baseline:middle;fill:${c};stroke-width:${m}px;stroke:${u};
      font-size:${_}em; text-anchor:middle;cursor:default;user-select:none;`)},[h,M,E,o,T,n,y,b,N,i,f,a,c,u,m,_,s,r]}class ct extends ue{constructor(e){super(),ae(this,e,hf,df,se,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function ls(l){let e,t;return{c(){e=_e("g"),t=_e("polyline"),p(t,"class","line"),p(t,"points",l[3]),p(e,"class","series series_line"),p(e,"style",l[2]),p(e,"title",l[0])},m(n,s){v(n,e,s),C(e,t)},p(n,s){s&8&&p(t,"points",n[3]),s&4&&p(e,"style",n[2]),s&1&&p(e,"title",n[0])},d(n){n&&k(e)}}}function bf(l){let e,t=l[1]&&l[3]!==void 0&&ls(l);return{c(){t&&t.c(),e=te()},m(n,s){t&&t.m(n,s),v(n,e,s)},p(n,[s]){n[1]&&n[3]!==void 0?t?t.p(n,s):(t=ls(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){n&&k(e),t&&t.d(n)}}}function wf(l,e,t){let n,s,r,o,i,f,{xValues:a}=e,{yValues:c}=e,{lineWidth:u=1}=e,{lineColor:m=ze.PRIMARY}=e,{lineType:_=1}=e,{title:h=""}=e;const A=Je("axes"),y=A.scale;re(l,y,E=>t(13,r=E));const b=A.isOk;re(l,b,E=>t(1,f=E));const N=A.tX;re(l,N,E=>t(15,i=E));const M=A.tY;return re(l,M,E=>t(14,o=E)),l.$$set=E=>{"xValues"in E&&t(8,a=E.xValues),"yValues"in E&&t(9,c=E.yValues),"lineWidth"in E&&t(10,u=E.lineWidth),"lineColor"in E&&t(11,m=E.lineColor),"lineType"in E&&t(12,_=E.lineType),"title"in E&&t(0,h=E.title)},l.$$.update=()=>{l.$$.dirty&49922&&t(3,n=f?Wi(a,c,i,o,A):void 0),l.$$.dirty&15360&&t(2,s=`fill:transparent;stroke:${m};stroke-width: ${u}px; stroke-dasharray:${A.LINE_STYLES[r][_-1]}`)},[h,f,s,n,y,b,N,M,a,c,u,m,_,r,o,i]}class at extends ue{constructor(e){super(),ae(this,e,wf,bf,se,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function ss(l,e,t){const n=l.slice();return n[25]=e[t],n[27]=t,n}function rs(l){let e,t,n,s,r,o=ke(l[0]),i=[];for(let f=0;f<o.length;f+=1)i[f]=fs(ss(l,o,f));return{c(){e=_e("svg"),t=_e("rect");for(let f=0;f<i.length;f+=1)i[f].c();p(t,"height","100%"),p(t,"width","100%"),He(t,"fill","white"),He(t,"stroke",ze.MIDDLEGRAY),p(e,"x",n=l[9]+"px"),p(e,"y",s=l[10]+"px"),p(e,"height",r=l[4]+"px"),p(e,"width",l[5])},m(f,a){v(f,e,a),C(e,t);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null)},p(f,a){if(a&2287){o=ke(f[0]);let c;for(c=0;c<o.length;c+=1){const u=ss(f,o,c);i[c]?i[c].p(u,a):(i[c]=fs(u),i[c].c(),i[c].m(e,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=o.length}a&512&&n!==(n=f[9]+"px")&&p(e,"x",n),a&1024&&s!==(s=f[10]+"px")&&p(e,"y",s),a&16&&r!==(r=f[4]+"px")&&p(e,"height",r),a&32&&p(e,"width",f[5])},d(f){f&&k(e),Xe(i,f)}}}function os(l){let e,t,n,s,r;return{c(){e=_e("line"),p(e,"x1",l[3]),p(e,"x2",t=l[3]+l[2]),p(e,"y1",n=(l[1]+l[3]*2)/2),p(e,"y2",s=(l[1]+l[3]*2)/2),p(e,"style",r=`
      stroke:${l[25].lineColor?l[25].lineColor:ze.PRIMARY};
      stroke-width: ${l[25].lineWidth?l[25].lineWidth:1}px;
      stroke-dasharray:${l[11].LINE_STYLES[l[7]][l[25].lineType-1]}
   `)},m(o,i){v(o,e,i)},p(o,i){i&8&&p(e,"x1",o[3]),i&12&&t!==(t=o[3]+o[2])&&p(e,"x2",t),i&10&&n!==(n=(o[1]+o[3]*2)/2)&&p(e,"y1",n),i&10&&s!==(s=(o[1]+o[3]*2)/2)&&p(e,"y2",s),i&129&&r!==(r=`
      stroke:${o[25].lineColor?o[25].lineColor:ze.PRIMARY};
      stroke-width: ${o[25].lineWidth?o[25].lineWidth:1}px;
      stroke-dasharray:${o[11].LINE_STYLES[o[7]][o[25].lineType-1]}
   `)&&p(e,"style",r)},d(o){o&&k(e)}}}function is(l){let e,t=l[11].MARKER_SYMBOLS[l[25].marker-1]+"",n,s,r,o;return{c(){e=_e("text"),n=G(t),p(e,"x",s=(l[2]+2*l[3])/2+"px"),p(e,"y",r=(l[1]+2*l[3])/2+"px"),p(e,"dominant-baseline","middle"),p(e,"style",o=`
         fill:${l[25].faceColor?l[25].faceColor:"transparent"};
         stroke-width:${l[25].borderWidth?l[25].borderWidth:1}px;
         stroke:${l[25].borderColor?l[25].borderColor:ze.PRIMARY};
         font-size:${l[6]}px;
         text-anchor:middle;`)},m(i,f){v(i,e,f),C(e,n)},p(i,f){f&1&&t!==(t=i[11].MARKER_SYMBOLS[i[25].marker-1]+"")&&fe(n,t),f&12&&s!==(s=(i[2]+2*i[3])/2+"px")&&p(e,"x",s),f&10&&r!==(r=(i[1]+2*i[3])/2+"px")&&p(e,"y",r),f&65&&o!==(o=`
         fill:${i[25].faceColor?i[25].faceColor:"transparent"};
         stroke-width:${i[25].borderWidth?i[25].borderWidth:1}px;
         stroke:${i[25].borderColor?i[25].borderColor:ze.PRIMARY};
         font-size:${i[6]}px;
         text-anchor:middle;`)&&p(e,"style",o)},d(i){i&&k(e)}}}function fs(l){let e,t,n,s="&nbsp;"+l[25].label,r,o,i,f,a,c,u=l[25].lineType&&l[25].lineType>0&&l[25].lineType<=4&&os(l),m=l[25].marker&&l[25].marker>0&&l[25].marker<l[11].MARKER_SYMBOLS.length&&is(l);return{c(){e=_e("svg"),u&&u.c(),t=te(),m&&m.c(),n=_e("text"),p(n,"x",r=l[2]+l[3]*3+"px"),p(n,"y",o=l[3]+"px"),p(n,"dominant-baseline","hanging"),p(n,"style",i=`text-anchor:start;fill:${ze.LEGEND};font-size:${l[6]}px;`),p(e,"x","0px"),p(e,"y",f=l[27]*(l[1]+2*l[3])+"px"),p(e,"width",a=l[5]+"px"),p(e,"height",c=l[1]+2*l[3]+"px")},m(_,h){v(_,e,h),u&&u.m(e,null),C(e,t),m&&m.m(e,null),C(e,n),n.innerHTML=s},p(_,h){_[25].lineType&&_[25].lineType>0&&_[25].lineType<=4?u?u.p(_,h):(u=os(_),u.c(),u.m(e,t)):u&&(u.d(1),u=null),_[25].marker&&_[25].marker>0&&_[25].marker<_[11].MARKER_SYMBOLS.length?m?m.p(_,h):(m=is(_),m.c(),m.m(e,n)):m&&(m.d(1),m=null),h&1&&s!==(s="&nbsp;"+_[25].label)&&(n.innerHTML=s),h&12&&r!==(r=_[2]+_[3]*3+"px")&&p(n,"x",r),h&8&&o!==(o=_[3]+"px")&&p(n,"y",o),h&64&&i!==(i=`text-anchor:start;fill:${ze.LEGEND};font-size:${_[6]}px;`)&&p(n,"style",i),h&10&&f!==(f=_[27]*(_[1]+2*_[3])+"px")&&p(e,"y",f),h&32&&a!==(a=_[5]+"px")&&p(e,"width",a),h&10&&c!==(c=_[1]+2*_[3]+"px")&&p(e,"height",c)},d(_){_&&k(e),u&&u.d(),m&&m.d()}}}function kf(l){let e,t=l[8]&&rs(l);return{c(){t&&t.c(),e=te()},m(n,s){t&&t.m(n,s),v(n,e,s)},p(n,[s]){n[8]?t?t.p(n,s):(t=rs(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){n&&k(e),t&&t.d(n)}}}function vf(l,e){const n=document.createElement("canvas").getContext("2d");return n.font=e,n.measureText(l).width}function yf(l,e,t){const n=e,s=n/4,r=n*1.5,o=n;let i=0;for(let f=0;f<l.length;f++){const a=vf("  "+l[f].label+"  ",e+"px Arial");i=a>i?a:i}return[n,r,s,o,i]}function Cf(l,e,t){let n,s,r,o,i,f,{items:a}=e,{position:c="topleft"}=e;const u=Je("axes"),m=u.scale;re(l,m,Y=>t(7,n=Y));const _=u.xLim;re(l,_,Y=>t(23,i=Y));const h=u.yLim;re(l,h,Y=>t(21,r=Y));const A=u.tX;re(l,A,Y=>t(22,o=Y));const y=u.tY;re(l,y,Y=>t(20,s=Y));const b=u.isOk;re(l,b,Y=>t(8,f=Y));let N,M,E,T,L,O,P,S,w,q;return l.$$set=Y=>{"items"in Y&&t(0,a=Y.items),"position"in Y&&t(18,c=Y.position)},l.$$.update=()=>{if(l.$$.dirty&16515583&&f){t(6,q=u.LEGEND_FONT_SIZE[n]),t(1,[E,T,L,O,P]=yf(a,q),E,(t(2,T),t(8,f),t(7,n),t(0,a),t(6,q),t(18,c),t(1,E),t(3,L),t(19,P),t(23,i),t(22,o),t(5,w),t(21,r),t(20,s),t(4,S)),(t(3,L),t(8,f),t(7,n),t(0,a),t(6,q),t(18,c),t(1,E),t(2,T),t(19,P),t(23,i),t(22,o),t(5,w),t(21,r),t(20,s),t(4,S)),(t(19,P),t(8,f),t(7,n),t(0,a),t(6,q),t(18,c),t(1,E),t(3,L),t(2,T),t(23,i),t(22,o),t(5,w),t(21,r),t(20,s),t(4,S))),t(4,S=(E+2*L)*a.length),t(5,w=T+2*L+P);const Y=u.transform(i,o.coords);t(9,N=c.includes("left")?Y[0]+u.TICK_SIZE[n]:c.includes("right")?Y[1]-w-u.TICK_SIZE[n]:Vt(Y)-w/2);const W=u.transform(r,s.coords);t(10,M=c.includes("top")?W[1]+u.TICK_SIZE[n]:c.includes("bottom")?W[0]-S-u.TICK_SIZE[n]:Vt(W)-S/2)}},[a,E,T,L,S,w,q,n,f,N,M,u,m,_,h,A,y,b,c,P,s,r,o,i]}class Ef extends ue{constructor(e){super(),ae(this,e,Cf,kf,se,{items:0,position:18})}}function as(l,e,t){const n=l.slice();return n[33]=e[t],n[35]=t,n}function us(l,e,t){const n=l.slice();return n[33]=e[t],n[35]=t,n}function cs(l){let e,t,n,s=ke(l[5]),r=[];for(let i=0;i<s.length;i+=1)r[i]=ms(us(l,s,i));let o=l[0]==="show"&&l[3]&&l[3].length>0&&_s(l);return{c(){e=_e("g");for(let i=0;i<r.length;i+=1)r[i].c();t=I(),o&&o.c(),n=te(),p(e,"class","series series_points"),p(e,"title","distance_points"),p(e,"style",l[12])},m(i,f){v(i,e,f);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);v(i,t,f),o&&o.m(i,f),v(i,n,f)},p(i,f){if(f[0]&500){s=ke(i[5]);let a;for(a=0;a<s.length;a+=1){const c=us(i,s,a);r[a]?r[a].p(c,f):(r[a]=ms(c),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=s.length}i[0]==="show"&&i[3]&&i[3].length>0?o?o.p(i,f):(o=_s(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&(k(e),k(t),k(n)),Xe(r,i),o&&o.d(i)}}}function ms(l){let e,t=l[7][l[4][l[35]]]+"",n,s,r,o;return{c(){e=_e("text"),n=G(t),p(e,"x",s=l[5][l[35]]),p(e,"y",r=l[6][l[35]]),p(e,"stroke",o=l[8][l[2][l[35]]])},m(i,f){v(i,e,f),C(e,n)},p(i,f){f[0]&144&&t!==(t=i[7][i[4][i[35]]]+"")&&fe(n,t),f[0]&32&&s!==(s=i[5][i[35]])&&p(e,"x",s),f[0]&64&&r!==(r=i[6][i[35]])&&p(e,"y",r),f[0]&260&&o!==(o=i[8][i[2][i[35]]])&&p(e,"stroke",o)},d(i){i&&k(e)}}}function _s(l){let e,t=ke(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=ps(as(l,t,s));return{c(){e=_e("g");for(let s=0;s<n.length;s+=1)n[s].c();p(e,"class","series series_labels"),p(e,"title","distance_labels"),p(e,"style",l[13])},m(s,r){v(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r[0]&104){t=ke(s[5]);let o;for(o=0;o<t.length;o+=1){const i=as(s,t,o);n[o]?n[o].p(i,r):(n[o]=ps(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),Xe(n,s)}}}function ps(l){let e,t=l[3][l[35]]+"",n,s,r;return{c(){e=_e("text"),n=G(t),p(e,"x",s=l[5][l[35]]),p(e,"y",r=l[6][l[35]]),p(e,"dy",-12)},m(o,i){v(o,e,i),C(e,n)},p(o,i){i[0]&8&&t!==(t=o[3][o[35]]+"")&&fe(n,t),i[0]&32&&s!==(s=o[5][o[35]])&&p(e,"x",s),i[0]&64&&r!==(r=o[6][o[35]])&&p(e,"y",r)},d(o){o&&k(e)}}}function Af(l){let e,t=l[1]&&l[5]&&l[6]&&cs(l);return{c(){t&&t.c(),e=te()},m(n,s){t&&t.m(n,s),v(n,e,s)},p(n,s){n[1]&&n[5]&&n[6]?t?t.p(n,s):(t=cs(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){n&&k(e),t&&t.d(n)}}}const gs="#a0a0a0";function Nf(l,e,t){let n,s,r,o,i,{res:f}=e,{labels:a}=e,{classes:c=[]}=e,{targetClass:u}=e,{colors:m}=e,{transType:_="no"}=e,{distType:h="h/q"}=e,{showLabels:A="hide"}=e,{xMax:y=0}=e,{yMax:b=0}=e;const N=Je("axes"),M=N.tX;re(l,M,j=>t(28,o=j));const E=N.tY;re(l,E,j=>t(27,r=j));const T=N.isOk;re(l,T,j=>t(1,i=j));let L,O,P,S,w,q,Y,W,le;const me="dominant-baseline:middle;font-size:1em;fill:none;text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;",D=`dominant-baseline:middle;font-size:0.85em;fill:${gs};text-anchor:middle;cursor:default;stroke:${gs};stroke-width:0.1px;user-select:none;`;return l.$$set=j=>{"res"in j&&t(16,f=j.res),"labels"in j&&t(17,a=j.labels),"classes"in j&&t(18,c=j.classes),"targetClass"in j&&t(19,u=j.targetClass),"colors"in j&&t(20,m=j.colors),"transType"in j&&t(21,_=j.transType),"distType"in j&&t(22,h=j.distType),"showLabels"in j&&t(0,A=j.showLabels),"xMax"in j&&t(14,y=j.xMax),"yMax"in j&&t(15,b=j.yMax)},l.$$.update=()=>{if(l.$$.dirty[0]&1048576&&t(8,n={regular:m[0],extreme:m[1],outlier:m[2]}),l.$$.dirty[0]&124715008)if(f){const j=f.h.length;if(t(23,L=pe.zeros(j)),t(24,O=pe.zeros(j)),t(25,P=pe.zeros(j)),t(26,S=pe.zeros(j)),t(4,Y=new Int32Array(j)),_==="log")for(let Z=0;Z<j;Z++)t(23,L.v[Z]=Z,L),t(24,O.v[Z]=Math.log(1+f.h[Z]/f.h0),O),t(25,P.v[Z]=Math.log(1+f.q[Z]/f.q0),P),t(26,S.v[Z]=Math.log(1+f.f[Z]),S);else for(let Z=0;Z<j;Z++)t(23,L.v[Z]=Z,L),t(24,O.v[Z]=f.h[Z]/f.h0,O),t(25,P.v[Z]=f.q[Z]/f.q0,P),t(26,S.v[Z]=f.f[Z],S);if(c&&c.length===j)for(let Z=0;Z<j;Z++)t(4,Y[Z]=c[Z]===u?1:2,Y);t(2,w=f.c),t(3,q=a),t(14,y=h==="h/q"?Se(O):S.length),t(15,b=Se(h==="h/q"?P:S))}else t(24,O=null),t(25,P=null),t(26,S=null),t(2,w=null),t(3,q=null),t(4,Y=null);l.$$.dirty[0]&532676610&&i&&O&&P&&S&&(t(5,W=h==="h/q"?N.transform(O,o.coords):N.transform(L,o.coords)),t(6,le=h==="h/q"?N.transform(P,r.coords):N.transform(S,r.coords)))},t(7,s=["⬥","●","■"]),[A,i,w,q,Y,W,le,s,n,M,E,T,me,D,y,b,f,a,c,u,m,_,h,L,O,P,S,r,o]}let Mf=class extends ue{constructor(e){super(),ae(this,e,Nf,Af,se,{res:16,labels:17,classes:18,targetClass:19,colors:20,transType:21,distType:22,showLabels:0,xMax:14,yMax:15},null,[-1,-1])}};function ds(l,e,t){const n=l.slice();return n[22]=e[t],n[24]=t,n}function hs(l){let e,t=ke(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=bs(ds(l,t,s));return{c(){e=_e("g");for(let s=0;s<n.length;s+=1)n[s].c();p(e,"class","series colormap_legend"),He(e,"stroke","0"),He(e,"stroke-width","0px")},m(s,r){v(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&123){t=ke(s[1]);let o;for(o=0;o<t.length;o+=1){const i=ds(s,t,o);n[o]?n[o].p(i,r):(n[o]=bs(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),Xe(n,s)}}}function bs(l){let e,t,n,s,r=l[0][l[24]]+"",o,i;return{c(){e=_e("rect"),s=_e("text"),p(e,"x",t=l[3][l[24]]),p(e,"y",l[4]),p(e,"width",l[5]),p(e,"height",l[6]),p(e,"fill",n=l[22]),p(s,"x",o=l[3][l[24]]+l[5]/2),p(s,"y",l[4]),p(s,"dx",0),p(s,"dy",i=l[6]*1.5),p(s,"dominant-baseline","hanging"),p(s,"fill",Tf),p(s,"font-size",Sf+"em"),p(s,"text-anchor","middle")},m(f,a){v(f,e,a),v(f,s,a),s.innerHTML=r},p(f,a){a&8&&t!==(t=f[3][f[24]])&&p(e,"x",t),a&16&&p(e,"y",f[4]),a&32&&p(e,"width",f[5]),a&64&&p(e,"height",f[6]),a&2&&n!==(n=f[22])&&p(e,"fill",n),a&1&&r!==(r=f[0][f[24]]+"")&&(s.innerHTML=r),a&40&&o!==(o=f[3][f[24]]+f[5]/2)&&p(s,"x",o),a&16&&p(s,"y",f[4]),a&64&&i!==(i=f[6]*1.5)&&p(s,"dy",i)},d(f){f&&(k(e),k(s))}}}function Lf(l){let e,t=l[2]&&l[3].length>0&&hs(l);return{c(){t&&t.c(),e=te()},m(n,s){t&&t.m(n,s),v(n,e,s)},p(n,[s]){n[2]&&n[3].length>0?t?t.p(n,s):(t=hs(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){n&&k(e),t&&t.d(n)}}}const Tf="#909090",Sf=.85,ws=.8,Rf=.02,$f=.25;function zf(l,e,t){let n,s,r,o,i,f,a,{categories:c}=e,{colmap:u}=e,{labels:m}=e;const _={small:5,medium:8,large:10,xlarge:12},h=Je("axes"),A=h.tX;re(l,A,S=>t(16,r=S));const y=h.tY;re(l,y,S=>t(17,o=S));const b=h.xLim;re(l,b,S=>t(19,f=S));const N=h.yLim;re(l,N,S=>t(18,i=S));const M=h.scale;re(l,M,S=>t(15,s=S));const E=h.isOk;re(l,E,S=>t(2,a=S));let T,L,O,P;return l.$$set=S=>{"categories"in S&&t(13,c=S.categories),"colmap"in S&&t(1,u=S.colmap),"labels"in S&&t(0,m=S.labels)},l.$$.update=()=>{if(l.$$.dirty&2&&t(14,n=u.length),l.$$.dirty&8192&&t(0,m=c?Object.keys(c).map(S=>S+": "+c[S]):null),l.$$.dirty&1032196&&a){const S=f[1]-f[0],w=i[1]-i[0],q=S*ws,Y=w*Rf,W=q/n,le=f[0]+S*(1-ws)*.5,me=i[1]-Y*$f;t(4,L=h.transform(me,o.coords)),t(3,T=h.transform(pe.seq(0,n).apply(D=>le+D*W),r.coords)),t(5,O=h.transform([W],r.objects)),t(6,P=_[s]),t(4,L=_[s])}},[m,u,a,T,L,O,P,A,y,b,N,M,E,c,n,s,r,o,i,f]}let qf=class extends ue{constructor(e){super(),ae(this,e,zf,Lf,se,{categories:13,colmap:1,labels:0})}};function ks(l){let e,t;return e=new at({props:{xValues:l[1].x,yValues:l[1].y,lineColor:Cs,lineType:2}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&2&&(r.xValues=n[1].x),s&2&&(r.yValues=n[1].y),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function vs(l){let e,t;return e=new at({props:{xValues:l[0].x,yValues:l[0].y,lineColor:Cs,lineType:3}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.xValues=n[0].x),s&1&&(r.yValues=n[0].y),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Ff(l){let e,t,n,s=l[1]&&ks(l),r=l[0]&&vs(l);return{c(){s&&s.c(),e=I(),r&&r.c(),t=te()},m(o,i){s&&s.m(o,i),v(o,e,i),r&&r.m(o,i),v(o,t,i),n=!0},p(o,[i]){o[1]?s?(s.p(o,i),i&2&&g(s,1)):(s=ks(o),s.c(),g(s,1),s.m(e.parentNode,e)):s&&(X(),d(s,1,1,()=>{s=null}),Q()),o[0]?r?(r.p(o,i),i&1&&g(r,1)):(r=vs(o),r.c(),g(r,1),r.m(t.parentNode,t)):r&&(X(),d(r,1,1,()=>{r=null}),Q())},i(o){n||(g(s),g(r),n=!0)},o(o){d(s),d(r),n=!1},d(o){o&&(k(e),k(t)),s&&s.d(o),r&&r.d(o)}}}const ys=100,Cs="#909090";function Of(l,e,t){let{simca:n}=e,{transType:s="no"}=e,{distType:r="h/q"}=e,{xMax:o=0}=e,{yMax:i=0}=e;function f(u,m,_,h,A){if(A==="f")return{x:Re([0,1e3]),y:Re(h==="log"?[Math.log(1+u),Math.log(1+u)]:[u,u])};const y=u/_,b=-m/_,N=-y/b,M=pe.seq(0,N*1,N/ys),E=M.apply(T=>T*b+y);return{x:h==="log"?M.apply(T=>Math.log(1+T)):M,y:h==="log"?E.apply(T=>Math.log(1+T)):E}}let a=null,c=null;return l.$$set=u=>{"simca"in u&&t(4,n=u.simca),"transType"in u&&t(5,s=u.transType),"distType"in u&&t(6,r=u.distType),"xMax"in u&&t(2,o=u.xMax),"yMax"in u&&t(3,i=u.yMax)},l.$$.update=()=>{if(l.$$.dirty&113)if(n){const u=n.ncomp-1;t(1,a=f(n.eCrit[u],n.Nh[u],n.Nq[u],s,r)),t(0,c=f(n.oCrit[u],n.Nh[u],n.Nq[u],s,r)),t(2,o=r==="h/q"?c.x.v[ys-1]:1),t(3,i=c.y.v[0])}else t(1,a=null),t(0,c=null),t(2,o=1),t(3,i=1)},[c,a,o,i,n,s,r]}let Pf=class extends ue{constructor(e){super(),ae(this,e,Of,Ff,se,{simca:4,transType:5,distType:6,xMax:2,yMax:3})}};function Es(l){let e,t;return e=new zt({props:{margins:l[16],xLabel:l[13],yLabel:l[12],limX:l[11],limY:l[10],title:l[14],$$slots:{box:[Yf],yaxis:[Vf],xaxis:[jf],default:[If]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&8192&&(r.xLabel=n[13]),s&4096&&(r.yLabel=n[12]),s&2048&&(r.limX=n[11]),s&1024&&(r.limY=n[10]),s&16384&&(r.title=n[14]),s&67142654&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function If(l){let e,t,n,s,r,o,i,f,a,c;function u(b){l[22](b)}function m(b){l[23](b)}let _={colors:l[17],res:l[15].v[l[5]-1],labels:l[15].labels,classes:l[15].classes,targetClass:l[1].className,distType:l[2],transType:l[3],showLabels:l[4]};l[6]!==void 0&&(_.xMax=l[6]),l[7]!==void 0&&(_.yMax=l[7]),e=new Mf({props:_}),J.push(()=>oe(e,"xMax",u)),J.push(()=>oe(e,"yMax",m));function h(b){l[24](b)}function A(b){l[25](b)}let y={simca:l[1],transType:l[3],distType:l[2]};return l[8]!==void 0&&(y.xMax=l[8]),l[9]!==void 0&&(y.yMax=l[9]),r=new Pf({props:y}),J.push(()=>oe(r,"xMax",h)),J.push(()=>oe(r,"yMax",A)),a=new qf({props:{categories:l[15].v[l[5]-1].cnum,colmap:l[17]}}),{c(){z(e.$$.fragment),s=I(),z(r.$$.fragment),f=I(),z(a.$$.fragment)},m(b,N){R(e,b,N),v(b,s,N),R(r,b,N),v(b,f,N),R(a,b,N),c=!0},p(b,N){const M={};N&32800&&(M.res=b[15].v[b[5]-1]),N&32768&&(M.labels=b[15].labels),N&32768&&(M.classes=b[15].classes),N&2&&(M.targetClass=b[1].className),N&4&&(M.distType=b[2]),N&8&&(M.transType=b[3]),N&16&&(M.showLabels=b[4]),!t&&N&64&&(t=!0,M.xMax=b[6],ie(()=>t=!1)),!n&&N&128&&(n=!0,M.yMax=b[7],ie(()=>n=!1)),e.$set(M);const E={};N&2&&(E.simca=b[1]),N&8&&(E.transType=b[3]),N&4&&(E.distType=b[2]),!o&&N&256&&(o=!0,E.xMax=b[8],ie(()=>o=!1)),!i&&N&512&&(i=!0,E.yMax=b[9],ie(()=>i=!1)),r.$set(E);const T={};N&32800&&(T.categories=b[15].v[b[5]-1].cnum),a.$set(T)},i(b){c||(g(e.$$.fragment,b),g(r.$$.fragment,b),g(a.$$.fragment,b),c=!0)},o(b){d(e.$$.fragment,b),d(r.$$.fragment,b),d(a.$$.fragment,b),c=!1},d(b){b&&(k(s),k(f)),$(e,b),$(r,b),$(a,b)}}}function jf(l){let e,t;return e=new qt({props:{showGrid:As,slot:"xaxis"}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:H,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Vf(l){let e,t;return e=new Ft({props:{showGrid:As,slot:"yaxis"}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:H,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Yf(l){let e,t;return e=new Ot({props:{slot:"box"}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:H,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Df(l){let e,t,n=l[15]&&l[0]&&Es(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[15]&&s[0]?n?(n.p(s,r),r&32769&&g(n,1)):(n=Es(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}const As=!0;function yn(l,e){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance"}[l]+", "+(e==="log"?"log(1 + "+l+"/"+l+"0)":l+"/"+l+"0")}function Bf(l,e,t){let n,s,r,o,i,f,a,c,{params:u}=e,{simcares:m}=e,{simca:_}=e;const h=[.85,1,.25,.25],A=["#2679B2","#F2B825","#D22C2F"];let y="h/q",b="no",N="no",M=m?Object.keys(m)[0]:"",E=1,T=1,L=1,O=1,P=1;function S(W){T=W,t(6,T)}function w(W){L=W,t(7,L)}function q(W){O=W,t(8,O)}function Y(W){P=W,t(9,P)}return l.$$set=W=>{"params"in W&&t(0,u=W.params),"simcares"in W&&t(18,m=W.simcares),"simca"in W&&t(1,_=W.simca)},l.$$.update=()=>{l.$$.dirty&524289&&u&&u.resID!==M&&t(19,M=u.resID),l.$$.dirty&5&&u&&u.distType!==y&&t(2,y=u.distType),l.$$.dirty&9&&u&&u.transType!==b&&t(3,b=u.transType),l.$$.dirty&17&&u&&u.showLabels!==N&&t(4,N=u.showLabels),l.$$.dirty&34&&_&&_.ncomp!==E&&t(5,E=_.ncomp),l.$$.dirty&786432&&t(15,n=m&&M?m[M]:null),l.$$.dirty&32&&t(14,s="Acceptance plot (A = "+E+")"),l.$$.dirty&12&&t(13,r=y==="f"?"Objects":yn("h",b)),l.$$.dirty&12&&t(12,o=yn(y==="h/q"?"q":"f",b)),l.$$.dirty&320&&t(21,i=Se([T,O])),l.$$.dirty&640&&t(20,f=Se([L,P])),l.$$.dirty&2097152&&t(11,a=[-.02*i,1.05*i]),l.$$.dirty&1048576&&t(10,c=[-.02*f,1.2*f])},[u,_,y,b,N,E,T,L,O,P,c,a,o,r,s,n,h,A,m,M,f,i,S,w,q,Y]}let Ns=class extends ue{constructor(e){super(),ae(this,e,Bf,Df,se,{params:0,simcares:18,simca:1})}};function Ms(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o,i,f,a,c;e=new ee({props:{label:"",$$slots:{default:[Wf]},$$scope:{ctx:l}}});let u=n&&Ls(l);return r=new ee({props:{label:"Distances:",$$slots:{default:[Gf]},$$scope:{ctx:l}}}),i=new ee({props:{label:"Transform:",$$slots:{default:[Uf]},$$scope:{ctx:l}}}),a=new ee({props:{label:"Labels:",$$slots:{default:[Kf]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment),t=I(),u&&u.c(),s=I(),z(r.$$.fragment),o=I(),z(i.$$.fragment),f=I(),z(a.$$.fragment)},m(m,_){R(e,m,_),v(m,t,_),u&&u.m(m,_),v(m,s,_),R(r,m,_),v(m,o,_),R(i,m,_),v(m,f,_),R(a,m,_),c=!0},p(m,_){const h={};_&1024&&(h.$$scope={dirty:_,ctx:m}),e.$set(h),_&1&&(n=Object.keys(m[0]).length>1),n?u?(u.p(m,_),_&1&&g(u,1)):(u=Ls(m),u.c(),g(u,1),u.m(s.parentNode,s)):u&&(X(),d(u,1,1,()=>{u=null}),Q());const A={};_&1026&&(A.$$scope={dirty:_,ctx:m}),r.$set(A);const y={};_&1028&&(y.$$scope={dirty:_,ctx:m}),i.$set(y);const b={};_&1032&&(b.$$scope={dirty:_,ctx:m}),a.$set(b)},i(m){c||(g(e.$$.fragment,m),g(u),g(r.$$.fragment,m),g(i.$$.fragment,m),g(a.$$.fragment,m),c=!0)},o(m){d(e.$$.fragment,m),d(u),d(r.$$.fragment,m),d(i.$$.fragment,m),d(a.$$.fragment,m),c=!1},d(m){m&&(k(t),k(s),k(o),k(f)),$(e,m),u&&u.d(m),$(r,m),$(i,m),$(a,m)}}}function Wf(l){let e;return{c(){e=F("p"),e.textContent="Acceptance plot",p(e,"class","title")},m(t,n){v(t,e,n)},p:H,d(t){t&&k(e)}}}function Ls(l){let e,t;return e=new ee({props:{label:"Results:",$$slots:{default:[Hf]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1041&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Hf(l){let e,t,n;function s(o){l[6](o)}let r={id:"resType",options:Object.keys(l[0])};return l[4]!==void 0&&(r.value=l[4]),e=new ve({props:r}),J.push(()=>oe(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&16&&(t=!0,f.value=o[4],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function Gf(l){let e,t,n;function s(o){l[7](o)}let r={id:"distances",options:["h/q","f"]};return l[1]!==void 0&&(r.value=l[1]),e=new ve({props:r}),J.push(()=>oe(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function Uf(l){let e,t,n;function s(o){l[8](o)}let r={id:"limType",options:["no","log"]};return l[2]!==void 0&&(r.value=l[2]),e=new ve({props:r}),J.push(()=>oe(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function Kf(l){let e,t,n;function s(o){l[9](o)}let r={id:"showLabels",options:["hide","show"]};return l[3]!==void 0&&(r.value=l[3]),e=new ve({props:r}),J.push(()=>oe(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function Xf(l){let e,t,n=l[0]&&Ms(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&g(n,1)):(n=Ms(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Qf(l,e,t){let{params:n}=e,{simcares:s}=e,r="h/q",o="no",i="hide",f=s?Object.keys(s)[0]:"";function a(_){f=_,t(4,f)}function c(_){r=_,t(1,r)}function u(_){o=_,t(2,o)}function m(_){i=_,t(3,i)}return l.$$set=_=>{"params"in _&&t(5,n=_.params),"simcares"in _&&t(0,s=_.simcares)},l.$$.update=()=>{l.$$.dirty&30&&t(5,n={distType:r,transType:o,showLabels:i,resID:f})},[s,r,o,i,f,n,a,c,u,m]}let Ts=class extends ue{constructor(e){super(),ae(this,e,Qf,Xf,se,{params:5,simcares:0})}};function Ss(l){let e,t;return e=new zt({props:{margins:l[9],title:l[8],xLabel:l[1],yLabel:l[2],limX:[-1,l[3]+2],limY:[-1,l[3]+2],$$slots:{box:[ea],yaxis:[xf],xaxis:[Jf],default:[Zf]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&256&&(r.title=n[8]),s&2&&(r.xLabel=n[1]),s&4&&(r.yLabel=n[2]),s&8&&(r.limX=[-1,n[3]+2]),s&8&&(r.limY=[-1,n[3]+2]),s&262385&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Zf(l){let e,t,n,s,r,o,i,f,a,c;return e=new at({props:{xValues:l[4],yValues:l[4],lineColor:"#e0e0e0"}}),n=new at({props:{xValues:l[4],yValues:l[5],lineColor:"#e0e0e0"}}),r=new at({props:{xValues:l[4],yValues:l[6],lineColor:"#e0e0e0"}}),i=new Pt({props:{xStart:l[4],xEnd:l[4],yStart:l[5],yEnd:l[6],lineColor:"#e0e0e0"}}),a=new ct({props:{xValues:l[4],yValues:l[7],borderWidth:2}}),{c(){z(e.$$.fragment),t=I(),z(n.$$.fragment),s=I(),z(r.$$.fragment),o=I(),z(i.$$.fragment),f=I(),z(a.$$.fragment)},m(u,m){R(e,u,m),v(u,t,m),R(n,u,m),v(u,s,m),R(r,u,m),v(u,o,m),R(i,u,m),v(u,f,m),R(a,u,m),c=!0},p(u,m){const _={};m&16&&(_.xValues=u[4]),m&16&&(_.yValues=u[4]),e.$set(_);const h={};m&16&&(h.xValues=u[4]),m&32&&(h.yValues=u[5]),n.$set(h);const A={};m&16&&(A.xValues=u[4]),m&64&&(A.yValues=u[6]),r.$set(A);const y={};m&16&&(y.xStart=u[4]),m&16&&(y.xEnd=u[4]),m&32&&(y.yStart=u[5]),m&64&&(y.yEnd=u[6]),i.$set(y);const b={};m&16&&(b.xValues=u[4]),m&128&&(b.yValues=u[7]),a.$set(b)},i(u){c||(g(e.$$.fragment,u),g(n.$$.fragment,u),g(r.$$.fragment,u),g(i.$$.fragment,u),g(a.$$.fragment,u),c=!0)},o(u){d(e.$$.fragment,u),d(n.$$.fragment,u),d(r.$$.fragment,u),d(i.$$.fragment,u),d(a.$$.fragment,u),c=!1},d(u){u&&(k(t),k(s),k(o),k(f)),$(e,u),$(n,u),$(r,u),$(i,u),$(a,u)}}}function Jf(l){let e,t;return e=new qt({props:{showGrid:l[0],slot:"xaxis"}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function xf(l){let e,t;return e=new Ft({props:{showGrid:l[0],slot:"yaxis"}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.showGrid=n[0]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function ea(l){let e,t;return e=new Ot({props:{slot:"box"}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:H,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function ta(l){let e,t,n=l[4]&&l[7]&&Ss(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[4]&&s[7]?n?(n.p(s,r),r&144&&g(n,1)):(n=Ss(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function na(l,e,t){let n,s,r,o,i,{params:f}=e,{simcares:a}=e,{simca:c}=e;const u=[.85,1,.25,.25];let{showGrid:m=!0}=e,{xLabel:_="Number of extremes (expected)"}=e,{yLabel:h="Number of extremes (observed)"}=e,A=a?Object.keys(a)[0]:"";function y(T){const L=T.f.length;let O=pe.zeros(L);for(let P=0;P<L;P++){const S=cn(T.f[P],T.Nf);O=O.add(E.apply(w=>1-S<w))}return O}let b,N,M,E;return l.$$set=T=>{"params"in T&&t(10,f=T.params),"simcares"in T&&t(11,a=T.simcares),"simca"in T&&t(12,c=T.simca),"showGrid"in T&&t(0,m=T.showGrid),"xLabel"in T&&t(1,_=T.xLabel),"yLabel"in T&&t(2,h=T.yLabel)},l.$$.update=()=>{if(l.$$.dirty&9216&&f&&f.resID!==A&&t(13,A=f.resID),l.$$.dirty&4096&&t(14,n=c?c.ncomp:null),l.$$.dirty&16384&&t(8,s=n?"Extremes plot (A = "+n+")":""),l.$$.dirty&10240&&t(15,r=a&&A?a[A]:null),l.$$.dirty&49152&&t(3,o=r?r.v[n].f.length:null),l.$$.dirty&8)if(o){E=pe.zeros(o),t(4,b=pe.zeros(o)),t(5,N=pe.zeros(o)),t(6,M=pe.zeros(o));for(let T=1;T<=o;T++){const L=T/o,O=2*Math.sqrt(T*(1-L));t(5,N.v[T-1]=T-O,N),t(6,M.v[T-1]=T+O,M),E.v[T-1]=L,t(4,b.v[T-1]=T,b)}}else t(4,b=null),t(5,N=null),t(6,M=null),E=null;l.$$.dirty&49152&&t(7,i=r?y(r.v[n]):null)},[m,_,h,o,b,N,M,i,s,u,f,a,c,A,n,r]}class Rs extends ue{constructor(e){super(),ae(this,e,na,ta,se,{params:10,simcares:11,simca:12,showGrid:0,xLabel:1,yLabel:2})}}function $s(l){let e,t,n=Object.keys(l[0]).length>1,s,r;e=new ee({props:{label:"",$$slots:{default:[la]},$$scope:{ctx:l}}});let o=n&&zs(l);return{c(){z(e.$$.fragment),t=I(),o&&o.c(),s=te()},m(i,f){R(e,i,f),v(i,t,f),o&&o.m(i,f),v(i,s,f),r=!0},p(i,f){const a={};f&16&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),f&1&&(n=Object.keys(i[0]).length>1),n?o?(o.p(i,f),f&1&&g(o,1)):(o=zs(i),o.c(),g(o,1),o.m(s.parentNode,s)):o&&(X(),d(o,1,1,()=>{o=null}),Q())},i(i){r||(g(e.$$.fragment,i),g(o),r=!0)},o(i){d(e.$$.fragment,i),d(o),r=!1},d(i){i&&(k(t),k(s)),$(e,i),o&&o.d(i)}}}function la(l){let e;return{c(){e=F("p"),e.textContent="Extremes plot",p(e,"class","title")},m(t,n){v(t,e,n)},p:H,d(t){t&&k(e)}}}function zs(l){let e,t;return e=new ee({props:{label:"Results:",$$slots:{default:[sa]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&19&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function sa(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new ve({props:r}),J.push(()=>oe(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&2&&(t=!0,f.value=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function ra(l){let e,t,n=l[0]&&$s(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&g(n,1)):(n=$s(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function oa(l,e,t){let{params:n}=e,{simcares:s}=e,r=s?Object.keys(s)[0]:"";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={resID:r})},[s,r,n,o]}class qs extends ue{constructor(e){super(),ae(this,e,oa,ra,se,{params:2,simcares:0})}}function Fs(l){let e,t;return e=new zt({props:{margins:l[9],title:pa,xLabel:ma,yLabel:_a,limX:[0,l[3]+1],limY:[-1,l[7][l[1]]],$$slots:{box:[ua],yaxis:[aa],xaxis:[fa],default:[ia]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.limX=[0,n[3]+1]),s&130&&(r.limY=[-1,n[7][n[1]]]),s&8694&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Os(l){let e,t,n,s,r,o;return e=new at({props:{xValues:l[6],yValues:l[5],lineWidth:1.5,lineColor:l[10][0]}}),n=new ct({props:{xValues:l[6],yValues:l[5],borderWidth:1.5,faceColor:"#fff",borderColor:l[10][0]}}),r=new ct({props:{xValues:[l[6].v[l[8]-1]],yValues:[l[5].v[l[8]-1]],borderWidth:4,faceColor:l[10][0],borderColor:l[10][0]}}),{c(){z(e.$$.fragment),t=I(),z(n.$$.fragment),s=I(),z(r.$$.fragment)},m(i,f){R(e,i,f),v(i,t,f),R(n,i,f),v(i,s,f),R(r,i,f),o=!0},p(i,f){const a={};f&64&&(a.xValues=i[6]),f&32&&(a.yValues=i[5]),e.$set(a);const c={};f&64&&(c.xValues=i[6]),f&32&&(c.yValues=i[5]),n.$set(c);const u={};f&320&&(u.xValues=[i[6].v[i[8]-1]]),f&288&&(u.yValues=[i[5].v[i[8]-1]]),r.$set(u)},i(i){o||(g(e.$$.fragment,i),g(n.$$.fragment,i),g(r.$$.fragment,i),o=!0)},o(i){d(e.$$.fragment,i),d(n.$$.fragment,i),d(r.$$.fragment,i),o=!1},d(i){i&&(k(t),k(s)),$(e,i),$(n,i),$(r,i)}}}function Ps(l){let e,t,n,s,r,o;return e=new at({props:{xValues:l[6],yValues:l[4],lineWidth:1.5,lineColor:l[10][1]}}),n=new ct({props:{xValues:l[6],yValues:l[4],borderWidth:1.5,faceColor:"#fff",borderColor:l[10][1]}}),r=new ct({props:{xValues:[l[6].v[l[8]-1]],yValues:[l[4].v[l[8]-1]],borderWidth:4,faceColor:l[10][1],borderColor:l[10][1]}}),{c(){z(e.$$.fragment),t=I(),z(n.$$.fragment),s=I(),z(r.$$.fragment)},m(i,f){R(e,i,f),v(i,t,f),R(n,i,f),v(i,s,f),R(r,i,f),o=!0},p(i,f){const a={};f&64&&(a.xValues=i[6]),f&16&&(a.yValues=i[4]),e.$set(a);const c={};f&64&&(c.xValues=i[6]),f&16&&(c.yValues=i[4]),n.$set(c);const u={};f&320&&(u.xValues=[i[6].v[i[8]-1]]),f&272&&(u.yValues=[i[4].v[i[8]-1]]),r.$set(u)},i(i){o||(g(e.$$.fragment,i),g(n.$$.fragment,i),g(r.$$.fragment,i),o=!0)},o(i){d(e.$$.fragment,i),d(n.$$.fragment,i),d(r.$$.fragment,i),o=!1},d(i){i&&(k(t),k(s)),$(e,i),$(n,i),$(r,i)}}}function ia(l){let e,t,n,s,r,o;e=new Pt({props:{xStart:[l[8]],xEnd:[l[8]],yStart:[-1],yEnd:[l[7][l[1]]],lineColor:"#00000040"}});let i=(l[1]==="Nh"||l[1]==="both")&&Os(l),f=(l[1]==="Nq"||l[1]==="both")&&Ps(l);return r=new Ef({props:{items:l[2]}}),{c(){z(e.$$.fragment),t=I(),i&&i.c(),n=I(),f&&f.c(),s=I(),z(r.$$.fragment)},m(a,c){R(e,a,c),v(a,t,c),i&&i.m(a,c),v(a,n,c),f&&f.m(a,c),v(a,s,c),R(r,a,c),o=!0},p(a,c){const u={};c&256&&(u.xStart=[a[8]]),c&256&&(u.xEnd=[a[8]]),c&130&&(u.yEnd=[a[7][a[1]]]),e.$set(u),a[1]==="Nh"||a[1]==="both"?i?(i.p(a,c),c&2&&g(i,1)):(i=Os(a),i.c(),g(i,1),i.m(n.parentNode,n)):i&&(X(),d(i,1,1,()=>{i=null}),Q()),a[1]==="Nq"||a[1]==="both"?f?(f.p(a,c),c&2&&g(f,1)):(f=Ps(a),f.c(),g(f,1),f.m(s.parentNode,s)):f&&(X(),d(f,1,1,()=>{f=null}),Q());const m={};c&4&&(m.items=a[2]),r.$set(m)},i(a){o||(g(e.$$.fragment,a),g(i),g(f),g(r.$$.fragment,a),o=!0)},o(a){d(e.$$.fragment,a),d(i),d(f),d(r.$$.fragment,a),o=!1},d(a){a&&(k(t),k(n),k(s)),$(e,a),i&&i.d(a),f&&f.d(a),$(r,a)}}}function fa(l){let e,t;return e=new qt({props:{showGrid:Is,slot:"xaxis"}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:H,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function aa(l){let e,t;return e=new Ft({props:{showGrid:Is,slot:"yaxis"}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:H,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function ua(l){let e,t;return e=new Ot({props:{slot:"box"}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:H,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function ca(l){let e,t,n=(l[0],l[6],l[5],l[4]&&Fs(l));return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[0],s[6],s[5],s[4]?n?(n.p(s,r),r&113&&g(n,1)):(n=Fs(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}const Is=!0,ma="Number of PCs",_a="Degrees of freedom, Nu",pa="DoF plot";function ga(l,e,t){let n,s,r,o,i,f,{params:a}=e,{simcares:c}=e,{simca:u}=e;const m=[.85,1,.25,.25],_=["#2679B2","#D22C2F"];let h="both",A=[];return l.$$set=y=>{"params"in y&&t(0,a=y.params),"simcares"in y&&t(11,c=y.simcares),"simca"in y&&t(12,u=y.simca)},l.$$.update=()=>{l.$$.dirty&3&&a&&a.item&&a.item!==h&&t(1,h=a.item),l.$$.dirty&6&&(h?(t(2,A=[]),(h==="Nh"||h==="both")&&A.push({label:"Nh",borderColor:_[0],marker:1,borderWidth:2}),(h==="Nq"||h==="both")&&A.push({label:"Nq",borderColor:_[1],marker:1,borderWidth:2})):t(2,A=null)),l.$$.dirty&4096&&t(8,n=u?u.ncomp:null),l.$$.dirty&4096&&t(5,s=u?new pe(u.Nh):null),l.$$.dirty&4096&&t(4,r=u?new pe(u.Nq):null),l.$$.dirty&4096&&t(3,o=u.Nh.length),l.$$.dirty&48&&t(7,i={both:1.2*Se([Se(s),Se(r)]),Nh:1.2*Se(s),Nq:1.2*Se(r)}),l.$$.dirty&4104&&t(6,f=u?pe.seq(1,o):null)},[a,h,A,o,r,s,f,i,n,m,_,c,u]}class da extends ue{constructor(e){super(),ae(this,e,ga,ca,se,{params:0,simcares:11,simca:12})}}function js(l){let e,t,n,s;return e=new ee({props:{label:"",$$slots:{default:[ha]},$$scope:{ctx:l}}}),n=new ee({props:{label:"Results:",$$slots:{default:[ba]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment),t=I(),z(n.$$.fragment)},m(r,o){R(e,r,o),v(r,t,o),R(n,r,o),s=!0},p(r,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:r}),e.$set(i);const f={};o&18&&(f.$$scope={dirty:o,ctx:r}),n.$set(f)},i(r){s||(g(e.$$.fragment,r),g(n.$$.fragment,r),s=!0)},o(r){d(e.$$.fragment,r),d(n.$$.fragment,r),s=!1},d(r){r&&k(t),$(e,r),$(n,r)}}}function ha(l){let e;return{c(){e=F("p"),e.textContent="DoF plot",p(e,"class","title")},m(t,n){v(t,e,n)},p:H,d(t){t&&k(e)}}}function ba(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:["both","Nh","Nq"]};return l[1]!==void 0&&(r.value=l[1]),e=new ve({props:r}),J.push(()=>oe(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function wa(l){let e,t,n=l[0]&&js(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&g(n,1)):(n=js(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function ka(l,e,t){let{params:n}=e,{simcares:s}=e,r="both";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={item:r})},[s,r,n,o]}class va extends ue{constructor(e){super(),ae(this,e,ka,wa,se,{params:2,simcares:0})}}function Vs(l){let e,t;return e=new zt({props:{margins:l[5],title:Ta,xLabel:Ma,yLabel:La,limX:[0,l[3].length+1],limY:[-.1,1.1],$$slots:{box:[Aa],yaxis:[Ea],xaxis:[Ca],default:[ya]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.limX=[0,n[3].length+1]),s&542&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function ya(l){let e,t,n,s,r,o,i,f,a,c;return e=new Pt({props:{xStart:[l[4]],xEnd:[l[4]],yStart:[-1],yEnd:[1.1],lineColor:"#00000040"}}),n=new Pt({props:{xStart:[0],xEnd:[l[3].length+1],yStart:[1-l[1].alpha/100],yEnd:[1-l[1].alpha/100],lineColor:"#D22C2F",lineType:2}}),r=new at({props:{xValues:l[3],yValues:l[2],lineWidth:1.5,lineColor:"#2679B2"}}),i=new ct({props:{xValues:l[3],yValues:l[2],borderWidth:1.5,faceColor:"#fff",borderColor:"#2679B2"}}),a=new ct({props:{xValues:[l[3].v[l[4]-1]],yValues:[l[2][l[4]-1]],borderWidth:4,faceColor:"#2679B2",borderColor:"#2679B2"}}),{c(){z(e.$$.fragment),t=I(),z(n.$$.fragment),s=I(),z(r.$$.fragment),o=I(),z(i.$$.fragment),f=I(),z(a.$$.fragment)},m(u,m){R(e,u,m),v(u,t,m),R(n,u,m),v(u,s,m),R(r,u,m),v(u,o,m),R(i,u,m),v(u,f,m),R(a,u,m),c=!0},p(u,m){const _={};m&16&&(_.xStart=[u[4]]),m&16&&(_.xEnd=[u[4]]),e.$set(_);const h={};m&8&&(h.xEnd=[u[3].length+1]),m&2&&(h.yStart=[1-u[1].alpha/100]),m&2&&(h.yEnd=[1-u[1].alpha/100]),n.$set(h);const A={};m&8&&(A.xValues=u[3]),m&4&&(A.yValues=u[2]),r.$set(A);const y={};m&8&&(y.xValues=u[3]),m&4&&(y.yValues=u[2]),i.$set(y);const b={};m&24&&(b.xValues=[u[3].v[u[4]-1]]),m&20&&(b.yValues=[u[2][u[4]-1]]),a.$set(b)},i(u){c||(g(e.$$.fragment,u),g(n.$$.fragment,u),g(r.$$.fragment,u),g(i.$$.fragment,u),g(a.$$.fragment,u),c=!0)},o(u){d(e.$$.fragment,u),d(n.$$.fragment,u),d(r.$$.fragment,u),d(i.$$.fragment,u),d(a.$$.fragment,u),c=!1},d(u){u&&(k(t),k(s),k(o),k(f)),$(e,u),$(n,u),$(r,u),$(i,u),$(a,u)}}}function Ca(l){let e,t;return e=new qt({props:{showGrid:Ys,slot:"xaxis"}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:H,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Ea(l){let e,t;return e=new Ft({props:{showGrid:Ys,slot:"yaxis"}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:H,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Aa(l){let e,t;return e=new Ot({props:{slot:"box"}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:H,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Na(l){let e,t,n=(l[0],l[3],l[2]&&Vs(l));return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[0],s[3],s[2]?n?(n.p(s,r),r&13&&g(n,1)):(n=Vs(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}const Ys=!0,Ma="Number of PCs",La="Sensitivity",Ta="Sensitivity plot";function Sa(l,e,t){let n,s,r,o,{params:i}=e,{simcares:f}=e,{simca:a}=e;const c=[.85,1,.25,.25];let u=f?Object.keys(f)[0]:"";return l.$$set=m=>{"params"in m&&t(0,i=m.params),"simcares"in m&&t(6,f=m.simcares),"simca"in m&&t(1,a=m.simca)},l.$$.update=()=>{l.$$.dirty&129&&i&&i.resID!==u&&t(7,u=i.resID),l.$$.dirty&192&&t(8,n=f&&u?f[u]:null),l.$$.dirty&2&&t(4,s=a?a.ncomp:null),l.$$.dirty&256&&t(2,r=n?n.v.map(m=>m.stat.sensitivity):null),l.$$.dirty&4&&t(3,o=r?pe.seq(1,r.length):null)},[i,a,r,o,s,c,f,u,n]}class Ds extends ue{constructor(e){super(),ae(this,e,Sa,Na,se,{params:0,simcares:6,simca:1})}}function Bs(l){let e,t,n=Object.keys(l[0]).length>1,s,r;e=new ee({props:{label:"",$$slots:{default:[Ra]},$$scope:{ctx:l}}});let o=n&&Ws(l);return{c(){z(e.$$.fragment),t=I(),o&&o.c(),s=te()},m(i,f){R(e,i,f),v(i,t,f),o&&o.m(i,f),v(i,s,f),r=!0},p(i,f){const a={};f&16&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),f&1&&(n=Object.keys(i[0]).length>1),n?o?(o.p(i,f),f&1&&g(o,1)):(o=Ws(i),o.c(),g(o,1),o.m(s.parentNode,s)):o&&(X(),d(o,1,1,()=>{o=null}),Q())},i(i){r||(g(e.$$.fragment,i),g(o),r=!0)},o(i){d(e.$$.fragment,i),d(o),r=!1},d(i){i&&(k(t),k(s)),$(e,i),o&&o.d(i)}}}function Ra(l){let e;return{c(){e=F("p"),e.textContent="Sensitivity plot",p(e,"class","title")},m(t,n){v(t,e,n)},p:H,d(t){t&&k(e)}}}function Ws(l){let e,t;return e=new ee({props:{label:"Results:",$$slots:{default:[$a]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&19&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function $a(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new ve({props:r}),J.push(()=>oe(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&2&&(t=!0,f.value=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function za(l){let e,t,n=l[0]&&Bs(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&g(n,1)):(n=Bs(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function qa(l,e,t){let{params:n}=e,{simcares:s}=e,r=s?Object.keys(s)[0]:"";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={resID:r})},[s,r,n,o]}class Hs extends ue{constructor(e){super(),ae(this,e,qa,za,se,{params:2,simcares:0})}}function Gs(l){let e,t;return e=new zt({props:{margins:l[5],title:Da,xLabel:Va,yLabel:Ya,limX:[0,l[3].length+1],limY:[-.1,1.1],$$slots:{box:[Ia],yaxis:[Pa],xaxis:[Oa],default:[Fa]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.limX=[0,n[3].length+1]),s&542&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Fa(l){let e,t,n,s,r,o,i,f,a,c;return e=new Pt({props:{xStart:[l[4]],xEnd:[l[4]],yStart:[-1],yEnd:[1.1],lineColor:"#00000040"}}),n=new Pt({props:{xStart:[0],xEnd:[l[3].length+1],yStart:[1-l[1].alpha/100],yEnd:[1-l[1].alpha/100],lineColor:"#D22C2F",lineType:2}}),r=new at({props:{xValues:l[3],yValues:l[2],lineWidth:1.5,lineColor:"#2679B2"}}),i=new ct({props:{xValues:l[3],yValues:l[2],borderWidth:1.5,faceColor:"#fff",borderColor:"#2679B2"}}),a=new ct({props:{xValues:[l[3].v[l[4]-1]],yValues:[l[2][l[4]-1]],borderWidth:4,faceColor:"#2679B2",borderColor:"#2679B2"}}),{c(){z(e.$$.fragment),t=I(),z(n.$$.fragment),s=I(),z(r.$$.fragment),o=I(),z(i.$$.fragment),f=I(),z(a.$$.fragment)},m(u,m){R(e,u,m),v(u,t,m),R(n,u,m),v(u,s,m),R(r,u,m),v(u,o,m),R(i,u,m),v(u,f,m),R(a,u,m),c=!0},p(u,m){const _={};m&16&&(_.xStart=[u[4]]),m&16&&(_.xEnd=[u[4]]),e.$set(_);const h={};m&8&&(h.xEnd=[u[3].length+1]),m&2&&(h.yStart=[1-u[1].alpha/100]),m&2&&(h.yEnd=[1-u[1].alpha/100]),n.$set(h);const A={};m&8&&(A.xValues=u[3]),m&4&&(A.yValues=u[2]),r.$set(A);const y={};m&8&&(y.xValues=u[3]),m&4&&(y.yValues=u[2]),i.$set(y);const b={};m&24&&(b.xValues=[u[3].v[u[4]-1]]),m&20&&(b.yValues=[u[2][u[4]-1]]),a.$set(b)},i(u){c||(g(e.$$.fragment,u),g(n.$$.fragment,u),g(r.$$.fragment,u),g(i.$$.fragment,u),g(a.$$.fragment,u),c=!0)},o(u){d(e.$$.fragment,u),d(n.$$.fragment,u),d(r.$$.fragment,u),d(i.$$.fragment,u),d(a.$$.fragment,u),c=!1},d(u){u&&(k(t),k(s),k(o),k(f)),$(e,u),$(n,u),$(r,u),$(i,u),$(a,u)}}}function Oa(l){let e,t;return e=new qt({props:{showGrid:Us,slot:"xaxis"}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:H,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Pa(l){let e,t;return e=new Ft({props:{showGrid:Us,slot:"yaxis"}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:H,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Ia(l){let e,t;return e=new Ot({props:{slot:"box"}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:H,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function ja(l){let e,t,n=(l[0],l[3],l[2]&&Gs(l));return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[0],s[3],s[2]?n?(n.p(s,r),r&13&&g(n,1)):(n=Gs(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}const Us=!0,Va="Number of PCs",Ya="Specificity",Da="Specificity plot";function Ba(l,e,t){let n,s,r,o,{params:i}=e,{simcares:f}=e,{simca:a}=e;const c=[.85,1,.25,.25];let u=f?Object.keys(f)[0]:"";return l.$$set=m=>{"params"in m&&t(0,i=m.params),"simcares"in m&&t(6,f=m.simcares),"simca"in m&&t(1,a=m.simca)},l.$$.update=()=>{l.$$.dirty&129&&i&&i.resID!==u&&t(7,u=i.resID),l.$$.dirty&192&&t(8,n=f&&u?f[u]:null),l.$$.dirty&2&&t(4,s=a?a.ncomp:null),l.$$.dirty&256&&t(2,r=n?n.v.map(m=>m.stat.specificity):null),l.$$.dirty&4&&t(3,o=r?pe.seq(1,r.length):null)},[i,a,r,o,s,c,f,u,n]}class Wa extends ue{constructor(e){super(),ae(this,e,Ba,ja,se,{params:0,simcares:6,simca:1})}}function Ks(l){let e,t,n=Object.keys(l[0]).length>1,s,r;e=new ee({props:{label:"",$$slots:{default:[Ha]},$$scope:{ctx:l}}});let o=n&&Xs(l);return{c(){z(e.$$.fragment),t=I(),o&&o.c(),s=te()},m(i,f){R(e,i,f),v(i,t,f),o&&o.m(i,f),v(i,s,f),r=!0},p(i,f){const a={};f&16&&(a.$$scope={dirty:f,ctx:i}),e.$set(a),f&1&&(n=Object.keys(i[0]).length>1),n?o?(o.p(i,f),f&1&&g(o,1)):(o=Xs(i),o.c(),g(o,1),o.m(s.parentNode,s)):o&&(X(),d(o,1,1,()=>{o=null}),Q())},i(i){r||(g(e.$$.fragment,i),g(o),r=!0)},o(i){d(e.$$.fragment,i),d(o),r=!1},d(i){i&&(k(t),k(s)),$(e,i),o&&o.d(i)}}}function Ha(l){let e;return{c(){e=F("p"),e.textContent="Specificity plot",p(e,"class","title")},m(t,n){v(t,e,n)},p:H,d(t){t&&k(e)}}}function Xs(l){let e,t;return e=new ee({props:{label:"Results:",$$slots:{default:[Ga]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&19&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Ga(l){let e,t,n;function s(o){l[3](o)}let r={id:"resType",options:Object.keys(l[0])};return l[1]!==void 0&&(r.value=l[1]),e=new ve({props:r}),J.push(()=>oe(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&2&&(t=!0,f.value=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function Ua(l){let e,t,n=l[0]&&Ks(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&g(n,1)):(n=Ks(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Ka(l,e,t){let{params:n}=e,{simcares:s}=e,r=s?Object.keys(s)[0]:"";function o(i){r=i,t(1,r)}return l.$$set=i=>{"params"in i&&t(2,n=i.params),"simcares"in i&&t(0,s=i.simcares)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n={resID:r})},[s,r,n,o]}class Xa extends ue{constructor(e){super(),ae(this,e,Ka,Ua,se,{params:2,simcares:0})}}function Qa(l){let e,t;return e=new kn({props:{simcares:l[0],simca:l[1],options:l[2]}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,[s]){const r={};s&1&&(r.simcares=n[0]),s&2&&(r.simca=n[1]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Za(l,e,t){let{simcares:n}=e,{simca:s}=e;const r=[{label:"Acceptance",plotComponent:Ns,controlsComponent:Ts},{label:"DoF",plotComponent:da,controlsComponent:va},{label:"Extremes",plotComponent:Rs,controlsComponent:qs},{label:"Sensitivity",plotComponent:Ds,controlsComponent:Hs}];return l.$$set=o=>{"simcares"in o&&t(0,n=o.simcares),"simca"in o&&t(1,s=o.simca)},[n,s,r]}let Ja=class extends ue{constructor(e){super(),ae(this,e,Za,Qa,se,{simcares:0,simca:1})}};const K1="";function Qs(l){let e,t,n,s,r,o,i,f=l[0].Nh[l[1]-1]+"",a,c,u,m=l[0].Nq[l[1]-1]+"",_,h,A,y=l[0].Nf[l[1]-1]+"",b,N,M,E,T,L,O=l[0].h0[l[1]-1].toFixed(2)+"",P,S,w,q=l[0].q0[l[1]-1].toFixed(l[0].q0[l[1]-1]>99?0:2)+"",Y,W,le,me,D,j,Z,Ee,Be,Ne,Ke,je,Le=l[0].eCrit[l[1]-1].toFixed(1)+"",qe,Ve,Ae,Fe,Ge,Oe,ye,Pe,lt,xe,st=l[0].oCrit[l[1]-1].toFixed(1)+"",U;return{c(){e=F("table"),t=F("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">h</th> <th class="svelte-kg0b31">q</th> <th class="svelte-kg0b31">f</th>',n=I(),s=F("tr"),r=F("td"),r.textContent="DoF (Nu)",o=I(),i=F("td"),a=G(f),c=I(),u=F("td"),_=G(m),h=I(),A=F("td"),b=G(y),N=I(),M=F("tr"),E=F("td"),E.textContent="Mean (u0)",T=I(),L=F("td"),P=G(O),S=I(),w=F("td"),Y=G(q),W=I(),le=F("td"),me=I(),D=F("tr"),j=F("td"),j.textContent="Crit (extreme)",Z=I(),Ee=F("td"),Be=I(),Ne=F("td"),Ke=I(),je=F("td"),qe=G(Le),Ve=I(),Ae=F("tr"),Fe=F("td"),Fe.textContent="Crit (outliers)",Ge=I(),Oe=F("td"),ye=I(),Pe=F("td"),lt=I(),xe=F("td"),U=G(st),p(t,"class","svelte-kg0b31"),p(r,"class","label svelte-kg0b31"),p(i,"class","svelte-kg0b31"),p(u,"class","svelte-kg0b31"),p(A,"class","svelte-kg0b31"),p(s,"class","svelte-kg0b31"),p(E,"class","label svelte-kg0b31"),p(L,"class","svelte-kg0b31"),p(w,"class","svelte-kg0b31"),p(le,"class","svelte-kg0b31"),p(M,"class","svelte-kg0b31"),p(j,"class","label svelte-kg0b31"),p(Ee,"class","svelte-kg0b31"),p(Ne,"class","svelte-kg0b31"),p(je,"class","svelte-kg0b31"),p(D,"class","svelte-kg0b31"),p(Fe,"class","label svelte-kg0b31"),p(Oe,"class","svelte-kg0b31"),p(Pe,"class","svelte-kg0b31"),p(xe,"class","svelte-kg0b31"),p(Ae,"class","svelte-kg0b31"),p(e,"class","svelte-kg0b31")},m(ce,Me){v(ce,e,Me),C(e,t),C(e,n),C(e,s),C(s,r),C(s,o),C(s,i),C(i,a),C(s,c),C(s,u),C(u,_),C(s,h),C(s,A),C(A,b),C(e,N),C(e,M),C(M,E),C(M,T),C(M,L),C(L,P),C(M,S),C(M,w),C(w,Y),C(M,W),C(M,le),C(e,me),C(e,D),C(D,j),C(D,Z),C(D,Ee),C(D,Be),C(D,Ne),C(D,Ke),C(D,je),C(je,qe),C(e,Ve),C(e,Ae),C(Ae,Fe),C(Ae,Ge),C(Ae,Oe),C(Ae,ye),C(Ae,Pe),C(Ae,lt),C(Ae,xe),C(xe,U)},p(ce,Me){Me&3&&f!==(f=ce[0].Nh[ce[1]-1]+"")&&fe(a,f),Me&3&&m!==(m=ce[0].Nq[ce[1]-1]+"")&&fe(_,m),Me&3&&y!==(y=ce[0].Nf[ce[1]-1]+"")&&fe(b,y),Me&3&&O!==(O=ce[0].h0[ce[1]-1].toFixed(2)+"")&&fe(P,O),Me&3&&q!==(q=ce[0].q0[ce[1]-1].toFixed(ce[0].q0[ce[1]-1]>99?0:2)+"")&&fe(Y,q),Me&3&&Le!==(Le=ce[0].eCrit[ce[1]-1].toFixed(1)+"")&&fe(qe,Le),Me&3&&st!==(st=ce[0].oCrit[ce[1]-1].toFixed(1)+"")&&fe(U,st)},d(ce){ce&&k(e)}}}function xa(l){let e,t=l[0]&&Qs(l);return{c(){t&&t.c(),e=te()},m(n,s){t&&t.m(n,s),v(n,e,s)},p(n,[s]){n[0]?t?t.p(n,s):(t=Qs(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){n&&k(e),t&&t.d(n)}}}function eu(l,e,t){let n,{simca:s}=e;return l.$$set=r=>{"simca"in r&&t(0,s=r.simca)},l.$$.update=()=>{l.$$.dirty&1&&t(1,n=s.ncomp)},[s,n]}class Cn extends ue{constructor(e){super(),ae(this,e,eu,xa,se,{simca:0})}}function tu(l){let e,t,n=l[0].className+"",s;return{c(){e=F("p"),t=G("Target class: "),s=G(n),p(e,"class","title")},m(r,o){v(r,e,o),C(e,t),C(e,s)},p(r,o){o&1&&n!==(n=r[0].className+"")&&fe(s,n)},d(r){r&&k(e)}}}function nu(l){let e,t,n;function s(o){l[8](o)}let r={id:"ncomp",min:1,max:l[1].ncomp,step:1,decNum:0};return l[3]!==void 0&&(r.value=l[3]),e=new nl({props:r}),J.push(()=>oe(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&2&&(f.max=o[1].ncomp),!t&&i&8&&(t=!0,f.value=o[3],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function lu(l){let e,t,n;function s(o){l[9](o)}let r={id:"alpha",options:l[6]};return l[4]!==void 0&&(r.value=l[4]),e=new ve({props:r}),J.push(()=>oe(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function su(l){let e,t,n;function s(o){l[10](o)}let r={id:"gamma",options:l[7]};return l[5]!==void 0&&(r.value=l[5]),e=new ve({props:r}),J.push(()=>oe(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&32&&(t=!0,f.value=o[5],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function ru(l){let e,t,n;function s(o){l[11](o)}let r={id:"limType",options:["classic","robust"]};return l[2]!==void 0&&(r.value=l[2]),e=new ve({props:r}),J.push(()=>oe(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function ou(l){let e,t,n,s,r,o,i,f,a,c;return e=new ee({props:{label:"",$$slots:{default:[tu]},$$scope:{ctx:l}}}),n=new ee({props:{label:"# of PCs",$$slots:{default:[nu]},$$scope:{ctx:l}}}),r=new ee({props:{label:"Alpha, %:",$$slots:{default:[lu]},$$scope:{ctx:l}}}),i=new ee({props:{label:"Gamma, %:",$$slots:{default:[su]},$$scope:{ctx:l}}}),a=new ee({props:{label:"Limits:",$$slots:{default:[ru]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment),t=I(),z(n.$$.fragment),s=I(),z(r.$$.fragment),o=I(),z(i.$$.fragment),f=I(),z(a.$$.fragment)},m(u,m){R(e,u,m),v(u,t,m),R(n,u,m),v(u,s,m),R(r,u,m),v(u,o,m),R(i,u,m),v(u,f,m),R(a,u,m),c=!0},p(u,[m]){const _={};m&1048577&&(_.$$scope={dirty:m,ctx:u}),e.$set(_);const h={};m&1048586&&(h.$$scope={dirty:m,ctx:u}),n.$set(h);const A={};m&1048592&&(A.$$scope={dirty:m,ctx:u}),r.$set(A);const y={};m&1048608&&(y.$$scope={dirty:m,ctx:u}),i.$set(y);const b={};m&1048580&&(b.$$scope={dirty:m,ctx:u}),a.$set(b)},i(u){c||(g(e.$$.fragment,u),g(n.$$.fragment,u),g(r.$$.fragment,u),g(i.$$.fragment,u),g(a.$$.fragment,u),c=!0)},o(u){d(e.$$.fragment,u),d(n.$$.fragment,u),d(r.$$.fragment,u),d(i.$$.fragment,u),d(a.$$.fragment,u),c=!1},d(u){u&&(k(t),k(s),k(o),k(f)),$(e,u),$(n,u),$(r,u),$(i,u),$(a,u)}}}function iu(l,e,t){let{model:n}=e,{simca:s}=e,r=s?s.limType:"classic",o=s?s.ncomp:1,i=s?s.alpha:5,f=s?s.gamma:1;const a=[10,5,1,.1],c=[5,1,.1,.01];function u(O){s.ncomp!==O&&t(0,s.ncomp=O,s)}function m(O){O!==s.alpha&&(t(0,s.alpha=O,s),t(0,s.eCrit=s.Nf.map(P=>bt(1-O/100,P)),s))}function _(O){O!==s.gamma&&(t(0,s.gamma=O,s),t(0,s.oCrit=s.Nf.map(P=>bt(Math.pow(1-O/100,1/n.nrows),P)),s))}function h(O){!s||!n||O===s.limType||(t(0,s.limType=O,s),t(0,s.Nh=n.lim[O].Nh,s),t(0,s.h0=n.lim[O].h0,s),t(0,s.Nq=n.lim[O].Nq,s),t(0,s.q0=n.lim[O].q0,s),t(0,s.Nf=s.Nh.map((P,S)=>P+s.Nq[S]),s),t(0,s.eCrit=s.Nf.map(P=>bt(1-s.alpha/100,P)),s),t(0,s.oCrit=s.Nf.map(P=>bt(Math.pow(1-s.gamma/100,1/n.nrows),P)),s))}function A(O){o!==O&&t(3,o=O)}function y(O){i!==O&&t(4,i=O)}function b(O){f!==O&&t(5,f=O)}function N(O){r!==O&&t(2,r=O)}function M(O){o=O,t(3,o)}function E(O){i=O,t(4,i)}function T(O){f=O,t(5,f)}function L(O){r=O,t(2,r)}return l.$$set=O=>{"model"in O&&t(1,n=O.model),"simca"in O&&t(0,s=O.simca)},l.$$.update=()=>{l.$$.dirty&8&&u(o),l.$$.dirty&16&&m(i),l.$$.dirty&32&&_(f),l.$$.dirty&4&&h(r),l.$$.dirty&1&&A(s.ncomp),l.$$.dirty&1&&y(s.alpha),l.$$.dirty&1&&b(s.gamma),l.$$.dirty&1&&N(s.limType)},[s,n,r,o,i,f,a,c,M,E,T,L]}class En extends ue{constructor(e){super(),ae(this,e,iu,ou,se,{model:1,simca:0})}}const X1="";function Zs(l){let e,t,n,s,r,o;function i(u){l[10](u)}function f(u){l[11](u)}function a(u){l[12](u)}let c={WASM:l[0],calset:l[3],className:l[5]};return l[2]!==void 0&&(c.simca=l[2]),l[1]!==void 0&&(c.model=l[1]),l[6]!==void 0&&(c.calres=l[6]),t=new Ti({props:c}),J.push(()=>oe(t,"simca",i)),J.push(()=>oe(t,"model",f)),J.push(()=>oe(t,"calres",a)),{c(){e=F("div"),z(t.$$.fragment),p(e,"class","model-calculator svelte-1kl15v")},m(u,m){v(u,e,m),R(t,e,null),o=!0},p(u,m){const _={};m&1&&(_.WASM=u[0]),m&8&&(_.calset=u[3]),m&32&&(_.className=u[5]),!n&&m&4&&(n=!0,_.simca=u[2],ie(()=>n=!1)),!s&&m&2&&(s=!0,_.model=u[1],ie(()=>s=!1)),!r&&m&64&&(r=!0,_.calres=u[6],ie(()=>r=!1)),t.$set(_)},i(u){o||(g(t.$$.fragment,u),o=!0)},o(u){d(t.$$.fragment,u),o=!1},d(u){u&&k(e),$(t)}}}function Js(l){let e,t,n,s,r;function o(a){l[13](a)}function i(a){l[14](a)}let f={WASM:l[0],calset:l[3],model:l[1]};return l[4]!==void 0&&(f.pvset=l[4]),l[7]!==void 0&&(f.pvres=l[7]),t=new pi({props:f}),J.push(()=>oe(t,"pvset",o)),J.push(()=>oe(t,"pvres",i)),{c(){e=F("div"),z(t.$$.fragment),p(e,"class","pcv-calculator svelte-1kl15v")},m(a,c){v(a,e,c),R(t,e,null),r=!0},p(a,c){const u={};c&1&&(u.WASM=a[0]),c&8&&(u.calset=a[3]),c&2&&(u.model=a[1]),!n&&c&16&&(n=!0,u.pvset=a[4],ie(()=>n=!1)),!s&&c&128&&(s=!0,u.pvres=a[7],ie(()=>s=!1)),t.$set(u)},i(a){r||(g(t.$$.fragment,a),r=!0)},o(a){d(t.$$.fragment,a),r=!1},d(a){a&&k(e),$(t)}}}function xs(l){let e,t,n,s,r,o;function i(a){l[15](a)}let f={model:l[1]};return l[2]!==void 0&&(f.simca=l[2]),t=new En({props:f}),J.push(()=>oe(t,"simca",i)),r=new ee({props:{label:"Download",$$slots:{default:[uu]},$$scope:{ctx:l}}}),{c(){e=F("div"),z(t.$$.fragment),s=I(),z(r.$$.fragment),p(e,"class","simca-settings svelte-1kl15v")},m(a,c){v(a,e,c),R(t,e,null),C(e,s),R(r,e,null),o=!0},p(a,c){const u={};c&2&&(u.model=a[1]),!n&&c&4&&(n=!0,u.simca=a[2],ie(()=>n=!1)),t.$set(u);const m={};c&524558&&(m.$$scope={dirty:c,ctx:a}),r.$set(m)},i(a){o||(g(t.$$.fragment,a),g(r.$$.fragment,a),o=!0)},o(a){d(t.$$.fragment,a),d(r.$$.fragment,a),o=!1},d(a){a&&k(e),$(t),$(r)}}}function fu(l){let e;return{c(){e=G("Results")},m(t,n){v(t,e,n)},d(t){t&&k(e)}}}function au(l){let e;return{c(){e=G("Model")},m(t,n){v(t,e,n)},d(t){t&&k(e)}}}function uu(l){let e,t,n,s,r;return t=new Ze({props:{$$slots:{default:[fu]},$$scope:{ctx:l}}}),t.$on("click",l[16]),s=new Ze({props:{$$slots:{default:[au]},$$scope:{ctx:l}}}),s.$on("click",l[17]),{c(){e=F("div"),z(t.$$.fragment),n=I(),z(s.$$.fragment),p(e,"class","buttons svelte-1kl15v")},m(o,i){v(o,e,i),R(t,e,null),C(e,n),R(s,e,null),r=!0},p(o,i){const f={};i&524288&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const a={};i&524288&&(a.$$scope={dirty:i,ctx:o}),s.$set(a)},i(o){r||(g(t.$$.fragment,o),g(s.$$.fragment,o),r=!0)},o(o){d(t.$$.fragment,o),d(s.$$.fragment,o),r=!1},d(o){o&&k(e),$(t),$(s)}}}function er(l){let e,t,n;return t=new Cn({props:{simca:l[2]}}),{c(){e=F("div"),z(t.$$.fragment),p(e,"class","model-stats svelte-1kl15v")},m(s,r){v(s,e,r),R(t,e,null),n=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),t.$set(o)},i(s){n||(g(t.$$.fragment,s),n=!0)},o(s){d(t.$$.fragment,s),n=!1},d(s){s&&k(e),$(t)}}}function tr(l){let e,t,n;return t=new $i({props:{simca:l[2],res:l[8]}}),{c(){e=F("div"),z(t.$$.fragment),p(e,"class","result-stats svelte-1kl15v")},m(s,r){v(s,e,r),R(t,e,null),n=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),r&256&&(o.res=s[8]),t.$set(o)},i(s){n||(g(t.$$.fragment,s),n=!0)},o(s){d(t.$$.fragment,s),n=!1},d(s){s&&k(e),$(t)}}}function cu(l){let e=l[1],t,n,s=nr(l);return{c(){s.c(),t=te()},m(r,o){s.m(r,o),v(r,t,o),n=!0},p(r,o){o&2&&se(e,e=r[1])?(X(),d(s,1,1,H),Q(),s=nr(r),s.c(),g(s,1),s.m(t.parentNode,t)):s.p(r,o)},i(r){n||(g(s),n=!0)},o(r){d(s),n=!1},d(r){r&&k(t),s.d(r)}}}function mu(l){let e;function t(r,o){return r[3]?_u:pu}let n=t(l),s=n(l);return{c(){e=F("div"),s.c(),p(e,"class","help-text svelte-1kl15v")},m(r,o){v(r,e,o),s.m(e,null)},p(r,o){n===(n=t(r))&&s?s.p(r,o):(s.d(1),s=n(r),s&&(s.c(),s.m(e,null)))},i:H,o:H,d(r){r&&k(e),s.d()}}}function nr(l){let e,t;return e=new Ja({props:{simcares:l[8],simca:l[2]}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&256&&(r.simcares=n[8]),s&4&&(r.simca=n[2]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function _u(l){let e,t,n=!l[1]&&lr(),s=l[1]&&!l[4]&&sr();return{c(){n&&n.c(),e=I(),s&&s.c(),t=te()},m(r,o){n&&n.m(r,o),v(r,e,o),s&&s.m(r,o),v(r,t,o)},p(r,o){r[1]?n&&(n.d(1),n=null):n||(n=lr(),n.c(),n.m(e.parentNode,e)),r[1]&&!r[4]?s||(s=sr(),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(r){r&&(k(e),k(t)),n&&n.d(r),s&&s.d(r)}}}function pu(l){let e,t,n,s,r,o,i,f,a,c,u,m,_;return{c(){e=F("p"),e.innerHTML="In this tab you can train a DD-SIMCA model and optimize its parameters using Procrustes cross-validation. After creating the model you can save it to a file and use it in other tabs. For example, validate and tune it using test set with target class members (tab <strong>Target</strong>) or apply it to a dataset with non-target class members (tab <strong>Alternative</strong>).",t=I(),n=F("p"),n.innerHTML="<strong>Step 1.</strong>",s=I(),r=F("p"),r.textContent=`Load your training set from a CSV file. The file should contain data as numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables.`,o=I(),i=F("p"),i.textContent="First column must contain class names for each row. All rows in the training set should belong to the target class, so it is expected that the class names are the same (you will get error message if not).",f=I(),a=F("p"),a.innerHTML="First row can contain variable names (<strong>header</strong>) and first column can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. In this case it is assumed that column with the class names is located next to the column with row labels. Here is an example:",c=I(),u=F("div"),u.innerHTML='<table class="svelte-1kl15v"><tr><td class="svelte-1kl15v">Name</td> <td class="svelte-1kl15v">Class</td> <td class="svelte-1kl15v">x1</td> <td class="svelte-1kl15v">x2</td> <td class="svelte-1kl15v">x3</td></tr> <tr><td class="svelte-1kl15v">O1</td> <td class="svelte-1kl15v">A</td> <td class="svelte-1kl15v">3.8</td> <td class="svelte-1kl15v">1.3</td> <td class="svelte-1kl15v">13.6</td></tr> <tr><td class="svelte-1kl15v">O2</td> <td class="svelte-1kl15v">A</td> <td class="svelte-1kl15v">11.1</td> <td class="svelte-1kl15v">12.3</td> <td class="svelte-1kl15v">3.3</td></tr> <tr><td class="svelte-1kl15v">O3</td> <td class="svelte-1kl15v">A</td> <td class="svelte-1kl15v">1.2</td> <td class="svelte-1kl15v">2.3</td> <td class="svelte-1kl15v">4.2</td></tr></table>',m=I(),_=F("p"),p(e,"class","svelte-1kl15v"),p(n,"class","svelte-1kl15v"),p(r,"class","svelte-1kl15v"),p(i,"class","svelte-1kl15v"),p(a,"class","svelte-1kl15v"),p(u,"class","svelte-1kl15v"),p(_,"class","svelte-1kl15v")},m(h,A){v(h,e,A),v(h,t,A),v(h,n,A),v(h,s,A),v(h,r,A),v(h,o,A),v(h,i,A),v(h,f,A),v(h,a,A),v(h,c,A),v(h,u,A),v(h,m,A),v(h,_,A)},p:H,d(h){h&&(k(e),k(t),k(n),k(s),k(r),k(o),k(i),k(f),k(a),k(c),k(u),k(m),k(_))}}}function lr(l){let e,t,n;return{c(){e=F("p"),e.innerHTML="<strong>Step 2</strong>",t=I(),n=F("p"),n.textContent=`Next step is to create a global PCA model for the calibration set, which will be the basis for the SIMCA model. Use more components/latent variables (PCs) than you expect to be optimal. You will have possibility to set
               optimal number later.`,p(e,"class","svelte-1kl15v"),p(n,"class","svelte-1kl15v")},m(s,r){v(s,e,r),v(s,t,r),v(s,n,r)},d(s){s&&(k(e),k(t),k(n))}}}function sr(l){let e,t,n,s,r;return{c(){e=F("p"),e.innerHTML="<strong>Step 3</strong>",t=I(),n=F("p"),n.textContent="Now set necessary parameters for Procrustes cross-validation and click button to compute the PV-set, which will help you to optimize SIMCA model parameters. The parameters are the same as for conventional cross-validation: type of splits and number of segments. It is recommended to use fewer number of segments (e.g. 3, 4 or 5).",s=I(),r=F("p"),r.textContent="After this step SIMCA model will be created automatically and you will be able to tune its parameters.",p(e,"class","svelte-1kl15v"),p(n,"class","svelte-1kl15v"),p(r,"class","svelte-1kl15v")},m(o,i){v(o,e,i),v(o,t,i),v(o,n,i),v(o,s,i),v(o,r,i)},d(o){o&&(k(e),k(t),k(n),k(s),k(r))}}}function gu(l){let e,t,n,s,r,o,i,f,a,c,u,m,_,h,A;function y(w){l[9](w)}let b={};l[3]!==void 0&&(b.dataset=l[3]),s=new ei({props:b}),J.push(()=>oe(s,"dataset",y));let N=l[3]&&Zs(l),M=l[3]&&l[1]&&Js(l),E=l[1]&&l[7]&&l[6]&&xs(l),T=l[2]&&l[4]&&l[1]&&er(l),L=l[8]&&tr(l);const O=[mu,cu],P=[];function S(w,q){return!w[4]||!w[7]||!w[2]?0:1}return _=S(l),h=P[_]=O[_](l),{c(){e=F("div"),t=F("div"),n=F("div"),z(s.$$.fragment),o=I(),N&&N.c(),i=I(),M&&M.c(),f=I(),E&&E.c(),a=I(),T&&T.c(),c=I(),L&&L.c(),u=I(),m=F("div"),h.c(),p(n,"class","data-loader svelte-1kl15v"),p(t,"class","app-controls svelte-1kl15v"),p(m,"class","app-content svelte-1kl15v"),p(e,"class","app-container svelte-1kl15v")},m(w,q){v(w,e,q),C(e,t),C(t,n),R(s,n,null),C(t,o),N&&N.m(t,null),C(t,i),M&&M.m(t,null),C(t,f),E&&E.m(t,null),C(t,a),T&&T.m(t,null),C(t,c),L&&L.m(t,null),C(e,u),C(e,m),P[_].m(m,null),A=!0},p(w,[q]){const Y={};!r&&q&8&&(r=!0,Y.dataset=w[3],ie(()=>r=!1)),s.$set(Y),w[3]?N?(N.p(w,q),q&8&&g(N,1)):(N=Zs(w),N.c(),g(N,1),N.m(t,i)):N&&(X(),d(N,1,1,()=>{N=null}),Q()),w[3]&&w[1]?M?(M.p(w,q),q&10&&g(M,1)):(M=Js(w),M.c(),g(M,1),M.m(t,f)):M&&(X(),d(M,1,1,()=>{M=null}),Q()),w[1]&&w[7]&&w[6]?E?(E.p(w,q),q&194&&g(E,1)):(E=xs(w),E.c(),g(E,1),E.m(t,a)):E&&(X(),d(E,1,1,()=>{E=null}),Q()),w[2]&&w[4]&&w[1]?T?(T.p(w,q),q&22&&g(T,1)):(T=er(w),T.c(),g(T,1),T.m(t,c)):T&&(X(),d(T,1,1,()=>{T=null}),Q()),w[8]?L?(L.p(w,q),q&256&&g(L,1)):(L=tr(w),L.c(),g(L,1),L.m(t,null)):L&&(X(),d(L,1,1,()=>{L=null}),Q());let W=_;_=S(w),_===W?P[_].p(w,q):(X(),d(P[W],1,1,()=>{P[W]=null}),Q(),h=P[_],h?h.p(w,q):(h=P[_]=O[_](w),h.c()),g(h,1),h.m(m,null))},i(w){A||(g(s.$$.fragment,w),g(N),g(M),g(E),g(T),g(L),g(h),A=!0)},o(w){d(s.$$.fragment,w),d(N),d(M),d(E),d(T),d(L),d(h),A=!1},d(w){w&&k(e),$(s),N&&N.d(),M&&M.d(),E&&E.d(),T&&T.d(),L&&L.d(),P[_].d()}}}function du(l,e,t){let{WASM:n}=e,s,r,o,i,f,a,c,u;function m(T){o=T,t(3,o)}function _(T){r=T,t(2,r)}function h(T){s=T,t(1,s),t(3,o)}function A(T){a=T,t(6,a),t(1,s),t(3,o)}function y(T){i=T,t(4,i),t(1,s),t(3,o)}function b(T){c=T,t(7,c),t(4,i),t(1,s),t(3,o)}function N(T){r=T,t(2,r)}const M=()=>hn(u.cal,o,"train"),E=()=>bn(s,r);return l.$$set=T=>{"WASM"in T&&t(0,n=T.WASM)},l.$$.update=()=>{l.$$.dirty&8&&(o===null?(t(1,s=null),t(5,f=null)):o&&t(5,f=o.classNames[0])),l.$$.dirty&2&&s===null&&(t(4,i=null),t(6,a=null)),l.$$.dirty&16&&(i||t(7,c=null)),l.$$.dirty&192,l.$$.dirty&252&&(r&&a&&c?t(8,u={cal:gn(a,o,r),pv:gn(c,i,r)}):t(8,u=null))},[n,s,r,o,i,f,a,c,u,m,_,h,A,y,b,N,M,E]}let hu=class extends ue{constructor(e){super(),ae(this,e,du,gu,se,{WASM:0})}};function bu(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:Eu,then:yu,catch:ku,value:22,error:23,blocks:[,,,]};return _t(t=l[7],s),{c(){e=te(),s.block.c()},m(r,o){v(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o&128&&t!==(t=l[7])&&_t(t,s)||Ut(s,l,o)},i(r){n||(g(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];d(i)}n=!1},d(r){r&&k(e),s.block.d(r),s.token=null,s=null}}}function wu(l){let e=l[2]===void 0,t,n,s,r=or(l),o=l[2]&&ir(l);return{c(){r.c(),t=I(),o&&o.c(),n=te()},m(i,f){r.m(i,f),v(i,t,f),o&&o.m(i,f),v(i,n,f),s=!0},p(i,f){f&4&&se(e,e=i[2]===void 0)?(X(),d(r,1,1,H),Q(),r=or(i),r.c(),g(r,1),r.m(t.parentNode,t)):r.p(i,f),i[2]?o?(o.p(i,f),f&4&&g(o,1)):(o=ir(i),o.c(),g(o,1),o.m(n.parentNode,n)):o&&(X(),d(o,1,1,()=>{o=null}),Q())},i(i){s||(g(r),g(o),s=!0)},o(i){d(r),d(o),s=!1},d(i){i&&(k(t),k(n)),r.d(i),o&&o.d(i)}}}function ku(l){let e,t;return e=new ee({props:{status:"error",$$slots:{default:[vu]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&16777344&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function vu(l){let e,t=l[23]+"",n;return{c(){e=F("p"),n=G(t)},m(s,r){v(s,e,r),C(e,n)},p(s,r){r&128&&t!==(t=s[23]+"")&&fe(n,t)},d(s){s&&k(e)}}}function yu(l){let e,t,n=l[1]!==null&&rr(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,r){s[1]!==null?n?(n.p(s,r),r&2&&g(n,1)):(n=rr(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function rr(l){let e,t;return e=new ee({props:{$$slots:{default:[Cu]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&16777217&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Cu(l){let e,t,n=l[0].values.nrows+"",s,r,o=l[0].values.ncols+"",i,f,a,c;return a=new St({}),a.$on("click",l[12]),{c(){e=F("p"),t=G("Test set is loaded: "),s=G(n),r=G(" × "),i=G(o),f=I(),z(a.$$.fragment)},m(u,m){v(u,e,m),C(e,t),C(e,s),C(e,r),C(e,i),v(u,f,m),R(a,u,m),c=!0},p(u,m){(!c||m&1)&&n!==(n=u[0].values.nrows+"")&&fe(s,n),(!c||m&1)&&o!==(o=u[0].values.ncols+"")&&fe(i,o)},i(u){c||(g(a.$$.fragment,u),c=!0)},o(u){d(a.$$.fragment,u),c=!1},d(u){u&&(k(e),k(f)),$(a,u)}}}function Eu(l){let e,t;return e=new ee({props:{$$slots:{default:[Au]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&16777216&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Au(l){let e,t,n,s;return e=new Qt({}),{c(){z(e.$$.fragment),t=I(),n=F("p"),n.textContent="Loading data and apply model..."},m(r,o){R(e,r,o),v(r,t,o),v(r,n,o),s=!0},p:H,i(r){s||(g(e.$$.fragment,r),s=!0)},o(r){d(e.$$.fragment,r),s=!1},d(r){r&&(k(t),k(n)),$(e,r)}}}function Nu(l){let e,t,n;function s(o){l[15](o)}let r={id:"dataFile",message:"Select CSV file with dataset"};return l[2]!==void 0&&(r.file=l[2]),e=new Zt({props:r}),J.push(()=>oe(e,"file",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.file=o[2],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function or(l){let e,t;return e=new ee({props:{$$slots:{default:[Nu]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&16777220&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function ir(l){let e,t,n,s,r,o,i,f,a,c;return e=new ee({props:{label:"Delimiter:",$$slots:{default:[Mu]},$$scope:{ctx:l}}}),n=new ee({props:{label:"Header:",$$slots:{default:[Lu]},$$scope:{ctx:l}}}),r=new ee({props:{label:"Row labels:",$$slots:{default:[Tu]},$$scope:{ctx:l}}}),i=new ee({props:{label:"Class labels:",$$slots:{default:[Su]},$$scope:{ctx:l}}}),a=new ee({props:{label:" ",$$slots:{default:[$u]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment),t=I(),z(n.$$.fragment),s=I(),z(r.$$.fragment),o=I(),z(i.$$.fragment),f=I(),z(a.$$.fragment)},m(u,m){R(e,u,m),v(u,t,m),R(n,u,m),v(u,s,m),R(r,u,m),v(u,o,m),R(i,u,m),v(u,f,m),R(a,u,m),c=!0},p(u,m){const _={};m&16777224&&(_.$$scope={dirty:m,ctx:u}),e.$set(_);const h={};m&16777232&&(h.$$scope={dirty:m,ctx:u}),n.$set(h);const A={};m&16777248&&(A.$$scope={dirty:m,ctx:u}),r.$set(A);const y={};m&16777280&&(y.$$scope={dirty:m,ctx:u}),i.$set(y);const b={};m&16777216&&(b.$$scope={dirty:m,ctx:u}),a.$set(b)},i(u){c||(g(e.$$.fragment,u),g(n.$$.fragment,u),g(r.$$.fragment,u),g(i.$$.fragment,u),g(a.$$.fragment,u),c=!0)},o(u){d(e.$$.fragment,u),d(n.$$.fragment,u),d(r.$$.fragment,u),d(i.$$.fragment,u),d(a.$$.fragment,u),c=!1},d(u){u&&(k(t),k(s),k(o),k(f)),$(e,u),$(n,u),$(r,u),$(i,u),$(a,u)}}}function Mu(l){let e,t,n;function s(o){l[16](o)}let r={id:"sep",options:l[10]};return l[3]!==void 0&&(r.value=l[3]),e=new ve({props:r}),J.push(()=>oe(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function Lu(l){let e,t,n;function s(o){l[17](o)}let r={id:"hasHeader",options:["yes","no"]};return l[4]!==void 0&&(r.value=l[4]),e=new ve({props:r}),J.push(()=>oe(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function Tu(l){let e,t,n;function s(o){l[18](o)}let r={id:"hasLabels",options:["yes","no"]};return l[5]!==void 0&&(r.value=l[5]),e=new ve({props:r}),J.push(()=>oe(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&32&&(t=!0,f.value=o[5],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function Su(l){let e,t,n;function s(o){l[19](o)}let r={id:"hasLabels",options:["yes","no"]};return l[6]!==void 0&&(r.value=l[6]),e=new ve({props:r}),J.push(()=>oe(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&64&&(t=!0,f.value=o[6],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function Ru(l){let e;return{c(){e=G("Load")},m(t,n){v(t,e,n)},d(t){t&&k(e)}}}function $u(l){let e,t;return e=new Ze({props:{$$slots:{default:[Ru]},$$scope:{ctx:l}}}),e.$on("click",l[11]),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&16777216&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function fr(l){let e,t;return e=new ee({props:{status:"error",$$slots:{default:[zu]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&16777728&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function zu(l){let e,t;return{c(){e=F("p"),t=G(l[9])},m(n,s){v(n,e,s),C(e,t)},p(n,s){s&512&&fe(t,n[9])},d(n){n&&k(e)}}}function qu(l){let e,t,n,s,r;const o=[wu,bu],i=[];function f(c,u){return c[0]?c[7]?1:-1:0}~(e=f(l))&&(t=i[e]=o[e](l));let a=(l[8]==="error"||l[9])&&fr(l);return{c(){t&&t.c(),n=I(),a&&a.c(),s=te()},m(c,u){~e&&i[e].m(c,u),v(c,n,u),a&&a.m(c,u),v(c,s,u),r=!0},p(c,[u]){let m=e;e=f(c),e===m?~e&&i[e].p(c,u):(t&&(X(),d(i[m],1,1,()=>{i[m]=null}),Q()),~e?(t=i[e],t?t.p(c,u):(t=i[e]=o[e](c),t.c()),g(t,1),t.m(n.parentNode,n)):t=null),c[8]==="error"||c[9]?a?(a.p(c,u),u&768&&g(a,1)):(a=fr(c),a.c(),g(a,1),a.m(s.parentNode,s)):a&&(X(),d(a,1,1,()=>{a=null}),Q())},i(c){r||(g(t),g(a),r=!0)},o(c){d(t),d(a),r=!1},d(c){c&&(k(n),k(s)),~e&&i[e].d(c),a&&a.d(c)}}}function Fu(l,e,t){let{WASM:n}=e,{dataset:s}=e,{model:r}=e,{pcares:o}=e,i,f=",",a="yes",c="no",u="no",m,_="neutral",h="";const A=[",",";"];function y(S){t(7,m=n().then(w=>{const q=Xt(w,r,S);t(1,o=q)}).catch(w=>{t(1,o=null),t(8,_="error"),t(9,h=w)}))}function b(S){try{const w=dn(S,f,a==="yes",c==="yes",u==="yes");if(w.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(w.values.ncols!==r.ncols)throw new Error("Dataset has different number of columns than the training set.");t(0,s=w),y(w.values),t(9,h=""),t(8,_="success")}catch(w){t(0,s=null),t(8,_="error"),t(9,h=w)}}function N(S){const w=new FileReader;w.onload=()=>b(w.result),w.readAsBinaryString(i)}function M(){t(2,i=null)}function E(S){i=S,t(2,i)}function T(S){f=S,t(3,f)}function L(S){a=S,t(4,a)}function O(S){c=S,t(5,c)}function P(S){u=S,t(6,u)}return l.$$set=S=>{"WASM"in S&&t(13,n=S.WASM),"dataset"in S&&t(0,s=S.dataset),"model"in S&&t(14,r=S.model),"pcares"in S&&t(1,o=S.pcares)},l.$$.update=()=>{l.$$.dirty&4&&(i===null?t(0,s=null):(t(8,_="neutral"),t(9,h=""))),l.$$.dirty&8&&f&&(t(8,_="neutral"),t(9,h=""))},[s,o,i,f,a,c,u,m,_,h,A,N,M,n,r,E,T,L,O,P]}let Ou=class extends ue{constructor(e){super(),ae(this,e,Fu,qu,se,{WASM:13,dataset:0,model:14,pcares:1})}};function Pu(l){let e,t;return e=new kn({props:{simcares:l[0],simca:l[1],options:l[2]}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.simcares=n[0]),s&2&&(r.simca=n[1]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Iu(l){let e,t,n=l[2]&&Pu(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[2]&&n.p(s,r)},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function ju(l,e,t){let{simcares:n}=e,{simca:s}=e,r=[{label:"Acceptance",plotComponent:Ns,controlsComponent:Ts},{label:"Sensitivity",plotComponent:Ds,controlsComponent:Hs},{label:"Extremes",plotComponent:Rs,controlsComponent:qs}];return l.$$set=o=>{"simcares"in o&&t(0,n=o.simcares),"simca"in o&&t(1,s=o.simca)},[n,s,r]}let Vu=class extends ue{constructor(e){super(),ae(this,e,ju,Iu,se,{simcares:0,simca:1})}};const Q1="";function ar(l){let e,t,n,s,r,o,i,f=l[0].nrows+"",a,c,u,m,_,h,A=l[1].cnum.extreme+"",y,b,N,M,E,T,L=l[1].cnum.outliers+"",O,P,S,w,q,Y,W=l[1].stat.sensitivity.toFixed(2)+"",le;return{c(){e=F("table"),t=F("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Target</th>',n=I(),s=F("tr"),r=F("td"),r.textContent="Objects",o=I(),i=F("td"),a=G(f),c=I(),u=F("tr"),m=F("td"),m.textContent="Extremes",_=I(),h=F("td"),y=G(A),b=I(),N=F("tr"),M=F("td"),M.textContent="Outliers",E=I(),T=F("td"),O=G(L),P=I(),S=F("tr"),w=F("td"),w.textContent="Sensitivity",q=I(),Y=F("td"),le=G(W),p(t,"class","svelte-kg0b31"),p(r,"class","label svelte-kg0b31"),p(i,"class","svelte-kg0b31"),p(s,"class","svelte-kg0b31"),p(m,"class","label svelte-kg0b31"),p(h,"class","svelte-kg0b31"),p(u,"class","svelte-kg0b31"),p(M,"class","label svelte-kg0b31"),p(T,"class","svelte-kg0b31"),p(N,"class","svelte-kg0b31"),p(w,"class","label svelte-kg0b31"),p(Y,"class","svelte-kg0b31"),p(S,"class","svelte-kg0b31"),p(e,"class","svelte-kg0b31")},m(me,D){v(me,e,D),C(e,t),C(e,n),C(e,s),C(s,r),C(s,o),C(s,i),C(i,a),C(e,c),C(e,u),C(u,m),C(u,_),C(u,h),C(h,y),C(e,b),C(e,N),C(N,M),C(N,E),C(N,T),C(T,O),C(e,P),C(e,S),C(S,w),C(S,q),C(S,Y),C(Y,le)},p(me,D){D&1&&f!==(f=me[0].nrows+"")&&fe(a,f),D&2&&A!==(A=me[1].cnum.extreme+"")&&fe(y,A),D&2&&L!==(L=me[1].cnum.outliers+"")&&fe(O,L),D&2&&W!==(W=me[1].stat.sensitivity.toFixed(2)+"")&&fe(le,W)},d(me){me&&k(e)}}}function Yu(l){let e,t=l[1]&&ar(l);return{c(){t&&t.c(),e=te()},m(n,s){t&&t.m(n,s),v(n,e,s)},p(n,[s]){n[1]?t?t.p(n,s):(t=ar(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){n&&k(e),t&&t.d(n)}}}function Du(l,e,t){let n,s,{res:r}=e,{simca:o}=e;return l.$$set=i=>{"res"in i&&t(0,r=i.res),"simca"in i&&t(2,o=i.simca)},l.$$.update=()=>{l.$$.dirty&4&&t(3,n=o?o.ncomp:null),l.$$.dirty&9&&t(1,s=n?r.v[n-1]:null)},[r,s,o,n]}let Bu=class extends ue{constructor(e){super(),ae(this,e,Du,Yu,se,{res:0,simca:2})}};const Z1="";function Wu(l){let e,t;return e=new ee({props:{$$slots:{default:[Gu]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&514&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Hu(l){let e=l[2]===void 0,t,n,s,r=ur(l),o=l[2]&&cr(l);return{c(){r.c(),t=I(),o&&o.c(),n=te()},m(i,f){r.m(i,f),v(i,t,f),o&&o.m(i,f),v(i,n,f),s=!0},p(i,f){f&4&&se(e,e=i[2]===void 0)?(X(),d(r,1,1,H),Q(),r=ur(i),r.c(),g(r,1),r.m(t.parentNode,t)):r.p(i,f),i[2]?o?(o.p(i,f),f&4&&g(o,1)):(o=cr(i),o.c(),g(o,1),o.m(n.parentNode,n)):o&&(X(),d(o,1,1,()=>{o=null}),Q())},i(i){s||(g(r),g(o),s=!0)},o(i){d(r),d(o),s=!1},d(i){i&&(k(t),k(n)),r.d(i),o&&o.d(i)}}}function Gu(l){let e,t,n,s=l[1].className+"",r,o,i,f,a;return f=new St({}),f.$on("click",l[6]),{c(){e=F("p"),t=G("Model for class "),n=F("span"),r=G(s),o=G(" is loaded"),i=I(),z(f.$$.fragment),p(n,"class","className svelte-1htmzzh")},m(c,u){v(c,e,u),C(e,t),C(e,n),C(n,r),C(e,o),v(c,i,u),R(f,c,u),a=!0},p(c,u){(!a||u&2)&&s!==(s=c[1].className+"")&&fe(r,s)},i(c){a||(g(f.$$.fragment,c),a=!0)},o(c){d(f.$$.fragment,c),a=!1},d(c){c&&(k(e),k(i)),$(f,c)}}}function Uu(l){let e,t,n;function s(o){l[7](o)}let r={id:"modelFile",acceptType:".json",message:"Select file with model"};return l[2]!==void 0&&(r.file=l[2]),e=new Zt({props:r}),J.push(()=>oe(e,"file",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.file=o[2],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function ur(l){let e,t;return e=new ee({props:{$$slots:{default:[Uu]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&516&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function cr(l){let e,t;return e=new ee({props:{label:" ",$$slots:{default:[Xu]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&512&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Ku(l){let e;return{c(){e=G("Load")},m(t,n){v(t,e,n)},d(t){t&&k(e)}}}function Xu(l){let e,t;return e=new Ze({props:{$$slots:{default:[Ku]},$$scope:{ctx:l}}}),e.$on("click",l[5]),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&512&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function mr(l){let e,t;return e=new ee({props:{status:"error",$$slots:{default:[Qu]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&528&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Qu(l){let e,t;return{c(){e=F("p"),t=G(l[4])},m(n,s){v(n,e,s),C(e,t)},p(n,s){s&16&&fe(t,n[4])},d(n){n&&k(e)}}}function Zu(l){let e,t,n,s,r;const o=[Hu,Wu],i=[];function f(c,u){return c[0]?1:0}e=f(l),t=i[e]=o[e](l);let a=(l[3]==="error"||l[4])&&mr(l);return{c(){t.c(),n=I(),a&&a.c(),s=te()},m(c,u){i[e].m(c,u),v(c,n,u),a&&a.m(c,u),v(c,s,u),r=!0},p(c,[u]){let m=e;e=f(c),e===m?i[e].p(c,u):(X(),d(i[m],1,1,()=>{i[m]=null}),Q(),t=i[e],t?t.p(c,u):(t=i[e]=o[e](c),t.c()),g(t,1),t.m(n.parentNode,n)),c[3]==="error"||c[4]?a?(a.p(c,u),u&24&&g(a,1)):(a=mr(c),a.c(),g(a,1),a.m(s.parentNode,s)):a&&(X(),d(a,1,1,()=>{a=null}),Q())},i(c){r||(g(t),g(a),r=!0)},o(c){d(t),d(a),r=!1},d(c){c&&(k(n),k(s)),i[e].d(c),a&&a.d(c)}}}function Ju(l,e,t){let{model:n}=e,{simca:s}=e,r,o="neutral",i="";function f(m){try{const _=JSON.parse(m);_.pca.v=new Float64Array(_.pca.v),_.pca.lim.classic.Nh=new Float64Array(_.pca.lim.classic.Nh),_.pca.lim.classic.Nq=new Float64Array(_.pca.lim.classic.Nq),_.pca.lim.classic.h0=new Float64Array(_.pca.lim.classic.h0),_.pca.lim.classic.q0=new Float64Array(_.pca.lim.classic.q0),_.pca.lim.robust.Nh=new Float64Array(_.pca.lim.robust.Nh),_.pca.lim.robust.Nq=new Float64Array(_.pca.lim.robust.Nq),_.pca.lim.robust.h0=new Float64Array(_.pca.lim.robust.h0),_.pca.lim.robust.q0=new Float64Array(_.pca.lim.robust.q0),_.simca.h0=new Float64Array(_.simca.h0),_.simca.Nh=new Float64Array(_.simca.Nh),_.simca.q0=new Float64Array(_.simca.q0),_.simca.Nq=new Float64Array(_.simca.Nq),_.simca.Nf=new Float64Array(_.simca.Nf),_.simca.eCrit=new Float64Array(_.simca.eCrit),_.simca.oCrit=new Float64Array(_.simca.oCrit),t(0,n=_.pca),t(1,s=_.simca),t(3,o="success"),t(4,i="")}catch(_){t(0,n=null),t(1,s=null),t(3,o="error"),t(4,i=_)}}function a(m){const _=new FileReader;_.onload=()=>f(_.result),_.readAsBinaryString(r)}function c(){t(2,r=null)}function u(m){r=m,t(2,r)}return l.$$set=m=>{"model"in m&&t(0,n=m.model),"simca"in m&&t(1,s=m.simca)},l.$$.update=()=>{l.$$.dirty&4&&(r===null?(t(0,n=null),t(1,s=null)):(t(3,o="neutral"),t(4,i="")))},[n,s,r,o,i,a,c,u]}class _r extends ue{constructor(e){super(),ae(this,e,Ju,Zu,se,{model:0,simca:1})}}const J1="";function pr(l){let e,t,n,s,r;function o(a){l[8](a)}function i(a){l[9](a)}let f={WASM:l[0],model:l[1]};return l[3]!==void 0&&(f.dataset=l[3]),l[4]!==void 0&&(f.pcares=l[4]),t=new Ou({props:f}),J.push(()=>oe(t,"dataset",o)),J.push(()=>oe(t,"pcares",i)),{c(){e=F("div"),z(t.$$.fragment),p(e,"class","data-loader svelte-1lragme")},m(a,c){v(a,e,c),R(t,e,null),r=!0},p(a,c){const u={};c&1&&(u.WASM=a[0]),c&2&&(u.model=a[1]),!n&&c&8&&(n=!0,u.dataset=a[3],ie(()=>n=!1)),!s&&c&16&&(s=!0,u.pcares=a[4],ie(()=>s=!1)),t.$set(u)},i(a){r||(g(t.$$.fragment,a),r=!0)},o(a){d(t.$$.fragment,a),r=!1},d(a){a&&k(e),$(t)}}}function gr(l){let e,t,n,s,r,o;function i(a){l[10](a)}let f={model:l[1]};return l[2]!==void 0&&(f.simca=l[2]),t=new En({props:f}),J.push(()=>oe(t,"simca",i)),r=new ee({props:{label:"Download",$$slots:{default:[tc]},$$scope:{ctx:l}}}),{c(){e=F("div"),z(t.$$.fragment),s=I(),z(r.$$.fragment),p(e,"class","simca-settings svelte-1lragme")},m(a,c){v(a,e,c),R(t,e,null),C(e,s),R(r,e,null),o=!0},p(a,c){const u={};c&2&&(u.model=a[1]),!n&&c&4&&(n=!0,u.simca=a[2],ie(()=>n=!1)),t.$set(u);const m={};c&8238&&(m.$$scope={dirty:c,ctx:a}),r.$set(m)},i(a){o||(g(t.$$.fragment,a),g(r.$$.fragment,a),o=!0)},o(a){d(t.$$.fragment,a),d(r.$$.fragment,a),o=!1},d(a){a&&k(e),$(t),$(r)}}}function xu(l){let e;return{c(){e=G("Results")},m(t,n){v(t,e,n)},d(t){t&&k(e)}}}function ec(l){let e;return{c(){e=G("Model")},m(t,n){v(t,e,n)},d(t){t&&k(e)}}}function tc(l){let e,t,n,s,r;return t=new Ze({props:{$$slots:{default:[xu]},$$scope:{ctx:l}}}),t.$on("click",l[11]),s=new Ze({props:{$$slots:{default:[ec]},$$scope:{ctx:l}}}),s.$on("click",l[12]),{c(){e=F("div"),z(t.$$.fragment),n=I(),z(s.$$.fragment),p(e,"class","buttons svelte-1lragme")},m(o,i){v(o,e,i),R(t,e,null),C(e,n),R(s,e,null),r=!0},p(o,i){const f={};i&8192&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const a={};i&8192&&(a.$$scope={dirty:i,ctx:o}),s.$set(a)},i(o){r||(g(t.$$.fragment,o),g(s.$$.fragment,o),r=!0)},o(o){d(t.$$.fragment,o),d(s.$$.fragment,o),r=!1},d(o){o&&k(e),$(t),$(s)}}}function dr(l){let e,t,n;return t=new Cn({props:{simca:l[2]}}),{c(){e=F("div"),z(t.$$.fragment),p(e,"class","model-stats svelte-1lragme")},m(s,r){v(s,e,r),R(t,e,null),n=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),t.$set(o)},i(s){n||(g(t.$$.fragment,s),n=!0)},o(s){d(t.$$.fragment,s),n=!1},d(s){s&&k(e),$(t)}}}function hr(l){let e,t,n;return t=new Bu({props:{simca:l[2],res:l[5].target}}),{c(){e=F("div"),z(t.$$.fragment),p(e,"class","result-stats svelte-1lragme")},m(s,r){v(s,e,r),R(t,e,null),n=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),r&32&&(o.res=s[5].target),t.$set(o)},i(s){n||(g(t.$$.fragment,s),n=!0)},o(s){d(t.$$.fragment,s),n=!1},d(s){s&&k(e),$(t)}}}function nc(l){let e=l[3],t,n,s=br(l);return{c(){s.c(),t=te()},m(r,o){s.m(r,o),v(r,t,o),n=!0},p(r,o){o&8&&se(e,e=r[3])?(X(),d(s,1,1,H),Q(),s=br(r),s.c(),g(s,1),s.m(t.parentNode,t)):s.p(r,o)},i(r){n||(g(s),n=!0)},o(r){d(s),n=!1},d(r){r&&k(t),s.d(r)}}}function lc(l){let e,t,n;function s(i,f){if(!i[1])return rc;if(!i[3])return sc}let r=s(l),o=r&&r(l);return{c(){e=F("div"),t=F("p"),t.textContent=`In this tab you can apply previously trained DD-SIMCA model to a dataset consisting of target class members (at least
            the app will assume this, you can of course provide any dataset). You can use it for testing performance
            of the model, or tune its parameters, if necessary.`,n=I(),o&&o.c(),p(t,"class","svelte-1lragme"),p(e,"class","help-text svelte-1lragme")},m(i,f){v(i,e,f),C(e,t),C(e,n),o&&o.m(e,null)},p(i,f){r!==(r=s(i))&&(o&&o.d(1),o=r&&r(i),o&&(o.c(),o.m(e,null)))},i:H,o:H,d(i){i&&k(e),o&&o.d()}}}function br(l){let e,t;return e=new Vu({props:{simcares:l[5],simca:l[2]}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&32&&(r.simcares=n[5]),s&4&&(r.simca=n[2]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function sc(l){let e,t,n;return{c(){e=F("p"),e.innerHTML="<strong>Step 2</strong>",t=I(),n=F("p"),n.textContent=`Load data ser from CSV file. The requirements to the file are the same as for the
               training set. The data may contain class labels for each row (you need to select this option in settings after selecting CSV file) but it is not necessary, as in any case the labels will be ignored and model will assume that all samples are from the target class.`,p(e,"class","svelte-1lragme"),p(n,"class","svelte-1lragme")},m(s,r){v(s,e,r),v(s,t,r),v(s,n,r)},d(s){s&&(k(e),k(t),k(n))}}}function rc(l){let e,t,n;return{c(){e=F("p"),e.innerHTML="<strong>Step 1</strong>",t=I(),n=F("p"),n.textContent="Load previously trained DD-SIMCA model from file.",p(e,"class","svelte-1lragme"),p(n,"class","svelte-1lragme")},m(s,r){v(s,e,r),v(s,t,r),v(s,n,r)},d(s){s&&(k(e),k(t),k(n))}}}function oc(l){let e,t,n,s,r,o,i,f,a,c,u,m,_,h,A;function y(w){l[6](w)}function b(w){l[7](w)}let N={};l[1]!==void 0&&(N.model=l[1]),l[2]!==void 0&&(N.simca=l[2]),s=new _r({props:N}),J.push(()=>oe(s,"model",y)),J.push(()=>oe(s,"simca",b));let M=l[1]&&pr(l),E=l[1]&&l[2]&&l[3]&&gr(l),T=l[2]&&l[3]&&dr(l),L=l[5]&&hr(l);const O=[lc,nc],P=[];function S(w,q){return w[4]?1:0}return _=S(l),h=P[_]=O[_](l),{c(){e=F("div"),t=F("div"),n=F("div"),z(s.$$.fragment),i=I(),M&&M.c(),f=I(),E&&E.c(),a=I(),T&&T.c(),c=I(),L&&L.c(),u=I(),m=F("div"),h.c(),p(n,"class","data-loader svelte-1lragme"),p(t,"class","app-controls svelte-1lragme"),p(m,"class","app-content svelte-1lragme"),p(e,"class","app-container svelte-1lragme")},m(w,q){v(w,e,q),C(e,t),C(t,n),R(s,n,null),C(t,i),M&&M.m(t,null),C(t,f),E&&E.m(t,null),C(t,a),T&&T.m(t,null),C(t,c),L&&L.m(t,null),C(e,u),C(e,m),P[_].m(m,null),A=!0},p(w,[q]){const Y={};!r&&q&2&&(r=!0,Y.model=w[1],ie(()=>r=!1)),!o&&q&4&&(o=!0,Y.simca=w[2],ie(()=>o=!1)),s.$set(Y),w[1]?M?(M.p(w,q),q&2&&g(M,1)):(M=pr(w),M.c(),g(M,1),M.m(t,f)):M&&(X(),d(M,1,1,()=>{M=null}),Q()),w[1]&&w[2]&&w[3]?E?(E.p(w,q),q&14&&g(E,1)):(E=gr(w),E.c(),g(E,1),E.m(t,a)):E&&(X(),d(E,1,1,()=>{E=null}),Q()),w[2]&&w[3]?T?(T.p(w,q),q&12&&g(T,1)):(T=dr(w),T.c(),g(T,1),T.m(t,c)):T&&(X(),d(T,1,1,()=>{T=null}),Q()),w[5]?L?(L.p(w,q),q&32&&g(L,1)):(L=hr(w),L.c(),g(L,1),L.m(t,null)):L&&(X(),d(L,1,1,()=>{L=null}),Q());let W=_;_=S(w),_===W?P[_].p(w,q):(X(),d(P[W],1,1,()=>{P[W]=null}),Q(),h=P[_],h?h.p(w,q):(h=P[_]=O[_](w),h.c()),g(h,1),h.m(m,null))},i(w){A||(g(s.$$.fragment,w),g(M),g(E),g(T),g(L),g(h),A=!0)},o(w){d(s.$$.fragment,w),d(M),d(E),d(T),d(L),d(h),A=!1},d(w){w&&k(e),$(s),M&&M.d(),E&&E.d(),T&&T.d(),L&&L.d(),P[_].d()}}}function ic(l,e,t){let{WASM:n}=e,s,r,o,i,f;function a(y){s=y,t(1,s)}function c(y){r=y,t(2,r)}function u(y){o=y,t(3,o),t(1,s)}function m(y){i=y,t(4,i),t(3,o),t(1,s)}function _(y){r=y,t(2,r)}const h=()=>hn(f.target,o,"target"),A=()=>bn(s,r);return l.$$set=y=>{"WASM"in y&&t(0,n=y.WASM)},l.$$.update=()=>{l.$$.dirty&2&&s===null&&t(3,o=null),l.$$.dirty&8&&o===null&&(t(4,i=null),t(5,f=null)),l.$$.dirty&28&&(r&&o&&i?t(5,f={target:gn(i,o,r,r.className)}):t(5,f=null))},[n,s,r,o,i,f,a,c,u,m,_,h,A]}let fc=class extends ue{constructor(e){super(),ae(this,e,ic,oc,se,{WASM:0})}};function ac(l){let e,t,n,s={ctx:l,current:null,token:null,hasCatch:!0,pending:gc,then:_c,catch:cc,value:22,error:23,blocks:[,,,]};return _t(t=l[7],s),{c(){e=te(),s.block.c()},m(r,o){v(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(r,o){l=r,s.ctx=l,o&128&&t!==(t=l[7])&&_t(t,s)||Ut(s,l,o)},i(r){n||(g(s.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=s.blocks[o];d(i)}n=!1},d(r){r&&k(e),s.block.d(r),s.token=null,s=null}}}function uc(l){let e=l[2]===void 0,t,n,s,r=kr(l),o=l[2]&&vr(l);return{c(){r.c(),t=I(),o&&o.c(),n=te()},m(i,f){r.m(i,f),v(i,t,f),o&&o.m(i,f),v(i,n,f),s=!0},p(i,f){f&4&&se(e,e=i[2]===void 0)?(X(),d(r,1,1,H),Q(),r=kr(i),r.c(),g(r,1),r.m(t.parentNode,t)):r.p(i,f),i[2]?o?(o.p(i,f),f&4&&g(o,1)):(o=vr(i),o.c(),g(o,1),o.m(n.parentNode,n)):o&&(X(),d(o,1,1,()=>{o=null}),Q())},i(i){s||(g(r),g(o),s=!0)},o(i){d(r),d(o),s=!1},d(i){i&&(k(t),k(n)),r.d(i),o&&o.d(i)}}}function cc(l){let e,t;return e=new ee({props:{status:"error",$$slots:{default:[mc]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&16777344&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function mc(l){let e,t=l[23]+"",n;return{c(){e=F("p"),n=G(t)},m(s,r){v(s,e,r),C(e,n)},p(s,r){r&128&&t!==(t=s[23]+"")&&fe(n,t)},d(s){s&&k(e)}}}function _c(l){let e,t,n=l[1]!==null&&wr(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,r){s[1]!==null?n?(n.p(s,r),r&2&&g(n,1)):(n=wr(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function wr(l){let e,t;return e=new ee({props:{$$slots:{default:[pc]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&16777217&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function pc(l){let e,t,n=l[0].values.nrows+"",s,r,o=l[0].values.ncols+"",i,f,a,c;return a=new St({}),a.$on("click",l[12]),{c(){e=F("p"),t=G("Test set is loaded: "),s=G(n),r=G(" × "),i=G(o),f=I(),z(a.$$.fragment)},m(u,m){v(u,e,m),C(e,t),C(e,s),C(e,r),C(e,i),v(u,f,m),R(a,u,m),c=!0},p(u,m){(!c||m&1)&&n!==(n=u[0].values.nrows+"")&&fe(s,n),(!c||m&1)&&o!==(o=u[0].values.ncols+"")&&fe(i,o)},i(u){c||(g(a.$$.fragment,u),c=!0)},o(u){d(a.$$.fragment,u),c=!1},d(u){u&&(k(e),k(f)),$(a,u)}}}function gc(l){let e,t;return e=new ee({props:{$$slots:{default:[dc]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&16777216&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function dc(l){let e,t,n,s;return e=new Qt({}),{c(){z(e.$$.fragment),t=I(),n=F("p"),n.textContent="Loading data and apply model..."},m(r,o){R(e,r,o),v(r,t,o),v(r,n,o),s=!0},p:H,i(r){s||(g(e.$$.fragment,r),s=!0)},o(r){d(e.$$.fragment,r),s=!1},d(r){r&&(k(t),k(n)),$(e,r)}}}function hc(l){let e,t,n;function s(o){l[15](o)}let r={id:"dataFile",message:"Select CSV file with dataset"};return l[2]!==void 0&&(r.file=l[2]),e=new Zt({props:r}),J.push(()=>oe(e,"file",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.file=o[2],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function kr(l){let e,t;return e=new ee({props:{$$slots:{default:[hc]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&16777220&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function vr(l){let e,t,n,s,r,o,i,f,a,c;return e=new ee({props:{label:"Delimiter:",$$slots:{default:[bc]},$$scope:{ctx:l}}}),n=new ee({props:{label:"Header:",$$slots:{default:[wc]},$$scope:{ctx:l}}}),r=new ee({props:{label:"Row labels:",$$slots:{default:[kc]},$$scope:{ctx:l}}}),i=new ee({props:{label:"Class labels:",$$slots:{default:[vc]},$$scope:{ctx:l}}}),a=new ee({props:{label:" ",$$slots:{default:[Cc]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment),t=I(),z(n.$$.fragment),s=I(),z(r.$$.fragment),o=I(),z(i.$$.fragment),f=I(),z(a.$$.fragment)},m(u,m){R(e,u,m),v(u,t,m),R(n,u,m),v(u,s,m),R(r,u,m),v(u,o,m),R(i,u,m),v(u,f,m),R(a,u,m),c=!0},p(u,m){const _={};m&16777224&&(_.$$scope={dirty:m,ctx:u}),e.$set(_);const h={};m&16777232&&(h.$$scope={dirty:m,ctx:u}),n.$set(h);const A={};m&16777248&&(A.$$scope={dirty:m,ctx:u}),r.$set(A);const y={};m&16777280&&(y.$$scope={dirty:m,ctx:u}),i.$set(y);const b={};m&16777216&&(b.$$scope={dirty:m,ctx:u}),a.$set(b)},i(u){c||(g(e.$$.fragment,u),g(n.$$.fragment,u),g(r.$$.fragment,u),g(i.$$.fragment,u),g(a.$$.fragment,u),c=!0)},o(u){d(e.$$.fragment,u),d(n.$$.fragment,u),d(r.$$.fragment,u),d(i.$$.fragment,u),d(a.$$.fragment,u),c=!1},d(u){u&&(k(t),k(s),k(o),k(f)),$(e,u),$(n,u),$(r,u),$(i,u),$(a,u)}}}function bc(l){let e,t,n;function s(o){l[16](o)}let r={id:"sep",options:l[10]};return l[3]!==void 0&&(r.value=l[3]),e=new ve({props:r}),J.push(()=>oe(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function wc(l){let e,t,n;function s(o){l[17](o)}let r={id:"hasHeader",options:["yes","no"]};return l[4]!==void 0&&(r.value=l[4]),e=new ve({props:r}),J.push(()=>oe(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&16&&(t=!0,f.value=o[4],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function kc(l){let e,t,n;function s(o){l[18](o)}let r={id:"hasLabels",options:["yes","no"]};return l[5]!==void 0&&(r.value=l[5]),e=new ve({props:r}),J.push(()=>oe(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&32&&(t=!0,f.value=o[5],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function vc(l){let e,t,n;function s(o){l[19](o)}let r={id:"hasLabels",options:["yes","no"]};return l[6]!==void 0&&(r.value=l[6]),e=new ve({props:r}),J.push(()=>oe(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&64&&(t=!0,f.value=o[6],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function yc(l){let e;return{c(){e=G("Load")},m(t,n){v(t,e,n)},d(t){t&&k(e)}}}function Cc(l){let e,t;return e=new Ze({props:{$$slots:{default:[yc]},$$scope:{ctx:l}}}),e.$on("click",l[11]),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&16777216&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function yr(l){let e,t;return e=new ee({props:{status:"error",$$slots:{default:[Ec]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&16777728&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Ec(l){let e,t;return{c(){e=F("p"),t=G(l[9])},m(n,s){v(n,e,s),C(e,t)},p(n,s){s&512&&fe(t,n[9])},d(n){n&&k(e)}}}function Ac(l){let e,t,n,s,r;const o=[uc,ac],i=[];function f(c,u){return c[0]?c[7]?1:-1:0}~(e=f(l))&&(t=i[e]=o[e](l));let a=(l[8]==="error"||l[9])&&yr(l);return{c(){t&&t.c(),n=I(),a&&a.c(),s=te()},m(c,u){~e&&i[e].m(c,u),v(c,n,u),a&&a.m(c,u),v(c,s,u),r=!0},p(c,[u]){let m=e;e=f(c),e===m?~e&&i[e].p(c,u):(t&&(X(),d(i[m],1,1,()=>{i[m]=null}),Q()),~e?(t=i[e],t?t.p(c,u):(t=i[e]=o[e](c),t.c()),g(t,1),t.m(n.parentNode,n)):t=null),c[8]==="error"||c[9]?a?(a.p(c,u),u&768&&g(a,1)):(a=yr(c),a.c(),g(a,1),a.m(s.parentNode,s)):a&&(X(),d(a,1,1,()=>{a=null}),Q())},i(c){r||(g(t),g(a),r=!0)},o(c){d(t),d(a),r=!1},d(c){c&&(k(n),k(s)),~e&&i[e].d(c),a&&a.d(c)}}}function Nc(l,e,t){let{WASM:n}=e,{dataset:s}=e,{model:r}=e,{pcares:o}=e,i,f=",",a="yes",c="no",u="no",m,_="neutral",h="";const A=[",",";"];function y(S){t(7,m=n().then(w=>{const q=Xt(w,r,S);t(1,o=q)}).catch(w=>{t(1,o=null),t(8,_="error"),t(9,h=w)}))}function b(S){try{const w=dn(S,f,a==="yes",c==="yes",u==="yes");if(w.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(w.values.ncols!==r.ncols)throw new Error("Dataset has different number of columns than the training set.");t(0,s=w),y(w.values),t(9,h=""),t(8,_="success")}catch(w){t(0,s=null),t(8,_="error"),t(9,h=w)}}function N(S){const w=new FileReader;w.onload=()=>b(w.result),w.readAsBinaryString(i)}function M(){t(2,i=null)}function E(S){i=S,t(2,i)}function T(S){f=S,t(3,f)}function L(S){a=S,t(4,a)}function O(S){c=S,t(5,c)}function P(S){u=S,t(6,u)}return l.$$set=S=>{"WASM"in S&&t(13,n=S.WASM),"dataset"in S&&t(0,s=S.dataset),"model"in S&&t(14,r=S.model),"pcares"in S&&t(1,o=S.pcares)},l.$$.update=()=>{l.$$.dirty&4&&(i===null?t(0,s=null):(t(8,_="neutral"),t(9,h=""))),l.$$.dirty&8&&f&&(t(8,_="neutral"),t(9,h=""))},[s,o,i,f,a,c,u,m,_,h,A,N,M,n,r,E,T,L,O,P]}class Mc extends ue{constructor(e){super(),ae(this,e,Nc,Ac,se,{WASM:13,dataset:0,model:14,pcares:1})}}function Cr(l,e,t){const n=l.slice();return n[33]=e[t],n[35]=t,n}function Er(l,e,t){const n=l.slice();return n[33]=e[t],n[35]=t,n}function Ar(l){let e,t,n,s=ke(l[5]),r=[];for(let i=0;i<s.length;i+=1)r[i]=Nr(Er(l,s,i));let o=l[0]==="show"&&l[3]&&l[3].length>0&&Mr(l);return{c(){e=_e("g");for(let i=0;i<r.length;i+=1)r[i].c();t=I(),o&&o.c(),n=te(),p(e,"class","series series_points"),p(e,"title","distance_points"),p(e,"style",l[12])},m(i,f){v(i,e,f);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);v(i,t,f),o&&o.m(i,f),v(i,n,f)},p(i,f){if(f[0]&500){s=ke(i[5]);let a;for(a=0;a<s.length;a+=1){const c=Er(i,s,a);r[a]?r[a].p(c,f):(r[a]=Nr(c),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=s.length}i[0]==="show"&&i[3]&&i[3].length>0?o?o.p(i,f):(o=Mr(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&(k(e),k(t),k(n)),Xe(r,i),o&&o.d(i)}}}function Nr(l){let e,t=l[7][l[4][l[35]]]+"",n,s,r,o;return{c(){e=_e("text"),n=G(t),p(e,"x",s=l[5][l[35]]),p(e,"y",r=l[6][l[35]]),p(e,"stroke",o=l[8][l[2][l[35]]])},m(i,f){v(i,e,f),C(e,n)},p(i,f){f[0]&144&&t!==(t=i[7][i[4][i[35]]]+"")&&fe(n,t),f[0]&32&&s!==(s=i[5][i[35]])&&p(e,"x",s),f[0]&64&&r!==(r=i[6][i[35]])&&p(e,"y",r),f[0]&260&&o!==(o=i[8][i[2][i[35]]])&&p(e,"stroke",o)},d(i){i&&k(e)}}}function Mr(l){let e,t=ke(l[5]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Lr(Cr(l,t,s));return{c(){e=_e("g");for(let s=0;s<n.length;s+=1)n[s].c();p(e,"class","series series_labels"),p(e,"title","distance_labels"),p(e,"style",l[13])},m(s,r){v(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r[0]&104){t=ke(s[5]);let o;for(o=0;o<t.length;o+=1){const i=Cr(s,t,o);n[o]?n[o].p(i,r):(n[o]=Lr(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),Xe(n,s)}}}function Lr(l){let e,t=l[3][l[35]]+"",n,s,r;return{c(){e=_e("text"),n=G(t),p(e,"x",s=l[5][l[35]]),p(e,"y",r=l[6][l[35]]),p(e,"dy",-12)},m(o,i){v(o,e,i),C(e,n)},p(o,i){i[0]&8&&t!==(t=o[3][o[35]]+"")&&fe(n,t),i[0]&32&&s!==(s=o[5][o[35]])&&p(e,"x",s),i[0]&64&&r!==(r=o[6][o[35]])&&p(e,"y",r)},d(o){o&&k(e)}}}function Lc(l){let e,t=l[1]&&l[5]&&l[6]&&Ar(l);return{c(){t&&t.c(),e=te()},m(n,s){t&&t.m(n,s),v(n,e,s)},p(n,s){n[1]&&n[5]&&n[6]?t?t.p(n,s):(t=Ar(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){n&&k(e),t&&t.d(n)}}}const Tr="#a0a0a0";function Tc(l,e,t){let n,s,r,o,i,{res:f}=e,{labels:a}=e,{classes:c=[]}=e,{targetClass:u}=e,{colors:m}=e,{transType:_="no"}=e,{distType:h="h/q"}=e,{showLabels:A="hide"}=e,{xMax:y=0}=e,{yMax:b=0}=e;const N=Je("axes"),M=N.tX;re(l,M,j=>t(28,o=j));const E=N.tY;re(l,E,j=>t(27,r=j));const T=N.isOk;re(l,T,j=>t(1,i=j));let L,O,P,S,w,q,Y,W,le;const me="dominant-baseline:middle;font-size:1em;fill:none;text-anchor:middle;cursor:default;stroke-width:2px;user-select:none;",D=`dominant-baseline:middle;font-size:0.85em;fill:${Tr};text-anchor:middle;cursor:default;stroke:${Tr};stroke-width:0.1px;user-select:none;`;return l.$$set=j=>{"res"in j&&t(16,f=j.res),"labels"in j&&t(17,a=j.labels),"classes"in j&&t(18,c=j.classes),"targetClass"in j&&t(19,u=j.targetClass),"colors"in j&&t(20,m=j.colors),"transType"in j&&t(21,_=j.transType),"distType"in j&&t(22,h=j.distType),"showLabels"in j&&t(0,A=j.showLabels),"xMax"in j&&t(14,y=j.xMax),"yMax"in j&&t(15,b=j.yMax)},l.$$.update=()=>{if(l.$$.dirty[0]&1048576&&t(8,n={alien:m[0],external:m[1]}),l.$$.dirty[0]&124715008)if(f){const j=f.h.length;if(t(23,L=pe.zeros(j)),t(24,O=pe.zeros(j)),t(25,P=pe.zeros(j)),t(26,S=pe.zeros(j)),t(4,Y=new Int32Array(j)),_==="log")for(let Z=0;Z<j;Z++)t(23,L.v[Z]=Z,L),t(24,O.v[Z]=Math.log(1+f.h[Z]/f.h0),O),t(25,P.v[Z]=Math.log(1+f.q[Z]/f.q0),P),t(26,S.v[Z]=Math.log(1+f.f[Z]),S);else for(let Z=0;Z<j;Z++)t(23,L.v[Z]=Z,L),t(24,O.v[Z]=f.h[Z]/f.h0,O),t(25,P.v[Z]=f.q[Z]/f.q0,P),t(26,S.v[Z]=f.f[Z],S);if(c&&c.length===j)for(let Z=0;Z<j;Z++)t(4,Y[Z]=c[Z]===u?0:1,Y);t(2,w=f.a),t(3,q=a),t(14,y=h==="h/q"?Se(O):S.length),t(15,b=Se(h==="h/q"?P:S))}else t(24,O=null),t(25,P=null),t(26,S=null),t(2,w=null),t(3,q=null),t(4,Y=null);l.$$.dirty[0]&532676610&&i&&O&&P&&S&&(t(5,W=h==="h/q"?N.transform(O,o.coords):N.transform(L,o.coords)),t(6,le=h==="h/q"?N.transform(P,r.coords):N.transform(S,r.coords)))},t(7,s=["●","■"]),[A,i,w,q,Y,W,le,s,n,M,E,T,me,D,y,b,f,a,c,u,m,_,h,L,O,P,S,r,o]}class Sc extends ue{constructor(e){super(),ae(this,e,Tc,Lc,se,{res:16,labels:17,classes:18,targetClass:19,colors:20,transType:21,distType:22,showLabels:0,xMax:14,yMax:15},null,[-1,-1])}}function Sr(l,e,t){const n=l.slice();return n[22]=e[t],n[24]=t,n}function Rr(l){let e,t=ke(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=$r(Sr(l,t,s));return{c(){e=_e("g");for(let s=0;s<n.length;s+=1)n[s].c();p(e,"class","series colormap_legend"),He(e,"stroke","0"),He(e,"stroke-width","0px")},m(s,r){v(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,r){if(r&123){t=ke(s[1]);let o;for(o=0;o<t.length;o+=1){const i=Sr(s,t,o);n[o]?n[o].p(i,r):(n[o]=$r(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),Xe(n,s)}}}function $r(l){let e,t,n,s,r=l[0][l[24]]+"",o,i;return{c(){e=_e("rect"),s=_e("text"),p(e,"x",t=l[3][l[24]]),p(e,"y",l[4]),p(e,"width",l[5]),p(e,"height",l[6]),p(e,"fill",n=l[22]),p(s,"x",o=l[3][l[24]]+l[5]/2),p(s,"y",l[4]),p(s,"dx",0),p(s,"dy",i=l[6]*1.5),p(s,"dominant-baseline","hanging"),p(s,"fill",$c),p(s,"font-size",zc+"em"),p(s,"text-anchor","middle")},m(f,a){v(f,e,a),v(f,s,a),s.innerHTML=r},p(f,a){a&8&&t!==(t=f[3][f[24]])&&p(e,"x",t),a&16&&p(e,"y",f[4]),a&32&&p(e,"width",f[5]),a&64&&p(e,"height",f[6]),a&2&&n!==(n=f[22])&&p(e,"fill",n),a&1&&r!==(r=f[0][f[24]]+"")&&(s.innerHTML=r),a&40&&o!==(o=f[3][f[24]]+f[5]/2)&&p(s,"x",o),a&16&&p(s,"y",f[4]),a&64&&i!==(i=f[6]*1.5)&&p(s,"dy",i)},d(f){f&&(k(e),k(s))}}}function Rc(l){let e,t=l[2]&&l[3].length>0&&Rr(l);return{c(){t&&t.c(),e=te()},m(n,s){t&&t.m(n,s),v(n,e,s)},p(n,[s]){n[2]&&n[3].length>0?t?t.p(n,s):(t=Rr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){n&&k(e),t&&t.d(n)}}}const $c="#909090",zc=.85,zr=.8,qc=.02,Fc=.25;function Oc(l,e,t){let n,s,r,o,i,f,a,{categories:c}=e,{colmap:u}=e,{labels:m}=e;const _={small:5,medium:8,large:10,xlarge:12},h=Je("axes"),A=h.tX;re(l,A,S=>t(16,r=S));const y=h.tY;re(l,y,S=>t(17,o=S));const b=h.xLim;re(l,b,S=>t(19,f=S));const N=h.yLim;re(l,N,S=>t(18,i=S));const M=h.scale;re(l,M,S=>t(15,s=S));const E=h.isOk;re(l,E,S=>t(2,a=S));let T,L,O,P;return l.$$set=S=>{"categories"in S&&t(13,c=S.categories),"colmap"in S&&t(1,u=S.colmap),"labels"in S&&t(0,m=S.labels)},l.$$.update=()=>{if(l.$$.dirty&2&&t(14,n=u.length),l.$$.dirty&8192&&t(0,m=c?Object.keys(c).map(S=>S+": "+c[S]):null),l.$$.dirty&1032196&&a){const S=f[1]-f[0],w=i[1]-i[0],q=S*zr,Y=w*qc,W=q/n,le=f[0]+S*(1-zr)*.5,me=i[1]-Y*Fc;t(4,L=h.transform(me,o.coords)),t(3,T=h.transform(pe.seq(0,n).apply(D=>le+D*W),r.coords)),t(5,O=h.transform([W],r.objects)),t(6,P=_[s]),t(4,L=_[s])}},[m,u,a,T,L,O,P,A,y,b,N,M,E,c,n,s,r,o,i,f]}class Pc extends ue{constructor(e){super(),ae(this,e,Oc,Rc,se,{categories:13,colmap:1,labels:0})}}function qr(l){let e,t;return e=new at({props:{xValues:l[0].x,yValues:l[0].y,lineColor:jc,lineType:2}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.xValues=n[0].x),s&1&&(r.yValues=n[0].y),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Ic(l){let e,t,n=l[0]&&qr(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&g(n,1)):(n=qr(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}const Fr=100,jc="#909090";function Vc(l,e,t){let{simca:n}=e,{transType:s="no"}=e,{distType:r="h/q"}=e,{xMax:o=0}=e,{yMax:i=0}=e;function f(c,u,m,_,h){if(h==="f")return{x:Re([0,1e3]),y:Re(_==="log"?[Math.log(1+c),Math.log(1+c)]:[c,c])};const A=c/m,y=-u/m,b=-A/y,N=pe.seq(0,b*.999,b/Fr),M=N.apply(E=>E*y+A);return{x:_==="log"?N.apply(E=>Math.log(1+E)):N,y:_==="log"?M.apply(E=>Math.log(1+E)):M}}let a=null;return l.$$set=c=>{"simca"in c&&t(3,n=c.simca),"transType"in c&&t(4,s=c.transType),"distType"in c&&t(5,r=c.distType),"xMax"in c&&t(1,o=c.xMax),"yMax"in c&&t(2,i=c.yMax)},l.$$.update=()=>{if(l.$$.dirty&57)if(n){const c=n.ncomp-1;t(0,a=f(n.eCrit[c],n.Nh[c],n.Nq[c],s,r)),t(1,o=r==="h/q"?a.x.v[Fr-1]:1),t(2,i=a.y.v[0])}else t(0,a=null),t(1,o=1),t(2,i=1)},[a,o,i,n,s,r]}class Yc extends ue{constructor(e){super(),ae(this,e,Vc,Ic,se,{simca:3,transType:4,distType:5,xMax:1,yMax:2})}}function Or(l){let e,t;return e=new zt({props:{margins:l[16],xLabel:l[13],yLabel:l[12],limX:l[11],limY:l[10],title:l[14],$$slots:{box:[Hc],yaxis:[Wc],xaxis:[Bc],default:[Dc]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&8192&&(r.xLabel=n[13]),s&4096&&(r.yLabel=n[12]),s&2048&&(r.limX=n[11]),s&1024&&(r.limY=n[10]),s&16384&&(r.title=n[14]),s&33588222&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Dc(l){let e,t,n,s,r,o,i,f,a,c;function u(b){l[21](b)}function m(b){l[22](b)}let _={colors:l[17],res:l[15].v[l[5]-1],labels:l[15].labels,classes:l[15].classes,targetClass:l[1].className,distType:l[2],transType:l[3],showLabels:l[4]};l[6]!==void 0&&(_.xMax=l[6]),l[7]!==void 0&&(_.yMax=l[7]),e=new Sc({props:_}),J.push(()=>oe(e,"xMax",u)),J.push(()=>oe(e,"yMax",m));function h(b){l[23](b)}function A(b){l[24](b)}let y={simca:l[1],transType:l[3],distType:l[2]};return l[8]!==void 0&&(y.xMax=l[8]),l[9]!==void 0&&(y.yMax=l[9]),r=new Yc({props:y}),J.push(()=>oe(r,"xMax",h)),J.push(()=>oe(r,"yMax",A)),a=new Pc({props:{categories:l[15].v[l[5]-1].anum,colmap:l[17]}}),{c(){z(e.$$.fragment),s=I(),z(r.$$.fragment),f=I(),z(a.$$.fragment)},m(b,N){R(e,b,N),v(b,s,N),R(r,b,N),v(b,f,N),R(a,b,N),c=!0},p(b,N){const M={};N&32800&&(M.res=b[15].v[b[5]-1]),N&32768&&(M.labels=b[15].labels),N&32768&&(M.classes=b[15].classes),N&2&&(M.targetClass=b[1].className),N&4&&(M.distType=b[2]),N&8&&(M.transType=b[3]),N&16&&(M.showLabels=b[4]),!t&&N&64&&(t=!0,M.xMax=b[6],ie(()=>t=!1)),!n&&N&128&&(n=!0,M.yMax=b[7],ie(()=>n=!1)),e.$set(M);const E={};N&2&&(E.simca=b[1]),N&8&&(E.transType=b[3]),N&4&&(E.distType=b[2]),!o&&N&256&&(o=!0,E.xMax=b[8],ie(()=>o=!1)),!i&&N&512&&(i=!0,E.yMax=b[9],ie(()=>i=!1)),r.$set(E);const T={};N&32800&&(T.categories=b[15].v[b[5]-1].anum),a.$set(T)},i(b){c||(g(e.$$.fragment,b),g(r.$$.fragment,b),g(a.$$.fragment,b),c=!0)},o(b){d(e.$$.fragment,b),d(r.$$.fragment,b),d(a.$$.fragment,b),c=!1},d(b){b&&(k(s),k(f)),$(e,b),$(r,b),$(a,b)}}}function Bc(l){let e,t;return e=new qt({props:{showGrid:Pr,slot:"xaxis"}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:H,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Wc(l){let e,t;return e=new Ft({props:{showGrid:Pr,slot:"yaxis"}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:H,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Hc(l){let e,t;return e=new Ot({props:{slot:"box"}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p:H,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Gc(l){let e,t,n=l[15]&&l[0]&&Or(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[15]&&s[0]?n?(n.p(s,r),r&32769&&g(n,1)):(n=Or(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}const Pr=!0;function An(l,e){return{q:"Orthogonal distance",h:"Score distance",f:"Full distance"}[l]+", "+(e==="log"?"log(1 + "+l+"/"+l+"0)":l+"/"+l+"0")}function Uc(l,e,t){let n,s,r,o,i,f,a,c,{params:u}=e,{simcares:m}=e,{simca:_}=e;const h=[.85,1,.25,.25],A=["#2679B2","#D22C2F"];let y="h/q",b="no",N="no",M=1,E=1,T=1,L=1,O=1;function P(Y){E=Y,t(6,E)}function S(Y){T=Y,t(7,T)}function w(Y){L=Y,t(8,L)}function q(Y){O=Y,t(9,O)}return l.$$set=Y=>{"params"in Y&&t(0,u=Y.params),"simcares"in Y&&t(18,m=Y.simcares),"simca"in Y&&t(1,_=Y.simca)},l.$$.update=()=>{l.$$.dirty&5&&u&&u.distType!==y&&t(2,y=u.distType),l.$$.dirty&9&&u&&u.transType!==b&&t(3,b=u.transType),l.$$.dirty&17&&u&&u.showLabels!==N&&t(4,N=u.showLabels),l.$$.dirty&34&&_&&_.ncomp!==M&&t(5,M=_.ncomp),l.$$.dirty&262144&&t(15,n=m?m[Object.keys(m)[0]]:null),l.$$.dirty&32&&t(14,s="Acceptance plot (A = "+M+")"),l.$$.dirty&12&&t(13,r=y==="f"?"Objects":An("h",b)),l.$$.dirty&12&&t(12,o=An(y==="h/q"?"q":"f",b)),l.$$.dirty&320&&t(20,i=Se([E,L])),l.$$.dirty&640&&t(19,f=Se([T,O])),l.$$.dirty&1048576&&t(11,a=[-.02*i,1.05*i]),l.$$.dirty&524288&&t(10,c=[-.02*f,1.2*f])},[u,_,y,b,N,M,E,T,L,O,c,a,o,r,s,n,h,A,m,f,i,P,S,w,q]}class Kc extends ue{constructor(e){super(),ae(this,e,Uc,Gc,se,{params:0,simcares:18,simca:1})}}function Ir(l){let e,t,n=Object.keys(l[0]).length>1,s,r,o,i,f,a,c;e=new ee({props:{label:"",$$slots:{default:[Xc]},$$scope:{ctx:l}}});let u=n&&jr(l);return r=new ee({props:{label:"Distances:",$$slots:{default:[Zc]},$$scope:{ctx:l}}}),i=new ee({props:{label:"Transform:",$$slots:{default:[Jc]},$$scope:{ctx:l}}}),a=new ee({props:{label:"Labels:",$$slots:{default:[xc]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment),t=I(),u&&u.c(),s=I(),z(r.$$.fragment),o=I(),z(i.$$.fragment),f=I(),z(a.$$.fragment)},m(m,_){R(e,m,_),v(m,t,_),u&&u.m(m,_),v(m,s,_),R(r,m,_),v(m,o,_),R(i,m,_),v(m,f,_),R(a,m,_),c=!0},p(m,_){const h={};_&1024&&(h.$$scope={dirty:_,ctx:m}),e.$set(h),_&1&&(n=Object.keys(m[0]).length>1),n?u?(u.p(m,_),_&1&&g(u,1)):(u=jr(m),u.c(),g(u,1),u.m(s.parentNode,s)):u&&(X(),d(u,1,1,()=>{u=null}),Q());const A={};_&1026&&(A.$$scope={dirty:_,ctx:m}),r.$set(A);const y={};_&1028&&(y.$$scope={dirty:_,ctx:m}),i.$set(y);const b={};_&1032&&(b.$$scope={dirty:_,ctx:m}),a.$set(b)},i(m){c||(g(e.$$.fragment,m),g(u),g(r.$$.fragment,m),g(i.$$.fragment,m),g(a.$$.fragment,m),c=!0)},o(m){d(e.$$.fragment,m),d(u),d(r.$$.fragment,m),d(i.$$.fragment,m),d(a.$$.fragment,m),c=!1},d(m){m&&(k(t),k(s),k(o),k(f)),$(e,m),u&&u.d(m),$(r,m),$(i,m),$(a,m)}}}function Xc(l){let e;return{c(){e=F("p"),e.textContent="Acceptance plot",p(e,"class","title")},m(t,n){v(t,e,n)},p:H,d(t){t&&k(e)}}}function jr(l){let e,t;return e=new ee({props:{label:"Results:",$$slots:{default:[Qc]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1041&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Qc(l){let e,t,n;function s(o){l[6](o)}let r={id:"resType",options:Object.keys(l[0])};return l[4]!==void 0&&(r.value=l[4]),e=new ve({props:r}),J.push(()=>oe(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};i&1&&(f.options=Object.keys(o[0])),!t&&i&16&&(t=!0,f.value=o[4],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function Zc(l){let e,t,n;function s(o){l[7](o)}let r={id:"distances",options:["h/q","f"]};return l[1]!==void 0&&(r.value=l[1]),e=new ve({props:r}),J.push(()=>oe(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&2&&(t=!0,f.value=o[1],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function Jc(l){let e,t,n;function s(o){l[8](o)}let r={id:"limType",options:["no","log"]};return l[2]!==void 0&&(r.value=l[2]),e=new ve({props:r}),J.push(()=>oe(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&4&&(t=!0,f.value=o[2],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function xc(l){let e,t,n;function s(o){l[9](o)}let r={id:"showLabels",options:["hide","show"]};return l[3]!==void 0&&(r.value=l[3]),e=new ve({props:r}),J.push(()=>oe(e,"value",s)),{c(){z(e.$$.fragment)},m(o,i){R(e,o,i),n=!0},p(o,i){const f={};!t&&i&8&&(t=!0,f.value=o[3],ie(()=>t=!1)),e.$set(f)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function e1(l){let e,t,n=l[0]&&Ir(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&g(n,1)):(n=Ir(s),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(X(),d(n,1,1,()=>{n=null}),Q())},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function t1(l,e,t){let{params:n}=e,{simcares:s}=e,r="h/q",o="no",i="hide",f=s?Object.keys(s)[0]:"";function a(_){f=_,t(4,f)}function c(_){r=_,t(1,r)}function u(_){o=_,t(2,o)}function m(_){i=_,t(3,i)}return l.$$set=_=>{"params"in _&&t(5,n=_.params),"simcares"in _&&t(0,s=_.simcares)},l.$$.update=()=>{l.$$.dirty&30&&t(5,n={distType:r,transType:o,showLabels:i,resID:f})},[s,r,o,i,f,n,a,c,u,m]}class n1 extends ue{constructor(e){super(),ae(this,e,t1,e1,se,{params:5,simcares:0})}}function l1(l){let e,t;return e=new kn({props:{simcares:l[0],simca:l[1],options:l[2]}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.simcares=n[0]),s&2&&(r.simca=n[1]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function s1(l){let e,t,n=l[2]&&l1(l);return{c(){n&&n.c(),e=te()},m(s,r){n&&n.m(s,r),v(s,e,r),t=!0},p(s,[r]){s[2]&&n.p(s,r)},i(s){t||(g(n),t=!0)},o(s){d(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function r1(l,e,t){let{simcares:n}=e,{simca:s}=e,r=[{label:"Acceptance",plotComponent:Kc,controlsComponent:n1},{label:"Specificity",plotComponent:Wa,controlsComponent:Xa}];return l.$$set=o=>{"simcares"in o&&t(0,n=o.simcares),"simca"in o&&t(1,s=o.simca)},[n,s,r]}class o1 extends ue{constructor(e){super(),ae(this,e,r1,s1,se,{simcares:0,simca:1})}}const x1="";function Vr(l){let e,t,n,s,r,o,i,f=l[0].nrows+"",a,c,u,m,_,h,A=l[1].dnum.in+"",y,b,N,M,E,T,L=l[1].dnum.out+"",O,P,S,w,q,Y,W=l[1].anum.aliens+"",le,me,D,j,Z,Ee,Be=l[1].anum.external+"",Ne,Ke,je,Le,qe,Ve,Ae=l[1].stat.specificity.toFixed(2)+"",Fe,Ge,Oe,ye,Pe,lt,xe=l[1].beta.toFixed(3)+"",st;return{c(){e=F("table"),t=F("tr"),t.innerHTML='<th class="svelte-kg0b31"></th> <th class="svelte-kg0b31">Target</th>',n=I(),s=F("tr"),r=F("td"),r.textContent="Objects",o=I(),i=F("td"),a=G(f),c=I(),u=F("tr"),m=F("td"),m.textContent="In",_=I(),h=F("td"),y=G(A),b=I(),N=F("tr"),M=F("td"),M.textContent="Out",E=I(),T=F("td"),O=G(L),P=I(),S=F("tr"),w=F("td"),w.textContent="Aliens",q=I(),Y=F("td"),le=G(W),me=I(),D=F("tr"),j=F("td"),j.textContent="External",Z=I(),Ee=F("td"),Ne=G(Be),Ke=I(),je=F("tr"),Le=F("td"),Le.textContent="Specificity",qe=I(),Ve=F("td"),Fe=G(Ae),Ge=I(),Oe=F("tr"),ye=F("td"),ye.textContent="Beta",Pe=I(),lt=F("td"),st=G(xe),p(t,"class","svelte-kg0b31"),p(r,"class","label svelte-kg0b31"),p(i,"class","svelte-kg0b31"),p(s,"class","svelte-kg0b31"),p(m,"class","label svelte-kg0b31"),p(h,"class","svelte-kg0b31"),p(u,"class","svelte-kg0b31"),p(M,"class","label svelte-kg0b31"),p(T,"class","svelte-kg0b31"),p(N,"class","svelte-kg0b31"),p(w,"class","label svelte-kg0b31"),p(Y,"class","svelte-kg0b31"),p(S,"class","svelte-kg0b31"),p(j,"class","label svelte-kg0b31"),p(Ee,"class","svelte-kg0b31"),p(D,"class","svelte-kg0b31"),p(Le,"class","label svelte-kg0b31"),p(Ve,"class","svelte-kg0b31"),p(je,"class","svelte-kg0b31"),p(ye,"class","label svelte-kg0b31"),p(lt,"class","svelte-kg0b31"),p(Oe,"class","svelte-kg0b31"),p(e,"class","svelte-kg0b31")},m(U,ce){v(U,e,ce),C(e,t),C(e,n),C(e,s),C(s,r),C(s,o),C(s,i),C(i,a),C(e,c),C(e,u),C(u,m),C(u,_),C(u,h),C(h,y),C(e,b),C(e,N),C(N,M),C(N,E),C(N,T),C(T,O),C(e,P),C(e,S),C(S,w),C(S,q),C(S,Y),C(Y,le),C(e,me),C(e,D),C(D,j),C(D,Z),C(D,Ee),C(Ee,Ne),C(e,Ke),C(e,je),C(je,Le),C(je,qe),C(je,Ve),C(Ve,Fe),C(e,Ge),C(e,Oe),C(Oe,ye),C(Oe,Pe),C(Oe,lt),C(lt,st)},p(U,ce){ce&1&&f!==(f=U[0].nrows+"")&&fe(a,f),ce&2&&A!==(A=U[1].dnum.in+"")&&fe(y,A),ce&2&&L!==(L=U[1].dnum.out+"")&&fe(O,L),ce&2&&W!==(W=U[1].anum.aliens+"")&&fe(le,W),ce&2&&Be!==(Be=U[1].anum.external+"")&&fe(Ne,Be),ce&2&&Ae!==(Ae=U[1].stat.specificity.toFixed(2)+"")&&fe(Fe,Ae),ce&2&&xe!==(xe=U[1].beta.toFixed(3)+"")&&fe(st,xe)},d(U){U&&k(e)}}}function i1(l){let e,t=l[1]&&Vr(l);return{c(){t&&t.c(),e=te()},m(n,s){t&&t.m(n,s),v(n,e,s)},p(n,[s]){n[1]?t?t.p(n,s):(t=Vr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){n&&k(e),t&&t.d(n)}}}function f1(l,e,t){let n,s,{res:r}=e,{simca:o}=e;return l.$$set=i=>{"res"in i&&t(0,r=i.res),"simca"in i&&t(2,o=i.simca)},l.$$.update=()=>{l.$$.dirty&4&&t(3,n=o?o.ncomp:null),l.$$.dirty&9&&t(1,s=n?r.v[n-1]:null)},[r,s,o,n]}class a1 extends ue{constructor(e){super(),ae(this,e,f1,i1,se,{res:0,simca:2})}}const em="";function Yr(l){let e,t,n,s,r;function o(a){l[8](a)}function i(a){l[9](a)}let f={WASM:l[0],model:l[1]};return l[3]!==void 0&&(f.dataset=l[3]),l[4]!==void 0&&(f.pcares=l[4]),t=new Mc({props:f}),J.push(()=>oe(t,"dataset",o)),J.push(()=>oe(t,"pcares",i)),{c(){e=F("div"),z(t.$$.fragment),p(e,"class","data-loader svelte-1lragme")},m(a,c){v(a,e,c),R(t,e,null),r=!0},p(a,c){const u={};c&1&&(u.WASM=a[0]),c&2&&(u.model=a[1]),!n&&c&8&&(n=!0,u.dataset=a[3],ie(()=>n=!1)),!s&&c&16&&(s=!0,u.pcares=a[4],ie(()=>s=!1)),t.$set(u)},i(a){r||(g(t.$$.fragment,a),r=!0)},o(a){d(t.$$.fragment,a),r=!1},d(a){a&&k(e),$(t)}}}function Dr(l){let e,t,n,s,r,o;function i(a){l[10](a)}let f={model:l[1]};return l[2]!==void 0&&(f.simca=l[2]),t=new En({props:f}),J.push(()=>oe(t,"simca",i)),r=new ee({props:{label:"Download",$$slots:{default:[m1]},$$scope:{ctx:l}}}),{c(){e=F("div"),z(t.$$.fragment),s=I(),z(r.$$.fragment),p(e,"class","simca-settings svelte-1lragme")},m(a,c){v(a,e,c),R(t,e,null),C(e,s),R(r,e,null),o=!0},p(a,c){const u={};c&2&&(u.model=a[1]),!n&&c&4&&(n=!0,u.simca=a[2],ie(()=>n=!1)),t.$set(u);const m={};c&8238&&(m.$$scope={dirty:c,ctx:a}),r.$set(m)},i(a){o||(g(t.$$.fragment,a),g(r.$$.fragment,a),o=!0)},o(a){d(t.$$.fragment,a),d(r.$$.fragment,a),o=!1},d(a){a&&k(e),$(t),$(r)}}}function u1(l){let e;return{c(){e=G("Results")},m(t,n){v(t,e,n)},d(t){t&&k(e)}}}function c1(l){let e;return{c(){e=G("Model")},m(t,n){v(t,e,n)},d(t){t&&k(e)}}}function m1(l){let e,t,n,s,r;return t=new Ze({props:{$$slots:{default:[u1]},$$scope:{ctx:l}}}),t.$on("click",l[11]),s=new Ze({props:{$$slots:{default:[c1]},$$scope:{ctx:l}}}),s.$on("click",l[12]),{c(){e=F("div"),z(t.$$.fragment),n=I(),z(s.$$.fragment),p(e,"class","buttons svelte-1lragme")},m(o,i){v(o,e,i),R(t,e,null),C(e,n),R(s,e,null),r=!0},p(o,i){const f={};i&8192&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const a={};i&8192&&(a.$$scope={dirty:i,ctx:o}),s.$set(a)},i(o){r||(g(t.$$.fragment,o),g(s.$$.fragment,o),r=!0)},o(o){d(t.$$.fragment,o),d(s.$$.fragment,o),r=!1},d(o){o&&k(e),$(t),$(s)}}}function Br(l){let e,t,n;return t=new Cn({props:{simca:l[2]}}),{c(){e=F("div"),z(t.$$.fragment),p(e,"class","model-stats svelte-1lragme")},m(s,r){v(s,e,r),R(t,e,null),n=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),t.$set(o)},i(s){n||(g(t.$$.fragment,s),n=!0)},o(s){d(t.$$.fragment,s),n=!1},d(s){s&&k(e),$(t)}}}function Wr(l){let e,t,n;return t=new a1({props:{simca:l[2],res:l[5].alt}}),{c(){e=F("div"),z(t.$$.fragment),p(e,"class","result-stats svelte-1lragme")},m(s,r){v(s,e,r),R(t,e,null),n=!0},p(s,r){const o={};r&4&&(o.simca=s[2]),r&32&&(o.res=s[5].alt),t.$set(o)},i(s){n||(g(t.$$.fragment,s),n=!0)},o(s){d(t.$$.fragment,s),n=!1},d(s){s&&k(e),$(t)}}}function _1(l){let e=l[3],t,n,s=Hr(l);return{c(){s.c(),t=te()},m(r,o){s.m(r,o),v(r,t,o),n=!0},p(r,o){o&8&&se(e,e=r[3])?(X(),d(s,1,1,H),Q(),s=Hr(r),s.c(),g(s,1),s.m(t.parentNode,t)):s.p(r,o)},i(r){n||(g(s),n=!0)},o(r){d(s),n=!1},d(r){r&&k(t),s.d(r)}}}function p1(l){let e,t,n;function s(i,f){if(!i[1])return d1;if(!i[3])return g1}let r=s(l),o=r&&r(l);return{c(){e=F("div"),t=F("p"),t.textContent="In this tab you can apply previously trained DD-SIMCA model to a dataset consisting of non-target (alternative) class members (at least the app will assume this, you can of course provide any dataset). You can use it for testing performance of the model on the alternative classes, or tune its parameters, if necessary.",n=I(),o&&o.c(),p(t,"class","svelte-1lragme"),p(e,"class","help-text svelte-1lragme")},m(i,f){v(i,e,f),C(e,t),C(e,n),o&&o.m(e,null)},p(i,f){r!==(r=s(i))&&(o&&o.d(1),o=r&&r(i),o&&(o.c(),o.m(e,null)))},i:H,o:H,d(i){i&&k(e),o&&o.d()}}}function Hr(l){let e,t;return e=new o1({props:{simcares:l[5],simca:l[2]}}),{c(){z(e.$$.fragment)},m(n,s){R(e,n,s),t=!0},p(n,s){const r={};s&32&&(r.simcares=n[5]),s&4&&(r.simca=n[2]),e.$set(r)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function g1(l){let e,t,n;return{c(){e=F("p"),e.innerHTML="<strong>Step 2</strong>",t=I(),n=F("p"),n.textContent=`Load data set from CSV file. The requirements to the file are the same as for the
               training set. The data may contain class labels for each row (you need to select this option in settings after selecting CSV file) but it is not necessary, as in any case the labels will be ignored and model will assume that all samples are from non-target classes.`,p(e,"class","svelte-1lragme"),p(n,"class","svelte-1lragme")},m(s,r){v(s,e,r),v(s,t,r),v(s,n,r)},d(s){s&&(k(e),k(t),k(n))}}}function d1(l){let e,t,n;return{c(){e=F("p"),e.innerHTML="<strong>Step 1</strong>",t=I(),n=F("p"),n.textContent="Load previously trained DD-SIMCA model from file.",p(e,"class","svelte-1lragme"),p(n,"class","svelte-1lragme")},m(s,r){v(s,e,r),v(s,t,r),v(s,n,r)},d(s){s&&(k(e),k(t),k(n))}}}function h1(l){let e,t,n,s,r,o,i,f,a,c,u,m,_,h,A;function y(w){l[6](w)}function b(w){l[7](w)}let N={};l[1]!==void 0&&(N.model=l[1]),l[2]!==void 0&&(N.simca=l[2]),s=new _r({props:N}),J.push(()=>oe(s,"model",y)),J.push(()=>oe(s,"simca",b));let M=l[1]&&Yr(l),E=l[1]&&l[2]&&l[3]&&Dr(l),T=l[2]&&l[3]&&Br(l),L=l[5]&&Wr(l);const O=[p1,_1],P=[];function S(w,q){return w[4]?1:0}return _=S(l),h=P[_]=O[_](l),{c(){e=F("div"),t=F("div"),n=F("div"),z(s.$$.fragment),i=I(),M&&M.c(),f=I(),E&&E.c(),a=I(),T&&T.c(),c=I(),L&&L.c(),u=I(),m=F("div"),h.c(),p(n,"class","data-loader svelte-1lragme"),p(t,"class","app-controls svelte-1lragme"),p(m,"class","app-content svelte-1lragme"),p(e,"class","app-container svelte-1lragme")},m(w,q){v(w,e,q),C(e,t),C(t,n),R(s,n,null),C(t,i),M&&M.m(t,null),C(t,f),E&&E.m(t,null),C(t,a),T&&T.m(t,null),C(t,c),L&&L.m(t,null),C(e,u),C(e,m),P[_].m(m,null),A=!0},p(w,[q]){const Y={};!r&&q&2&&(r=!0,Y.model=w[1],ie(()=>r=!1)),!o&&q&4&&(o=!0,Y.simca=w[2],ie(()=>o=!1)),s.$set(Y),w[1]?M?(M.p(w,q),q&2&&g(M,1)):(M=Yr(w),M.c(),g(M,1),M.m(t,f)):M&&(X(),d(M,1,1,()=>{M=null}),Q()),w[1]&&w[2]&&w[3]?E?(E.p(w,q),q&14&&g(E,1)):(E=Dr(w),E.c(),g(E,1),E.m(t,a)):E&&(X(),d(E,1,1,()=>{E=null}),Q()),w[2]&&w[3]?T?(T.p(w,q),q&12&&g(T,1)):(T=Br(w),T.c(),g(T,1),T.m(t,c)):T&&(X(),d(T,1,1,()=>{T=null}),Q()),w[5]?L?(L.p(w,q),q&32&&g(L,1)):(L=Wr(w),L.c(),g(L,1),L.m(t,null)):L&&(X(),d(L,1,1,()=>{L=null}),Q());let W=_;_=S(w),_===W?P[_].p(w,q):(X(),d(P[W],1,1,()=>{P[W]=null}),Q(),h=P[_],h?h.p(w,q):(h=P[_]=O[_](w),h.c()),g(h,1),h.m(m,null))},i(w){A||(g(s.$$.fragment,w),g(M),g(E),g(T),g(L),g(h),A=!0)},o(w){d(s.$$.fragment,w),d(M),d(E),d(T),d(L),d(h),A=!1},d(w){w&&k(e),$(s),M&&M.d(),E&&E.d(),T&&T.d(),L&&L.d(),P[_].d()}}}function b1(l,e,t){let{WASM:n}=e,s,r,o,i,f;function a(y){s=y,t(1,s)}function c(y){r=y,t(2,r)}function u(y){o=y,t(3,o),t(1,s)}function m(y){i=y,t(4,i),t(3,o),t(1,s)}function _(y){r=y,t(2,r)}const h=()=>hn(f.alt,o,"alt"),A=()=>bn(s,r);return l.$$set=y=>{"WASM"in y&&t(0,n=y.WASM)},l.$$.update=()=>{l.$$.dirty&2&&s===null&&t(3,o=null),l.$$.dirty&8&&o===null&&(t(4,i=null),t(5,f=null)),l.$$.dirty&28&&(r&&o&&i?t(5,f={alt:Lo(i,o,r,r.className)}):t(5,f=null))},[n,s,r,o,i,f,a,c,u,m,_,h,A]}class w1 extends ue{constructor(e){super(),ae(this,e,b1,h1,se,{WASM:0})}}const k1="modulepreload",v1=function(l){return"/"+l},Gr={},y1=function(e,t,n){return e()};var Nn=(()=>{var l=nt&&nt.src||new URL("ddsimca.js",document.baseURI).href;return async function(e={}){var t=e,n,s;t.ready=new Promise((V,B)=>{n=V,s=B});var r=Object.assign({},t),o=typeof window=="object",i=typeof importScripts=="function",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",a="";function c(V){return t.locateFile?t.locateFile(V,a):a+V}var u,m,_;if(f){const{createRequire:V}=await y1(()=>Promise.resolve().then(()=>N1),void 0);var h=V(nt&&nt.src||new URL("ddsimca.js",document.baseURI).href),A=h("fs"),y=h("path");i?a=y.dirname(a)+"/":a=h("url").fileURLToPath(new URL("./",self.location)),u=(B,K)=>(B=Le(B)?new URL(B):y.normalize(B),A.readFileSync(B,K?void 0:"utf8")),_=B=>{var K=u(B,!0);return K.buffer||(K=new Uint8Array(K)),K},m=(B,K,ne,be=!0)=>{B=Le(B)?new URL(B):y.normalize(B),A.readFile(B,be?void 0:"utf8",(he,ge)=>{he?ne(he):K(be?ge.buffer:ge)})},!t.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),t.inspect=()=>"[Emscripten Module object]"}else(o||i)&&(i?a=self.location.href:typeof document<"u"&&document.currentScript&&(a=document.currentScript.src),l&&(a=l),a.indexOf("blob:")!==0?a=a.substr(0,a.replace(/[?#].*/,"").lastIndexOf("/")+1):a="",u=V=>{var B=new XMLHttpRequest;return B.open("GET",V,!1),B.send(null),B.responseText},i&&(_=V=>{var B=new XMLHttpRequest;return B.open("GET",V,!1),B.responseType="arraybuffer",B.send(null),new Uint8Array(B.response)}),m=(V,B,K)=>{var ne=new XMLHttpRequest;ne.open("GET",V,!0),ne.responseType="arraybuffer",ne.onload=()=>{if(ne.status==200||ne.status==0&&ne.response){B(ne.response);return}K()},ne.onerror=K,ne.send(null)});t.print||console.log.bind(console);var b=t.printErr||console.error.bind(console);Object.assign(t,r),r=null,t.arguments&&t.arguments,t.thisProgram&&t.thisProgram,t.quit&&t.quit;var N;t.wasmBinary&&(N=t.wasmBinary),t.noExitRuntime,typeof WebAssembly!="object"&&Ne("no native wasm support detected");var M,E=!1,T,L;function O(){var V=M.buffer;t.HEAP8=T=new Int8Array(V),t.HEAP16=new Int16Array(V),t.HEAPU8=L=new Uint8Array(V),t.HEAPU16=new Uint16Array(V),t.HEAP32=new Int32Array(V),t.HEAPU32=new Uint32Array(V),t.HEAPF32=new Float32Array(V),t.HEAPF64=new Float64Array(V)}var P=[],S=[],w=[];function q(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)le(t.preRun.shift());ye(P)}function Y(){ye(S)}function W(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)D(t.postRun.shift());ye(w)}function le(V){P.unshift(V)}function me(V){S.unshift(V)}function D(V){w.unshift(V)}var j=0,Z=null;function Ee(V){j++,t.monitorRunDependencies&&t.monitorRunDependencies(j)}function Be(V){if(j--,t.monitorRunDependencies&&t.monitorRunDependencies(j),j==0&&Z){var B=Z;Z=null,B()}}function Ne(V){t.onAbort&&t.onAbort(V),V="Aborted("+V+")",b(V),E=!0,V+=". Build with -sASSERTIONS for more info.";var B=new WebAssembly.RuntimeError(V);throw s(B),B}var Ke="data:application/octet-stream;base64,";function je(V){return V.startsWith(Ke)}function Le(V){return V.startsWith("file://")}var qe;t.locateFile?(qe="/ddsimca_alpha/ddsimca.wasm",je(qe)||(qe=c(qe))):qe=new URL("/ddsimca_alpha/ddsimca.wasm",self.location).href;function Ve(V){if(V==qe&&N)return new Uint8Array(N);if(_)return _(V);throw"both async and sync fetching of the wasm failed"}function Ae(V){if(!N&&(o||i)){if(typeof fetch=="function"&&!Le(V))return fetch(V,{credentials:"same-origin"}).then(B=>{if(!B.ok)throw"failed to load wasm binary file at '"+V+"'";return B.arrayBuffer()}).catch(()=>Ve(V));if(m)return new Promise((B,K)=>{m(V,ne=>B(new Uint8Array(ne)),K)})}return Promise.resolve().then(()=>Ve(V))}function Fe(V,B,K){return Ae(V).then(ne=>WebAssembly.instantiate(ne,B)).then(ne=>ne).then(K,ne=>{b(`failed to asynchronously prepare wasm: ${ne}`),Ne(ne)})}function Ge(V,B,K,ne){return!V&&typeof WebAssembly.instantiateStreaming=="function"&&!je(B)&&!Le(B)&&!f&&typeof fetch=="function"?fetch(B,{credentials:"same-origin"}).then(be=>{var he=WebAssembly.instantiateStreaming(be,K);return he.then(ne,function(ge){return b(`wasm streaming compile failed: ${ge}`),b("falling back to ArrayBuffer instantiation"),Fe(B,K,ne)})}):Fe(B,K,ne)}function Oe(){var V={a:R1};function B(ne,be){var he=ne.exports;return We=he,M=We.d,O(),We.q,me(We.e),Be(),he}Ee();function K(ne){B(ne.instance)}if(t.instantiateWasm)try{return t.instantiateWasm(V,B)}catch(ne){b(`Module.instantiateWasm callback failed with error: ${ne}`),s(ne)}return Ge(N,qe,V,K).catch(s),{}}var ye=V=>{for(;V.length>0;)V.shift()(t)},Pe=()=>Date.now(),lt=(V,B,K)=>L.copyWithin(V,B,B+K),xe=()=>2147483648,st=V=>{var B=M.buffer,K=(V-B.byteLength+65535)/65536;try{return M.grow(K),O(),1}catch{}},U=V=>{var B=L.length;V>>>=0;var K=xe();if(V>K)return!1;for(var ne=(Ye,Ue)=>Ye+(Ue-Ye%Ue)%Ue,be=1;be<=4;be*=2){var he=B*(1+.2/be);he=Math.min(he,V+100663296);var ge=Math.min(K,ne(Math.max(V,he),65536)),we=st(ge);if(we)return!0}return!1},ce=V=>{var B=t["_"+V];return B},Me=(V,B)=>{T.set(V,B)},Jt=V=>{for(var B=0,K=0;K<V.length;++K){var ne=V.charCodeAt(K);ne<=127?B++:ne<=2047?B+=2:ne>=55296&&ne<=57343?(B+=4,++K):B+=3}return B},Bt=(V,B,K,ne)=>{if(!(ne>0))return 0;for(var be=K,he=K+ne-1,ge=0;ge<V.length;++ge){var we=V.charCodeAt(ge);if(we>=55296&&we<=57343){var Ye=V.charCodeAt(++ge);we=65536+((we&1023)<<10)|Ye&1023}if(we<=127){if(K>=he)break;B[K++]=we}else if(we<=2047){if(K+1>=he)break;B[K++]=192|we>>6,B[K++]=128|we&63}else if(we<=65535){if(K+2>=he)break;B[K++]=224|we>>12,B[K++]=128|we>>6&63,B[K++]=128|we&63}else{if(K+3>=he)break;B[K++]=240|we>>18,B[K++]=128|we>>12&63,B[K++]=128|we>>6&63,B[K++]=128|we&63}}return B[K]=0,K-be},Ur=(V,B,K)=>Bt(V,L,B,K),M1=V=>{var B=Jt(V)+1,K=Mn(B);return Ur(V,K,B),K},Kr=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,L1=(V,B,K)=>{for(var ne=B+K,be=B;V[be]&&!(be>=ne);)++be;if(be-B>16&&V.buffer&&Kr)return Kr.decode(V.subarray(B,be));for(var he="";B<be;){var ge=V[B++];if(!(ge&128)){he+=String.fromCharCode(ge);continue}var we=V[B++]&63;if((ge&224)==192){he+=String.fromCharCode((ge&31)<<6|we);continue}var Ye=V[B++]&63;if((ge&240)==224?ge=(ge&15)<<12|we<<6|Ye:ge=(ge&7)<<18|we<<12|Ye<<6|V[B++]&63,ge<65536)he+=String.fromCharCode(ge);else{var Ue=ge-65536;he+=String.fromCharCode(55296|Ue>>10,56320|Ue&1023)}}return he},T1=(V,B)=>V?L1(L,V,B):"",S1=(V,B,K,ne,be)=>{var he={string:tt=>{var Wt=0;return tt!=null&&tt!==0&&(Wt=M1(tt)),Wt},array:tt=>{var Wt=Mn(tt.length);return Me(tt,Wt),Wt}};function ge(tt){return B==="string"?T1(tt):B==="boolean"?!!tt:tt}var we=ce(V),Ye=[],Ue=0;if(ne)for(var et=0;et<ne.length;et++){var It=he[K[et]];It?(Ue===0&&(Ue=Xr()),Ye[et]=It(ne[et])):Ye[et]=ne[et]}var kt=we.apply(null,Ye);function Ln(tt){return Ue!==0&&Qr(Ue),ge(tt)}return kt=Ln(kt),kt},R1={b:Pe,c:lt,a:U},We=Oe();t._pcafit_wasm=(V,B,K,ne,be,he,ge)=>(t._pcafit_wasm=We.f)(V,B,K,ne,be,he,ge),t._malloc=V=>(t._malloc=We.g)(V),t._free=V=>(t._free=We.h)(V),t._pcapredict_wasm=(V,B,K,ne,be)=>(t._pcapredict_wasm=We.i)(V,B,K,ne,be),t._pcvpca_wasm=(V,B,K,ne,be,he,ge,we,Ye,Ue,et)=>(t._pcvpca_wasm=We.j)(V,B,K,ne,be,he,ge,we,Ye,Ue,et),t._pcrfit_wasm=(V,B,K,ne,be,he,ge,we)=>(t._pcrfit_wasm=We.k)(V,B,K,ne,be,he,ge,we),t._pcrpredict_wasm=(V,B,K,ne,be)=>(t._pcrpredict_wasm=We.l)(V,B,K,ne,be),t._pcvpcr_wasm=(V,B,K,ne,be,he,ge,we,Ye,Ue,et,It,kt)=>(t._pcvpcr_wasm=We.m)(V,B,K,ne,be,he,ge,we,Ye,Ue,et,It,kt),t._plsfit_wasm=(V,B,K,ne,be,he,ge,we,Ye)=>(t._plsfit_wasm=We.n)(V,B,K,ne,be,he,ge,we,Ye),t._plspredict_wasm=(V,B,K,ne,be,he,ge)=>(t._plspredict_wasm=We.o)(V,B,K,ne,be,he,ge),t._pcvpls_wasm=(V,B,K,ne,be,he,ge,we,Ye,Ue,et,It,kt,Ln)=>(t._pcvpls_wasm=We.p)(V,B,K,ne,be,he,ge,we,Ye,Ue,et,It,kt,Ln);var Xr=()=>(Xr=We.r)(),Qr=V=>(Qr=We.s)(V),Mn=V=>(Mn=We.t)(V);t.ccall=S1;var xt;Z=function V(){xt||Zr(),xt||(Z=V)};function Zr(){if(j>0||(q(),j>0))return;function V(){xt||(xt=!0,t.calledRun=!0,!E&&(Y(),n(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),W()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),V()},1)):V()}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return Zr(),e.ready}})();const tm="";function C1(l){let e,t,n,s,r,o,i,f,a,c,u,m,_,h,A,y,b,N,M,E,T,L,O,P,S,w,q,Y;return b=new hu({props:{WASM:Nn}}),E=new fc({props:{WASM:Nn}}),O=new w1({props:{WASM:Nn}}),{c(){e=F("div"),t=F("header"),n=F("div"),n.innerHTML='<img class="logo svelte-zutybd" alt="DD-SIMCA" src="logo.svg"/> <h1 class="svelte-zutybd">Data Driven SIMCA</h1> <p class="svelte-zutybd">One class classifier</p>',s=I(),r=F("ul"),o=F("li"),i=F("button"),i.textContent="Train",f=I(),a=F("li"),c=F("button"),c.textContent="Target",u=I(),m=F("li"),_=F("button"),_.textContent="Alternative",h=I(),A=F("main"),y=F("div"),z(b.$$.fragment),N=I(),M=F("div"),z(E.$$.fragment),T=I(),L=F("div"),z(O.$$.fragment),P=I(),S=F("footer"),S.innerHTML='<p class="svelte-zutybd">Current release: <span class="svelte-zutybd">1.1.0</span> (<span class="svelte-zutybd">16/01/2024</span>). Theory and citation reference: <a class="paper-link svelte-zutybd" href="https://test.com">xxx.xxx/xxx</a></p>',p(n,"class","header-group svelte-zutybd"),p(i,"class","svelte-zutybd"),p(o,"class","nav-item svelte-zutybd"),De(o,"selected",l[0]==="train"),p(c,"class","svelte-zutybd"),p(a,"class","nav-item svelte-zutybd"),De(a,"selected",l[0]==="target"),p(_,"class","svelte-zutybd"),p(m,"class","nav-item svelte-zutybd"),De(m,"selected",l[0]==="alt"),p(r,"class","nav svelte-zutybd"),p(t,"class","page-header svelte-zutybd"),p(y,"class","train-app-container svelte-zutybd"),De(y,"hidden",l[0]!=="train"),p(M,"class","test-app-container svelte-zutybd"),De(M,"hidden",l[0]!=="target"),p(L,"class","alt-app-container svelte-zutybd"),De(L,"hidden",l[0]!=="alt"),p(A,"class","svelte-zutybd"),p(S,"class","svelte-zutybd"),p(e,"class","page svelte-zutybd")},m(W,le){v(W,e,le),C(e,t),C(t,n),C(t,s),C(t,r),C(r,o),C(o,i),C(r,f),C(r,a),C(a,c),C(r,u),C(r,m),C(m,_),C(e,h),C(e,A),C(A,y),R(b,y,null),l[7](y),C(A,N),C(A,M),R(E,M,null),l[8](M),C(A,T),C(A,L),R(O,L,null),l[9](L),C(e,P),C(e,S),w=!0,q||(Y=[Te(i,"click",l[4]),Te(i,"keydown",l[4]),Te(c,"click",l[5]),Te(c,"keydown",l[5]),Te(_,"click",l[6]),Te(_,"keydown",l[6])],q=!0)},p(W,[le]){(!w||le&1)&&De(o,"selected",W[0]==="train"),(!w||le&1)&&De(a,"selected",W[0]==="target"),(!w||le&1)&&De(m,"selected",W[0]==="alt"),(!w||le&1)&&De(y,"hidden",W[0]!=="train"),(!w||le&1)&&De(M,"hidden",W[0]!=="target"),(!w||le&1)&&De(L,"hidden",W[0]!=="alt")},i(W){w||(g(b.$$.fragment,W),g(E.$$.fragment,W),g(O.$$.fragment,W),w=!0)},o(W){d(b.$$.fragment,W),d(E.$$.fragment,W),d(O.$$.fragment,W),w=!1},d(W){W&&k(e),$(b),l[7](null),$(E),l[8](null),$(O),l[9](null),q=!1,ot(Y)}}}function E1(l,e,t){let n="train",s,r,o;function i(){t(0,n="train")}function f(){t(0,n="target")}function a(){t(0,n="alt")}function c(_){J[_?"unshift":"push"](()=>{s=_,t(1,s)})}function u(_){J[_?"unshift":"push"](()=>{r=_,t(2,r)})}function m(_){J[_?"unshift":"push"](()=>{o=_,t(3,o)})}return[n,s,r,o,i,f,a,c,u,m]}class A1 extends ue{constructor(e){super(),ae(this,e,E1,C1,se,{})}}new A1({target:document.body});const N1=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=ddsimca.js.map
